<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Chapter&nbsp;12 Functions and Operators</title>
    <link rel="stylesheet" href="mvl.css" type="text/css">
    <meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2">
    <link rel="start" href="index.html" title="{book-title}">
    <link rel="up" href="" title="">
    <link rel="prev" href="data-types.html" title="Chapter&nbsp;11 Data Types">
    <link rel="next" href="sql-syntax.html" title="Chapter&nbsp;13 SQL Statement Syntax">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script></head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
    <table width="100%" summary="Navigation header">
        <tbody><tr>
            <th colspan="3" align="center">Chapter&nbsp;12 Functions and Operators</th>
        </tr>
        <tr>
            <td width="20%" align="left"><a accesskey="p" href="data-types.html">Prev</a>&nbsp;</td>
            <th width="60%" align="center"></th>
            <td width="20%" align="right">&nbsp;<a accesskey="n" href="sql-syntax.html">Next</a></td>
        </tr>
        </tbody></table>
    <hr>
</div>
<div class="chapter">
    <div class="titlepage">
        <div>
            <div>
                <h1 class="title"><a name="functions"></a>Chapter&nbsp;12&nbsp;Functions and Operators</h1>

            </div>

        </div>

    </div>
    <div class="toc">
        <p><b>Table of Contents</b></p><p style="color:blue;">目录</p><dl class="toc"><dt><span class="section"><a href="functions.html#func-op-summary-ref">12.1 Function and Operator Reference</a></span></dt><dt><span class="section"><a href="functions.html#type-conversion">12.2 Type Conversion in Expression Evaluation</a></span></dt><dt><span class="section"><a href="functions.html#non-typed-operators">12.3 Operators</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#operator-precedence">12.3.1 Operator Precedence</a></span></dt><dt><span class="section"><a href="functions.html#comparison-operators">12.3.2 Comparison Functions and Operators</a></span></dt><dt><span class="section"><a href="functions.html#logical-operators">12.3.3 Logical Operators</a></span></dt><dt><span class="section"><a href="functions.html#assignment-operators">12.3.4 Assignment Operators</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#control-flow-functions">12.4 Control Flow Functions</a></span></dt><dt><span class="section"><a href="functions.html#string-functions">12.5 String Functions and Operators</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#string-comparison-functions">12.5.1 String Comparison Functions and Operators</a></span></dt><dt><span class="section"><a href="functions.html#regexp">12.5.2 Regular Expressions</a></span></dt><dt><span class="section"><a href="functions.html#string-functions-charset">12.5.3 Character Set and Collation of Function Results</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#numeric-functions">12.6 Numeric Functions and Operators</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#arithmetic-functions">12.6.1 Arithmetic Operators</a></span></dt><dt><span class="section"><a href="functions.html#mathematical-functions">12.6.2 Mathematical Functions</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#date-and-time-functions">12.7 Date and Time Functions</a></span></dt><dt><span class="section"><a href="functions.html#mysql-calendar">12.8 What Calendar Is Used By MySQL?</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-search">12.9 Full-Text Search Functions</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#fulltext-natural-language">12.9.1 Natural Language Full-Text Searches</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-boolean">12.9.2 Boolean Full-Text Searches</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-query-expansion">12.9.3 Full-Text Searches with Query Expansion</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-stopwords">12.9.4 Full-Text Stopwords</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-restrictions">12.9.5 Full-Text Restrictions</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-fine-tuning">12.9.6 Fine-Tuning MySQL Full-Text Search</a></span></dt><dt><span class="section"><a href="functions.html#full-text-adding-collation">12.9.7 Adding a Collation for Full-Text Indexing</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-search-ngram">12.9.8 ngram Full-Text Parser</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-search-mecab">12.9.9 MeCab Full-Text Parser Plugin</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#cast-functions">12.10 Cast Functions and Operators</a></span></dt><dt><span class="section"><a href="functions.html#xml-functions">12.11 XML Functions</a></span></dt><dt><span class="section"><a href="functions.html#bit-functions">12.12 Bit Functions and Operators</a></span></dt><dt><span class="section"><a href="functions.html#encryption-functions">12.13 Encryption and Compression Functions</a></span></dt><dt><span class="section"><a href="functions.html#locking-functions">12.14 Locking Functions</a></span></dt><dt><span class="section"><a href="functions.html#information-functions">12.15 Information Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-analysis-functions">12.16 Spatial Analysis Functions</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#spatial-function-reference">12.16.1 Spatial Function Reference</a></span></dt><dt><span class="section"><a href="functions.html#spatial-function-argument-handling">12.16.2 Argument Handling by Spatial Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-wkt-functions">12.16.3 Functions That Create Geometry Values from WKT Values</a></span></dt><dt><span class="section"><a href="functions.html#gis-wkb-functions">12.16.4 Functions That Create Geometry Values from WKB Values</a></span></dt><dt><span class="section"><a href="functions.html#gis-mysql-specific-functions">12.16.5 MySQL-Specific Functions That Create Geometry Values</a></span></dt><dt><span class="section"><a href="functions.html#gis-format-conversion-functions">12.16.6 Geometry Format Conversion Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-property-functions">12.16.7 Geometry Property Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-operator-functions">12.16.8 Spatial Operator Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-relation-functions">12.16.9 Functions That Test Spatial Relations Between Geometry Objects</a></span></dt><dt><span class="section"><a href="functions.html#spatial-geohash-functions">12.16.10 Spatial Geohash Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-geojson-functions">12.16.11 Spatial GeoJSON Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-convenience-functions">12.16.12 Spatial Convenience Functions</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#json-functions">12.17 JSON Functions</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#json-function-reference">12.17.1 JSON Function Reference</a></span></dt><dt><span class="section"><a href="functions.html#json-creation-functions">12.17.2 Functions That Create JSON Values</a></span></dt><dt><span class="section"><a href="functions.html#json-search-functions">12.17.3 Functions That Search JSON Values</a></span></dt><dt><span class="section"><a href="functions.html#json-modification-functions">12.17.4 Functions That Modify JSON Values</a></span></dt><dt><span class="section"><a href="functions.html#json-attribute-functions">12.17.5 Functions That Return JSON Value Attributes</a></span></dt><dt><span class="section"><a href="functions.html#json-utility-functions">12.17.6 JSON Utility Functions</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#gtid-functions">12.18 Functions Used with Global Transaction Identifiers (GTIDs)</a></span></dt><dt><span class="section"><a href="functions.html#enterprise-encryption">12.19 MySQL Enterprise Encryption Functions</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#enterprise-encryption-installation">12.19.1 MySQL Enterprise Encryption Installation</a></span></dt><dt><span class="section"><a href="functions.html#enterprise-encryption-usage">12.19.2 MySQL Enterprise Encryption Usage and Examples</a></span></dt><dt><span class="section"><a href="functions.html#enterprise-encryption-function-reference">12.19.3 MySQL Enterprise Encryption Function Reference</a></span></dt><dt><span class="section"><a href="functions.html#enterprise-encryption-functions">12.19.4 MySQL Enterprise Encryption Function Descriptions</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#group-by-functions-and-modifiers">12.20 Aggregate (GROUP BY) Functions</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#group-by-functions">12.20.1 Aggregate (GROUP BY) Function Descriptions</a></span></dt><dt><span class="section"><a href="functions.html#group-by-modifiers">12.20.2 GROUP BY Modifiers</a></span></dt><dt><span class="section"><a href="functions.html#group-by-handling">12.20.3 MySQL Handling of GROUP BY</a></span></dt><dt><span class="section"><a href="functions.html#group-by-functional-dependence">12.20.4 Detection of Functional Dependence</a></span></dt></dl></dd><dt><span class="section"><a href="functions.html#miscellaneous-functions">12.21 Miscellaneous Functions</a></span></dt><dt><span class="section"><a href="functions.html#precision-math">12.22 Precision Math</a></span></dt><dd><dl><dt><span class="section"><a href="functions.html#precision-math-numbers">12.22.1 Types of Numeric Values</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-decimal-characteristics">12.22.2 DECIMAL Data Type Characteristics</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-expressions">12.22.3 Expression Handling</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-rounding">12.22.4 Rounding Behavior</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-examples">12.22.5 Precision Math Examples</a></span></dt></dl></dd></dl>
    </div>
    <a class="indexterm" name="idm140286857952544"></a><a class="indexterm" name="idm140286857951040"></a><a class="indexterm" name="idm140286857949968"></a><p>
    Expressions can be used at several points in
    <a class="link" href="glossary.html#glos_sql" title="SQL">SQL</a> statements, such as in the
    <code class="literal">ORDER BY</code> or <code class="literal">HAVING</code> clauses of
    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statements, in the
    <code class="literal">WHERE</code> clause of a
    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>,
    <a class="link" href="sql-syntax.html#delete" title="13.2.2&nbsp;DELETE Syntax"><code class="literal">DELETE</code></a>, or
    <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement, or in
    <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
    statements. Expressions can be written using literal values, column
    values, <code class="literal">NULL</code>, built-in functions, stored
    functions, user-defined functions, and operators. This chapter
    describes the functions and operators that are permitted for writing
    expressions in MySQL. Instructions for writing stored functions and
    user-defined functions are given in
    <a class="xref" href="stored-objects.html#stored-routines" title="23.2&nbsp;Using Stored Routines">Section&nbsp;23.2, “Using Stored Routines”</a>, and
    <a class="xref" href="extending-mysql.html#adding-functions" title="28.4&nbsp;Adding Functions to MySQL">Section&nbsp;28.4, “Adding Functions to MySQL”</a>. See
    <a class="xref" href="language-structure.html#function-resolution" title="9.2.5&nbsp;Function Name Parsing and Resolution">Section&nbsp;9.2.5, “Function Name Parsing and Resolution”</a>, for the rules describing how
    the server interprets references to different kinds of functions.
</p><p style="color:blue;">表达式可以在SQL语句的多个点上使用，例如在SELECT语句的ORDER BY或HAVING子句中，在SELECT、DELETE或UPDATE语句的WHERE子句中，或在SET语句中。表达式可以使用文字值、列值、空、内置函数、存储函数、用户定义函数和运算符编写。本章介绍mysql中允许编写表达式的函数和运算符。有关编写存储函数和用户定义函数的说明，请参见第23.2节“使用存储例程”和第28.4节“向mysql添加函数”。有关描述服务器如何解释对不同类型函数的引用的规则，请参阅第9.2.5节“函数名解析和解析”。</p><p>
    An expression that contains <code class="literal">NULL</code> always produces
    a <code class="literal">NULL</code> value unless otherwise indicated in the
    documentation for a particular function or operator.
</p><p style="color:blue;">除非文档中对特定函数或运算符另有说明，否则包含空值的表达式始终生成空值。</p>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

        <div class="admon-title">
            Note
        </div>
        <p>
            By default, there must be no whitespace between a function name
            and the parenthesis following it. This helps the MySQL parser
            distinguish between function calls and references to tables or
            columns that happen to have the same name as a function. However,
            spaces around function arguments are permitted.
        </p><p style="color:blue;">默认情况下，函数名和其后的括号之间不能有空格。这有助于mysql解析器区分函数调用和对碰巧与函数同名的表或列的引用。但是，函数参数周围允许有空格。</p>
    </div>
    <p>
        You can tell the MySQL server to accept spaces after function names
        by starting it with the
        <a class="link" href="server-administration.html#option_mysqld_sql-mode"><code class="option">--sql-mode=IGNORE_SPACE</code></a> option. (See
        <a class="xref" href="server-administration.html#sql-mode" title="5.1.10&nbsp;Server SQL Modes">Section&nbsp;5.1.10, “Server SQL Modes”</a>.) Individual client programs can request
        this behavior by using the <code class="literal">CLIENT_IGNORE_SPACE</code>
        option for <a class="link" href="connectors-apis.html#mysql-real-connect" title="27.8.7.54&nbsp;mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a>. In
        either case, all function names become reserved words.
    </p><p style="color:blue;">通过使用--sql mode=ignore_space选项启动mysql服务器，可以告诉它接受函数名后面的空格。（请参阅第5.1.10节，“服务器SQL模式”。）单个客户端程序可以使用mysql的client_ignore_space选项real_connect（）请求此行为。在这两种情况下，所有函数名都将成为保留字。</p><p>
    For the sake of brevity, most examples in this chapter display the
    output from the <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> program in abbreviated
    form. Rather than showing examples in this format:
</p><p style="color:blue;">为了简洁起见，本章中的大多数示例都以缩写形式显示mysql程序的输出。而不是以这种格式显示示例：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MOD(29,9);</code></strong>
+-----------+
| mod(29,9) |
+-----------+
|         2 |
+-----------+
1 rows in set (0.00 sec)
</pre><p>
    This format is used instead:
</p><p style="color:blue;">改为使用此格式：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MOD(29,9);</code></strong>
        -&gt; 2
</pre>
    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="func-op-summary-ref"></a>12.1&nbsp;Function and Operator Reference</h2>
                </div>
            </div>
        </div>

        <div class="table">
            <a name="idm140286857921296"></a><p class="title"><b>Table&nbsp;12.1&nbsp;Functions and Operators</b></p><p style="color:blue;">表12.1函数和运算符</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists all functions and operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_abs"><code class="literal">ABS()</code></a></td>
                    <td>
                        Return the absolute value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_acos"><code class="literal">ACOS()</code></a></td>
                    <td>
                        Return the arc cosine
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_adddate"><code class="literal">ADDDATE()</code></a></td>
                    <td>
                        Add time values (intervals) to a date value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_addtime"><code class="literal">ADDTIME()</code></a></td>
                    <td>
                        Add time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a></td>
                    <td>
                        Decrypt using AES
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a></td>
                    <td>
                        Encrypt using AES
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_and"><code class="literal">AND</code>, <code class="literal">&amp;&amp;</code></a></td>
                    <td>
                        Logical AND
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a></td>
                    <td>
                        Suppress ONLY_FULL_GROUP_BY value rejection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_area"><code class="literal">Area()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return Polygon or MultiPolygon area
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asbinary"><code class="literal">AsBinary()</code>, <code class="literal">AsWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Convert from internal geometry format to WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ascii"><code class="literal">ASCII()</code></a></td>
                    <td>
                        Return numeric value of left-most character
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asin"><code class="literal">ASIN()</code></a></td>
                    <td>
                        Return the arc sine
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_assign-equal"><code class="literal">=</code></a></td>
                    <td>
                        Assign a value (as part of a
                        <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                        statement, or as part of the <code class="literal">SET</code> clause in an
                        <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a></td>
                    <td>
                        Assign a value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_astext"><code class="literal">AsText()</code>, <code class="literal">AsWKT()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Convert from internal geometry format to WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-decrypt"><code class="literal">ASYMMETRIC_DECRYPT()</code></a></td>
                    <td>
                        Decrypt ciphertext using private or public key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-derive"><code class="literal">ASYMMETRIC_DERIVE()</code></a></td>
                    <td>
                        Derive symmetric key from asymmetric keys
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a></td>
                    <td>
                        Encrypt cleartext using private or public key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-sign"><code class="literal">ASYMMETRIC_SIGN()</code></a></td>
                    <td>
                        Generate signature from digest
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-verify"><code class="literal">ASYMMETRIC_VERIFY()</code></a></td>
                    <td>
                        Verify that signature matches digest
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_atan"><code class="literal">ATAN()</code></a></td>
                    <td>
                        Return the arc tangent
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_atan2"><code class="literal">ATAN2()</code>, <code class="literal">ATAN()</code></a></td>
                    <td>
                        Return the arc tangent of the two arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_avg"><code class="literal">AVG()</code></a></td>
                    <td>
                        Return the average value of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a></td>
                    <td>
                        Repeatedly execute an expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_between"><code class="literal">BETWEEN ... AND ...</code></a></td>
                    <td>
                        Whether a value is within a range of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bin"><code class="literal">BIN()</code></a></td>
                    <td>
                        Return a string containing binary representation of a number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a></td>
                    <td>
                        Cast a string to a binary string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a></td>
                    <td>
                        Return bitwise AND
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-count"><code class="literal">BIT_COUNT()</code></a></td>
                    <td>
                        Return the number of bits that are set
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-length"><code class="literal">BIT_LENGTH()</code></a></td>
                    <td>
                        Return length of argument in bits
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a></td>
                    <td>
                        Return bitwise OR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a></td>
                    <td>
                        Return bitwise XOR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-and"><code class="literal">&amp;</code></a></td>
                    <td>
                        Bitwise AND
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-invert"><code class="literal">~</code></a></td>
                    <td>
                        Bitwise inversion
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-or"><code class="literal">|</code></a></td>
                    <td>
                        Bitwise OR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-xor"><code class="literal">^</code></a></td>
                    <td>
                        Bitwise XOR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_buffer"><code class="literal">Buffer()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return geometry of points within given distance from geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_case"><code class="literal">CASE</code></a></td>
                    <td>
                        Case operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a></td>
                    <td>
                        Cast a value as a certain type
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ceil"><code class="literal">CEIL()</code></a></td>
                    <td>
                        Return the smallest integer value not less than the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ceiling"><code class="literal">CEILING()</code></a></td>
                    <td>
                        Return the smallest integer value not less than the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_centroid"><code class="literal">Centroid()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return centroid as a point
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_char"><code class="literal">CHAR()</code></a></td>
                    <td>
                        Return the character for each integer passed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a></td>
                    <td>
                        Return number of characters in argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_character-length"><code class="literal">CHARACTER_LENGTH()</code></a></td>
                    <td>
                        Synonym for CHAR_LENGTH()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_charset"><code class="literal">CHARSET()</code></a></td>
                    <td>
                        Return the character set of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a></td>
                    <td>
                        Return the first non-NULL argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_coercibility"><code class="literal">COERCIBILITY()</code></a></td>
                    <td>
                        Return the collation coercibility value of the string argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_collation"><code class="literal">COLLATION()</code></a></td>
                    <td>
                        Return the collation of the string argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a></td>
                    <td>
                        Return result as a binary string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a></td>
                    <td>
                        Return concatenated string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a></td>
                    <td>
                        Return concatenate with separator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a></td>
                    <td>
                        Return the connection ID (thread ID) for the connection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_contains"><code class="literal">Contains()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether MBR of one geometry contains MBR of another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_conv"><code class="literal">CONV()</code></a></td>
                    <td>
                        Convert numbers between different number bases
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a></td>
                    <td>
                        Cast a value as a certain type
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a></td>
                    <td>
                        Convert from one time zone to another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_convexhull"><code class="literal">ConvexHull()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return convex hull of geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_cos"><code class="literal">COS()</code></a></td>
                    <td>
                        Return the cosine
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_cot"><code class="literal">COT()</code></a></td>
                    <td>
                        Return the cotangent
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_count"><code class="literal">COUNT()</code></a></td>
                    <td>
                        Return a count of the number of rows returned
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_count-distinct"><code class="literal">COUNT(DISTINCT)</code></a></td>
                    <td>
                        Return the count of a number of different values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_crc32"><code class="literal">CRC32()</code></a></td>
                    <td>
                        Compute a cyclic redundancy check value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a></td>
                    <td>
                        Create private key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-asymmetric-pub-key"><code class="literal">CREATE_ASYMMETRIC_PUB_KEY()</code></a></td>
                    <td>
                        Create public key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a></td>
                    <td>
                        Generate shared DH secret
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-digest"><code class="literal">CREATE_DIGEST()</code></a></td>
                    <td>
                        Generate digest from string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_crosses"><code class="literal">Crosses()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether one geometry crosses another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a></td>
                    <td>
                        Return the current date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-date"><code class="literal">CURRENT_DATE()</code>, <code class="literal">CURRENT_DATE</code></a></td>
                    <td>
                        Synonyms for CURDATE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-time"><code class="literal">CURRENT_TIME()</code>, <code class="literal">CURRENT_TIME</code></a></td>
                    <td>
                        Synonyms for CURTIME()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-timestamp"><code class="literal">CURRENT_TIMESTAMP()</code>, <code class="literal">CURRENT_TIMESTAMP</code></a></td>
                    <td>
                        Synonyms for NOW()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code>, <code class="literal">CURRENT_USER</code></a></td>
                    <td>
                        The authenticated user name and host name
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a></td>
                    <td>
                        Return the current time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_database"><code class="literal">DATABASE()</code></a></td>
                    <td>
                        Return the default (current) database name
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date"><code class="literal">DATE()</code></a></td>
                    <td>
                        Extract the date part of a date or datetime expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a></td>
                    <td>
                        Add time values (intervals) to a date value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a></td>
                    <td>
                        Format date as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a></td>
                    <td>
                        Subtract a time value (interval) from a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_datediff"><code class="literal">DATEDIFF()</code></a></td>
                    <td>
                        Subtract two dates
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_day"><code class="literal">DAY()</code></a></td>
                    <td>
                        Synonym for DAYOFMONTH()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a></td>
                    <td>
                        Return the name of the weekday
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayofmonth"><code class="literal">DAYOFMONTH()</code></a></td>
                    <td>
                        Return the day of the month (0-31)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayofweek"><code class="literal">DAYOFWEEK()</code></a></td>
                    <td>
                        Return the weekday index of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayofyear"><code class="literal">DAYOFYEAR()</code></a></td>
                    <td>
                        Return the day of the year (1-366)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_decode"><code class="literal">DECODE()</code></a> (deprecated 5.7.2)</td>
                    <td>
                        Decode a string encrypted using ENCODE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_default"><code class="literal">DEFAULT()</code></a></td>
                    <td>
                        Return the default value for a table column
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_degrees"><code class="literal">DEGREES()</code></a></td>
                    <td>
                        Convert radians to degrees
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Decrypt a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Encrypt a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dimension"><code class="literal">Dimension()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Dimension of geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_disjoint"><code class="literal">Disjoint()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether MBRs of two geometries are disjoint
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_distance"><code class="literal">Distance()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        The distance of one geometry from another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_div"><code class="literal">DIV</code></a></td>
                    <td>
                        Integer division
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_divide"><code class="literal">/</code></a></td>
                    <td>
                        Division operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_elt"><code class="literal">ELT()</code></a></td>
                    <td>
                        Return string at index number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_encode"><code class="literal">ENCODE()</code></a> (deprecated 5.7.2)</td>
                    <td>
                        Encode a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Encrypt a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_endpoint"><code class="literal">EndPoint()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        End Point of LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_envelope"><code class="literal">Envelope()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return MBR of geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a></td>
                    <td>
                        Equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a></td>
                    <td>
                        NULL-safe equal to operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_equals"><code class="literal">Equals()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether MBRs of two geometries are equal
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_exp"><code class="literal">EXP()</code></a></td>
                    <td>
                        Raise to the power of
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_export-set"><code class="literal">EXPORT_SET()</code></a></td>
                    <td>
                        Return a string such that for every bit set in the value bits, you
                        get an on string and for every unset bit, you get an off string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_exteriorring"><code class="literal">ExteriorRing()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return exterior ring of Polygon
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_extract"><code class="literal">EXTRACT()</code></a></td>
                    <td>
                        Extract part of a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a></td>
                    <td>
                        Extract a value from an XML string using XPath notation
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_field"><code class="literal">FIELD()</code></a></td>
                    <td>
                        Index (position) of first argument in subsequent arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_find-in-set"><code class="literal">FIND_IN_SET()</code></a></td>
                    <td>
                        Index (position) of first argument within second argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_floor"><code class="literal">FLOOR()</code></a></td>
                    <td>
                        Return the largest integer value not greater than the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_format"><code class="literal">FORMAT()</code></a></td>
                    <td>
                        Return a number formatted to specified number of decimal places
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a></td>
                    <td>
                        For a SELECT with a LIMIT clause, the number of rows that would be
                        returned were there no LIMIT clause
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_from-base64"><code class="literal">FROM_BASE64()</code></a></td>
                    <td>
                        Decode base64 encoded string and return result
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_from-days"><code class="literal">FROM_DAYS()</code></a></td>
                    <td>
                        Convert a day number to a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a></td>
                    <td>
                        Format Unix timestamp as a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeomCollFromText()</code>, <code class="literal">GeometryCollectionFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return geometry collection from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeomCollFromWKB()</code>, <code class="literal">GeometryCollectionFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return geometry collection from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_geometrycollection"><code class="literal">GeometryCollection()</code></a></td>
                    <td>
                        Construct geometry collection from geometries
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_geometryn"><code class="literal">GeometryN()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return N-th geometry from geometry collection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_geometrytype"><code class="literal">GeometryType()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return name of geometry type
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code>, <code class="literal">GeometryFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return geometry from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeomFromWKB()</code>, <code class="literal">GeometryFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return geometry from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT()</code></a></td>
                    <td>
                        Return a date format string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a></td>
                    <td>
                        Get a named lock
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_glength"><code class="literal">GLength()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return length of LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a></td>
                    <td>
                        Greater than operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a></td>
                    <td>
                        Greater than or equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a></td>
                    <td>
                        Return the largest argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a></td>
                    <td>
                        Return a concatenated string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_gtid-subset"><code class="literal">GTID_SUBSET()</code></a></td>
                    <td>
                        Return true if all GTIDs in subset are also in set; otherwise
                        false.
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_gtid-subtract"><code class="literal">GTID_SUBTRACT()</code></a></td>
                    <td>
                        Return all GTIDs in set that are not in subset.
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a></td>
                    <td>
                        Hexadecimal representation of decimal or string value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_hour"><code class="literal">HOUR()</code></a></td>
                    <td>
                        Extract the hour
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_if"><code class="literal">IF()</code></a></td>
                    <td>
                        If/else construct
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a></td>
                    <td>
                        Null if/else construct
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_in"><code class="literal">IN()</code></a></td>
                    <td>
                        Whether a value is within a set of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a></td>
                    <td>
                        Return the numeric value of an IP address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a></td>
                    <td>
                        Return the IP address from a numeric value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a></td>
                    <td>
                        Return the numeric value of an IPv6 address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a></td>
                    <td>
                        Return the IPv6 address from a numeric value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_insert"><code class="literal">INSERT()</code></a></td>
                    <td>
                        Insert substring at specified position up to specified number of
                        characters
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_instr"><code class="literal">INSTR()</code></a></td>
                    <td>
                        Return the index of the first occurrence of substring
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_interiorringn"><code class="literal">InteriorRingN()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return N-th interior ring of Polygon
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_intersects"><code class="literal">Intersects()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether MBRs of two geometries intersect
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a></td>
                    <td>
                        Return the index of the argument that is less than the first
                        argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is"><code class="literal">IS</code></a></td>
                    <td>
                        Test a value against a boolean
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-free-lock"><code class="literal">IS_FREE_LOCK()</code></a></td>
                    <td>
                        Whether the named lock is free
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a></td>
                    <td>
                        Whether argument is an IPv4 address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv4-compat"><code class="literal">IS_IPV4_COMPAT()</code></a></td>
                    <td>
                        Whether argument is an IPv4-compatible address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv4-mapped"><code class="literal">IS_IPV4_MAPPED()</code></a></td>
                    <td>
                        Whether argument is an IPv4-mapped address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv6"><code class="literal">IS_IPV6()</code></a></td>
                    <td>
                        Whether argument is an IPv6 address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-not"><code class="literal">IS NOT</code></a></td>
                    <td>
                        Test a value against a boolean
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-not-null"><code class="literal">IS NOT NULL</code></a></td>
                    <td>
                        NOT NULL value test
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a></td>
                    <td>
                        NULL value test
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-used-lock"><code class="literal">IS_USED_LOCK()</code></a></td>
                    <td>
                        Whether the named lock is in use; return connection identifier if
                        true
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_isclosed"><code class="literal">IsClosed()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether a geometry is closed and simple
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_isempty"><code class="literal">IsEmpty()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Placeholder function
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_isnull"><code class="literal">ISNULL()</code></a></td>
                    <td>
                        Test whether the argument is NULL
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_issimple"><code class="literal">IsSimple()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether a geometry is simple
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-append"><code class="literal">JSON_APPEND()</code></a> (deprecated 5.7.9)</td>
                    <td>
                        Append data to JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-array"><code class="literal">JSON_ARRAY()</code></a></td>
                    <td>
                        Create JSON array
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-array-append"><code class="literal">JSON_ARRAY_APPEND()</code></a></td>
                    <td>
                        Append data to JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-array-insert"><code class="literal">JSON_ARRAY_INSERT()</code></a></td>
                    <td>
                        Insert into JSON array
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-arrayagg"><code class="literal">JSON_ARRAYAGG()</code></a></td>
                    <td>
                        Return result set as a single JSON array
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a></td>
                    <td>
                        Return value from JSON column after evaluating path; equivalent to
                        JSON_EXTRACT().
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-contains"><code class="literal">JSON_CONTAINS()</code></a></td>
                    <td>
                        Whether JSON document contains specific object at path
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-contains-path"><code class="literal">JSON_CONTAINS_PATH()</code></a></td>
                    <td>
                        Whether JSON document contains any data at path
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-depth"><code class="literal">JSON_DEPTH()</code></a></td>
                    <td>
                        Maximum depth of JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-extract"><code class="literal">JSON_EXTRACT()</code></a></td>
                    <td>
                        Return data from JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_json-inline-path"><code class="literal">-&gt;&gt;</code></a></td>
                    <td>
                        Return value from JSON column after evaluating path and unquoting
                        the result; equivalent to JSON_UNQUOTE(JSON_EXTRACT()).
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a></td>
                    <td>
                        Insert data into JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-keys"><code class="literal">JSON_KEYS()</code></a></td>
                    <td>
                        Array of keys from JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-length"><code class="literal">JSON_LENGTH()</code></a></td>
                    <td>
                        Number of elements in JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-merge"><code class="literal">JSON_MERGE()</code></a> (deprecated 5.7.22)</td>
                    <td>
                        Merge JSON documents, preserving duplicate keys. Deprecated
                        synonym for JSON_MERGE_PRESERVE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-merge-patch"><code class="literal">JSON_MERGE_PATCH()</code></a></td>
                    <td>
                        Merge JSON documents, replacing values of duplicate keys
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE()</code></a></td>
                    <td>
                        Merge JSON documents, preserving duplicate keys
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-object"><code class="literal">JSON_OBJECT()</code></a></td>
                    <td>
                        Create JSON object
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-objectagg"><code class="literal">JSON_OBJECTAGG()</code></a></td>
                    <td>
                        Return result set as a single JSON object
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-pretty"><code class="literal">JSON_PRETTY()</code></a></td>
                    <td>
                        Print a JSON document in human-readable format
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-quote"><code class="literal">JSON_QUOTE()</code></a></td>
                    <td>
                        Quote JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-remove"><code class="literal">JSON_REMOVE()</code></a></td>
                    <td>
                        Remove data from JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a></td>
                    <td>
                        Replace values in JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-search"><code class="literal">JSON_SEARCH()</code></a></td>
                    <td>
                        Path to value within JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a></td>
                    <td>
                        Insert data into JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-storage-size"><code class="literal">JSON_STORAGE_SIZE()</code></a></td>
                    <td>
                        Space used for storage of binary representation of a JSON document
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-type"><code class="literal">JSON_TYPE()</code></a></td>
                    <td>
                        Type of JSON value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-unquote"><code class="literal">JSON_UNQUOTE()</code></a></td>
                    <td>
                        Unquote JSON value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-valid"><code class="literal">JSON_VALID()</code></a></td>
                    <td>
                        Whether JSON value is valid
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_last-day"><code class="literal">LAST_DAY</code></a></td>
                    <td>
                        Return the last day of the month for the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a></td>
                    <td>
                        Value of the AUTOINCREMENT column for the last INSERT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_lcase"><code class="literal">LCASE()</code></a></td>
                    <td>
                        Synonym for LOWER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_least"><code class="literal">LEAST()</code></a></td>
                    <td>
                        Return the smallest argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_left"><code class="literal">LEFT()</code></a></td>
                    <td>
                        Return the leftmost number of characters as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_left-shift"><code class="literal">&lt;&lt;</code></a></td>
                    <td>
                        Left shift
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_length"><code class="literal">LENGTH()</code></a></td>
                    <td>
                        Return the length of a string in bytes
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_less-than"><code class="literal">&lt;</code></a></td>
                    <td>
                        Less than operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a></td>
                    <td>
                        Less than or equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a></td>
                    <td>
                        Simple pattern matching
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_linefromtext"><code class="literal">LineFromText()</code>, <code class="literal">LineStringFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct LineString from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineFromWKB()</code>, <code class="literal">LineStringFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct LineString from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_linestring"><code class="literal">LineString()</code></a></td>
                    <td>
                        Construct LineString from Point values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ln"><code class="literal">LN()</code></a></td>
                    <td>
                        Return the natural logarithm of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a></td>
                    <td>
                        Load the named file
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_localtime"><code class="literal">LOCALTIME()</code>, <code class="literal">LOCALTIME</code></a></td>
                    <td>
                        Synonym for NOW()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_localtimestamp"><code class="literal">LOCALTIMESTAMP</code>, <code class="literal">LOCALTIMESTAMP()</code></a></td>
                    <td>
                        Synonym for NOW()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_locate"><code class="literal">LOCATE()</code></a></td>
                    <td>
                        Return the position of the first occurrence of substring
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_log"><code class="literal">LOG()</code></a></td>
                    <td>
                        Return the natural logarithm of the first argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_log10"><code class="literal">LOG10()</code></a></td>
                    <td>
                        Return the base-10 logarithm of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_log2"><code class="literal">LOG2()</code></a></td>
                    <td>
                        Return the base-2 logarithm of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a></td>
                    <td>
                        Return the argument in lowercase
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_lpad"><code class="literal">LPAD()</code></a></td>
                    <td>
                        Return the string argument, left-padded with the specified string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ltrim"><code class="literal">LTRIM()</code></a></td>
                    <td>
                        Remove leading spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_make-set"><code class="literal">MAKE_SET()</code></a></td>
                    <td>
                        Return a set of comma-separated strings that have the
                        corresponding bit in bits set
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_makedate"><code class="literal">MAKEDATE()</code></a></td>
                    <td>
                        Create a date from the year and day of year
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a></td>
                    <td>
                        Create time from hour, minute, second
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a></td>
                    <td>
                        Block until the slave has read and applied all updates up to the
                        specified position
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_match"><code class="literal">MATCH</code></a></td>
                    <td>
                        Perform full-text search
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_max"><code class="literal">MAX()</code></a></td>
                    <td>
                        Return the maximum value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains()</code></a></td>
                    <td>
                        Whether MBR of one geometry contains MBR of another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrcoveredby"><code class="literal">MBRCoveredBy()</code></a></td>
                    <td>
                        Whether one MBR is covered by another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrcovers"><code class="literal">MBRCovers()</code></a></td>
                    <td>
                        Whether one MBR covers another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrdisjoint"><code class="literal">MBRDisjoint()</code></a></td>
                    <td>
                        Whether MBRs of two geometries are disjoint
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrequal"><code class="literal">MBREqual()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether MBRs of two geometries are equal
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals()</code></a></td>
                    <td>
                        Whether MBRs of two geometries are equal
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrintersects"><code class="literal">MBRIntersects()</code></a></td>
                    <td>
                        Whether MBRs of two geometries intersect
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbroverlaps"><code class="literal">MBROverlaps()</code></a></td>
                    <td>
                        Whether MBRs of two geometries overlap
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrtouches"><code class="literal">MBRTouches()</code></a></td>
                    <td>
                        Whether MBRs of two geometries touch
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin()</code></a></td>
                    <td>
                        Whether MBR of one geometry is within MBR of another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a></td>
                    <td>
                        Calculate MD5 checksum
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_microsecond"><code class="literal">MICROSECOND()</code></a></td>
                    <td>
                        Return the microseconds from argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mid"><code class="literal">MID()</code></a></td>
                    <td>
                        Return a substring starting from the specified position
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_min"><code class="literal">MIN()</code></a></td>
                    <td>
                        Return the minimum value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a></td>
                    <td>
                        Minus operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_minute"><code class="literal">MINUTE()</code></a></td>
                    <td>
                        Return the minute from the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MLineFromText()</code>, <code class="literal">MultiLineStringFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct MultiLineString from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MLineFromWKB()</code>, <code class="literal">MultiLineStringFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct MultiLineString from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mod"><code class="literal">MOD()</code></a></td>
                    <td>
                        Return the remainder
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_mod"><code class="literal">%</code>, <code class="literal">MOD</code></a></td>
                    <td>
                        Modulo operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_month"><code class="literal">MONTH()</code></a></td>
                    <td>
                        Return the month from the date passed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a></td>
                    <td>
                        Return the name of the month
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MPointFromText()</code>, <code class="literal">MultiPointFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct MultiPoint from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MPointFromWKB()</code>, <code class="literal">MultiPointFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct MultiPoint from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MPolyFromText()</code>, <code class="literal">MultiPolygonFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct MultiPolygon from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MPolyFromWKB()</code>, <code class="literal">MultiPolygonFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct MultiPolygon from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_multilinestring"><code class="literal">MultiLineString()</code></a></td>
                    <td>
                        Contruct MultiLineString from LineString values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_multipoint"><code class="literal">MultiPoint()</code></a></td>
                    <td>
                        Construct MultiPoint from Point values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_multipolygon"><code class="literal">MultiPolygon()</code></a></td>
                    <td>
                        Construct MultiPolygon from Polygon values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a></td>
                    <td>
                        Cause the column to have the given name
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not"><code class="literal">NOT</code>, <code class="literal">!</code></a></td>
                    <td>
                        Negates value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-between"><code class="literal">NOT BETWEEN ... AND ...</code></a></td>
                    <td>
                        Whether a value is not within a range of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-equal"><code class="literal">!=</code>, <code class="literal">&lt;&gt;</code></a></td>
                    <td>
                        Not equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-in"><code class="literal">NOT IN()</code></a></td>
                    <td>
                        Whether a value is not within a set of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-like"><code class="literal">NOT LIKE</code></a></td>
                    <td>
                        Negation of simple pattern matching
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-regexp"><code class="literal">NOT REGEXP</code></a></td>
                    <td>
                        Negation of REGEXP
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a></td>
                    <td>
                        Return the current date and time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_nullif"><code class="literal">NULLIF()</code></a></td>
                    <td>
                        Return NULL if expr1 = expr2
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_numgeometries"><code class="literal">NumGeometries()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return number of geometries in geometry collection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_numinteriorrings"><code class="literal">NumInteriorRings()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return number of interior rings in Polygon
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_numpoints"><code class="literal">NumPoints()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return number of points in LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_oct"><code class="literal">OCT()</code></a></td>
                    <td>
                        Return a string containing octal representation of a number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_octet-length"><code class="literal">OCTET_LENGTH()</code></a></td>
                    <td>
                        Synonym for LENGTH()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a></td>
                    <td>
                        Return the value of the pre-4.1 implementation of PASSWORD
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_or"><code class="literal">OR</code>, <code class="literal">||</code></a></td>
                    <td>
                        Logical OR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ord"><code class="literal">ORD()</code></a></td>
                    <td>
                        Return character code for leftmost character of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_overlaps"><code class="literal">Overlaps()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether MBRs of two geometries overlap
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Calculate and return a password string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_period-add"><code class="literal">PERIOD_ADD()</code></a></td>
                    <td>
                        Add a period to a year-month
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_period-diff"><code class="literal">PERIOD_DIFF()</code></a></td>
                    <td>
                        Return the number of months between periods
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_pi"><code class="literal">PI()</code></a></td>
                    <td>
                        Return the value of pi
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a></td>
                    <td>
                        Addition operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_point"><code class="literal">Point()</code></a></td>
                    <td>
                        Construct Point from coordinates
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_pointfromtext"><code class="literal">PointFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct Point from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_pointfromwkb"><code class="literal">PointFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct Point from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_pointn"><code class="literal">PointN()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return N-th point from LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolyFromText()</code>, <code class="literal">PolygonFromText()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct Polygon from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolyFromWKB()</code>, <code class="literal">PolygonFromWKB()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Construct Polygon from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_polygon"><code class="literal">Polygon()</code></a></td>
                    <td>
                        Construct Polygon from LineString arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_position"><code class="literal">POSITION()</code></a></td>
                    <td>
                        Synonym for LOCATE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_pow"><code class="literal">POW()</code></a></td>
                    <td>
                        Return the argument raised to the specified power
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_power"><code class="literal">POWER()</code></a></td>
                    <td>
                        Return the argument raised to the specified power
                    </td>
                </tr><tr><td scope="row"><a class="link" href="optimization.html#procedure-analyse" title="8.4.2.4&nbsp;Using PROCEDURE ANALYSE"><code class="literal">PROCEDURE ANALYSE()</code></a> (deprecated 5.7.18)</td>
                    <td>
                        Analyze the results of a query
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_quarter"><code class="literal">QUARTER()</code></a></td>
                    <td>
                        Return the quarter from a date argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_quote"><code class="literal">QUOTE()</code></a></td>
                    <td>
                        Escape the argument for use in an SQL statement
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_radians"><code class="literal">RADIANS()</code></a></td>
                    <td>
                        Return argument converted to radians
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a></td>
                    <td>
                        Return a random floating-point value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_random-bytes"><code class="literal">RANDOM_BYTES()</code></a></td>
                    <td>
                        Return a random byte vector
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a></td>
                    <td>
                        Whether string matches regular expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_release-all-locks"><code class="literal">RELEASE_ALL_LOCKS()</code></a></td>
                    <td>
                        Release all current named locks
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_release-lock"><code class="literal">RELEASE_LOCK()</code></a></td>
                    <td>
                        Release the named lock
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a></td>
                    <td>
                        Repeat a string the specified number of times
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_replace"><code class="literal">REPLACE()</code></a></td>
                    <td>
                        Replace occurrences of a specified string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_reverse"><code class="literal">REVERSE()</code></a></td>
                    <td>
                        Reverse the characters in a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_right"><code class="literal">RIGHT()</code></a></td>
                    <td>
                        Return the specified rightmost number of characters
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_right-shift"><code class="literal">&gt;&gt;</code></a></td>
                    <td>
                        Right shift
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">RLIKE</code></a></td>
                    <td>
                        Whether string matches regular expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a></td>
                    <td>
                        Round the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a></td>
                    <td>
                        The number of rows updated
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_rpad"><code class="literal">RPAD()</code></a></td>
                    <td>
                        Append string the specified number of times
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_rtrim"><code class="literal">RTRIM()</code></a></td>
                    <td>
                        Remove trailing spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_schema"><code class="literal">SCHEMA()</code></a></td>
                    <td>
                        Synonym for DATABASE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a></td>
                    <td>
                        Converts seconds to 'hh:mm:ss' format
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_second"><code class="literal">SECOND()</code></a></td>
                    <td>
                        Return the second (0-59)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a></td>
                    <td>
                        Synonym for USER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code>, <code class="literal">SHA()</code></a></td>
                    <td>
                        Calculate an SHA-1 160-bit checksum
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a></td>
                    <td>
                        Calculate an SHA-2 checksum
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sign"><code class="literal">SIGN()</code></a></td>
                    <td>
                        Return the sign of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sin"><code class="literal">SIN()</code></a></td>
                    <td>
                        Return the sine of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a></td>
                    <td>
                        Sleep for a number of seconds
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a></td>
                    <td>
                        Return a soundex string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_sounds-like"><code class="literal">SOUNDS LIKE</code></a></td>
                    <td>
                        Compare sounds
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_space"><code class="literal">SPACE()</code></a></td>
                    <td>
                        Return a string of the specified number of spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sqrt"><code class="literal">SQRT()</code></a></td>
                    <td>
                        Return the square root of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_srid"><code class="literal">SRID()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return spatial reference system ID for geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area()</code></a></td>
                    <td>
                        Return Polygon or MultiPolygon area
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsBinary()</code>, <code class="literal">ST_AsWKB()</code></a></td>
                    <td>
                        Convert from internal geometry format to WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-asgeojson"><code class="literal">ST_AsGeoJSON()</code></a></td>
                    <td>
                        Generate GeoJSON object from geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsText()</code>, <code class="literal">ST_AsWKT()</code></a></td>
                    <td>
                        Convert from internal geometry format to WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a></td>
                    <td>
                        Return geometry of points within given distance from geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-buffer-strategy"><code class="literal">ST_Buffer_Strategy()</code></a></td>
                    <td>
                        Produce strategy option for ST_Buffer()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-centroid"><code class="literal">ST_Centroid()</code></a></td>
                    <td>
                        Return centroid as a point
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-contains"><code class="literal">ST_Contains()</code></a></td>
                    <td>
                        Whether one geometry contains another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-convexhull"><code class="literal">ST_ConvexHull()</code></a></td>
                    <td>
                        Return convex hull of geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-crosses"><code class="literal">ST_Crosses()</code></a></td>
                    <td>
                        Whether one geometry crosses another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-difference"><code class="literal">ST_Difference()</code></a></td>
                    <td>
                        Return point set difference of two geometries
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-dimension"><code class="literal">ST_Dimension()</code></a></td>
                    <td>
                        Dimension of geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-disjoint"><code class="literal">ST_Disjoint()</code></a></td>
                    <td>
                        Whether one geometry is disjoint from another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance()</code></a></td>
                    <td>
                        The distance of one geometry from another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-distance-sphere"><code class="literal">ST_Distance_Sphere()</code></a></td>
                    <td>
                        Minimum distance on earth between two geometries
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a></td>
                    <td>
                        End Point of LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope()</code></a></td>
                    <td>
                        Return MBR of geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-equals"><code class="literal">ST_Equals()</code></a></td>
                    <td>
                        Whether one geometry is equal to another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing()</code></a></td>
                    <td>
                        Return exterior ring of Polygon
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geohash"><code class="literal">ST_GeoHash()</code></a></td>
                    <td>
                        Produce a geohash value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromText()</code>, <code class="literal">ST_GeometryCollectionFromText()</code>, <code class="literal">ST_GeomCollFromTxt()</code></a></td>
                    <td>
                        Return geometry collection from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeomCollFromWKB()</code>, <code class="literal">ST_GeometryCollectionFromWKB()</code></a></td>
                    <td>
                        Return geometry collection from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN()</code></a></td>
                    <td>
                        Return N-th geometry from geometry collection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geometrytype"><code class="literal">ST_GeometryType()</code></a></td>
                    <td>
                        Return name of geometry type
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomfromgeojson"><code class="literal">ST_GeomFromGeoJSON()</code></a></td>
                    <td>
                        Generate geometry from GeoJSON object
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code>, <code class="literal">ST_GeometryFromText()</code></a></td>
                    <td>
                        Return geometry from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB()</code>, <code class="literal">ST_GeometryFromWKB()</code></a></td>
                    <td>
                        Return geometry from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN()</code></a></td>
                    <td>
                        Return N-th interior ring of Polygon
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-intersection"><code class="literal">ST_Intersection()</code></a></td>
                    <td>
                        Return point set intersection of two geometries
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-intersects"><code class="literal">ST_Intersects()</code></a></td>
                    <td>
                        Whether one geometry intersects another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a></td>
                    <td>
                        Whether a geometry is closed and simple
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-isempty"><code class="literal">ST_IsEmpty()</code></a></td>
                    <td>
                        Placeholder function
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple()</code></a></td>
                    <td>
                        Whether a geometry is simple
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-isvalid"><code class="literal">ST_IsValid()</code></a></td>
                    <td>
                        Whether a geometry is valid
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-latfromgeohash"><code class="literal">ST_LatFromGeoHash()</code></a></td>
                    <td>
                        Return latitude from geohash value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-length"><code class="literal">ST_Length()</code></a></td>
                    <td>
                        Return length of LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineFromText()</code>, <code class="literal">ST_LineStringFromText()</code></a></td>
                    <td>
                        Construct LineString from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineFromWKB()</code>, <code class="literal">ST_LineStringFromWKB()</code></a></td>
                    <td>
                        Construct LineString from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-longfromgeohash"><code class="literal">ST_LongFromGeoHash()</code></a></td>
                    <td>
                        Return longitude from geohash value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-makeenvelope"><code class="literal">ST_MakeEnvelope()</code></a></td>
                    <td>
                        Rectangle around two points
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText()</code>, <code class="literal">ST_MultiLineStringFromText()</code></a></td>
                    <td>
                        Construct MultiLineString from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB()</code>, <code class="literal">ST_MultiLineStringFromWKB()</code></a></td>
                    <td>
                        Construct MultiLineString from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code>, <code class="literal">ST_MultiPointFromText()</code></a></td>
                    <td>
                        Construct MultiPoint from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB()</code>, <code class="literal">ST_MultiPointFromWKB()</code></a></td>
                    <td>
                        Construct MultiPoint from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText()</code>, <code class="literal">ST_MultiPolygonFromText()</code></a></td>
                    <td>
                        Construct MultiPolygon from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB()</code>, <code class="literal">ST_MultiPolygonFromWKB()</code></a></td>
                    <td>
                        Construct MultiPolygon from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-numgeometries"><code class="literal">ST_NumGeometries()</code></a></td>
                    <td>
                        Return number of geometries in geometry collection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRing()</code>, <code class="literal">ST_NumInteriorRings()</code></a></td>
                    <td>
                        Return number of interior rings in Polygon
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-numpoints"><code class="literal">ST_NumPoints()</code></a></td>
                    <td>
                        Return number of points in LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-overlaps"><code class="literal">ST_Overlaps()</code></a></td>
                    <td>
                        Whether one geometry overlaps another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointfromgeohash"><code class="literal">ST_PointFromGeoHash()</code></a></td>
                    <td>
                        Convert geohash value to POINT value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointfromtext"><code class="literal">ST_PointFromText()</code></a></td>
                    <td>
                        Construct Point from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointfromwkb"><code class="literal">ST_PointFromWKB()</code></a></td>
                    <td>
                        Construct Point from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN()</code></a></td>
                    <td>
                        Return N-th point from LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolyFromText()</code>, <code class="literal">ST_PolygonFromText()</code></a></td>
                    <td>
                        Construct Polygon from WKT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolyFromWKB()</code>, <code class="literal">ST_PolygonFromWKB()</code></a></td>
                    <td>
                        Construct Polygon from WKB
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-simplify"><code class="literal">ST_Simplify()</code></a></td>
                    <td>
                        Return simplified geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-srid"><code class="literal">ST_SRID()</code></a></td>
                    <td>
                        Return spatial reference system ID for geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a></td>
                    <td>
                        Start Point of LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-symdifference"><code class="literal">ST_SymDifference()</code></a></td>
                    <td>
                        Return point set symmetric difference of two geometries
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-touches"><code class="literal">ST_Touches()</code></a></td>
                    <td>
                        Whether one geometry touches another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-union"><code class="literal">ST_Union()</code></a></td>
                    <td>
                        Return point set union of two geometries
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-validate"><code class="literal">ST_Validate()</code></a></td>
                    <td>
                        Return validated geometry
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-within"><code class="literal">ST_Within()</code></a></td>
                    <td>
                        Whether one geometry is within another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-x"><code class="literal">ST_X()</code></a></td>
                    <td>
                        Return X coordinate of Point
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-y"><code class="literal">ST_Y()</code></a></td>
                    <td>
                        Return Y coordinate of Point
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_startpoint"><code class="literal">StartPoint()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Start Point of LineString
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_std"><code class="literal">STD()</code></a></td>
                    <td>
                        Return the population standard deviation
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a></td>
                    <td>
                        Return the population standard deviation
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a></td>
                    <td>
                        Return the population standard deviation
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP()</code></a></td>
                    <td>
                        Return the sample standard deviation
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a></td>
                    <td>
                        Convert a string to a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a></td>
                    <td>
                        Compare two strings
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_subdate"><code class="literal">SUBDATE()</code></a></td>
                    <td>
                        Synonym for DATE_SUB() when invoked with three arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_substr"><code class="literal">SUBSTR()</code></a></td>
                    <td>
                        Return the substring as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a></td>
                    <td>
                        Return the substring as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX()</code></a></td>
                    <td>
                        Return a substring from a string before the specified number of
                        occurrences of the delimiter
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_subtime"><code class="literal">SUBTIME()</code></a></td>
                    <td>
                        Subtract times
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a></td>
                    <td>
                        Return the sum
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a></td>
                    <td>
                        Return the time at which the function executes
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a></td>
                    <td>
                        Synonym for USER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_tan"><code class="literal">TAN()</code></a></td>
                    <td>
                        Return the tangent of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_time"><code class="literal">TIME()</code></a></td>
                    <td>
                        Extract the time portion of the expression passed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a></td>
                    <td>
                        Format as time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_time-to-sec"><code class="literal">TIME_TO_SEC()</code></a></td>
                    <td>
                        Return the argument converted to seconds
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a></td>
                    <td>
                        Subtract time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_times"><code class="literal">*</code></a></td>
                    <td>
                        Multiplication operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timestamp"><code class="literal">TIMESTAMP()</code></a></td>
                    <td>
                        With a single argument, this function returns the date or datetime
                        expression; with two arguments, the sum of the arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a></td>
                    <td>
                        Add an interval to a datetime expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a></td>
                    <td>
                        Subtract an interval from a datetime expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_to-base64"><code class="literal">TO_BASE64()</code></a></td>
                    <td>
                        Return the argument converted to a base-64 string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS()</code></a></td>
                    <td>
                        Return the date argument converted to days
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_to-seconds"><code class="literal">TO_SECONDS()</code></a></td>
                    <td>
                        Return the date or datetime argument converted to seconds since
                        Year 0
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_touches"><code class="literal">Touches()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether one geometry touches another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_trim"><code class="literal">TRIM()</code></a></td>
                    <td>
                        Remove leading and trailing spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_truncate"><code class="literal">TRUNCATE()</code></a></td>
                    <td>
                        Truncate to specified number of decimal places
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ucase"><code class="literal">UCASE()</code></a></td>
                    <td>
                        Synonym for UPPER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_unary-minus"><code class="literal">-</code></a></td>
                    <td>
                        Change the sign of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a></td>
                    <td>
                        Uncompress a string compressed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uncompressed-length"><code class="literal">UNCOMPRESSED_LENGTH()</code></a></td>
                    <td>
                        Return the length of a string before compression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a></td>
                    <td>
                        Return a string containing hex representation of a number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a></td>
                    <td>
                        Return a Unix timestamp
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a></td>
                    <td>
                        Return replaced XML fragment
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a></td>
                    <td>
                        Convert to uppercase
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a></td>
                    <td>
                        The user name and host name provided by the client
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_utc-date"><code class="literal">UTC_DATE()</code></a></td>
                    <td>
                        Return the current UTC date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_utc-time"><code class="literal">UTC_TIME()</code></a></td>
                    <td>
                        Return the current UTC time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_utc-timestamp"><code class="literal">UTC_TIMESTAMP()</code></a></td>
                    <td>
                        Return the current UTC date and time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uuid"><code class="literal">UUID()</code></a></td>
                    <td>
                        Return a Universal Unique Identifier (UUID)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a></td>
                    <td>
                        Return an integer-valued universal identifier
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_validate-password-strength"><code class="literal">VALIDATE_PASSWORD_STRENGTH()</code></a></td>
                    <td>
                        Determine strength of password
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_values"><code class="literal">VALUES()</code></a></td>
                    <td>
                        Define the values to be used during an INSERT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a></td>
                    <td>
                        Return the population standard variance
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a></td>
                    <td>
                        Return the sample variance
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a></td>
                    <td>
                        Return the population standard variance
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_version"><code class="literal">VERSION()</code></a></td>
                    <td>
                        Return a string that indicates the MySQL server version
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_wait-for-executed-gtid-set"><code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code></a></td>
                    <td>
                        Wait until the given GTIDs have executed on the slave.
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_wait-until-sql-thread-after-gtids"><code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code></a></td>
                    <td>
                        Deprecated. Use <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code>.
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a></td>
                    <td>
                        Return the week number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_weekday"><code class="literal">WEEKDAY()</code></a></td>
                    <td>
                        Return the weekday index
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_weekofyear"><code class="literal">WEEKOFYEAR()</code></a></td>
                    <td>
                        Return the calendar week of the date (1-53)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a></td>
                    <td>
                        Return the weight string for a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_within"><code class="literal">Within()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Whether MBR of one geometry is within MBR of another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_x"><code class="literal">X()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return X coordinate of Point
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_xor"><code class="literal">XOR</code></a></td>
                    <td>
                        Logical XOR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_y"><code class="literal">Y()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Return Y coordinate of Point
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_year"><code class="literal">YEAR()</code></a></td>
                    <td>
                        Return the year
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_yearweek"><code class="literal">YEARWEEK()</code></a></td>
                    <td>
                        Return the year and week
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="type-conversion"></a>12.2&nbsp;Type Conversion in Expression Evaluation</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286856395968"></a><a class="indexterm" name="idm140286856394928"></a><p>
        When an operator is used with operands of different types, type
        conversion occurs to make the operands compatible. Some
        conversions occur implicitly. For example, MySQL automatically
        converts strings to numbers as necessary, and vice versa.
    </p><p style="color:blue;">当运算符与不同类型的操作数一起使用时，将进行类型转换以使操作数兼容。有些转换是隐式发生的。例如，mysql会根据需要自动将字符串转换为数字，反之亦然。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1+'1';</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT CONCAT(2,' test');</code></strong>
        -&gt; '2 test'
</pre><p>
        It is also possible to convert a number to a string explicitly
        using the <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> function.
        Conversion occurs implicitly with the
        <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> function because it
        expects string arguments.
    </p><p style="color:blue;">也可以使用cast（）函数将数字显式转换为字符串。concat（）函数隐式进行转换，因为它需要字符串参数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 38.8, CAST(38.8 AS CHAR);</code></strong>
        -&gt; 38.8, '38.8'
mysql&gt; <strong class="userinput"><code>SELECT 38.8, CONCAT(38.8);</code></strong>
        -&gt; 38.8, '38.8'
</pre><p>
        See later in this section for information about the character set
        of implicit number-to-string conversions, and for modified rules
        that apply to <code class="literal">CREATE TABLE ... SELECT</code>
        statements.
    </p><p style="color:blue;">有关隐式数到字符串转换的字符集的信息，以及应用于创建表的修改规则，请参阅本节后面的内容…选择语句。</p><p>
        The following rules describe how conversion occurs for comparison
        operations:
    </p><p style="color:blue;">以下规则描述比较操作的转换方式：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                If one or both arguments are <code class="literal">NULL</code>, the
                result of the comparison is <code class="literal">NULL</code>, except
                for the <code class="literal">NULL</code>-safe
                <a class="link" href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
                equality comparison operator. For <code class="literal">NULL &lt;=&gt;
                NULL</code>, the result is true. No conversion is needed.
            </p><p style="color:blue;">如果一个或两个参数都为空，则比较的结果为空，但空安全的&lt;=&gt;相等比较运算符除外。对于null&lt;=&gt;null，结果为true。不需要转换。</p></li><li class="listitem"><p>
                If both arguments in a comparison operation are strings, they
                are compared as strings.
            </p><p style="color:blue;">如果比较操作中的两个参数都是字符串，则将它们作为字符串进行比较。</p></li><li class="listitem"><p>
                If both arguments are integers, they are compared as integers.
            </p><p style="color:blue;">如果两个参数都是整数，则将它们作为整数进行比较。</p></li><li class="listitem"><p>
                Hexadecimal values are treated as binary strings if not
                compared to a number.
            </p><p style="color:blue;">十六进制值如果不与数字进行比较，则被视为二进制字符串。</p></li><li class="listitem"><p>
                If one of the arguments is a
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> or
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> column and the other
                argument is a constant, the constant is converted to a
                timestamp before the comparison is performed. This is done to
                be more ODBC-friendly. This is not done for the arguments to
                <a class="link" href="functions.html#operator_in"><code class="literal">IN()</code></a>. To be safe, always use
                complete datetime, date, or time strings when doing
                comparisons. For example, to achieve best results when using
                <a class="link" href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> with date or time values,
                use <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> to explicitly
                convert the values to the desired data type.
            </p><p style="color:blue;">如果其中一个参数是timestamp或datetime列，而另一个参数是常量，则在执行比较之前，该常量将转换为时间戳。这样做是为了使odbc更加友好。对于in（）的参数，此操作不会完成。为了安全起见，在进行比较时始终使用完整的日期时间、日期或时间字符串。例如，要在对日期或时间值使用between时获得最佳结果，请使用cast（）将值显式转换为所需的数据类型。</p><p>
                A single-row subquery from a table or tables is not considered
                a constant. For example, if a subquery returns an integer to
                be compared to a <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>
                value, the comparison is done as two integers. The integer is
                not converted to a temporal value. To compare the operands as
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> values, use
                <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> to explicitly convert
                the subquery value to <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>.
            </p><p style="color:blue;">来自一个或多个表的单行子查询不被视为常量。例如，如果子查询返回要与日期时间值进行比较的整数，则比较将以两个整数的形式进行。整数不转换为时间值。若要将操作数作为日期时间值进行比较，请使用cast（）将子查询值显式转换为日期时间。</p><a class="indexterm" name="idm140286856362416"></a><a class="indexterm" name="idm140286856361344"></a></li><li class="listitem"><p>
                If one of the arguments is a decimal value, comparison depends
                on the other argument. The arguments are compared as decimal
                values if the other argument is a decimal or integer value, or
                as floating-point values if the other argument is a
                floating-point value.
            </p><p style="color:blue;">如果其中一个参数是十进制值，则比较取决于另一个参数。如果另一个参数是十进制或整数值，则将参数作为十进制值进行比较；如果另一个参数是浮点值，则将参数作为浮点值进行比较。</p></li><li class="listitem"><p>
                In all other cases, the arguments are compared as
                floating-point (real) numbers. For example, a comparison of
                string and numeric operands takes places as a comparison of
                floating-point numbers.
            </p><p style="color:blue;">在所有其他情况下，将参数作为浮点（实数）数字进行比较。例如，字符串操作数和数值操作数的比较用作浮点数的比较。</p></li></ul>
        </div>
        <p>
            For information about conversion of values from one temporal type
            to another, see <a class="xref" href="data-types.html#date-and-time-type-conversion" title="11.3.7&nbsp;Conversion Between Date and Time Types">Section&nbsp;11.3.7, “Conversion Between Date and Time Types”</a>.
        </p><p style="color:blue;">有关值从一种时态类型转换为另一种时态类型的信息，请参见第11.3.7节“日期和时间类型之间的转换”。</p><p>
        Comparison of JSON values takes place at two levels. The first
        level of comparison is based on the JSON types of the compared
        values. If the types differ, the comparison result is determined
        solely by which type has higher precedence. If the two values have
        the same JSON type, a second level of comparison occurs using
        type-specific rules. For comparison of JSON and non-JSON values,
        the non-JSON value is converted to JSON and the values compared as
        JSON values. For details, see <a class="xref" href="data-types.html#json-comparison" title="Comparison and Ordering of JSON Values">Comparison and Ordering of JSON Values</a>.
    </p><p style="color:blue;">json值的比较在两个级别进行。第一级比较基于比较值的json类型。如果类型不同，则比较结果仅由具有更高优先级的类型决定。如果这两个值具有相同的json类型，则使用类型特定的规则进行第二级比较。为了比较json和非json值，将非json值转换为json，并将值作为json值进行比较。有关详细信息，请参阅json值的比较和排序。</p><p>
        The following examples illustrate conversion of strings to numbers
        for comparison operations:
    </p><p style="color:blue;">以下示例演示了将字符串转换为数字以进行比较操作：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 &gt; '6x';</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 7 &gt; '6x';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 0 &gt; 'x6';</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 0 = 'x6';</code></strong>
        -&gt; 1
</pre><p>
        For comparisons of a string column with a number, MySQL cannot use
        an index on the column to look up the value quickly. If
        <em class="replaceable"><code>str_col</code></em> is an indexed string column,
        the index cannot be used when performing the lookup in the
        following statement:
    </p><p style="color:blue;">对于字符串列与数字的比较，mysql不能使用列上的索引来快速查找值。如果str_col是索引字符串列，则在执行以下语句中的查找时不能使用索引：</p><pre data-lang="sql" class="programlisting">SELECT * FROM <em class="replaceable"><code>tbl_name</code></em> WHERE <em class="replaceable"><code>str_col</code></em>=1;
</pre><p>
        The reason for this is that there are many different strings that
        may convert to the value <code class="literal">1</code>, such as
        <code class="literal">'1'</code>, <code class="literal">' 1'</code>, or
        <code class="literal">'1a'</code>.
    </p><p style="color:blue;">原因是有许多不同的字符串可以转换为值1，例如“1”、“1”或“1a”。</p><p>
        Comparisons that use floating-point numbers (or values that are
        converted to floating-point numbers) are approximate because such
        numbers are inexact. This might lead to results that appear
        inconsistent:
    </p><p style="color:blue;">使用浮点数（或转换为浮点数的值）的比较是近似的，因为这样的数字是不精确的。这可能会导致出现不一致的结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT '18015376320243458' = 18015376320243458;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT '18015376320243459' = 18015376320243459;</code></strong>
        -&gt; 0
</pre><p>
        Such results can occur because the values are converted to
        floating-point numbers, which have only 53 bits of precision and
        are subject to rounding:
    </p><p style="color:blue;">这样的结果之所以会出现，是因为这些值被转换为浮点数，浮点数的精度只有53位，并且需要舍入：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT '18015376320243459'+0.0;</code></strong>
        -&gt; 1.8015376320243e+16
</pre><p>
        Furthermore, the conversion from string to floating-point and from
        integer to floating-point do not necessarily occur the same way.
        The integer may be converted to floating-point by the CPU, whereas
        the string is converted digit by digit in an operation that
        involves floating-point multiplications.
    </p><p style="color:blue;">此外，从字符串到浮点和从整数到浮点的转换不一定以相同的方式进行。整数可以由CPU转换为浮点，而字符串在涉及浮点乘法的操作中是逐位转换的。</p><p>
        The results shown will vary on different systems, and can be
        affected by factors such as computer architecture or the compiler
        version or optimization level. One way to avoid such problems is
        to use <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> so that a value is
        not converted implicitly to a float-point number:
    </p><p style="color:blue;">所显示的结果在不同的系统上会有所不同，并且可能受到诸如计算机体系结构、编译器版本或优化级别等因素的影响。避免此类问题的一种方法是使用cast（），以便不会将值隐式转换为浮点数：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CAST('18015376320243459' AS UNSIGNED) = 18015376320243459;</code></strong>
        -&gt; 1
</pre><p>
        For more information about floating-point comparisons, see
        <a class="xref" href="error-handling.html#problems-with-float" title="B.4.4.8&nbsp;Problems with Floating-Point Values">Section&nbsp;B.4.4.8, “Problems with Floating-Point Values”</a>.
    </p><p style="color:blue;">有关浮点比较的详细信息，请参阅第B.4.4.8节“浮点值问题”。</p><p>
        The server includes <code class="literal">dtoa</code>, a conversion library
        that provides the basis for improved conversion between string or
        <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> values and
        approximate-value
        (<a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">FLOAT</code></a>/<a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a>)
        numbers:
    </p><p style="color:blue;">服务器包括DTOA，该转换库为字符串或十进制值和近似值（浮点/双数）之间的转换提供了基础：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Consistent conversion results across platforms, which
                eliminates, for example, Unix versus Windows conversion
                differences.
            </p><p style="color:blue;">跨平台的一致转换结果，消除了例如Unix与Windows之间的转换差异。</p></li><li class="listitem"><p>
                Accurate representation of values in cases where results
                previously did not provide sufficient precision, such as for
                values close to IEEE limits.
            </p><p style="color:blue;">在以前的结果不能提供足够精度的情况下（例如接近ieee极限的值）精确表示值。</p></li><li class="listitem"><p>
                Conversion of numbers to string format with the best possible
                precision. The precision of <code class="literal">dtoa</code> is always
                the same or better than that of the standard C library
                functions.
            </p><p style="color:blue;">以尽可能高的精度将数字转换为字符串格式。dtoa的精度总是与标准c库函数相同或更好。</p></li></ul>
        </div>
        <p>
            Because the conversions produced by this library differ in some
            cases from non-<code class="literal">dtoa</code> results, the potential
            exists for incompatibilities in applications that rely on previous
            results. For example, applications that depend on a specific exact
            result from previous conversions might need adjustment to
            accommodate additional precision.
        </p><p style="color:blue;">由于该库产生的转换在某些情况下与非DTA结果不同，因此存在依赖于先前结果的应用中的不兼容性的可能性。例如，依赖于先前转换的特定精确结果的应用程序可能需要调整以适应额外的精度。</p><p>
        The <code class="literal">dtoa</code> library provides conversions with the
        following properties. <em class="replaceable"><code>D</code></em> represents a
        value with a <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> or string
        representation, and <em class="replaceable"><code>F</code></em> represents a
        floating-point number in native binary (IEEE) format.
    </p><p style="color:blue;">DTOA库提供具有以下属性的转换。d表示以十进制或字符串表示的值，f表示本机二进制（ieee）格式的浮点数。</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <em class="replaceable"><code>F</code></em> -&gt;
                <em class="replaceable"><code>D</code></em> conversion is done with the best
                possible precision, returning <em class="replaceable"><code>D</code></em> as
                the shortest string that yields <em class="replaceable"><code>F</code></em>
                when read back in and rounded to the nearest value in native
                binary format as specified by IEEE.
            </p><p style="color:blue;">f-&gt;d转换以尽可能高的精度完成，返回d作为最短的字符串，在读入时产生f，并按ieee指定的本地二进制格式舍入到最接近的值。</p></li><li class="listitem"><p>
                <em class="replaceable"><code>D</code></em> -&gt;
                <em class="replaceable"><code>F</code></em> conversion is done such that
                <em class="replaceable"><code>F</code></em> is the nearest native binary
                number to the input decimal string
                <em class="replaceable"><code>D</code></em>.
            </p><p style="color:blue;">d-&gt;f转换完成，使得f是最接近输入十进制字符串d的本机二进制数。</p></li></ul>
        </div>
        <p>
            These properties imply that <em class="replaceable"><code>F</code></em> -&gt;
            <em class="replaceable"><code>D</code></em> -&gt; <em class="replaceable"><code>F</code></em>
            conversions are lossless unless <em class="replaceable"><code>F</code></em> is
            <code class="literal">-inf</code>, <code class="literal">+inf</code>, or
            <code class="literal">NaN</code>. The latter values are not supported
            because the SQL standard defines them as invalid values for
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">FLOAT</code></a> or
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a>.
        </p><p style="color:blue;">这些属性意味着f-&gt;d-&gt;f转换是无损的，除非f是-inf、+inf或nan。后一个值不受支持，因为sql标准将它们定义为float或double的无效值。</p><p>
        For <em class="replaceable"><code>D</code></em> -&gt;
        <em class="replaceable"><code>F</code></em> -&gt; <em class="replaceable"><code>D</code></em>
        conversions, a sufficient condition for losslessness is that
        <em class="replaceable"><code>D</code></em> uses 15 or fewer digits of precision,
        is not a denormal value, <code class="literal">-inf</code>,
        <code class="literal">+inf</code>, or <code class="literal">NaN</code>. In some cases,
        the conversion is lossless even if <em class="replaceable"><code>D</code></em>
        has more than 15 digits of precision, but this is not always the
        case.
    </p><p style="color:blue;">对于d-&gt;f-&gt;d转换，无损的一个充分条件是d使用15位或更少的精度，不是非标准值，-inf，+inf或nan。在某些情况下，即使d的精度超过15位，转换也是无损的，但情况并非总是如此。</p><p>
        Implicit conversion of a numeric or temporal value to string
        produces a value that has a character set and collation determined
        by the <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
        and <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> system
        variables. (These variables commonly are set with
        <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a>. For information about
        connection character sets, see
        <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>.)
    </p><p style="color:blue;">将数值或时态值隐式转换为字符串会生成一个值，该值具有由character-set-connection和collation-connection系统变量确定的字符集和排序规则。（这些变量通常用集合名称设置。有关连接字符集的信息，请参阅第10.4节“连接字符集和排序规则”。</p><p>
        This means that such a conversion results in a character
        (nonbinary) string (a <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, or
        <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">LONGTEXT</code></a> value), except in the case
        that the connection character set is set to
        <code class="literal">binary</code>. In that case, the conversion result is
        a binary string (a <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, or
        <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">LONGBLOB</code></a> value).
    </p><p style="color:blue;">这意味着这样的转换会产生一个字符（非二进制）字符串（char、varchar或longtext值），除非连接字符集设置为二进制。在这种情况下，转换结果是二进制字符串（二进制、varbinary或longblob值）。</p><p>
        For integer expressions, the preceding remarks about expression
        <span class="emphasis"><em>evaluation</em></span> apply somewhat differently for
        expression <span class="emphasis"><em>assignment</em></span>; for example, in a
        statement such as this:
    </p><p style="color:blue;">对于整型表达式，前面关于表达式求值的注释对表达式赋值的应用有些不同；例如，在这样的语句中：</p><pre data-lang="sql" class="programlisting">CREATE TABLE t SELECT <em class="replaceable"><code>integer_expr</code></em>;
</pre><p>
        In this case, the table in the column resulting from the
        expression has type <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a> or
        <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> depending on the length of
        the integer expression. If the maximum length of the expression
        does not fit in an <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a>,
        <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> is used instead. The length
        is taken from the <code class="literal">max_length</code> value of the
        <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> result set metadata (see
        <a class="xref" href="connectors-apis.html#c-api-data-structures" title="27.8.5&nbsp;C API Data Structures">Section&nbsp;27.8.5, “C API Data Structures”</a>). This means that you can
        force a <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> rather than
        <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a> by use of a sufficiently long
        expression:
    </p><p style="color:blue;">在这种情况下，由表达式生成的列中的表具有int或bigint类型，具体取决于整型表达式的长度。如果表达式的最大长度不适合于int，则使用Bigint来代替。该长度取自select结果集元数据的max_length值（请参见第27.8.5节“c api数据结构”）。这意味着您可以使用足够长的表达式强制使用bigint而不是int：</p><pre data-lang="sql" class="programlisting">CREATE TABLE t SELECT 000000000000000000000;
</pre>
    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="non-typed-operators"></a>12.3&nbsp;Operators</h2>

                </div>

            </div>

        </div>

        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#operator-precedence">12.3.1 Operator Precedence</a></span></dt><dt><span class="section"><a href="functions.html#comparison-operators">12.3.2 Comparison Functions and Operators</a></span></dt><dt><span class="section"><a href="functions.html#logical-operators">12.3.3 Logical Operators</a></span></dt><dt><span class="section"><a href="functions.html#assignment-operators">12.3.4 Assignment Operators</a></span></dt></dl>
        </div>

        <div class="table">
            <a name="idm140286856272752"></a><p class="title"><b>Table&nbsp;12.2&nbsp;Operators</b></p><p style="color:blue;">表12.2操作员</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists all operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_and"><code class="literal">AND</code>, <code class="literal">&amp;&amp;</code></a></td>
                    <td>
                        Logical AND
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_assign-equal"><code class="literal">=</code></a></td>
                    <td>
                        Assign a value (as part of a
                        <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                        statement, or as part of the <code class="literal">SET</code> clause in an
                        <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a></td>
                    <td>
                        Assign a value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_between"><code class="literal">BETWEEN ... AND ...</code></a></td>
                    <td>
                        Whether a value is within a range of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a></td>
                    <td>
                        Cast a string to a binary string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-and"><code class="literal">&amp;</code></a></td>
                    <td>
                        Bitwise AND
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-invert"><code class="literal">~</code></a></td>
                    <td>
                        Bitwise inversion
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-or"><code class="literal">|</code></a></td>
                    <td>
                        Bitwise OR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-xor"><code class="literal">^</code></a></td>
                    <td>
                        Bitwise XOR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_case"><code class="literal">CASE</code></a></td>
                    <td>
                        Case operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_div"><code class="literal">DIV</code></a></td>
                    <td>
                        Integer division
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_divide"><code class="literal">/</code></a></td>
                    <td>
                        Division operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a></td>
                    <td>
                        Equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a></td>
                    <td>
                        NULL-safe equal to operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a></td>
                    <td>
                        Greater than operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a></td>
                    <td>
                        Greater than or equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_in"><code class="literal">IN()</code></a></td>
                    <td>
                        Whether a value is within a set of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is"><code class="literal">IS</code></a></td>
                    <td>
                        Test a value against a boolean
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-not"><code class="literal">IS NOT</code></a></td>
                    <td>
                        Test a value against a boolean
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-not-null"><code class="literal">IS NOT NULL</code></a></td>
                    <td>
                        NOT NULL value test
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a></td>
                    <td>
                        NULL value test
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a></td>
                    <td>
                        Return value from JSON column after evaluating path; equivalent to
                        JSON_EXTRACT().
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_json-inline-path"><code class="literal">-&gt;&gt;</code></a></td>
                    <td>
                        Return value from JSON column after evaluating path and unquoting
                        the result; equivalent to JSON_UNQUOTE(JSON_EXTRACT()).
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_left-shift"><code class="literal">&lt;&lt;</code></a></td>
                    <td>
                        Left shift
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_less-than"><code class="literal">&lt;</code></a></td>
                    <td>
                        Less than operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a></td>
                    <td>
                        Less than or equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a></td>
                    <td>
                        Simple pattern matching
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a></td>
                    <td>
                        Minus operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_mod"><code class="literal">%</code>, <code class="literal">MOD</code></a></td>
                    <td>
                        Modulo operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not"><code class="literal">NOT</code>, <code class="literal">!</code></a></td>
                    <td>
                        Negates value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-between"><code class="literal">NOT BETWEEN ... AND ...</code></a></td>
                    <td>
                        Whether a value is not within a range of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-equal"><code class="literal">!=</code>, <code class="literal">&lt;&gt;</code></a></td>
                    <td>
                        Not equal operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-in"><code class="literal">NOT IN()</code></a></td>
                    <td>
                        Whether a value is not within a set of values
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-like"><code class="literal">NOT LIKE</code></a></td>
                    <td>
                        Negation of simple pattern matching
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-regexp"><code class="literal">NOT REGEXP</code></a></td>
                    <td>
                        Negation of REGEXP
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_or"><code class="literal">OR</code>, <code class="literal">||</code></a></td>
                    <td>
                        Logical OR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a></td>
                    <td>
                        Addition operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a></td>
                    <td>
                        Whether string matches regular expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_right-shift"><code class="literal">&gt;&gt;</code></a></td>
                    <td>
                        Right shift
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">RLIKE</code></a></td>
                    <td>
                        Whether string matches regular expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_sounds-like"><code class="literal">SOUNDS LIKE</code></a></td>
                    <td>
                        Compare sounds
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_times"><code class="literal">*</code></a></td>
                    <td>
                        Multiplication operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_unary-minus"><code class="literal">-</code></a></td>
                    <td>
                        Change the sign of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_xor"><code class="literal">XOR</code></a></td>
                    <td>
                        Logical XOR
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="operator-precedence"></a>12.3.1&nbsp;Operator Precedence</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286856117520"></a><a class="indexterm" name="idm140286856116032"></a><p>
            Operator precedences are shown in the following list, from
            highest precedence to the lowest. Operators that are shown
            together on a line have the same precedence.
        </p><p style="color:blue;">运算符优先顺序显示在下表中，从最高优先顺序到最低优先顺序。在一行上一起显示的运算符具有相同的优先级。</p><pre data-lang="sql" class="programlisting">INTERVAL
BINARY, COLLATE
!
- (unary minus), ~ (unary bit inversion)
^
*, /, DIV, %, MOD
-, +
&lt;&lt;, &gt;&gt;
&amp;
|
= (comparison), &lt;=&gt;, &gt;=, &gt;, &lt;=, &lt;, &lt;&gt;, !=, IS, LIKE, REGEXP, IN
BETWEEN, CASE, WHEN, THEN, ELSE
NOT
AND, &amp;&amp;
XOR
OR, ||
= (assignment), :=
</pre><p>
            The precedence of <code class="literal">=</code> depends on whether it is
            used as a comparison operator
            (<a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a>) or as an
            assignment operator
            (<a class="link" href="functions.html#operator_assign-equal"><code class="literal">=</code></a>). When
            used as a comparison operator, it has the same precedence as
            <a class="link" href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>,
            <a class="link" href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a>,
            <a class="link" href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>,
            <a class="link" href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a>,
            <a class="link" href="functions.html#operator_less-than"><code class="literal">&lt;</code></a>,
            <a class="link" href="functions.html#operator_not-equal"><code class="literal">&lt;&gt;</code></a>,
            <a class="link" href="functions.html#operator_not-equal"><code class="literal">!=</code></a>,
            <a class="link" href="functions.html#operator_is"><code class="literal">IS</code></a>,
            <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a>,
            <a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a>, and
            <a class="link" href="functions.html#operator_in"><code class="literal">IN()</code></a>. When used as an assignment
            operator, it has the same precedence as
            <a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a>.
            <a class="xref" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment">Section&nbsp;13.7.4.1, “SET Syntax for Variable Assignment”</a>, and
            <a class="xref" href="language-structure.html#user-variables" title="9.4&nbsp;User-Defined Variables">Section&nbsp;9.4, “User-Defined Variables”</a>, explain how MySQL determines
            which interpretation of <code class="literal">=</code> should apply.
        </p><p style="color:blue;">=的优先级取决于它是用作比较运算符（=）还是用作赋值运算符（=）。当用作比较运算符时，它的优先级与&lt;=&gt;，&gt;=，&gt;，&lt;=，&lt;，&lt;，&lt;&gt;，！=，是，like，regexp，和in（）。用作赋值运算符时，它的优先级与：=。第13.7.4.1节，“变量赋值的设置语法”和第9.4节“用户定义的变量”，解释mysql如何确定应该应用哪个解释。</p><p>
            For operators that occur at the same precedence level within an
            expression, evaluation proceeds left to right, with the
            exception that assignments evaluate right to left.
        </p><p style="color:blue;">对于表达式中出现在同一优先级的运算符，求值从左到右进行，但赋值从右到左求值除外。</p><p>
            The precedence and meaning of some operators depends on the SQL
            mode:
        </p><p style="color:blue;">某些运算符的优先级和含义取决于SQL模式：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    By default, <a class="link" href="functions.html#operator_or"><code class="literal">||</code></a>
                    is a logical <a class="link" href="functions.html#operator_or"><code class="literal">OR</code></a> operator. With
                    <a class="link" href="server-administration.html#sqlmode_pipes_as_concat"><code class="literal">PIPES_AS_CONCAT</code></a> enabled,
                    <a class="link" href="functions.html#operator_or"><code class="literal">||</code></a> is string
                    concatenation, with a precedence between
                    <a class="link" href="functions.html#operator_bitwise-xor"><code class="literal">^</code></a> and
                    the unary operators.
                </p><p style="color:blue;">默认情况下，是逻辑或运算符。启用pipes_as_concat时，是字符串连接，优先级介于^和一元运算符之间。</p></li><li class="listitem"><p>
                    By default, <a class="link" href="functions.html#operator_not"><code class="literal">!</code></a>
                    has a higher precedence than <code class="literal">NOT</code>. With
                    <a class="link" href="server-administration.html#sqlmode_high_not_precedence"><code class="literal">HIGH_NOT_PRECEDENCE</code></a>
                    enabled, <a class="link" href="functions.html#operator_not"><code class="literal">!</code></a> and
                    <code class="literal">NOT</code> have the same precedence.
                </p><p style="color:blue;">默认情况下，！具有比不具有更高的优先级。在启用高优先级的情况下，！不具有相同的优先权。</p></li></ul>
            </div>
            <p>
                See <a class="xref" href="server-administration.html#sql-mode" title="5.1.10&nbsp;Server SQL Modes">Section&nbsp;5.1.10, “Server SQL Modes”</a>.
            </p><p style="color:blue;">参见第5.1.10节“服务器SQL模式”。</p><a class="indexterm" name="idm140286856075664"></a><a class="indexterm" name="idm140286856074592"></a><a class="indexterm" name="idm140286856073520"></a><a class="indexterm" name="idm140286856072032"></a><p>
            The precedence of operators determines the order of evaluation
            of terms in an expression. To override this order and group
            terms explicitly, use parentheses. For example:
        </p><p style="color:blue;">运算符的优先级决定表达式中术语的求值顺序。若要显式重写此顺序和组术语，请使用括号。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1+2*3;</code></strong>
        -&gt; 7
mysql&gt; <strong class="userinput"><code>SELECT (1+2)*3;</code></strong>
        -&gt; 9
</pre>
        </div>

        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="comparison-operators"></a>12.3.2&nbsp;Comparison Functions and Operators</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286856066240"></a>
            <div class="table">
                <a name="idm140286856065200"></a><p class="title"><b>Table&nbsp;12.3&nbsp;Comparison Operators</b></p><p style="color:blue;">表12.3比较运算符</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists comparison operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_between"><code class="literal">BETWEEN ... AND ...</code></a></td>
                        <td>
                            Whether a value is within a range of values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a></td>
                        <td>
                            Return the first non-NULL argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a></td>
                        <td>
                            Equal operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a></td>
                        <td>
                            NULL-safe equal to operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a></td>
                        <td>
                            Greater than operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a></td>
                        <td>
                            Greater than or equal operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a></td>
                        <td>
                            Return the largest argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_in"><code class="literal">IN()</code></a></td>
                        <td>
                            Whether a value is within a set of values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a></td>
                        <td>
                            Return the index of the argument that is less than the first
                            argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is"><code class="literal">IS</code></a></td>
                        <td>
                            Test a value against a boolean
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-not"><code class="literal">IS NOT</code></a></td>
                        <td>
                            Test a value against a boolean
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-not-null"><code class="literal">IS NOT NULL</code></a></td>
                        <td>
                            NOT NULL value test
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a></td>
                        <td>
                            NULL value test
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_isnull"><code class="literal">ISNULL()</code></a></td>
                        <td>
                            Test whether the argument is NULL
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_least"><code class="literal">LEAST()</code></a></td>
                        <td>
                            Return the smallest argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_less-than"><code class="literal">&lt;</code></a></td>
                        <td>
                            Less than operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a></td>
                        <td>
                            Less than or equal operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a></td>
                        <td>
                            Simple pattern matching
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-between"><code class="literal">NOT BETWEEN ... AND ...</code></a></td>
                        <td>
                            Whether a value is not within a range of values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-equal"><code class="literal">!=</code>, <code class="literal">&lt;&gt;</code></a></td>
                        <td>
                            Not equal operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-in"><code class="literal">NOT IN()</code></a></td>
                        <td>
                            Whether a value is not within a set of values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-like"><code class="literal">NOT LIKE</code></a></td>
                        <td>
                            Negation of simple pattern matching
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a></td>
                        <td>
                            Compare two strings
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><a class="indexterm" name="idm140286855983152"></a><a class="indexterm" name="idm140286855982080"></a><p>
            Comparison operations result in a value of <code class="literal">1</code>
            (<code class="literal">TRUE</code>), <code class="literal">0</code>
            (<code class="literal">FALSE</code>), or <code class="literal">NULL</code>. These
            operations work for both numbers and strings. Strings are
            automatically converted to numbers and numbers to strings as
            necessary.
        </p><p style="color:blue;">比较操作的结果为1（true）、0（false）或null。这些操作对数字和字符串都有效。根据需要，字符串自动转换为数字，数字转换为字符串。</p><p>
            The following relational comparison operators can be used to
            compare not only scalar operands, but row operands:
        </p><p style="color:blue;">以下关系比较运算符不仅可用于比较标量操作数，还可用于比较行操作数：</p><pre data-lang="sql" class="programlisting">=  &gt;  &lt;  &gt;=  &lt;=  &lt;&gt;  !=
</pre><p>
            The descriptions for those operators later in this section
            detail how they work with row operands. For additional examples
            of row comparisons in the context of row subqueries, see
            <a class="xref" href="sql-syntax.html#row-subqueries" title="13.2.10.5&nbsp;Row Subqueries">Section&nbsp;13.2.10.5, “Row Subqueries”</a>.
        </p><p style="color:blue;">本节后面对这些运算符的描述将详细说明它们如何处理行操作数。有关行子查询上下文中行比较的其他示例，请参见第13.2.10.5节“行子查询”。</p><p>
            Some of the functions in this section return values other than
            <code class="literal">1</code> (<code class="literal">TRUE</code>),
            <code class="literal">0</code> (<code class="literal">FALSE</code>), or
            <code class="literal">NULL</code>. <a class="link" href="functions.html#function_least"><code class="literal">LEAST()</code></a>
            and <a class="link" href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a> are examples of
            such functions; <a class="xref" href="functions.html#type-conversion" title="12.2&nbsp;Type Conversion in Expression Evaluation">Section&nbsp;12.2, “Type Conversion in Expression Evaluation”</a>, describes the
            rules for comparison operations performed by these and similar
            functions for determining their return values.
        </p><p style="color:blue;">本节中的某些函数返回的值不是1（true）、0（false）或null。least（）和magest（）是此类函数的示例；第12.2节“表达式求值中的类型转换”描述了这些函数和类似函数为确定其返回值而执行的比较操作的规则。</p><p>
            To convert a value to a specific type for comparison purposes,
            you can use the <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> function.
            String values can be converted to a different character set
            using <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a>. See
            <a class="xref" href="functions.html#cast-functions" title="12.10&nbsp;Cast Functions and Operators">Section&nbsp;12.10, “Cast Functions and Operators”</a>.
        </p><p style="color:blue;">要将值转换为特定类型以进行比较，可以使用cast（）函数。可以使用convert（）将字符串值转换为其他字符集。见第12.10节“浇铸函数和运算符”。</p><p>
            By default, string comparisons are not case-sensitive and use
            the current character set. The default is
            <code class="literal">latin1</code> (cp1252 West European), which also
            works well for English.
        </p><p style="color:blue;">默认情况下，字符串比较不区分大小写，使用当前字符集。默认值是Latin1（CP1252西欧），这也适用于英语。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_equal"></a><p>
                    <a class="indexterm" name="idm140286855959216"></a>

                    <a class="indexterm" name="idm140286855958144"></a>

                    <a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a>
                </p><p style="color:blue;">=</p><p>
                    Equal:
                </p><p style="color:blue;">相等：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 = 0;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT '0' = 0;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT '0.0' = 0;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT '0.01' = 0;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT '.01' = 0.01;</code></strong>
        -&gt; 1
</pre><p>
                    For row comparisons, <code class="literal">(a, b) = (x, y)</code> is
                    equivalent to:
                </p><p style="color:blue;">对于行比较，（a，b）=（x，y）等于：</p><pre data-lang="sql" class="programlisting">(a = x) AND (b = y)
</pre></li><li class="listitem"><a name="operator_equal-to"></a><p>
                    <a class="indexterm" name="idm140286855945248"></a>

                    <a class="indexterm" name="idm140286855943760"></a>

                    <a class="link" href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
                </p><p style="color:blue;">&lt;=&gt;</p><p>
                    <code class="literal">NULL</code>-safe equal. This operator performs
                    an equality comparison like the
                    <a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a> operator,
                    but returns <code class="literal">1</code> rather than
                    <code class="literal">NULL</code> if both operands are
                    <code class="literal">NULL</code>, and <code class="literal">0</code> rather
                    than <code class="literal">NULL</code> if one operand is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">零安全相等。此运算符执行与=运算符类似的相等比较，但如果两个操作数都为空，则返回1而不是空；如果一个操作数为空，则返回0而不是空。</p><a class="indexterm" name="idm140286855933568"></a><p>
                    The
                    <a class="link" href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
                    operator is equivalent to the standard SQL <code class="literal">IS NOT
                    DISTINCT FROM</code> operator.
                </p><p style="color:blue;">&lt;=&gt;运算符相当于标准sql与运算符没有区别。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 &lt;=&gt; 1, NULL &lt;=&gt; NULL, 1 &lt;=&gt; NULL;</code></strong>
        -&gt; 1, 1, 0
mysql&gt; <strong class="userinput"><code>SELECT 1 = 1, NULL = NULL, 1 = NULL;</code></strong>
        -&gt; 1, NULL, NULL
</pre><p>
                    For row comparisons, <code class="literal">(a, b) &lt;=&gt; (x,
                    y)</code> is equivalent to:
                </p><p style="color:blue;">对于行比较，（a，b）&lt;=&gt;（x，y）等于：</p><pre data-lang="sql" class="programlisting">(a &lt;=&gt; x) AND (b &lt;=&gt; y)
</pre></li><li class="listitem"><a name="operator_not-equal"></a><p>
                    <a class="indexterm" name="idm140286855921232"></a>

                    <a class="indexterm" name="idm140286855920144"></a>

                    <a class="indexterm" name="idm140286855919056"></a>

                    <a class="indexterm" name="idm140286855917984"></a>

                    <a class="link" href="functions.html#operator_not-equal"><code class="literal">&lt;&gt;</code></a>,
                    <a class="link" href="functions.html#operator_not-equal"><code class="literal">!=</code></a>
                </p><p style="color:blue;">&lt;&gt;，！=</p><p>
                    Not equal:
                </p><p style="color:blue;">不相等：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT '.01' &lt;&gt; '0.01';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT .01 &lt;&gt; '0.01';</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'zapp' &lt;&gt; 'zappp';</code></strong>
        -&gt; 1
</pre><p>
                    For row comparisons, <code class="literal">(a, b) &lt;&gt; (x,
                    y)</code> and <code class="literal">(a, b) != (x, y)</code> are
                    equivalent to:
                </p><p style="color:blue;">对于行比较，（a，b）&lt;&gt;（x，y）和（a，b）！=（x，y）等于：</p><pre data-lang="sql" class="programlisting">(a &lt;&gt; x) OR (b &lt;&gt; y)
</pre></li><li class="listitem"><a name="operator_less-than-or-equal"></a><p>
                    <a class="indexterm" name="idm140286855903360"></a>

                    <a class="indexterm" name="idm140286855902256"></a>

                    <a class="link" href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a>
                </p><p style="color:blue;">&lt;=</p><p>
                    Less than or equal:
                </p><p style="color:blue;">小于或等于：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 0.1 &lt;= 2;</code></strong>
        -&gt; 1
</pre><p>
                    For row comparisons, <code class="literal">(a, b) &lt;= (x, y)</code>
                    is equivalent to:
                </p><p style="color:blue;">对于行比较，（a，b）&lt;=（x，y）等于：</p><pre data-lang="sql" class="programlisting">(a &lt; x) OR ((a = x) AND (b &lt;= y))
</pre></li><li class="listitem"><a name="operator_less-than"></a><p>
                    <a class="indexterm" name="idm140286855891056"></a>

                    <a class="indexterm" name="idm140286855889968"></a>

                    <a class="link" href="functions.html#operator_less-than"><code class="literal">&lt;</code></a>
                </p><p style="color:blue;">&lt;</p><p>
                    Less than:
                </p><p style="color:blue;">小于：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 2 &lt; 2;</code></strong>
        -&gt; 0
</pre><p>
                    For row comparisons, <code class="literal">(a, b) &lt; (x, y)</code>
                    is equivalent to:
                </p><p style="color:blue;">对于行比较，（a，b）&lt;（x，y）等于：</p><pre data-lang="sql" class="programlisting">(a &lt; x) OR ((a = x) AND (b &lt; y))
</pre></li><li class="listitem"><a name="operator_greater-than-or-equal"></a><p>
                    <a class="indexterm" name="idm140286855878784"></a>

                    <a class="indexterm" name="idm140286855877680"></a>

                    <a class="link" href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a>
                </p><p style="color:blue;">&gt;=</p><p>
                    Greater than or equal:
                </p><p style="color:blue;">大于或等于：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 2 &gt;= 2;</code></strong>
        -&gt; 1
</pre><p>
                    For row comparisons, <code class="literal">(a, b) &gt;= (x, y)</code>
                    is equivalent to:
                </p><p style="color:blue;">对于行比较，（a，b）&gt;=（x，y）等于：</p><pre data-lang="sql" class="programlisting">(a &gt; x) OR ((a = x) AND (b &gt;= y))
</pre></li><li class="listitem"><a name="operator_greater-than"></a><p>
                    <a class="indexterm" name="idm140286855866496"></a>

                    <a class="indexterm" name="idm140286855865408"></a>

                    <a class="link" href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>
                </p><p style="color:blue;">&gt;</p><p>
                    Greater than:
                </p><p style="color:blue;">大于：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 2 &gt; 2;</code></strong>
        -&gt; 0
</pre><p>
                    For row comparisons, <code class="literal">(a, b) &gt; (x, y)</code>
                    is equivalent to:
                </p><p style="color:blue;">对于行比较，（a，b）&gt;（x，y）等于：</p><pre data-lang="sql" class="programlisting">(a &gt; x) OR ((a = x) AND (b &gt; y))
</pre></li><li class="listitem"><a name="operator_between"></a><p>
                    <a class="indexterm" name="idm140286855853536"></a>

                    <a class="link" href="functions.html#operator_between"><code class="literal"><em class="replaceable"><code>expr</code></em>
                        BETWEEN <em class="replaceable"><code>min</code></em> AND
                        <em class="replaceable"><code>max</code></em></code></a>
                </p><p style="color:blue;">expr介于min和max之间</p><p>
                    If <em class="replaceable"><code>expr</code></em> is greater than or equal
                    to <em class="replaceable"><code>min</code></em> and
                    <em class="replaceable"><code>expr</code></em> is less than or equal to
                    <em class="replaceable"><code>max</code></em>,
                    <a class="link" href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> returns
                    <code class="literal">1</code>, otherwise it returns
                    <code class="literal">0</code>. This is equivalent to the expression
                    <code class="literal">(<em class="replaceable"><code>min</code></em> &lt;=
                        <em class="replaceable"><code>expr</code></em> AND
                        <em class="replaceable"><code>expr</code></em> &lt;=
                        <em class="replaceable"><code>max</code></em>)</code> if all the
                    arguments are of the same type. Otherwise type conversion
                    takes place according to the rules described in
                    <a class="xref" href="functions.html#type-conversion" title="12.2&nbsp;Type Conversion in Expression Evaluation">Section&nbsp;12.2, “Type Conversion in Expression Evaluation”</a>, but applied to all the
                    three arguments.
                </p><p style="color:blue;">如果expr大于或等于min，expr小于或等于max，则返回1，否则返回0。如果所有参数都属于同一类型，则这相当于表达式（min&lt;=expr和expr&lt;=max）。否则，类型转换将根据第12.2节“表达式求值中的类型转换”中描述的规则进行，但应用于所有三个参数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 2 BETWEEN 1 AND 3, 2 BETWEEN 3 and 1;</code></strong>
        -&gt; 1, 0
mysql&gt; <strong class="userinput"><code>SELECT 1 BETWEEN 2 AND 3;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'b' BETWEEN 'a' AND 'c';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 2 BETWEEN 2 AND '3';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 2 BETWEEN 2 AND 'x-3';</code></strong>
        -&gt; 0
</pre><p>
                    For best results when using
                    <a class="link" href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> with date or time
                    values, use <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> to
                    explicitly convert the values to the desired data type.
                    Examples: If you compare a
                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> to two
                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> values, convert the
                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> values to
                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> values. If you use a
                    string constant such as <code class="literal">'2001-1-1'</code> in a
                    comparison to a <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a>, cast
                    the string to a <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a>.
                </p><p style="color:blue;">为了在日期或时间值之间使用between时获得最佳结果，请使用cast（）将值显式转换为所需的数据类型。示例：如果将日期时间与两个日期值进行比较，请将日期值转换为日期时间值。如果使用字符串常量（如“2001-1-1”）与日期进行比较，请将字符串强制转换为日期。</p></li><li class="listitem"><a name="operator_not-between"></a><p>
                    <a class="indexterm" name="idm140286855821568"></a>

                    <a class="link" href="functions.html#operator_not-between"><code class="literal"><em class="replaceable"><code>expr</code></em>
                        NOT BETWEEN <em class="replaceable"><code>min</code></em> AND
                        <em class="replaceable"><code>max</code></em></code></a>
                </p><p style="color:blue;">expr不在min和max之间</p><p>
                    This is the same as <code class="literal">NOT
                    (<em class="replaceable"><code>expr</code></em> BETWEEN
                    <em class="replaceable"><code>min</code></em> AND
                    <em class="replaceable"><code>max</code></em>)</code>.
                </p><p style="color:blue;">这与不相同（expr介于min和max之间）。</p></li><li class="listitem"><a name="function_coalesce"></a><p>
                    <a class="indexterm" name="idm140286855811808"></a>

                    <a class="indexterm" name="idm140286855810320"></a>

                    <a class="link" href="functions.html#function_coalesce"><code class="literal">COALESCE(<em class="replaceable"><code>value</code></em>,...)</code></a>
                </p><p style="color:blue;">合并（值，…）</p><p>
                    Returns the first non-<code class="literal">NULL</code> value in the
                    list, or <code class="literal">NULL</code> if there are no
                    non-<code class="literal">NULL</code> values.
                </p><p style="color:blue;">返回列表中的第一个非空值，如果没有非空值，则返回空值。</p><p>
                    The return type of <a class="link" href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>
                    is the aggregated type of the argument types.
                </p><p style="color:blue;">coalesce（）的返回类型是参数类型的聚合类型。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COALESCE(NULL,1);</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT COALESCE(NULL,NULL,NULL);</code></strong>
        -&gt; NULL
</pre></li><li class="listitem"><a name="function_greatest"></a><p>
                    <a class="indexterm" name="idm140286855796288"></a>

                    <a class="link" href="functions.html#function_greatest"><code class="literal">GREATEST(<em class="replaceable"><code>value1</code></em>,<em class="replaceable"><code>value2</code></em>,...)</code></a>
                </p><p style="color:blue;">最大（值1，值2，…）</p><p>
                    With two or more arguments, returns the largest
                    (maximum-valued) argument. The arguments are compared using
                    the same rules as for
                    <a class="link" href="functions.html#function_least"><code class="literal">LEAST()</code></a>.
                </p><p style="color:blue;">使用两个或更多个参数，返回最大（最大值）参数。使用与for least（）相同的规则比较参数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT GREATEST(2,0);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT GREATEST(34.0,3.0,5.0,767.0);</code></strong>
        -&gt; 767.0
mysql&gt; <strong class="userinput"><code>SELECT GREATEST('B','A','C');</code></strong>
        -&gt; 'C'
</pre><p>
                    <a class="link" href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a> returns
                    <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果任何参数为空，则greatest（）返回空。</p></li><li class="listitem"><a name="operator_in"></a><p>
                    <a class="indexterm" name="idm140286855780512"></a>

                    <a class="link" href="functions.html#operator_in"><code class="literal"><em class="replaceable"><code>expr</code></em>
                        IN (<em class="replaceable"><code>value</code></em>,...)</code></a>
                </p><p style="color:blue;">表达式输入（值，…）</p><p>
                    Returns <code class="literal">1</code> (true) if
                    <em class="replaceable"><code>expr</code></em> is equal to any of the
                    values in the <code class="literal">IN()</code> list, else returns
                    <code class="literal">0</code> (false).
                </p><p style="color:blue;">如果expr等于in（）列表中的任何值，则返回1（true），否则返回0（false）。</p><p>
                    Type conversion takes place according to the rules described
                    in <a class="xref" href="functions.html#type-conversion" title="12.2&nbsp;Type Conversion in Expression Evaluation">Section&nbsp;12.2, “Type Conversion in Expression Evaluation”</a>, applied to all the
                    arguments. If no type conversion is needed for the values in
                    the <code class="literal">IN()</code> list, they are all constants of
                    the same type, and <em class="replaceable"><code>expr</code></em> can be
                    compared to each of them as a value of the same type
                    (possibly after type conversion), an optimization takes
                    place. The values the list are sorted and the search for
                    <em class="replaceable"><code>expr</code></em> is done using a binary
                    search, which makes the <code class="literal">IN()</code> operation
                    very quick.
                </p><p style="color:blue;">类型转换根据第12.2节“表达式求值中的类型转换”中描述的规则进行，该规则应用于所有参数。如果in（）列表中的值不需要类型转换，则它们都是同一类型的常量，并且expr可以作为同一类型的值（可能在类型转换之后）与它们中的每个值进行比较，则会进行优化。对列表中的值进行排序，并使用二进制搜索完成对expr的搜索，这使得in（）操作非常快速。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 2 IN (0,3,5,7);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'wefwf' IN ('wee','wefwf','weg');</code></strong>
        -&gt; 1
</pre><p>
                    <code class="literal">IN()</code> can be used to compare row
                    constructors:
                </p><p style="color:blue;">in（）可用于比较行构造函数：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT (3,4) IN ((1,2), (3,4));</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT (3,4) IN ((1,2), (3,5));</code></strong>
        -&gt; 0
</pre><p>
                    You should never mix quoted and unquoted values in an
                    <code class="literal">IN()</code> list because the comparison rules
                    for quoted values (such as strings) and unquoted values
                    (such as numbers) differ. Mixing types may therefore lead to
                    inconsistent results. For example, do not write an
                    <code class="literal">IN()</code> expression like this:
                </p><p style="color:blue;">不能在in（）列表中混合使用带引号和未带引号的值，因为带引号的值（如字符串）和未带引号的值（如数字）的比较规则不同。因此，混合类型可能导致不一致的结果。例如，不要像这样编写in（）表达式：</p><pre data-lang="sql" class="programlisting">SELECT val1 FROM tbl1 WHERE val1 IN (1,2,'a');
</pre><p>
                    Instead, write it like this:
                </p><p style="color:blue;">相反，请这样写：</p><pre data-lang="sql" class="programlisting">SELECT val1 FROM tbl1 WHERE val1 IN ('1','2','a');
</pre><p>
                    Implicit type conversion may produce nonintuitive results:
                </p><p style="color:blue;">隐式类型转换可能产生非直观结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'a' IN (0), 0 IN ('b');</code></strong>
        -&gt; 1, 1
</pre><p>
                    In both cases, the comparison values are converted to
                    floating-point values, yielding 0.0 in each case, and a
                    comparison result of 1 (true).
                </p><p style="color:blue;">在这两种情况下，比较值都转换为浮点值，每种情况下都会产生0.0，比较结果为1（true）。</p><p>
                    The number of values in the <code class="literal">IN()</code> list is
                    only limited by the
                    <a class="link" href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> value.
                </p><p style="color:blue;">in（）列表中的值数量仅受允许的最大数据包值的限制。</p><p>
                    To comply with the SQL standard, <code class="literal">IN()</code>
                    returns <code class="literal">NULL</code> not only if the expression
                    on the left hand side is <code class="literal">NULL</code>, but also
                    if no match is found in the list and one of the expressions
                    in the list is <code class="literal">NULL</code>.
                </p><p style="color:blue;">为了符合SQL标准，in（）不仅在左侧的表达式为空时返回空，而且在列表中未找到匹配项且列表中的一个表达式为空时返回空。</p><p>
                    <code class="literal">IN()</code> syntax can also be used to write
                    certain types of subqueries. See
                    <a class="xref" href="sql-syntax.html#any-in-some-subqueries" title="13.2.10.3&nbsp;Subqueries with ANY, IN, or SOME">Section&nbsp;13.2.10.3, “Subqueries with ANY, IN, or SOME”</a>.
                </p><p style="color:blue;">in（）语法也可用于编写某些类型的子查询。见13.2.10.3节，“任何、内部或部分子查询”。</p></li><li class="listitem"><a name="operator_not-in"></a><p>
                    <a class="indexterm" name="idm140286855744720"></a>

                    <a class="link" href="functions.html#operator_not-in"><code class="literal"><em class="replaceable"><code>expr</code></em>
                        NOT IN (<em class="replaceable"><code>value</code></em>,...)</code></a>
                </p><p style="color:blue;">表达式不在（值，…）</p><p>
                    This is the same as <code class="literal">NOT
                    (<em class="replaceable"><code>expr</code></em> IN
                    (<em class="replaceable"><code>value</code></em>,...))</code>.
                </p><p style="color:blue;">这与not（expr in（value，…）相同。</p></li><li class="listitem"><a name="function_interval"></a><p>
                    <a class="indexterm" name="idm140286855735616"></a>

                    <a class="link" href="functions.html#function_interval"><code class="literal">INTERVAL(<em class="replaceable"><code>N</code></em>,<em class="replaceable"><code>N1</code></em>,<em class="replaceable"><code>N2</code></em>,<em class="replaceable"><code>N3</code></em>,...)</code></a>
                </p><p style="color:blue;">间隔（n，n1，n2，n3，…）</p><p>
                    Returns <code class="literal">0</code> if <em class="replaceable"><code>N</code></em>
                    &lt; <em class="replaceable"><code>N1</code></em>, <code class="literal">1</code> if
                    <em class="replaceable"><code>N</code></em> &lt;
                    <em class="replaceable"><code>N2</code></em> and so on or
                    <code class="literal">-1</code> if <em class="replaceable"><code>N</code></em> is
                    <code class="literal">NULL</code>. All arguments are treated as
                    integers. It is required that <em class="replaceable"><code>N1</code></em>
                    &lt; <em class="replaceable"><code>N2</code></em> &lt;
                    <em class="replaceable"><code>N3</code></em> &lt; <code class="literal">...</code>
                    &lt; <em class="replaceable"><code>Nn</code></em> for this function to work
                    correctly. This is because a binary search is used (very
                    fast).
                </p><p style="color:blue;">如果n<n1，则返回0；如果n<n2，则返回1，依此类推；如果n为空，则返回-1。所有参数都被视为整数。要求n1<n2<n3<<nn此函数才能正常工作。这是因为使用二进制搜索（非常快）。<p></n1，则返回0；如果n<n2，则返回1，依此类推；如果n为空，则返回-1。所有参数都被视为整数。要求n1<n2<n3<<nn此函数才能正常工作。这是因为使用二进制搜索（非常快）。<p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INTERVAL(23, 1, 15, 17, 30, 44, 200);</code></strong>
        -&gt; 3
mysql&gt; <strong class="userinput"><code>SELECT INTERVAL(10, 1, 10, 100, 1000);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT INTERVAL(22, 23, 30, 44, 200);</code></strong>
        -&gt; 0
</pre></li><li class="listitem"><a name="operator_is"></a><p>
                    <a class="indexterm" name="idm140286855715296"></a>

                    <a class="indexterm" name="idm140286855713808"></a>

                    <a class="indexterm" name="idm140286855712320"></a>

                    <a class="indexterm" name="idm140286855710832"></a>

                    <a class="link" href="functions.html#operator_is"><code class="literal">IS
                        <em class="replaceable"><code>boolean_value</code></em></code></a>
                </p><p style="color:blue;">是布尔值</p><p>
                    Tests a value against a boolean value, where
                    <em class="replaceable"><code>boolean_value</code></em> can be
                    <code class="literal">TRUE</code>, <code class="literal">FALSE</code>, or
                    <code class="literal">UNKNOWN</code>.
                </p><p style="color:blue;">根据布尔值测试值，其中布尔值可以为真、假或未知。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 IS TRUE, 0 IS FALSE, NULL IS UNKNOWN;</code></strong>
        -&gt; 1, 1, 1
</pre></li><li class="listitem"><a name="operator_is-not"></a><p>
                    <a class="indexterm" name="idm140286855698208"></a>

                    <a class="indexterm" name="idm140286855696720"></a>

                    <a class="indexterm" name="idm140286855695232"></a>

                    <a class="indexterm" name="idm140286855693744"></a>

                    <a class="link" href="functions.html#operator_is-not"><code class="literal">IS NOT
                        <em class="replaceable"><code>boolean_value</code></em></code></a>
                </p><p style="color:blue;">不是布尔值</p><p>
                    Tests a value against a boolean value, where
                    <em class="replaceable"><code>boolean_value</code></em> can be
                    <code class="literal">TRUE</code>, <code class="literal">FALSE</code>, or
                    <code class="literal">UNKNOWN</code>.
                </p><p style="color:blue;">根据布尔值测试值，其中布尔值可以为真、假或未知。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 IS NOT UNKNOWN, 0 IS NOT UNKNOWN, NULL IS NOT UNKNOWN;</code></strong>
        -&gt; 1, 1, 0
</pre></li><li class="listitem"><a name="operator_is-null"></a><p>
                    <a class="indexterm" name="idm140286855681104"></a>

                    <a class="indexterm" name="idm140286855679616"></a>

                    <a class="link" href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a>
                </p><p style="color:blue;">为空</p><p>
                    Tests whether a value is <code class="literal">NULL</code>.
                </p><p style="color:blue;">测试值是否为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 IS NULL, 0 IS NULL, NULL IS NULL;</code></strong>
        -&gt; 0, 0, 1
</pre><p>
                    <a class="indexterm" name="idm140286855672016"></a>

                    <a class="indexterm" name="idm140286855670944"></a>

                    To work well with ODBC programs, MySQL supports the
                    following extra features when using <a class="link" href="functions.html#operator_is-null"><code class="literal">IS
                    NULL</code></a>:
                </p><p style="color:blue;">为了更好地使用odbc程序，mysql在使用is null时支持以下额外功能：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            If <a class="link" href="server-administration.html#sysvar_sql_auto_is_null"><code class="literal">sql_auto_is_null</code></a>
                            variable is set to 1, then after a statement that
                            successfully inserts an automatically generated
                            <code class="literal">AUTO_INCREMENT</code> value, you can find
                            that value by issuing a statement of the following form:
                        </p><p style="color:blue;">如果sql_auto_is_null变量设置为1，则在成功插入自动生成的自动递增值的语句之后，可以通过发出以下形式的语句来查找该值：</p><pre data-lang="sql" class="programlisting">SELECT * FROM <em class="replaceable"><code>tbl_name</code></em> WHERE <em class="replaceable"><code>auto_col</code></em> IS NULL
</pre><p>
                            If the statement returns a row, the value returned is
                            the same as if you invoked the
                            <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
                            function. For details, including the return value after
                            a multiple-row insert, see
                            <a class="xref" href="functions.html#information-functions" title="12.15&nbsp;Information Functions">Section&nbsp;12.15, “Information Functions”</a>. If no
                            <code class="literal">AUTO_INCREMENT</code> value was successfully
                            inserted, the <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>
                            statement returns no row.
                        </p><p style="color:blue;">如果语句返回一行，则返回的值与调用最后一个insert_id（）函数时的值相同。有关详细信息（包括多行插入后的返回值），请参见第12.15节“信息函数”。如果未成功插入自动增量值，则select语句不返回行。</p><p>
                            The behavior of retrieving an
                            <code class="literal">AUTO_INCREMENT</code> value by using an
                            <a class="link" href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a> comparison can be
                            disabled by setting
                            <a class="link" href="server-administration.html#sysvar_sql_auto_is_null"><code class="literal">sql_auto_is_null = 0</code></a>.
                            See <a class="xref" href="server-administration.html#server-system-variables" title="5.1.7&nbsp;Server System Variables">Section&nbsp;5.1.7, “Server System Variables”</a>.
                        </p><p style="color:blue;">可以通过设置sql_auto_is_null=0来禁用使用is null比较检索自动递增值的行为。见第5.1.7节“服务器系统变量”。</p><p>
                            The default value of
                            <a class="link" href="server-administration.html#sysvar_sql_auto_is_null"><code class="literal">sql_auto_is_null</code></a> is 0.
                        </p><p style="color:blue;">sql_auto_的默认值为0。</p></li><li class="listitem"><p>
                            For <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> and
                            <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns that are
                            declared as <code class="literal">NOT NULL</code>, you can find
                            the special date <code class="literal">'0000-00-00'</code> by
                            using a statement like this:
                        </p><p style="color:blue;">对于声明为非空的日期和日期时间列，可以使用如下语句查找特殊日期“0000-00-00”：</p><pre data-lang="sql" class="programlisting">SELECT * FROM <em class="replaceable"><code>tbl_name</code></em> WHERE <em class="replaceable"><code>date_column</code></em> IS NULL
</pre><p>
                            This is needed to get some ODBC applications to work
                            because ODBC does not support a
                            <code class="literal">'0000-00-00'</code> date value.
                        </p><p style="color:blue;">因为ODBC不支持“0000-00-00”日期值，所以要使某些ODBC应用程序工作，必须执行此操作。</p><p>
                            See
                            <a class="ulink" href="https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-usagenotes-functionality-last-insert-id.html" target="_top">Obtaining Auto-Increment Values</a>,
                            and the description for the
                            <code class="literal">FLAG_AUTO_IS_NULL</code> option at
                            <a class="ulink" href="https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-configuration-connection-parameters.html" target="_top">Connector/ODBC Connection Parameters</a>.
                        </p><p style="color:blue;">请参阅获取自动增量值，以及连接器/odbc连接参数中标志“auto”为“nu null”选项的说明。</p></li></ul>
                    </div>
                </li><li class="listitem"><a name="operator_is-not-null"></a><p>
                    <a class="indexterm" name="idm140286855638336"></a>

                    <a class="indexterm" name="idm140286855636848"></a>

                    <a class="link" href="functions.html#operator_is-null"><code class="literal">IS NOT NULL</code></a>
                </p><p style="color:blue;">不为空</p><p>
                    Tests whether a value is not <code class="literal">NULL</code>.
                </p><p style="color:blue;">测试值是否为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 IS NOT NULL, 0 IS NOT NULL, NULL IS NOT NULL;</code></strong>
        -&gt; 1, 1, 0
</pre></li><li class="listitem"><a name="function_isnull"></a><p>
                    <a class="indexterm" name="idm140286855627088"></a>

                    <a class="link" href="functions.html#function_isnull"><code class="literal">ISNULL(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">ISNULL（EXPR）</p><p>
                    If <em class="replaceable"><code>expr</code></em> is
                    <code class="literal">NULL</code>,
                    <a class="link" href="functions.html#function_isnull"><code class="literal">ISNULL()</code></a> returns
                    <code class="literal">1</code>, otherwise it returns
                    <code class="literal">0</code>.
                </p><p style="color:blue;">如果expr为空，is null（）返回1，否则返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ISNULL(1+1);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT ISNULL(1/0);</code></strong>
        -&gt; 1
</pre><p>
                    <a class="link" href="functions.html#function_isnull"><code class="literal">ISNULL()</code></a> can be used instead
                    of <a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a> to test
                    whether a value is <code class="literal">NULL</code>. (Comparing a
                    value to <code class="literal">NULL</code> using
                    <a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a> always
                    yields <code class="literal">NULL</code>.)
                </p><p style="color:blue;">可以使用is null（）代替=来测试值是否为空。（使用=将值与空值进行比较时，始终会产生空值。）</p><p>
                    The <a class="link" href="functions.html#function_isnull"><code class="literal">ISNULL()</code></a> function shares
                    some special behaviors with the
                    <a class="link" href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a>
                    comparison operator. See the description of
                    <a class="link" href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a>.
                </p><p style="color:blue;">函数的作用是：与is null比较运算符共享一些特殊的行为。请参阅is null的说明。</p></li><li class="listitem"><a name="function_least"></a><p>
                    <a class="indexterm" name="idm140286855602704"></a>

                    <a class="link" href="functions.html#function_least"><code class="literal">LEAST(<em class="replaceable"><code>value1</code></em>,<em class="replaceable"><code>value2</code></em>,...)</code></a>
                </p><p style="color:blue;">最小值（value1，value2，…）</p><p>
                    With two or more arguments, returns the smallest
                    (minimum-valued) argument. The arguments are compared using
                    the following rules:
                </p><p style="color:blue;">对于两个或多个参数，返回最小（最小值）参数。使用以下规则比较参数：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            If any argument is <code class="literal">NULL</code>, the result
                            is <code class="literal">NULL</code>. No comparison is needed.
                        </p><p style="color:blue;">如果任何参数为空，则结果为空。不需要比较。</p></li><li class="listitem"><p>
                            If all arguments are integer-valued, they are compared
                            as integers.
                        </p><p style="color:blue;">如果所有参数都是整数值，则将它们作为整数进行比较。</p></li><li class="listitem"><p>
                            If at least one argument is double precision, they are
                            compared as double-precision values. Otherwise, if at
                            least one argument is a
                            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> value, they are
                            compared as <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a>
                            values.
                        </p><p style="color:blue;">如果至少有一个参数是双精度的，则将它们作为双精度值进行比较。否则，如果至少有一个参数是十进制值，则将它们作为十进制值进行比较。</p></li><li class="listitem"><p>
                            If the arguments comprise a mix of numbers and strings,
                            they are compared as numbers.
                        </p><p style="color:blue;">如果参数由数字和字符串组成，则将它们作为数字进行比较。</p></li><li class="listitem"><p>
                            If any argument is a nonbinary (character) string, the
                            arguments are compared as nonbinary strings.
                        </p><p style="color:blue;">如果任何参数是非二进制（字符）字符串，则将这些参数作为非二进制字符串进行比较。</p></li><li class="listitem"><p>
                            In all other cases, the arguments are compared as binary
                            strings.
                        </p><p style="color:blue;">在所有其他情况下，将参数作为二进制字符串进行比较。</p></li></ul>
                    </div>
                    <p>
                        The return type of <a class="link" href="functions.html#function_least"><code class="literal">LEAST()</code></a> is
                        the aggregated type of the comparison argument types.
                    </p><p style="color:blue;">least（）的返回类型是比较参数类型的聚合类型。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LEAST(2,0);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT LEAST(34.0,3.0,5.0,767.0);</code></strong>
        -&gt; 3.0
mysql&gt; <strong class="userinput"><code>SELECT LEAST('B','A','C');</code></strong>
        -&gt; 'A'
</pre></li></ul>
            </div>

        </div>

        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="logical-operators"></a>12.3.3&nbsp;Logical Operators</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286855580560"></a><a class="indexterm" name="idm140286855579488"></a>
            <div class="table">
                <a name="idm140286855578000"></a><p class="title"><b>Table&nbsp;12.4&nbsp;Logical Operators</b></p><p style="color:blue;">表12.4逻辑运算符</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists logical operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_and"><code class="literal">AND</code>, <code class="literal">&amp;&amp;</code></a></td>
                        <td>
                            Logical AND
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not"><code class="literal">NOT</code>, <code class="literal">!</code></a></td>
                        <td>
                            Negates value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_or"><code class="literal">OR</code>, <code class="literal">||</code></a></td>
                        <td>
                            Logical OR
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_xor"><code class="literal">XOR</code></a></td>
                        <td>
                            Logical XOR
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            In SQL, all logical operators evaluate to
            <code class="literal">TRUE</code>, <code class="literal">FALSE</code>, or
            <code class="literal">NULL</code> (<code class="literal">UNKNOWN</code>). In MySQL,
            these are implemented as 1 (<code class="literal">TRUE</code>), 0
            (<code class="literal">FALSE</code>), and <code class="literal">NULL</code>. Most of
            this is common to different SQL database servers, although some
            servers may return any nonzero value for
            <code class="literal">TRUE</code>.
        </p><p style="color:blue;">在sql中，所有逻辑运算符的计算结果都为true、false或null（未知）。在mysql中，它们被实现为1（true）、0（false）和null。大多数情况下，这是常见的不同的SQL数据库服务器，虽然有些服务器可能返回任何非零值为真。</p><p>
            MySQL evaluates any nonzero, non-<code class="literal">NULL</code> value
            to <code class="literal">TRUE</code>. For example, the following
            statements all assess to <code class="literal">TRUE</code>:
        </p><p style="color:blue;">mysql将任何非零、非空值计算为true。例如，以下陈述均为真：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 10 IS TRUE;</code></strong>
-&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT -10 IS TRUE;</code></strong>
-&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'string' IS NOT NULL;</code></strong>
-&gt; 1
</pre>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_not"></a><p>
                    <a class="indexterm" name="idm140286855540832"></a>

                    <a class="indexterm" name="idm140286855539376"></a>

                    <a class="link" href="functions.html#operator_not"><code class="literal">NOT</code></a>,
                    <a class="link" href="functions.html#operator_not"><code class="literal">!</code></a>
                </p><p style="color:blue;">不，！</p><p>
                    Logical NOT. Evaluates to <code class="literal">1</code> if the
                    operand is <code class="literal">0</code>, to <code class="literal">0</code> if
                    the operand is nonzero, and <code class="literal">NOT NULL</code>
                    returns <code class="literal">NULL</code>.
                </p><p style="color:blue;">不合逻辑。如果操作数为0，则求值为1；如果操作数为非零，则求值为0；如果不为空，则返回空值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT NOT 10;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT NOT 0;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT NOT NULL;</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT ! (1+1);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT ! 1+1;</code></strong>
        -&gt; 1
</pre><p>
                    The last example produces <code class="literal">1</code> because the
                    expression evaluates the same way as
                    <code class="literal">(!1)+1</code>.
                </p><p style="color:blue;">最后一个示例生成1，因为表达式的计算方式与（！1+1.</p></li><li class="listitem"><a name="operator_and"></a><p>
                    <a class="indexterm" name="idm140286855520176"></a>

                    <a class="indexterm" name="idm140286855518720"></a>

                    <a class="link" href="functions.html#operator_and"><code class="literal">AND</code></a>,
                    <a class="link" href="functions.html#operator_and"><code class="literal">&amp;&amp;</code></a>
                </p><p style="color:blue;">还有，，&amp;&amp;</p><p>
                    Logical AND. Evaluates to <code class="literal">1</code> if all
                    operands are nonzero and not <code class="literal">NULL</code>, to
                    <code class="literal">0</code> if one or more operands are
                    <code class="literal">0</code>, otherwise <code class="literal">NULL</code> is
                    returned.
                </p><p style="color:blue;">逻辑和。如果所有操作数都不为零且不为空，则求值为1；如果一个或多个操作数为0，则求值为0；否则返回空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 AND 1;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 1 AND 0;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 1 AND NULL;</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT 0 AND NULL;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT NULL AND 0;</code></strong>
        -&gt; 0
</pre></li><li class="listitem"><a name="operator_or"></a><p>
                    <a class="indexterm" name="idm140286855501344"></a>

                    <a class="indexterm" name="idm140286855499888"></a>

                    <a class="link" href="functions.html#operator_or"><code class="literal">OR</code></a>,
                    <a class="link" href="functions.html#operator_or"><code class="literal">||</code></a>
                </p><p style="color:blue;">或者，||</p><p>
                    Logical OR. When both operands are
                    non-<code class="literal">NULL</code>, the result is
                    <code class="literal">1</code> if any operand is nonzero, and
                    <code class="literal">0</code> otherwise. With a
                    <code class="literal">NULL</code> operand, the result is
                    <code class="literal">1</code> if the other operand is nonzero, and
                    <code class="literal">NULL</code> otherwise. If both operands are
                    <code class="literal">NULL</code>, the result is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">逻辑或。当两个操作数都为非空时，如果任何操作数都为非零，则结果为1，否则结果为0。对于空操作数，如果另一个操作数为非零，则结果为1，否则结果为空。如果两个操作数都为空，则结果为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 OR 1;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 1 OR 0;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 0 OR 0;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 0 OR NULL;</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT 1 OR NULL;</code></strong>
        -&gt; 1
</pre>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            If the <a class="link" href="server-administration.html#sqlmode_pipes_as_concat"><code class="literal">PIPES_AS_CONCAT</code></a>
                            SQL mode is enabled,
                            <a class="link" href="functions.html#operator_or"><code class="literal">||</code></a> signifies
                            the SQL-standard string concatenation operator (like
                            <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>).
                        </p><p style="color:blue;">如果pipes_as_concat sql mode已启用，表示SQL标准字符串连接运算符（如concat（））。</p>
                    </div>
                </li><li class="listitem"><a name="operator_xor"></a><p>
                    <a class="indexterm" name="idm140286855476416"></a>

                    <a class="link" href="functions.html#operator_xor"><code class="literal">XOR</code></a>
                </p><p style="color:blue;">异或</p><p>
                    Logical XOR. Returns <code class="literal">NULL</code> if either
                    operand is <code class="literal">NULL</code>. For
                    non-<code class="literal">NULL</code> operands, evaluates to
                    <code class="literal">1</code> if an odd number of operands is
                    nonzero, otherwise <code class="literal">0</code> is returned.
                </p><p style="color:blue;">逻辑异或。如果任一操作数为空，则返回空。对于非空操作数，如果奇数个操作数为非零，则计算结果为1，否则返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 XOR 1;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 1 XOR 0;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 1 XOR NULL;</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT 1 XOR 1 XOR 1;</code></strong>
        -&gt; 1
</pre><p>
                    <code class="literal">a XOR b</code> is mathematically equal to
                    <code class="literal">(a AND (NOT b)) OR ((NOT a) and b)</code>.
                </p><p style="color:blue;">异或b在数学上等于（a和（非b））或（非a和b）。</p></li></ul>
            </div>

        </div>

        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="assignment-operators"></a>12.3.4&nbsp;Assignment Operators</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286855460240"></a><a class="indexterm" name="idm140286855459168"></a>
            <div class="table">
                <a name="idm140286855457680"></a><p class="title"><b>Table&nbsp;12.5&nbsp;Assignment Operators</b></p><p style="color:blue;">表12.5赋值运算符</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists assignment operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_assign-equal"><code class="literal">=</code></a></td>
                        <td>
                            Assign a value (as part of a
                            <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                            statement, or as part of the <code class="literal">SET</code> clause in an
                            <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement)
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a></td>
                        <td>
                            Assign a value
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break">
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_assign-value"></a><p>
                    <a class="indexterm" name="idm140286855439280"></a>

                    <a class="indexterm" name="idm140286855438192"></a>

                    <a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a>
                </p><p style="color:blue;">：。=</p><p>
                    Assignment operator. Causes the user variable on the left
                    hand side of the operator to take on the value to its right.
                    The value on the right hand side may be a literal value,
                    another variable storing a value, or any legal expression
                    that yields a scalar value, including the result of a query
                    (provided that this value is a scalar value). You can
                    perform multiple assignments in the same
                    <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                    statement. You can perform multiple assignments in the same
                    statement.
                </p><p style="color:blue;">分配运算符。使运算符左侧的用户变量取其右侧的值。右边的值可以是文本值、另一个存储值的变量或任何产生标量值的合法表达式，包括查询结果（前提是该值是标量值）。可以在同一set语句中执行多个赋值。可以在同一语句中执行多个赋值。</p><p>
                    Unlike
                    <a class="link" href="functions.html#operator_assign-equal"><code class="literal">=</code></a>, the
                    <a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a>
                    operator is never interpreted as a comparison operator. This
                    means you can use
                    <a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a> in
                    any valid SQL statement (not just in
                    <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                    statements) to assign a value to a variable.
                </p><p style="color:blue;">与=不同，：=运算符从不被解释为比较运算符。这意味着您可以在任何有效的SQL语句中（不仅仅是在SET语句中）使用：=为变量赋值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2;</code></strong>
        -&gt; NULL, NULL
mysql&gt; <strong class="userinput"><code>SELECT @var1 := 1, @var2;</code></strong>
        -&gt; 1, NULL
mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2;</code></strong>
        -&gt; 1, NULL
mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2 := @var1;</code></strong>
        -&gt; 1, 1
mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2;</code></strong>
        -&gt; 1, 1

mysql&gt; <strong class="userinput"><code>SELECT @var1:=COUNT(*) FROM t1;</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT @var1;</code></strong>
        -&gt; 4
</pre><p>
                    You can make value assignments using
                    <a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a> in
                    other statements besides
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>, such as
                    <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a>, as shown here:
                </p><p style="color:blue;">除了select之外，您还可以在其他语句（如update）中使用：=进行值分配，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT @var1;</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT * FROM t1;</code></strong>
        -&gt; 1, 3, 5, 7

mysql&gt; <strong class="userinput"><code>UPDATE t1 SET c1 = 2 WHERE c1 = @var1:= 1;</code></strong>
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT @var1;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT * FROM t1;</code></strong>
        -&gt; 2, 3, 5, 7
</pre><p>
                    While it is also possible both to set and to read the value
                    of the same variable in a single SQL statement using the
                    <a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a>
                    operator, this is not recommended.
                    <a class="xref" href="language-structure.html#user-variables" title="9.4&nbsp;User-Defined Variables">Section&nbsp;9.4, “User-Defined Variables”</a>, explains why you should
                    avoid doing this.
                </p><p style="color:blue;">虽然也可以使用：=运算符在单个SQL语句中设置和读取同一变量的值，但不建议这样做。第9.4节“用户定义变量”解释了为什么应该避免这样做。</p></li><li class="listitem"><a name="operator_assign-equal"></a><p>
                    <a class="indexterm" name="idm140286855405568"></a>

                    <a class="indexterm" name="idm140286855404496"></a>

                    <a class="indexterm" name="idm140286855403040"></a>

                    <a class="link" href="functions.html#operator_assign-equal"><code class="literal">=</code></a>
                </p><p style="color:blue;">=</p><p>
                    This operator is used to perform value assignments in two
                    cases, described in the next two paragraphs.
                </p><p style="color:blue;">此运算符用于在以下两段中描述的两种情况下执行值分配。</p><p>
                    Within a
                    <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                    statement, <code class="literal">=</code> is treated as an assignment
                    operator that causes the user variable on the left hand side
                    of the operator to take on the value to its right. (In other
                    words, when used in a
                    <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                    statement, <code class="literal">=</code> is treated identically to
                    <a class="link" href="functions.html#operator_assign-value"><code class="literal">:=</code></a>.)
                    The value on the right hand side may be a literal value,
                    another variable storing a value, or any legal expression
                    that yields a scalar value, including the result of a query
                    (provided that this value is a scalar value). You can
                    perform multiple assignments in the same
                    <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>
                    statement.
                </p><p style="color:blue;">在SET语句中，=被视为赋值运算符，使运算符左侧的用户变量取其右侧的值。（换言之，当在set语句中使用时，=被等同于：=）右侧的值可以是文字值、存储值的另一个变量或任何产生标量值的合法表达式，包括查询结果（前提是该值是标量值）。可以在同一set语句中执行多个赋值。</p><p>
                    In the <code class="literal">SET</code> clause of an
                    <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement,
                    <code class="literal">=</code> also acts as an assignment operator; in
                    this case, however, it causes the column named on the left
                    hand side of the operator to assume the value given to the
                    right, provided any <code class="literal">WHERE</code> conditions that
                    are part of the <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> are
                    met. You can make multiple assignments in the same
                    <code class="literal">SET</code> clause of an
                    <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement.
                </p><p style="color:blue;">在UPDATE语句的SET子句中，=还充当赋值运算符；但是，在这种情况下，如果满足了UPDATE语句的任何WHERE条件，它会导致运算符左侧命名的列采用右侧给定的值。可以在update语句的同一set子句中进行多个赋值。</p><p>
                    In any other context, <code class="literal">=</code> is treated as a
                    <a class="link" href="functions.html#operator_equal">comparison operator</a>.
                </p><p style="color:blue;">在任何其他上下文中，=被视为比较运算符。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2;</code></strong>
        -&gt; NULL, NULL
mysql&gt; <strong class="userinput"><code>SELECT @var1 := 1, @var2;</code></strong>
        -&gt; 1, NULL
mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2;</code></strong>
        -&gt; 1, NULL
mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2 := @var1;</code></strong>
        -&gt; 1, 1
mysql&gt; <strong class="userinput"><code>SELECT @var1, @var2;</code></strong>
        -&gt; 1, 1
</pre><p>
                    For more information, see <a class="xref" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment">Section&nbsp;13.7.4.1, “SET Syntax for Variable Assignment”</a>,
                    <a class="xref" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax">Section&nbsp;13.2.11, “UPDATE Syntax”</a>, and <a class="xref" href="sql-syntax.html#subqueries" title="13.2.10&nbsp;Subquery Syntax">Section&nbsp;13.2.10, “Subquery Syntax”</a>.
                </p><p style="color:blue;">有关详细信息，请参阅第13.7.4.1节“设置变量赋值语法”、第13.2.11节“更新语法”和第13.2.10节“子查询语法”。</p></li></ul>
            </div>

        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="control-flow-functions"></a>12.4&nbsp;Control Flow Functions</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286855372224"></a><a class="indexterm" name="idm140286855371152"></a>
        <div class="table">
            <a name="idm140286855369664"></a><p class="title"><b>Table&nbsp;12.6&nbsp;Flow Control Operators</b></p><p style="color:blue;">表12.6流量控制操作员</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists flow control operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_case"><code class="literal">CASE</code></a></td>
                    <td>
                        Case operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_if"><code class="literal">IF()</code></a></td>
                    <td>
                        If/else construct
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a></td>
                    <td>
                        Null if/else construct
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_nullif"><code class="literal">NULLIF()</code></a></td>
                    <td>
                        Return NULL if expr1 = expr2
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_case"></a><p>
                <a class="indexterm" name="idm140286855346368"></a>

                <a class="link" href="functions.html#operator_case"><code class="literal">CASE
                    <em class="replaceable"><code>value</code></em> WHEN
                    [<em class="replaceable"><code>compare_value</code></em>] THEN
                    <em class="replaceable"><code>result</code></em> [WHEN
                    [<em class="replaceable"><code>compare_value</code></em>] THEN
                    <em class="replaceable"><code>result</code></em> ...] [ELSE
                    <em class="replaceable"><code>result</code></em>] END</code></a>
            </p><p style="color:blue;">案例值当[比较值]然后结果[当[比较值]然后结果…][其他结果]结束</p><p>
                <a class="link" href="functions.html#operator_case"><code class="literal">CASE WHEN
                    [<em class="replaceable"><code>condition</code></em>] THEN
                    <em class="replaceable"><code>result</code></em> [WHEN
                    [<em class="replaceable"><code>condition</code></em>] THEN
                    <em class="replaceable"><code>result</code></em> ...] [ELSE
                    <em class="replaceable"><code>result</code></em>] END</code></a>
            </p><p style="color:blue;">case when[condition]然后result[when[condition]然后result…][else result]结束</p><p>
                The first <a class="link" href="functions.html#operator_case"><code class="literal">CASE</code></a> syntax returns the
                <em class="replaceable"><code>result</code></em> for the first
                <code class="literal"><em class="replaceable"><code>value</code></em>=<em class="replaceable"><code>compare_value</code></em></code>
                comparison that is true. The second syntax returns the result
                for the first condition that is true. If no comparison or
                condition is true, the result after <code class="literal">ELSE</code> is
                returned, or <code class="literal">NULL</code> if there is no
                <code class="literal">ELSE</code> part.
            </p><p style="color:blue;">第一个case语法返回第一个值=compare_value comparison的结果，该结果为true。第二个语法返回第一个条件为true的结果。如果没有比较或条件为true，则返回else之后的结果；如果没有else部分，则返回null。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The syntax of the <a class="link" href="functions.html#operator_case"><code class="literal">CASE</code></a>
                        <span class="emphasis"><em>expr</em></span> described here differs slightly
                        from that of the SQL <a class="link" href="sql-syntax.html#case" title="13.6.5.1&nbsp;CASE Syntax"><code class="literal">CASE</code></a>
                        <span class="emphasis"><em>statement</em></span> described in
                        <a class="xref" href="sql-syntax.html#case" title="13.6.5.1&nbsp;CASE Syntax">Section&nbsp;13.6.5.1, “CASE Syntax”</a>, for use inside stored programs. The
                        <a class="link" href="sql-syntax.html#case" title="13.6.5.1&nbsp;CASE Syntax"><code class="literal">CASE</code></a> statement cannot have an
                        <code class="literal">ELSE NULL</code> clause, and it is terminated
                        with <code class="literal">END CASE</code> instead of
                        <code class="literal">END</code>.
                    </p><p style="color:blue;">此处描述的case expr的语法与第13.6.5.1节“case syntax”中描述的用于存储程序内部的sql case语句的语法略有不同。case语句不能有else空子句，它以end case而不是end结束。</p>
                </div>
                <p>
                    The return type of a <a class="link" href="functions.html#operator_case"><code class="literal">CASE</code></a>
                    expression result is the aggregated type of all result values.
                </p><p style="color:blue;">case表达式结果的返回类型是所有结果值的聚合类型。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CASE 1 WHEN 1 THEN 'one'</code></strong>
    -&gt;     <strong class="userinput"><code>WHEN 2 THEN 'two' ELSE 'more' END;</code></strong>
        -&gt; 'one'
mysql&gt; <strong class="userinput"><code>SELECT CASE WHEN 1&gt;0 THEN 'true' ELSE 'false' END;</code></strong>
        -&gt; 'true'
mysql&gt; <strong class="userinput"><code>SELECT CASE BINARY 'B'</code></strong>
    -&gt;     <strong class="userinput"><code>WHEN 'a' THEN 1 WHEN 'b' THEN 2 END;</code></strong>
        -&gt; NULL
</pre></li><li class="listitem"><a name="function_if"></a><p>
                <a class="indexterm" name="idm140286855311664"></a>

                <a class="link" href="functions.html#function_if"><code class="literal">IF(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>,<em class="replaceable"><code>expr3</code></em>)</code></a>
            </p><p style="color:blue;">如果（expr1、expr2、expr3）</p><p>
                If <em class="replaceable"><code>expr1</code></em> is <code class="literal">TRUE</code>
                (<code class="literal"><em class="replaceable"><code>expr1</code></em> &lt;&gt;
                0</code> and <code class="literal"><em class="replaceable"><code>expr1</code></em>
                &lt;&gt; NULL</code>), <a class="link" href="functions.html#function_if"><code class="literal">IF()</code></a>
                returns <em class="replaceable"><code>expr2</code></em>. Otherwise, it
                returns <em class="replaceable"><code>expr3</code></em>.
            </p><p style="color:blue;">如果expr1为真（expr1&lt;&gt;0和expr1&lt;&gt;null），if（）返回expr2。否则，返回expr3。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        There is also an <a class="link" href="sql-syntax.html#if" title="13.6.5.2&nbsp;IF Syntax"><code class="literal">IF</code></a>
                        <span class="emphasis"><em>statement</em></span>, which differs from the
                        <a class="link" href="functions.html#function_if"><code class="literal">IF()</code></a>
                        <span class="emphasis"><em>function</em></span> described here. See
                        <a class="xref" href="sql-syntax.html#if" title="13.6.5.2&nbsp;IF Syntax">Section&nbsp;13.6.5.2, “IF Syntax”</a>.
                    </p><p style="color:blue;">还有一个if语句，它与这里描述的if（）函数不同。见第13.6.5.2节“if语法”。</p>
                </div>
                <p>
                    If only one of <em class="replaceable"><code>expr2</code></em> or
                    <em class="replaceable"><code>expr3</code></em> is explicitly
                    <code class="literal">NULL</code>, the result type of the
                    <a class="link" href="functions.html#function_if"><code class="literal">IF()</code></a> function is the type of
                    the non-<code class="literal">NULL</code> expression.
                </p><p style="color:blue;">如果expr2或expr3中只有一个显式为空，则if（）函数的结果类型是非空表达式的类型。</p><p>
                    The default return type of <a class="link" href="functions.html#function_if"><code class="literal">IF()</code></a>
                    (which may matter when it is stored into a temporary table) is
                    calculated as follows:
                </p><p style="color:blue;">if（）的默认返回类型（当它存储在临时表中时可能很重要）计算如下：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        If <em class="replaceable"><code>expr2</code></em> or
                        <em class="replaceable"><code>expr3</code></em> produce a string, the
                        result is a string.
                    </p><p style="color:blue;">如果expr2或expr3生成字符串，则结果为字符串。</p><p>
                        If <em class="replaceable"><code>expr2</code></em> and
                        <em class="replaceable"><code>expr3</code></em> are both strings, the
                        result is case-sensitive if either string is case
                        sensitive.
                    </p><p style="color:blue;">如果expr2和expr3都是字符串，则如果其中一个字符串区分大小写，则结果区分大小写。</p></li><li class="listitem"><p>
                        If <em class="replaceable"><code>expr2</code></em> or
                        <em class="replaceable"><code>expr3</code></em> produce a floating-point
                        value, the result is a floating-point value.
                    </p><p style="color:blue;">如果expr2或expr3产生浮点值，则结果是浮点值。</p></li><li class="listitem"><p>
                        If <em class="replaceable"><code>expr2</code></em> or
                        <em class="replaceable"><code>expr3</code></em> produce an integer, the
                        result is an integer.
                    </p><p style="color:blue;">如果expr2或expr3产生一个整数，则结果是一个整数。</p></li></ul>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IF(1&gt;2,2,3);</code></strong>
        -&gt; 3
mysql&gt; <strong class="userinput"><code>SELECT IF(1&lt;2,'yes','no');</code></strong>
        -&gt; 'yes'
mysql&gt; <strong class="userinput"><code>SELECT IF(STRCMP('test','test1'),'no','yes');</code></strong>
        -&gt; 'no'
</pre></li><li class="listitem"><a name="function_ifnull"></a><p>
                <a class="indexterm" name="idm140286855276880"></a>

                <a class="indexterm" name="idm140286855275392"></a>

                <a class="link" href="functions.html#function_ifnull"><code class="literal">IFNULL(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
            </p><p style="color:blue;">ifnull（expr1，expr2）</p><p>
                If <em class="replaceable"><code>expr1</code></em> is not
                <code class="literal">NULL</code>,
                <a class="link" href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> returns
                <em class="replaceable"><code>expr1</code></em>; otherwise it returns
                <em class="replaceable"><code>expr2</code></em>.
            </p><p style="color:blue;">如果expr1不为空，if null（）返回expr1；否则返回expr2。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IFNULL(1,0);</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT IFNULL(NULL,10);</code></strong>
        -&gt; 10
mysql&gt; <strong class="userinput"><code>SELECT IFNULL(1/0,10);</code></strong>
        -&gt; 10
mysql&gt; <strong class="userinput"><code>SELECT IFNULL(1/0,'yes');</code></strong>
        -&gt; 'yes'
</pre><p>
                The default return type of
                <a class="link" href="functions.html#function_ifnull"><code class="literal">IFNULL(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
                is the more <span class="quote">“<span class="quote">general</span>”</span> of the two expressions, in
                the order <code class="literal">STRING</code>, <code class="literal">REAL</code>,
                or <code class="literal">INTEGER</code>. Consider the case of a table
                based on expressions or where MySQL must internally store a
                value returned by <a class="link" href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> in a
                temporary table:
            </p><p style="color:blue;">ifnull（expr1，expr2）的默认返回类型是这两个表达式中更“通用”的，顺序是字符串、实数或整数。考虑基于表达式的表的情况，或者mysql必须在临时表中内部存储ifnull（）返回的值的情况：</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE TABLE tmp SELECT IFNULL(1,'test') AS test;</code></strong>
mysql&gt; <strong class="userinput"><code>DESCRIBE tmp;</code></strong>
+-------+--------------+------+-----+---------+-------+
| Field | Type         | Null | Key | Default | Extra |
+-------+--------------+------+-----+---------+-------+
| test  | varbinary(4) | NO   |     |         |       |
+-------+--------------+------+-----+---------+-------+
</pre><p>
                In this example, the type of the <code class="literal">test</code>
                column is <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY(4)</code></a> (a
                string type).
            </p><p style="color:blue;">在本例中，测试列的类型是varbinary（4）（字符串类型）。</p></li><li class="listitem"><a name="function_nullif"></a><p>
                <a class="indexterm" name="idm140286855248512"></a>

                <a class="link" href="functions.html#function_nullif"><code class="literal">NULLIF(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
            </p><p style="color:blue;">nullif（expr1，expr2）</p><p>
                Returns <code class="literal">NULL</code> if
                <code class="literal"><em class="replaceable"><code>expr1</code></em> =
                    <em class="replaceable"><code>expr2</code></em></code> is true, otherwise
                returns <em class="replaceable"><code>expr1</code></em>. This is the same as
                <a class="link" href="functions.html#operator_case"><code class="literal">CASE WHEN
                    <em class="replaceable"><code>expr1</code></em> =
                    <em class="replaceable"><code>expr2</code></em> THEN NULL ELSE
                    <em class="replaceable"><code>expr1</code></em> END</code></a>.
            </p><p style="color:blue;">如果expr1=expr2为真，则返回null，否则返回expr1。这与expr1=expr2时的情况相同，否则expr1结束。</p><p>
                The return value has the same type as the first argument.
            </p><p style="color:blue;">返回值的类型与第一个参数的类型相同。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT NULLIF(1,1);</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT NULLIF(1,2);</code></strong>
        -&gt; 1
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        MySQL evaluates <em class="replaceable"><code>expr1</code></em> twice if
                        the arguments are not equal.
                    </p><p style="color:blue;">如果参数不相等，mysql将对expr1求值两次。</p>
                </div>
            </li></ul>
        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="string-functions"></a>12.5&nbsp;String Functions and Operators</h2>

                </div>

            </div>

        </div>

        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#string-comparison-functions">12.5.1 String Comparison Functions and Operators</a></span></dt><dt><span class="section"><a href="functions.html#regexp">12.5.2 Regular Expressions</a></span></dt><dt><span class="section"><a href="functions.html#string-functions-charset">12.5.3 Character Set and Collation of Function Results</a></span></dt></dl>
        </div>
        <a class="indexterm" name="idm140286855231936"></a><a class="indexterm" name="idm140286855230896"></a><a class="indexterm" name="idm140286855229408"></a><a class="indexterm" name="idm140286855228336"></a>
        <div class="table">
            <a name="idm140286855226848"></a><p class="title"><b>Table&nbsp;12.7&nbsp;String Functions and Operators</b></p><p style="color:blue;">表12.7字符串函数和运算符</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists string functions and operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_ascii"><code class="literal">ASCII()</code></a></td>
                    <td>
                        Return numeric value of left-most character
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bin"><code class="literal">BIN()</code></a></td>
                    <td>
                        Return a string containing binary representation of a number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-length"><code class="literal">BIT_LENGTH()</code></a></td>
                    <td>
                        Return length of argument in bits
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_char"><code class="literal">CHAR()</code></a></td>
                    <td>
                        Return the character for each integer passed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a></td>
                    <td>
                        Return number of characters in argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_character-length"><code class="literal">CHARACTER_LENGTH()</code></a></td>
                    <td>
                        Synonym for CHAR_LENGTH()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a></td>
                    <td>
                        Return concatenated string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a></td>
                    <td>
                        Return concatenate with separator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_elt"><code class="literal">ELT()</code></a></td>
                    <td>
                        Return string at index number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_export-set"><code class="literal">EXPORT_SET()</code></a></td>
                    <td>
                        Return a string such that for every bit set in the value bits, you
                        get an on string and for every unset bit, you get an off string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_field"><code class="literal">FIELD()</code></a></td>
                    <td>
                        Index (position) of first argument in subsequent arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_find-in-set"><code class="literal">FIND_IN_SET()</code></a></td>
                    <td>
                        Index (position) of first argument within second argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_format"><code class="literal">FORMAT()</code></a></td>
                    <td>
                        Return a number formatted to specified number of decimal places
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_from-base64"><code class="literal">FROM_BASE64()</code></a></td>
                    <td>
                        Decode base64 encoded string and return result
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a></td>
                    <td>
                        Hexadecimal representation of decimal or string value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_insert"><code class="literal">INSERT()</code></a></td>
                    <td>
                        Insert substring at specified position up to specified number of
                        characters
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_instr"><code class="literal">INSTR()</code></a></td>
                    <td>
                        Return the index of the first occurrence of substring
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_lcase"><code class="literal">LCASE()</code></a></td>
                    <td>
                        Synonym for LOWER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_left"><code class="literal">LEFT()</code></a></td>
                    <td>
                        Return the leftmost number of characters as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_length"><code class="literal">LENGTH()</code></a></td>
                    <td>
                        Return the length of a string in bytes
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a></td>
                    <td>
                        Simple pattern matching
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a></td>
                    <td>
                        Load the named file
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_locate"><code class="literal">LOCATE()</code></a></td>
                    <td>
                        Return the position of the first occurrence of substring
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a></td>
                    <td>
                        Return the argument in lowercase
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_lpad"><code class="literal">LPAD()</code></a></td>
                    <td>
                        Return the string argument, left-padded with the specified string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ltrim"><code class="literal">LTRIM()</code></a></td>
                    <td>
                        Remove leading spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_make-set"><code class="literal">MAKE_SET()</code></a></td>
                    <td>
                        Return a set of comma-separated strings that have the
                        corresponding bit in bits set
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_match"><code class="literal">MATCH</code></a></td>
                    <td>
                        Perform full-text search
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mid"><code class="literal">MID()</code></a></td>
                    <td>
                        Return a substring starting from the specified position
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-like"><code class="literal">NOT LIKE</code></a></td>
                    <td>
                        Negation of simple pattern matching
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-regexp"><code class="literal">NOT REGEXP</code></a></td>
                    <td>
                        Negation of REGEXP
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_oct"><code class="literal">OCT()</code></a></td>
                    <td>
                        Return a string containing octal representation of a number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_octet-length"><code class="literal">OCTET_LENGTH()</code></a></td>
                    <td>
                        Synonym for LENGTH()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ord"><code class="literal">ORD()</code></a></td>
                    <td>
                        Return character code for leftmost character of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_position"><code class="literal">POSITION()</code></a></td>
                    <td>
                        Synonym for LOCATE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_quote"><code class="literal">QUOTE()</code></a></td>
                    <td>
                        Escape the argument for use in an SQL statement
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a></td>
                    <td>
                        Whether string matches regular expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a></td>
                    <td>
                        Repeat a string the specified number of times
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_replace"><code class="literal">REPLACE()</code></a></td>
                    <td>
                        Replace occurrences of a specified string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_reverse"><code class="literal">REVERSE()</code></a></td>
                    <td>
                        Reverse the characters in a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_right"><code class="literal">RIGHT()</code></a></td>
                    <td>
                        Return the specified rightmost number of characters
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">RLIKE</code></a></td>
                    <td>
                        Whether string matches regular expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_rpad"><code class="literal">RPAD()</code></a></td>
                    <td>
                        Append string the specified number of times
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_rtrim"><code class="literal">RTRIM()</code></a></td>
                    <td>
                        Remove trailing spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a></td>
                    <td>
                        Return a soundex string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_sounds-like"><code class="literal">SOUNDS LIKE</code></a></td>
                    <td>
                        Compare sounds
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_space"><code class="literal">SPACE()</code></a></td>
                    <td>
                        Return a string of the specified number of spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a></td>
                    <td>
                        Compare two strings
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_substr"><code class="literal">SUBSTR()</code></a></td>
                    <td>
                        Return the substring as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a></td>
                    <td>
                        Return the substring as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX()</code></a></td>
                    <td>
                        Return a substring from a string before the specified number of
                        occurrences of the delimiter
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_to-base64"><code class="literal">TO_BASE64()</code></a></td>
                    <td>
                        Return the argument converted to a base-64 string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_trim"><code class="literal">TRIM()</code></a></td>
                    <td>
                        Remove leading and trailing spaces
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ucase"><code class="literal">UCASE()</code></a></td>
                    <td>
                        Synonym for UPPER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a></td>
                    <td>
                        Return a string containing hex representation of a number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a></td>
                    <td>
                        Convert to uppercase
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a></td>
                    <td>
                        Return the weight string for a string
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break"><p>
        String-valued functions return <code class="literal">NULL</code> if the
        length of the result would be greater than the value of the
        <a class="link" href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> system
        variable. See <a class="xref" href="server-administration.html#server-configuration" title="5.1.1&nbsp;Configuring the Server">Section&nbsp;5.1.1, “Configuring the Server”</a>.
    </p><p style="color:blue;">如果结果的长度大于max_allowed_packet系统变量的值，则字符串值函数返回NULL。参见第5.1.1节“配置服务器”。</p><p>
        For functions that operate on string positions, the first position
        is numbered 1.
    </p><p style="color:blue;">对于在字符串位置上操作的函数，第一个位置编号为1。</p><p>
        For functions that take length arguments, noninteger arguments are
        rounded to the nearest integer.
    </p><p style="color:blue;">对于采用长度参数的函数，非整数参数将四舍五入为最接近的整数。</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_ascii"></a><p>
                <a class="indexterm" name="idm140286855028288"></a>

                <a class="link" href="functions.html#function_ascii"><code class="literal">ASCII(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">ascii（字符串）</p><p>
                Returns the numeric value of the leftmost character of the
                string <em class="replaceable"><code>str</code></em>. Returns
                <code class="literal">0</code> if <em class="replaceable"><code>str</code></em> is the
                empty string. Returns <code class="literal">NULL</code> if
                <em class="replaceable"><code>str</code></em> is <code class="literal">NULL</code>.
                <a class="link" href="functions.html#function_ascii"><code class="literal">ASCII()</code></a> works for 8-bit
                characters.
            </p><p style="color:blue;">返回字符串str最左边字符的数值。如果str是空字符串，则返回0。如果str为空，则返回null。ascii（）适用于8位字符。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ASCII('2');</code></strong>
        -&gt; 50
mysql&gt; <strong class="userinput"><code>SELECT ASCII(2);</code></strong>
        -&gt; 50
mysql&gt; <strong class="userinput"><code>SELECT ASCII('dx');</code></strong>
        -&gt; 100
</pre><p>
                See also the <a class="link" href="functions.html#function_ord"><code class="literal">ORD()</code></a> function.
            </p><p style="color:blue;">另请参见ord（）函数。</p></li><li class="listitem"><a name="function_bin"></a><p>
                <a class="indexterm" name="idm140286855011072"></a>

                <a class="link" href="functions.html#function_bin"><code class="literal">BIN(<em class="replaceable"><code>N</code></em>)</code></a>
            </p><p style="color:blue;">箱子（N）</p><p>
                Returns a string representation of the binary value of
                <em class="replaceable"><code>N</code></em>, where
                <em class="replaceable"><code>N</code></em> is a longlong
                (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>) number. This is
                equivalent to
                <a class="link" href="functions.html#function_conv"><code class="literal">CONV(<em class="replaceable"><code>N</code></em>,10,2)</code></a>.
                Returns <code class="literal">NULL</code> if
                <em class="replaceable"><code>N</code></em> is <code class="literal">NULL</code>.
            </p><p style="color:blue;">返回二进制值n的字符串表示形式，其中n是longlong（bigint）数字。这相当于conv（n，10,2）。如果n为空，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT BIN(12);</code></strong>
        -&gt; '1100'
</pre></li><li class="listitem"><a name="function_bit-length"></a><p>
                <a class="indexterm" name="idm140286854996032"></a>

                <a class="link" href="functions.html#function_bit-length"><code class="literal">BIT_LENGTH(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">位长度（str）</p><p>
                Returns the length of the string
                <em class="replaceable"><code>str</code></em> in bits.
            </p><p style="color:blue;">返回字符串str的长度（以位为单位）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT BIT_LENGTH('text');</code></strong>
        -&gt; 32
</pre></li><li class="listitem"><a name="function_char"></a><p>
                <a class="indexterm" name="idm140286854986208"></a>

                <a class="link" href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>N</code></em>,...
                    [USING <em class="replaceable"><code>charset_name</code></em>])</code></a>
            </p><p style="color:blue;">字符（n，…[使用字符集名称]）</p><p>
                <a class="link" href="functions.html#function_char"><code class="literal">CHAR()</code></a> interprets each argument
                <em class="replaceable"><code>N</code></em> as an integer and returns a
                string consisting of the characters given by the code values
                of those integers. <code class="literal">NULL</code> values are skipped.
            </p><p style="color:blue;">char（）将每个参数n解释为一个整数，并返回由这些整数的代码值给定的字符组成的字符串。跳过空值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHAR(77,121,83,81,'76');</code></strong>
        -&gt; 'MySQL'
mysql&gt; <strong class="userinput"><code>SELECT CHAR(77,77.3,'77.3');</code></strong>
        -&gt; 'MMM'
</pre><p>
                <a class="link" href="functions.html#function_char"><code class="literal">CHAR()</code></a> arguments larger than
                255 are converted into multiple result bytes. For example,
                <a class="link" href="functions.html#function_char"><code class="literal">CHAR(256)</code></a> is equivalent to
                <a class="link" href="functions.html#function_char"><code class="literal">CHAR(1,0)</code></a>, and
                <a class="link" href="functions.html#function_char"><code class="literal">CHAR(256*256)</code></a> is equivalent to
                <a class="link" href="functions.html#function_char"><code class="literal">CHAR(1,0,0)</code></a>:
            </p><p style="color:blue;">大于255的char（）参数转换为多个结果字节。例如，char（256）等价于char（1,0），char（256*256）等价于char（1,0,0）：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(CHAR(1,0)), HEX(CHAR(256));</code></strong>
+----------------+----------------+
| HEX(CHAR(1,0)) | HEX(CHAR(256)) |
+----------------+----------------+
| 0100           | 0100           |
+----------------+----------------+
mysql&gt; <strong class="userinput"><code>SELECT HEX(CHAR(1,0,0)), HEX(CHAR(256*256));</code></strong>
+------------------+--------------------+
| HEX(CHAR(1,0,0)) | HEX(CHAR(256*256)) |
+------------------+--------------------+
| 010000           | 010000             |
+------------------+--------------------+
</pre><p>
                By default, <a class="link" href="functions.html#function_char"><code class="literal">CHAR()</code></a> returns a
                binary string. To produce a string in a given character set,
                use the optional <code class="literal">USING</code> clause:
            </p><p style="color:blue;">默认情况下，char（）返回二进制字符串。要在给定字符集中生成字符串，请使用可选的using子句：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARSET(CHAR(X'65')), CHARSET(CHAR(X'65' USING utf8));</code></strong>
+----------------------+---------------------------------+
| CHARSET(CHAR(X'65')) | CHARSET(CHAR(X'65' USING utf8)) |
+----------------------+---------------------------------+
| binary               | utf8                            |
+----------------------+---------------------------------+
</pre><p>
                If <code class="literal">USING</code> is given and the result string is
                illegal for the given character set, a warning is issued.
                Also, if strict SQL mode is enabled, the result from
                <a class="link" href="functions.html#function_char"><code class="literal">CHAR()</code></a> becomes
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">如果给定使用，并且结果字符串对于给定字符集是非法的，则发出警告。此外，如果启用了strict sql模式，则char（）的结果将变为空。</p></li><li class="listitem"><a name="function_char-length"></a><p>
                <a class="indexterm" name="idm140286854954800"></a>

                <a class="link" href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">字符长度（str）</p><p>
                Returns the length of the string
                <em class="replaceable"><code>str</code></em>, measured in characters. A
                multibyte character counts as a single character. This means
                that for a string containing five 2-byte characters,
                <a class="link" href="functions.html#function_length"><code class="literal">LENGTH()</code></a> returns
                <code class="literal">10</code>, whereas
                <a class="link" href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a> returns
                <code class="literal">5</code>.
            </p><p style="color:blue;">返回字符串str的长度（以字符为单位）。多字节字符算作单个字符。这意味着，对于包含5个2字节字符的字符串，length（）返回10，而char_length（）返回5。</p></li><li class="listitem"><a name="function_character-length"></a><p>
                <a class="indexterm" name="idm140286854943152"></a>

                <a class="link" href="functions.html#function_character-length"><code class="literal">CHARACTER_LENGTH(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">字符长度（str）</p><p>
                <a class="link" href="functions.html#function_character-length"><code class="literal">CHARACTER_LENGTH()</code></a> is a synonym
                for <a class="link" href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a>.
            </p><p style="color:blue;">character_length（）是char_length（）的同义词。</p></li><li class="listitem"><a name="function_concat"></a><p>
                <a class="indexterm" name="idm140286854933568"></a>

                <a class="indexterm" name="idm140286854932496"></a>

                <a class="indexterm" name="idm140286854931424"></a>

                <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT(<em class="replaceable"><code>str1</code></em>,<em class="replaceable"><code>str2</code></em>,...)</code></a>
            </p><p style="color:blue;">concat（str1，str2，…）</p><p>
                Returns the string that results from concatenating the
                arguments. May have one or more arguments. If all arguments
                are nonbinary strings, the result is a nonbinary string. If
                the arguments include any binary strings, the result is a
                binary string. A numeric argument is converted to its
                equivalent nonbinary string form.
            </p><p style="color:blue;">返回连接参数所产生的字符串。可能有一个或多个参数。如果所有参数都是非二进制字符串，则结果是非二进制字符串。如果参数包含任何二进制字符串，则结果为二进制字符串。数值参数将转换为等效的非二进制字符串形式。</p><p>
                <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> returns
                <code class="literal">NULL</code> if any argument is
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">如果任何参数为空，concat（）将返回空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONCAT('My', 'S', 'QL');</code></strong>
        -&gt; 'MySQL'
mysql&gt; <strong class="userinput"><code>SELECT CONCAT('My', NULL, 'QL');</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT CONCAT(14.3);</code></strong>
        -&gt; '14.3'
</pre><p>
                For quoted strings, concatenation can be performed by placing
                the strings next to each other:
            </p><p style="color:blue;">对于带引号的字符串，可以通过将字符串相邻放置来执行连接：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'My' 'S' 'QL';</code></strong>
        -&gt; 'MySQL'
</pre></li><li class="listitem"><a name="function_concat-ws"></a><p>
                <a class="indexterm" name="idm140286854913984"></a>

                <a class="link" href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS(<em class="replaceable"><code>separator</code></em>,<em class="replaceable"><code>str1</code></em>,<em class="replaceable"><code>str2</code></em>,...)</code></a>
            </p><p style="color:blue;">混凝土（分离器，str1，str2，…）</p><p>
                <a class="link" href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a> stands for
                Concatenate With Separator and is a special form of
                <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>. The first argument is
                the separator for the rest of the arguments. The separator is
                added between the strings to be concatenated. The separator
                can be a string, as can the rest of the arguments. If the
                separator is <code class="literal">NULL</code>, the result is
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">concat_ws（）表示与分隔符连接，是concat（）的一种特殊形式。第一个参数是其余参数的分隔符。分隔符被添加到要连接的字符串之间。分隔符可以是字符串，其他参数也可以是字符串。如果分隔符为空，则结果为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONCAT_WS(',','First name','Second name','Last Name');</code></strong>
        -&gt; 'First name,Second name,Last Name'
mysql&gt; <strong class="userinput"><code>SELECT CONCAT_WS(',','First name',NULL,'Last Name');</code></strong>
        -&gt; 'First name,Last Name'
</pre><p>
                <a class="link" href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a> does not skip empty
                strings. However, it does skip any <code class="literal">NULL</code>
                values after the separator argument.
            </p><p style="color:blue;">concat_ws（）不跳过空字符串。但是，它会跳过分隔符参数之后的任何空值。</p></li><li class="listitem"><a name="function_elt"></a><p>
                <a class="indexterm" name="idm140286854896096"></a>

                <a class="link" href="functions.html#function_elt"><code class="literal">ELT(<em class="replaceable"><code>N</code></em>,<em class="replaceable"><code>str1</code></em>,<em class="replaceable"><code>str2</code></em>,<em class="replaceable"><code>str3</code></em>,...)</code></a>
            </p><p style="color:blue;">ELT（N，str1，str2，str3，…）</p><p>
                <a class="link" href="functions.html#function_elt"><code class="literal">ELT()</code></a> returns the
                <em class="replaceable"><code>N</code></em>th element of the list of strings:
                <em class="replaceable"><code>str1</code></em> if
                <em class="replaceable"><code>N</code></em> = <code class="literal">1</code>,
                <em class="replaceable"><code>str2</code></em> if
                <em class="replaceable"><code>N</code></em> = <code class="literal">2</code>, and so
                on. Returns <code class="literal">NULL</code> if
                <em class="replaceable"><code>N</code></em> is less than <code class="literal">1</code>
                or greater than the number of arguments.
                <a class="link" href="functions.html#function_elt"><code class="literal">ELT()</code></a> is the complement of
                <a class="link" href="functions.html#function_field"><code class="literal">FIELD()</code></a>.
            </p><p style="color:blue;">elt（）返回字符串列表的第n个元素：如果n=1，则返回str1；如果n=2，则返回str2，依此类推。如果n小于1或大于参数数，则返回null。elt（）是field（）的补码。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ELT(1, 'Aa', 'Bb', 'Cc', 'Dd');</code></strong>
        -&gt; 'Aa'
mysql&gt; <strong class="userinput"><code>SELECT ELT(4, 'Aa', 'Bb', 'Cc', 'Dd');</code></strong>
        -&gt; 'Dd'
</pre></li><li class="listitem"><a name="function_export-set"></a><p>
                <a class="indexterm" name="idm140286854875616"></a>

                <a class="link" href="functions.html#function_export-set"><code class="literal">EXPORT_SET(<em class="replaceable"><code>bits</code></em>,<em class="replaceable"><code>on</code></em>,<em class="replaceable"><code>off</code></em>[,<em class="replaceable"><code>separator</code></em>[,<em class="replaceable"><code>number_of_bits</code></em>]])</code></a>
            </p><p style="color:blue;">导出设置（位，开，关[，分隔符[，位数]）</p><p>
                Returns a string such that for every bit set in the value
                <em class="replaceable"><code>bits</code></em>, you get an
                <em class="replaceable"><code>on</code></em> string and for every bit not set
                in the value, you get an <em class="replaceable"><code>off</code></em>
                string. Bits in <em class="replaceable"><code>bits</code></em> are examined
                from right to left (from low-order to high-order bits).
                Strings are added to the result from left to right, separated
                by the <em class="replaceable"><code>separator</code></em> string (the
                default being the comma character <code class="literal">,</code>). The
                number of bits examined is given by
                <em class="replaceable"><code>number_of_bits</code></em>, which has a default
                of 64 if not specified.
                <em class="replaceable"><code>number_of_bits</code></em> is silently clipped
                to 64 if larger than 64. It is treated as an unsigned integer,
                so a value of −1 is effectively the same as 64.
            </p><p style="color:blue;">返回一个字符串，这样对于值位中设置的每一位，您将得到一个on字符串，对于值中未设置的每一位，您将得到一个off字符串。从右到左（从低阶到高阶）检查位中的位。字符串从左到右添加到结果中，由分隔符字符串分隔（默认为逗号字符）。检查的位数由位数给定，如果未指定，默认值为64。如果大于64位，则默认将位的个数剪裁为64。它被视为无符号整数，因此-1的值实际上与64相同。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT EXPORT_SET(5,'Y','N',',',4);</code></strong>
        -&gt; 'Y,N,Y,N'
mysql&gt; <strong class="userinput"><code>SELECT EXPORT_SET(6,'1','0',',',10);</code></strong>
        -&gt; '0,1,1,0,0,0,0,0,0,0'
</pre></li><li class="listitem"><a name="function_field"></a><p>
                <a class="indexterm" name="idm140286854859232"></a>

                <a class="link" href="functions.html#function_field"><code class="literal">FIELD(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>str1</code></em>,<em class="replaceable"><code>str2</code></em>,<em class="replaceable"><code>str3</code></em>,...)</code></a>
            </p><p style="color:blue;">字段（str，str1，str2，str3，…）</p><p>
                Returns the index (position) of <em class="replaceable"><code>str</code></em>
                in the <em class="replaceable"><code>str1</code></em>,
                <em class="replaceable"><code>str2</code></em>,
                <em class="replaceable"><code>str3</code></em>, <code class="literal">...</code> list.
                Returns <code class="literal">0</code> if <em class="replaceable"><code>str</code></em>
                is not found.
            </p><p style="color:blue;">返回str在str1、str2、str3中的索引（位置）。列表。如果未找到str，则返回0。</p><p>
                If all arguments to <a class="link" href="functions.html#function_field"><code class="literal">FIELD()</code></a> are
                strings, all arguments are compared as strings. If all
                arguments are numbers, they are compared as numbers.
                Otherwise, the arguments are compared as double.
            </p><p style="color:blue;">如果field（）的所有参数都是字符串，则将所有参数作为字符串进行比较。如果所有参数都是数字，则将它们作为数字进行比较。否则，将参数作为double进行比较。</p><p>
                If <em class="replaceable"><code>str</code></em> is <code class="literal">NULL</code>,
                the return value is <code class="literal">0</code> because
                <code class="literal">NULL</code> fails equality comparison with any
                value. <a class="link" href="functions.html#function_field"><code class="literal">FIELD()</code></a> is the
                complement of <a class="link" href="functions.html#function_elt"><code class="literal">ELT()</code></a>.
            </p><p style="color:blue;">如果str为null，则返回值为0，因为null无法与任何值进行相等比较。field（）是elt（）的补码。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT FIELD('Bb', 'Aa', 'Bb', 'Cc', 'Dd', 'Ff');</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT FIELD('Gg', 'Aa', 'Bb', 'Cc', 'Dd', 'Ff');</code></strong>
        -&gt; 0
</pre></li><li class="listitem"><a name="function_find-in-set"></a><p>
                <a class="indexterm" name="idm140286854836944"></a>

                <a class="link" href="functions.html#function_find-in-set"><code class="literal">FIND_IN_SET(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>strlist</code></em>)</code></a>
            </p><p style="color:blue;">在集合中查找（str，strlist）</p><p>
                Returns a value in the range of 1 to
                <em class="replaceable"><code>N</code></em> if the string
                <em class="replaceable"><code>str</code></em> is in the string list
                <em class="replaceable"><code>strlist</code></em> consisting of
                <em class="replaceable"><code>N</code></em> substrings. A string list is a
                string composed of substrings separated by
                <code class="literal">,</code> characters. If the first argument is a
                constant string and the second is a column of type
                <a class="link" href="data-types.html#set" title="11.4.5&nbsp;The SET Type"><code class="literal">SET</code></a>, the
                <a class="link" href="functions.html#function_find-in-set"><code class="literal">FIND_IN_SET()</code></a> function is
                optimized to use bit arithmetic. Returns <code class="literal">0</code>
                if <em class="replaceable"><code>str</code></em> is not in
                <em class="replaceable"><code>strlist</code></em> or if
                <em class="replaceable"><code>strlist</code></em> is the empty string.
                Returns <code class="literal">NULL</code> if either argument is
                <code class="literal">NULL</code>. This function does not work properly
                if the first argument contains a comma (<code class="literal">,</code>)
                character.
            </p><p style="color:blue;">如果字符串str在由n个子字符串组成的字符串列表str list中，则返回1到n之间的值。字符串列表是由个字符分隔的子字符串组成的字符串。如果第一个参数是常量字符串，第二个参数是set类型的列，那么find_in_set（）函数将优化为使用位算术。如果str不在strlist中或strlist是空字符串，则返回0。如果任一参数为空，则返回空。如果第一个参数包含逗号（，）字符，则此函数无法正常工作。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT FIND_IN_SET('b','a,b,c,d');</code></strong>
        -&gt; 2
</pre></li><li class="listitem"><a name="function_format"></a><p>
                <a class="indexterm" name="idm140286854817776"></a>

                <a class="link" href="functions.html#function_format"><code class="literal">FORMAT(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>[,<em class="replaceable"><code>locale</code></em>])</code></a>
            </p><p style="color:blue;">格式（x，d[，locale]）</p><p>
                Formats the number <em class="replaceable"><code>X</code></em> to a format
                like <code class="literal">'#,###,###.##'</code>, rounded to
                <em class="replaceable"><code>D</code></em> decimal places, and returns the
                result as a string. If <em class="replaceable"><code>D</code></em> is
                <code class="literal">0</code>, the result has no decimal point or
                fractional part.
            </p><p style="color:blue;">将数字x的格式设置为类似“，，.”的格式，四舍五入为d个小数位，并将结果作为字符串返回。如果d为0，则结果没有小数点或小数部分。</p><p>
                The optional third parameter enables a locale to be specified
                to be used for the result number's decimal point, thousands
                separator, and grouping between separators. Permissible locale
                values are the same as the legal values for the
                <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable
                (see <a class="xref" href="charset.html#locale-support" title="10.16&nbsp;MySQL Server Locale Support">Section&nbsp;10.16, “MySQL Server Locale Support”</a>). If no locale is
                specified, the default is <code class="literal">'en_US'</code>.
            </p><p style="color:blue;">可选的第三个参数允许指定一个区域设置，用于结果号的小数点、千位分隔符和分隔符之间的分组。允许的语言环境值与lc_time_names系统变量的合法值相同（请参见第10.16节“mysql server语言环境支持”）。如果未指定区域设置，则默认值为“en_us”。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT FORMAT(12332.123456, 4);</code></strong>
        -&gt; '12,332.1235'
mysql&gt; <strong class="userinput"><code>SELECT FORMAT(12332.1,4);</code></strong>
        -&gt; '12,332.1000'
mysql&gt; <strong class="userinput"><code>SELECT FORMAT(12332.2,0);</code></strong>
        -&gt; '12,332'
mysql&gt; <strong class="userinput"><code>SELECT FORMAT(12332.2,2,'de_DE');</code></strong>
        -&gt; '12.332,20'
</pre></li><li class="listitem"><a name="function_from-base64"></a><p>
                <a class="indexterm" name="idm140286854798976"></a>

                <a class="link" href="functions.html#function_from-base64"><code class="literal">FROM_BASE64(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">来自_Base64（str）</p><p>
                Takes a string encoded with the base-64 encoded rules used by
                <a class="link" href="functions.html#function_to-base64"><code class="literal">TO_BASE64()</code></a> and returns the
                decoded result as a binary string. The result is
                <code class="literal">NULL</code> if the argument is
                <code class="literal">NULL</code> or not a valid base-64 string. See the
                description of <a class="link" href="functions.html#function_to-base64"><code class="literal">TO_BASE64()</code></a> for
                details about the encoding and decoding rules.
            </p><p style="color:blue;">获取使用to-base64（）使用的base-64编码规则编码的字符串，并将解码结果作为二进制字符串返回。如果参数为空或不是有效的base-64字符串，则结果为空。有关编码和解码规则的详细信息，请参阅to-base64（）的说明。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TO_BASE64('abc'), FROM_BASE64(TO_BASE64('abc'));</code></strong>
        -&gt; 'JWJj', 'abc'
</pre></li><li class="listitem"><a name="function_hex"></a><p>
                <a class="indexterm" name="idm140286854785360"></a>

                <a class="link" href="functions.html#function_hex"><code class="literal">HEX(<em class="replaceable"><code>str</code></em>)</code></a>,
                <a class="link" href="functions.html#function_hex"><code class="literal">HEX(<em class="replaceable"><code>N</code></em>)</code></a>
            </p><p style="color:blue;">十六进制（str），十六进制（n）</p><p>
                For a string argument <em class="replaceable"><code>str</code></em>,
                <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a> returns a hexadecimal
                string representation of <em class="replaceable"><code>str</code></em> where
                each byte of each character in <em class="replaceable"><code>str</code></em>
                is converted to two hexadecimal digits. (Multibyte characters
                therefore become more than two digits.) The inverse of this
                operation is performed by the
                <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> function.
            </p><p style="color:blue;">对于字符串参数str，hex（）返回str的十六进制字符串表示形式，其中str中每个字符的每个字节都转换为两个十六进制数字。（多字节字符因此变为两位数以上。）此操作的逆操作由unhex（）函数执行。</p><p>
                For a numeric argument <em class="replaceable"><code>N</code></em>,
                <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a> returns a hexadecimal
                string representation of the value of
                <em class="replaceable"><code>N</code></em> treated as a longlong
                (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>) number. This is
                equivalent to
                <a class="link" href="functions.html#function_conv"><code class="literal">CONV(<em class="replaceable"><code>N</code></em>,10,16)</code></a>.
                The inverse of this operation is performed by
                <a class="link" href="functions.html#function_conv"><code class="literal">CONV(HEX(<em class="replaceable"><code>N</code></em>),16,10)</code></a>.
            </p><p style="color:blue;">对于数值参数n，hex（）返回一个十六进制字符串表示形式，表示n作为longlong（bigint）数字处理的值。这相当于conv（n，10,16）。此操作的逆操作由conv（hex（n），16，10）执行。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT X'616263', HEX('abc'), UNHEX(HEX('abc'));</code></strong>
        -&gt; 'abc', 616263, 'abc'
mysql&gt; <strong class="userinput"><code>SELECT HEX(255), CONV(HEX(255),16,10);</code></strong>
        -&gt; 'FF', 255
</pre></li><li class="listitem"><a name="function_insert"></a><p>
                <a class="indexterm" name="idm140286854761664"></a>

                <a class="link" href="functions.html#function_insert"><code class="literal">INSERT(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>,<em class="replaceable"><code>len</code></em>,<em class="replaceable"><code>newstr</code></em>)</code></a>
            </p><p style="color:blue;">插入（str，pos，len，newstr）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em>, with the
                substring beginning at position <em class="replaceable"><code>pos</code></em>
                and <em class="replaceable"><code>len</code></em> characters long replaced by
                the string <em class="replaceable"><code>newstr</code></em>. Returns the
                original string if <em class="replaceable"><code>pos</code></em> is not
                within the length of the string. Replaces the rest of the
                string from position <em class="replaceable"><code>pos</code></em> if
                <em class="replaceable"><code>len</code></em> is not within the length of the
                rest of the string. Returns <code class="literal">NULL</code> if any
                argument is <code class="literal">NULL</code>.
            </p><p style="color:blue;">返回字符串str，子字符串以pos开始，len字符长替换为字符串newstr。如果pos不在字符串的长度内，则返回原始字符串。如果len不在字符串其余部分的长度内，则从pos位置替换字符串的其余部分。如果任何参数为空，则返回空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INSERT('Quadratic', 3, 4, 'What');</code></strong>
        -&gt; 'QuWhattic'
mysql&gt; <strong class="userinput"><code>SELECT INSERT('Quadratic', -1, 4, 'What');</code></strong>
        -&gt; 'Quadratic'
mysql&gt; <strong class="userinput"><code>SELECT INSERT('Quadratic', 3, 100, 'What');</code></strong>
        -&gt; 'QuWhat'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_instr"></a><p>
                <a class="indexterm" name="idm140286854744304"></a>

                <a class="link" href="functions.html#function_instr"><code class="literal">INSTR(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>substr</code></em>)</code></a>
            </p><p style="color:blue;">仪表（str，substr）</p><p>
                Returns the position of the first occurrence of substring
                <em class="replaceable"><code>substr</code></em> in string
                <em class="replaceable"><code>str</code></em>. This is the same as the
                two-argument form of <a class="link" href="functions.html#function_locate"><code class="literal">LOCATE()</code></a>,
                except that the order of the arguments is reversed.
            </p><p style="color:blue;">返回字符串str中第一个出现的子字符串substr的位置。这与locate（）的两个参数形式相同，只是参数的顺序相反。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INSTR('foobarbar', 'bar');</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT INSTR('xbar', 'foobar');</code></strong>
        -&gt; 0
</pre><p>
                This function is multibyte safe, and is case-sensitive only if
                at least one argument is a binary string.
            </p><p style="color:blue;">此函数是多字节安全的，并且仅当至少一个参数是二进制字符串时才区分大小写。</p></li><li class="listitem"><a name="function_lcase"></a><p>
                <a class="indexterm" name="idm140286854730976"></a>

                <a class="link" href="functions.html#function_lcase"><code class="literal">LCASE(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">LCase（街道）</p><p>
                <a class="link" href="functions.html#function_lcase"><code class="literal">LCASE()</code></a> is a synonym for
                <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a>.
            </p><p style="color:blue;">lcase（）是lower（）的同义词。</p><p>
                In MySQL 5.7, <code class="literal">LCASE()</code> used in
                a view is rewritten as <code class="literal">LOWER()</code> when storing
                the view's definition. (Bug #12844279)
            </p><p style="color:blue;">在mysql 5.7中，在存储视图定义时，视图中使用的lcase（）被重写为lower（）。（错误12844279）</p></li><li class="listitem"><a name="function_left"></a><p>
                <a class="indexterm" name="idm140286854719392"></a>

                <a class="link" href="functions.html#function_left"><code class="literal">LEFT(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>len</code></em>)</code></a>
            </p><p style="color:blue;">左（str，len）</p><p>
                Returns the leftmost <em class="replaceable"><code>len</code></em> characters
                from the string <em class="replaceable"><code>str</code></em>, or
                <code class="literal">NULL</code> if any argument is
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">从字符串str返回最左边的len字符，如果任何参数为null，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LEFT('foobarbar', 5);</code></strong>
        -&gt; 'fooba'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_length"></a><p>
                <a class="indexterm" name="idm140286854706864"></a>

                <a class="link" href="functions.html#function_length"><code class="literal">LENGTH(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">长度（str）</p><p>
                Returns the length of the string
                <em class="replaceable"><code>str</code></em>, measured in bytes. A multibyte
                character counts as multiple bytes. This means that for a
                string containing five 2-byte characters,
                <a class="link" href="functions.html#function_length"><code class="literal">LENGTH()</code></a> returns
                <code class="literal">10</code>, whereas
                <a class="link" href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a> returns
                <code class="literal">5</code>.
            </p><p style="color:blue;">返回字符串str的长度（以字节为单位）。多字节字符等于多字节。这意味着，对于包含5个2字节字符的字符串，length（）返回10，而char_length（）返回5。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LENGTH('text');</code></strong>
        -&gt; 4
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The <code class="literal">Length()</code> OpenGIS spatial function is
                        named <a class="link" href="functions.html#function_st-length"><code class="literal">ST_Length()</code></a> in MySQL.
                    </p><p style="color:blue;">opengis空间函数的length（）在mysql中被命名为st_length（）。</p>
                </div>
            </li><li class="listitem"><a name="function_load-file"></a><p>
                <a class="indexterm" name="idm140286854690352"></a>

                <a class="indexterm" name="idm140286854689280"></a>

                <a class="link" href="functions.html#function_load-file"><code class="literal">LOAD_FILE(<em class="replaceable"><code>file_name</code></em>)</code></a>
            </p><p style="color:blue;">加载文件（文件名）</p><p>
                Reads the file and returns the file contents as a string. To
                use this function, the file must be located on the server
                host, you must specify the full path name to the file, and you
                must have the <a class="link" href="security.html#priv_file"><code class="literal">FILE</code></a> privilege.
                The file must be readable by all and its size less than
                <a class="link" href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> bytes. If
                the <a class="link" href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a> system
                variable is set to a nonempty directory name, the file to be
                loaded must be located in that directory.
            </p><p style="color:blue;">读取文件并以字符串形式返回文件内容。要使用此函数，文件必须位于服务器主机上，必须指定文件的完整路径名，并且必须具有文件权限。文件必须是可读的，并且其大小小于允许的最大数据包字节数。如果secure_file_priv系统变量设置为非空目录名，则要加载的文件必须位于该目录中。</p><p>
                If the file does not exist or cannot be read because one of
                the preceding conditions is not satisfied, the function
                returns <code class="literal">NULL</code>.
            </p><p style="color:blue;">如果文件不存在或无法读取，因为前面的条件之一不满足，则函数返回NULL。</p><p>
                The <a class="link" href="server-administration.html#sysvar_character_set_filesystem"><code class="literal">character_set_filesystem</code></a>
                system variable controls interpretation of file names that are
                given as literal strings.
            </p><p style="color:blue;">character_set_文件系统变量控制作为文本字符串给出的文件名的解释。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>UPDATE t</code></strong>
          <strong class="userinput"><code>  SET blob_col=LOAD_FILE('/tmp/picture')</code></strong>
          <strong class="userinput"><code>  WHERE id=1;</code></strong>
</pre></li><li class="listitem"><a name="function_locate"></a><p>
                <a class="indexterm" name="idm140286854671264"></a>

                <a class="link" href="functions.html#function_locate"><code class="literal">LOCATE(<em class="replaceable"><code>substr</code></em>,<em class="replaceable"><code>str</code></em>)</code></a>,
                <a class="link" href="functions.html#function_locate"><code class="literal">LOCATE(<em class="replaceable"><code>substr</code></em>,<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>)</code></a>
            </p><p style="color:blue;">定位（substr，str），定位（substr，str，pos）</p><p>
                The first syntax returns the position of the first occurrence
                of substring <em class="replaceable"><code>substr</code></em> in string
                <em class="replaceable"><code>str</code></em>. The second syntax returns the
                position of the first occurrence of substring
                <em class="replaceable"><code>substr</code></em> in string
                <em class="replaceable"><code>str</code></em>, starting at position
                <em class="replaceable"><code>pos</code></em>. Returns <code class="literal">0</code>
                if <em class="replaceable"><code>substr</code></em> is not in
                <em class="replaceable"><code>str</code></em>. Returns
                <code class="literal">NULL</code> if <em class="replaceable"><code>substr</code></em>
                or <em class="replaceable"><code>str</code></em> is <code class="literal">NULL</code>.
            </p><p style="color:blue;">第一个语法返回字符串str中第一个出现子字符串substr的位置。第二个语法返回字符串str中第一个出现子字符串substr的位置，从位置pos开始。如果substr不在str中，则返回0。如果substr或str为空，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LOCATE('bar', 'foobarbar');</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT LOCATE('xbar', 'foobar');</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT LOCATE('bar', 'foobarbar', 5);</code></strong>
        -&gt; 7
</pre><p>
                This function is multibyte safe, and is case-sensitive only if
                at least one argument is a binary string.
            </p><p style="color:blue;">此函数是多字节安全的，并且仅当至少一个参数是二进制字符串时才区分大小写。</p></li><li class="listitem"><a name="function_lower"></a><p>
                <a class="indexterm" name="idm140286854650880"></a>

                <a class="link" href="functions.html#function_lower"><code class="literal">LOWER(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">下部（str）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em> with all
                characters changed to lowercase according to the current
                character set mapping. The default is
                <code class="literal">latin1</code> (cp1252 West European).
            </p><p style="color:blue;">返回字符串str，其中所有字符都根据当前字符集映射更改为小写。默认值为Latin1（CP1252西欧）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LOWER('QUADRATICALLY');</code></strong>
        -&gt; 'quadratically'
</pre><p>
                <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a> (and
                <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a>) are ineffective when
                applied to binary strings
                (<a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
                <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>,
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a>). To perform lettercase
                conversion, convert the string to a nonbinary string:
            </p><p style="color:blue;">当应用于二进制字符串（binary、varbinary、blob）时，lower（）和upper（）无效。要执行字母大小写转换，请将字符串转换为非二进制字符串：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @str = BINARY 'New York';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT LOWER(@str), LOWER(CONVERT(@str USING latin1));</code></strong>
+-------------+-----------------------------------+
| LOWER(@str) | LOWER(CONVERT(@str USING latin1)) |
+-------------+-----------------------------------+
| New York    | new york                          |
+-------------+-----------------------------------+
</pre><p>
                For collations of Unicode character sets,
                <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a> and
                <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a> work according to the
                Unicode Collation Algorithm (UCA) version in the collation
                name, if there is one, and UCA 4.0.0 if no version is
                specified. For example, <code class="literal">utf8_unicode_520_ci</code>
                works according to UCA 5.2.0, whereas
                <code class="literal">utf8_unicode_ci</code> works according to UCA
                4.0.0. See <a class="xref" href="charset.html#charset-unicode-sets" title="10.10.1&nbsp;Unicode Character Sets">Section&nbsp;10.10.1, “Unicode Character Sets”</a>.
            </p><p style="color:blue;">对于Unicode字符集的排序，lower（）和upper（）根据排序规则名称中的Unicode排序规则（UCA）版本工作（如果有），如果未指定版本，则根据UCA 4.0.0工作。例如，utf8_unicode_520_ci根据uca 5.2.0工作，而utf8_unicode_ci根据uca 4.0.0工作。见第10.10.1节“Unicode字符集”。</p><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p><p>
                In previous versions of MySQL, <code class="literal">LOWER()</code> used
                within a view was rewritten as
                <a class="link" href="functions.html#function_lcase"><code class="literal">LCASE()</code></a> when storing the
                view's definition. In MySQL 5.7,
                <code class="literal">LOWER()</code> is never rewritten in such cases,
                but <code class="literal">LCASE()</code> used within views is instead
                rewritten as <code class="literal">LOWER()</code>. (Bug #12844279)
            </p><p style="color:blue;">在以前的mysql版本中，在存储视图定义时，视图中使用的lower（）被重写为lcase（）。在mysql 5.7中，lower（）在这种情况下不会被重写，但是视图中使用的lcase（）被重写为lower（）。（错误12844279）</p></li><li class="listitem"><a name="function_lpad"></a><p>
                <a class="indexterm" name="idm140286854620880"></a>

                <a class="link" href="functions.html#function_lpad"><code class="literal">LPAD(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>len</code></em>,<em class="replaceable"><code>padstr</code></em>)</code></a>
            </p><p style="color:blue;">lpad（str，len，padstr）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em>, left-padded
                with the string <em class="replaceable"><code>padstr</code></em> to a length
                of <em class="replaceable"><code>len</code></em> characters. If
                <em class="replaceable"><code>str</code></em> is longer than
                <em class="replaceable"><code>len</code></em>, the return value is shortened
                to <em class="replaceable"><code>len</code></em> characters.
            </p><p style="color:blue;">返回字符串str，用字符串padstr左填充，长度为len个字符。如果str长于len，则返回值将缩短为len个字符。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LPAD('hi',4,'??');</code></strong>
        -&gt; '??hi'
mysql&gt; <strong class="userinput"><code>SELECT LPAD('hi',1,'??');</code></strong>
        -&gt; 'h'
</pre></li><li class="listitem"><a name="function_ltrim"></a><p>
                <a class="indexterm" name="idm140286854607248"></a>

                <a class="link" href="functions.html#function_ltrim"><code class="literal">LTRIM(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">LTRIM（街道）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em> with leading
                space characters removed.
            </p><p style="color:blue;">返回删除前导空格字符的字符串str。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LTRIM('  barbar');</code></strong>
        -&gt; 'barbar'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_make-set"></a><p>
                <a class="indexterm" name="idm140286854596944"></a>

                <a class="link" href="functions.html#function_make-set"><code class="literal">MAKE_SET(<em class="replaceable"><code>bits</code></em>,<em class="replaceable"><code>str1</code></em>,<em class="replaceable"><code>str2</code></em>,...)</code></a>
            </p><p style="color:blue;">设置（位，str1，str2，…）</p><p>
                Returns a set value (a string containing substrings separated
                by <code class="literal">,</code> characters) consisting of the strings
                that have the corresponding bit in
                <em class="replaceable"><code>bits</code></em> set.
                <em class="replaceable"><code>str1</code></em> corresponds to bit 0,
                <em class="replaceable"><code>str2</code></em> to bit 1, and so on.
                <code class="literal">NULL</code> values in
                <em class="replaceable"><code>str1</code></em>,
                <em class="replaceable"><code>str2</code></em>, <code class="literal">...</code> are
                not appended to the result.
            </p><p style="color:blue;">返回一个设置值（包含由字符分隔的子字符串的字符串），该值由设置了相应位的字符串组成。str1对应于位0，str2对应于位1，依此类推。str1、str2中的空值…不会附加到结果中。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MAKE_SET(1,'a','b','c');</code></strong>
        -&gt; 'a'
mysql&gt; <strong class="userinput"><code>SELECT MAKE_SET(1 | 4,'hello','nice','world');</code></strong>
        -&gt; 'hello,world'
mysql&gt; <strong class="userinput"><code>SELECT MAKE_SET(1 | 4,'hello','nice',NULL,'world');</code></strong>
        -&gt; 'hello'
mysql&gt; <strong class="userinput"><code>SELECT MAKE_SET(0,'a','b','c');</code></strong>
        -&gt; ''
</pre></li><li class="listitem"><a name="function_mid"></a><p>
                <a class="indexterm" name="idm140286854579888"></a>

                <a class="link" href="functions.html#function_mid"><code class="literal">MID(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>,<em class="replaceable"><code>len</code></em>)</code></a>
            </p><p style="color:blue;">中间（str，pos，len）</p><p>
                <a class="link" href="functions.html#function_mid"><code class="literal">MID(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>,<em class="replaceable"><code>len</code></em>)</code></a>
                is a synonym for
                <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>,<em class="replaceable"><code>len</code></em>)</code></a>.
            </p><p style="color:blue;">mid（str，pos，len）是substring（str，pos，len）的同义词。</p></li><li class="listitem"><a name="function_oct"></a><p>
                <a class="indexterm" name="idm140286854567168"></a>

                <a class="link" href="functions.html#function_oct"><code class="literal">OCT(<em class="replaceable"><code>N</code></em>)</code></a>
            </p><p style="color:blue;">十月（N）</p><p>
                Returns a string representation of the octal value of
                <em class="replaceable"><code>N</code></em>, where
                <em class="replaceable"><code>N</code></em> is a longlong
                (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>) number. This is
                equivalent to
                <a class="link" href="functions.html#function_conv"><code class="literal">CONV(<em class="replaceable"><code>N</code></em>,10,8)</code></a>.
                Returns <code class="literal">NULL</code> if
                <em class="replaceable"><code>N</code></em> is <code class="literal">NULL</code>.
            </p><p style="color:blue;">返回八进制值n的字符串表示形式，其中n是longlong（bigint）数字。这相当于conv（n，10,8）。如果n为空，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT OCT(12);</code></strong>
        -&gt; '14'
</pre></li><li class="listitem"><a name="function_octet-length"></a><p>
                <a class="indexterm" name="idm140286854552128"></a>

                <a class="link" href="functions.html#function_octet-length"><code class="literal">OCTET_LENGTH(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">八位字节长度（str）</p><p>
                <a class="link" href="functions.html#function_octet-length"><code class="literal">OCTET_LENGTH()</code></a> is a synonym for
                <a class="link" href="functions.html#function_length"><code class="literal">LENGTH()</code></a>.
            </p><p style="color:blue;">octet_length（）是length（）的同义词。</p></li><li class="listitem"><a name="function_ord"></a><p>
                <a class="indexterm" name="idm140286854542544"></a>

                <a class="link" href="functions.html#function_ord"><code class="literal">ORD(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">订单（str）</p><p>
                If the leftmost character of the string
                <em class="replaceable"><code>str</code></em> is a multibyte character,
                returns the code for that character, calculated from the
                numeric values of its constituent bytes using this formula:
            </p><p style="color:blue;">如果字符串str的最左边的字符是多字节字符，则返回该字符的代码，该代码使用以下公式从其组成字节的数值计算得出：</p><pre data-lang="clike" class="programlisting">  (1st byte code)
+ (2nd byte code * 256)
+ (3rd byte code * 256^2) ...
</pre><p>
                If the leftmost character is not a multibyte character,
                <a class="link" href="functions.html#function_ord"><code class="literal">ORD()</code></a> returns the same value as
                the <a class="link" href="functions.html#function_ascii"><code class="literal">ASCII()</code></a> function.
            </p><p style="color:blue;">如果最左边的字符不是多字节字符，则ord（）返回与ascii（）函数相同的值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ORD('2');</code></strong>
        -&gt; 50
</pre></li><li class="listitem"><a name="function_position"></a><p>
                <a class="indexterm" name="idm140286854528624"></a>

                <a class="link" href="functions.html#function_position"><code class="literal">POSITION(<em class="replaceable"><code>substr</code></em>
                    IN <em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">位置（str中的substr）</p><p>
                <a class="link" href="functions.html#function_position"><code class="literal">POSITION(<em class="replaceable"><code>substr</code></em>
                    IN <em class="replaceable"><code>str</code></em>)</code></a> is a synonym for
                <a class="link" href="functions.html#function_locate"><code class="literal">LOCATE(<em class="replaceable"><code>substr</code></em>,<em class="replaceable"><code>str</code></em>)</code></a>.
            </p><p style="color:blue;">position（substr in str）是locate（substr，str）的同义词。</p></li><li class="listitem"><a name="function_quote"></a><p>
                <a class="indexterm" name="idm140286854516912"></a>

                <a class="link" href="functions.html#function_quote"><code class="literal">QUOTE(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">引用（str）</p><p>
                Quotes a string to produce a result that can be used as a
                properly escaped data value in an SQL statement. The string is
                returned enclosed by single quotation marks and with each
                instance of backslash (<code class="literal">\</code>), single quote
                (<code class="literal">'</code>), ASCII <code class="literal">NUL</code>, and
                Control+Z preceded by a backslash. If the argument is
                <code class="literal">NULL</code>, the return value is the word
                <span class="quote">“<span class="quote">NULL</span>”</span> without enclosing single quotation marks.
            </p><p style="color:blue;">引用一个字符串以生成一个结果，该结果可以用作SQL语句中正确转义的数据值。返回的字符串用单引号括起来，每个反斜杠（\）、单引号（'）、ascii nul和control+z实例前面都有反斜杠。如果参数为空，则返回值为单词“null”，不包含单引号。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT QUOTE('Don\'t!');</code></strong>
        -&gt; 'Don\'t!'
mysql&gt; <strong class="userinput"><code>SELECT QUOTE(NULL);</code></strong>
        -&gt; NULL
</pre><a class="indexterm" name="idm140286854505552"></a><p>
                For comparison, see the quoting rules for literal strings and
                within the C API in <a class="xref" href="language-structure.html#string-literals" title="9.1.1&nbsp;String Literals">Section&nbsp;9.1.1, “String Literals”</a>, and
                <a class="xref" href="connectors-apis.html#mysql-real-escape-string-quote" title="27.8.7.56&nbsp;mysql_real_escape_string_quote()">Section&nbsp;27.8.7.56, “mysql_real_escape_string_quote()”</a>.
            </p><p style="color:blue;">要进行比较，请参阅第9.1.1节“字符串文本”和第27.8.7.56节“mysql_real_escape_string_quote（）”中的文本字符串和C API中的引用规则。</p></li><li class="listitem"><a name="function_repeat"></a><p>
                <a class="indexterm" name="idm140286854500208"></a>

                <a class="link" href="functions.html#function_repeat"><code class="literal">REPEAT(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>count</code></em>)</code></a>
            </p><p style="color:blue;">重复（str，count）</p><p>
                Returns a string consisting of the string
                <em class="replaceable"><code>str</code></em> repeated
                <em class="replaceable"><code>count</code></em> times. If
                <em class="replaceable"><code>count</code></em> is less than 1, returns an
                empty string. Returns <code class="literal">NULL</code> if
                <em class="replaceable"><code>str</code></em> or
                <em class="replaceable"><code>count</code></em> are <code class="literal">NULL</code>.
            </p><p style="color:blue;">返回由字符串str重复计数次数组成的字符串。如果count小于1，则返回空字符串。如果str或count为空，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT REPEAT('MySQL', 3);</code></strong>
        -&gt; 'MySQLMySQLMySQL'
</pre></li><li class="listitem"><a name="function_replace"></a><p>
                <a class="indexterm" name="idm140286854486688"></a>

                <a class="link" href="functions.html#function_replace"><code class="literal">REPLACE(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>from_str</code></em>,<em class="replaceable"><code>to_str</code></em>)</code></a>
            </p><p style="color:blue;">替换（str，from_str，to_str）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em> with all
                occurrences of the string <em class="replaceable"><code>from_str</code></em>
                replaced by the string <em class="replaceable"><code>to_str</code></em>.
                <a class="link" href="functions.html#function_replace"><code class="literal">REPLACE()</code></a> performs a
                case-sensitive match when searching for
                <em class="replaceable"><code>from_str</code></em>.
            </p><p style="color:blue;">返回字符串str，其中字符串from_str替换为字符串to_str。replace（）在搜索from_str时执行区分大小写的匹配。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT REPLACE('www.mysql.com', 'w', 'Ww');</code></strong>
        -&gt; 'WwWwWw.mysql.com'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_reverse"></a><p>
                <a class="indexterm" name="idm140286854472832"></a>

                <a class="link" href="functions.html#function_reverse"><code class="literal">REVERSE(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">反向（str）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em> with the
                order of the characters reversed.
            </p><p style="color:blue;">返回字符串str，其字符顺序颠倒。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT REVERSE('abc');</code></strong>
        -&gt; 'cba'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_right"></a><p>
                <a class="indexterm" name="idm140286854462544"></a>

                <a class="link" href="functions.html#function_right"><code class="literal">RIGHT(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>len</code></em>)</code></a>
            </p><p style="color:blue;">右（str，len）</p><p>
                Returns the rightmost <em class="replaceable"><code>len</code></em>
                characters from the string <em class="replaceable"><code>str</code></em>, or
                <code class="literal">NULL</code> if any argument is
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">从字符串str返回最右边的len字符，如果任何参数为null，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT RIGHT('foobarbar', 4);</code></strong>
        -&gt; 'rbar'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_rpad"></a><p>
                <a class="indexterm" name="idm140286854450016"></a>

                <a class="link" href="functions.html#function_rpad"><code class="literal">RPAD(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>len</code></em>,<em class="replaceable"><code>padstr</code></em>)</code></a>
            </p><p style="color:blue;">rpad（str，len，padstr）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em>,
                right-padded with the string <em class="replaceable"><code>padstr</code></em>
                to a length of <em class="replaceable"><code>len</code></em> characters. If
                <em class="replaceable"><code>str</code></em> is longer than
                <em class="replaceable"><code>len</code></em>, the return value is shortened
                to <em class="replaceable"><code>len</code></em> characters.
            </p><p style="color:blue;">返回字符串str，用字符串padstr右填充，长度为len个字符。如果str长于len，则返回值将缩短为len个字符。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT RPAD('hi',5,'?');</code></strong>
        -&gt; 'hi???'
mysql&gt; <strong class="userinput"><code>SELECT RPAD('hi',1,'?');</code></strong>
        -&gt; 'h'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_rtrim"></a><p>
                <a class="indexterm" name="idm140286854435936"></a>

                <a class="link" href="functions.html#function_rtrim"><code class="literal">RTRIM(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">RTRIM（街道）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em> with
                trailing space characters removed.
            </p><p style="color:blue;">返回删除了尾随空格字符的字符串str。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT RTRIM('barbar   ');</code></strong>
        -&gt; 'barbar'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_soundex"></a><p>
                <a class="indexterm" name="idm140286854425632"></a>

                <a class="link" href="functions.html#function_soundex"><code class="literal">SOUNDEX(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">Soundex（街道）</p><p>
                Returns a soundex string from <em class="replaceable"><code>str</code></em>.
                Two strings that sound almost the same should have identical
                soundex strings. A standard soundex string is four characters
                long, but the <a class="link" href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a>
                function returns an arbitrarily long string. You can use
                <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> on the result to
                get a standard soundex string. All nonalphabetic characters in
                <em class="replaceable"><code>str</code></em> are ignored. All international
                alphabetic characters outside the A-Z range are treated as
                vowels.
            </p><p style="color:blue;">从str返回soundex字符串。听起来几乎相同的两个字符串应该具有相同的soundex字符串。标准的soundex字符串有四个字符长，但是soundex（）函数返回任意长的字符串。可以对结果使用substring（）来获取标准的soundex字符串。str中的所有非字母字符都被忽略。a-z范围以外的所有国际字母字符都被视为元音。</p>
                <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Important
                    </div>
                    <p>
                        When using <a class="link" href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a>, you
                        should be aware of the following limitations:
                    </p><p style="color:blue;">使用soundex（）时，应注意以下限制：</p>
                </div>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        This function, as currently implemented, is intended to
                        work well with strings that are in the English language
                        only. Strings in other languages may not produce reliable
                        results.
                    </p><p style="color:blue;">此函数（如当前实现的）旨在处理仅使用英语的字符串。其他语言中的字符串可能不会产生可靠的结果。</p></li><li class="listitem"><p>
                        This function is not guaranteed to provide consistent
                        results with strings that use multibyte character sets,
                        including <code class="literal">utf-8</code>. See Bug #22638 for
                        more information.
                    </p><p style="color:blue;">此函数不能保证提供与使用多字节字符集（包括utf-8）的字符串一致的结果。有关详细信息，请参见Bug 22638。</p></li></ul>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SOUNDEX('Hello');</code></strong>
        -&gt; 'H400'
mysql&gt; <strong class="userinput"><code>SELECT SOUNDEX('Quadratically');</code></strong>
        -&gt; 'Q36324'
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        This function implements the original Soundex algorithm, not
                        the more popular enhanced version (also described by D.
                        Knuth). The difference is that original version discards
                        vowels first and duplicates second, whereas the enhanced
                        version discards duplicates first and vowels second.
                    </p><p style="color:blue;">这个函数实现了原来的soundex算法，而不是更流行的增强版本（也由d.knuth描述）。不同的是，原始版本先丢弃元音，然后再丢弃重复的元音，而增强版本先丢弃重复的元音，然后丢弃元音。</p>
                </div>
            </li><li class="listitem"><a name="operator_sounds-like"></a><p>
                <a class="indexterm" name="idm140286854404624"></a>

                <a class="link" href="functions.html#operator_sounds-like"><code class="literal"><em class="replaceable"><code>expr1</code></em>
                    SOUNDS LIKE <em class="replaceable"><code>expr2</code></em></code></a>
            </p><p style="color:blue;">expr1听起来像expr2</p><p>
                This is the same as
                <a class="link" href="functions.html#function_soundex"><code class="literal">SOUNDEX(<em class="replaceable"><code>expr1</code></em>)
                    = SOUNDEX(<em class="replaceable"><code>expr2</code></em>)</code></a>.
            </p><p style="color:blue;">这与soundex（expr1）=soundex（expr2）相同。</p></li><li class="listitem"><a name="function_space"></a><p>
                <a class="indexterm" name="idm140286854395120"></a>

                <a class="link" href="functions.html#function_space"><code class="literal">SPACE(<em class="replaceable"><code>N</code></em>)</code></a>
            </p><p style="color:blue;">间距（N）</p><p>
                Returns a string consisting of <em class="replaceable"><code>N</code></em>
                space characters.
            </p><p style="color:blue;">返回由n个空格字符组成的字符串。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SPACE(6);</code></strong>
        -&gt; '      '
</pre></li><li class="listitem"><a name="function_substr"></a><p>
                <a class="indexterm" name="idm140286854385296"></a>

                <a class="link" href="functions.html#function_substr"><code class="literal">SUBSTR(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>)</code></a>,
                <a class="link" href="functions.html#function_substr"><code class="literal">SUBSTR(<em class="replaceable"><code>str</code></em>
                    FROM <em class="replaceable"><code>pos</code></em>)</code></a>,
                <a class="link" href="functions.html#function_substr"><code class="literal">SUBSTR(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>,<em class="replaceable"><code>len</code></em>)</code></a>,
                <a class="link" href="functions.html#function_substr"><code class="literal">SUBSTR(<em class="replaceable"><code>str</code></em>
                    FROM <em class="replaceable"><code>pos</code></em> FOR
                    <em class="replaceable"><code>len</code></em>)</code></a>
            </p><p style="color:blue;">substr（str，pos）、substr（str from pos）、substr（str，pos，len）、substr（str from pos for len）</p><p>
                <a class="link" href="functions.html#function_substr"><code class="literal">SUBSTR()</code></a> is a synonym for
                <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a>.
            </p><p style="color:blue;">substr（）是substring（）的同义词。</p></li><li class="listitem"><a name="function_substring"></a><p>
                <a class="indexterm" name="idm140286854368416"></a>

                <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>)</code></a>,
                <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING(<em class="replaceable"><code>str</code></em>
                    FROM <em class="replaceable"><code>pos</code></em>)</code></a>,
                <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pos</code></em>,<em class="replaceable"><code>len</code></em>)</code></a>,
                <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING(<em class="replaceable"><code>str</code></em>
                    FROM <em class="replaceable"><code>pos</code></em> FOR
                    <em class="replaceable"><code>len</code></em>)</code></a>
            </p><p style="color:blue;">子串（str，pos）、子串（str from pos）、子串（str，pos，len）、子串（str from pos for len）</p><p>
                The forms without a <em class="replaceable"><code>len</code></em> argument
                return a substring from string <em class="replaceable"><code>str</code></em>
                starting at position <em class="replaceable"><code>pos</code></em>. The forms
                with a <em class="replaceable"><code>len</code></em> argument return a
                substring <em class="replaceable"><code>len</code></em> characters long from
                string <em class="replaceable"><code>str</code></em>, starting at position
                <em class="replaceable"><code>pos</code></em>. The forms that use
                <code class="literal">FROM</code> are standard SQL syntax. It is also
                possible to use a negative value for
                <em class="replaceable"><code>pos</code></em>. In this case, the beginning of
                the substring is <em class="replaceable"><code>pos</code></em> characters
                from the end of the string, rather than the beginning. A
                negative value may be used for <em class="replaceable"><code>pos</code></em>
                in any of the forms of this function.
            </p><p style="color:blue;">不带len参数的窗体从字符串str返回一个子字符串，从位置pos开始。带len参数的窗体从字符串str返回一个子字符串len字符，从位置pos开始。使用from的窗体是标准的sql语法。也可以对pos使用负值。在这种情况下，子字符串的开头是字符串末尾的pos字符，而不是开头。此函数的任何形式的pos都可以使用负值。</p><p>
                For all forms of <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a>,
                the position of the first character in the string from which
                the substring is to be extracted is reckoned as
                <code class="literal">1</code>.
            </p><p style="color:blue;">对于所有形式的substring（），要从中提取子字符串的字符串中第一个字符的位置计算为1。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING('Quadratically',5);</code></strong>
        -&gt; 'ratically'
mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING('foobarbar' FROM 4);</code></strong>
        -&gt; 'barbar'
mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING('Quadratically',5,6);</code></strong>
        -&gt; 'ratica'
mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING('Sakila', -3);</code></strong>
        -&gt; 'ila'
mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING('Sakila', -5, 3);</code></strong>
        -&gt; 'aki'
mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING('Sakila' FROM -4 FOR 2);</code></strong>
        -&gt; 'ki'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p><p>
                If <em class="replaceable"><code>len</code></em> is less than 1, the result
                is the empty string.
            </p><p style="color:blue;">如果len小于1，则结果为空字符串。</p></li><li class="listitem"><a name="function_substring-index"></a><p>
                <a class="indexterm" name="idm140286854338640"></a>

                <a class="link" href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>delim</code></em>,<em class="replaceable"><code>count</code></em>)</code></a>
            </p><p style="color:blue;">子串索引（str、delim、count）</p><p>
                Returns the substring from string
                <em class="replaceable"><code>str</code></em> before
                <em class="replaceable"><code>count</code></em> occurrences of the delimiter
                <em class="replaceable"><code>delim</code></em>. If
                <em class="replaceable"><code>count</code></em> is positive, everything to
                the left of the final delimiter (counting from the left) is
                returned. If <em class="replaceable"><code>count</code></em> is negative,
                everything to the right of the final delimiter (counting from
                the right) is returned.
                <a class="link" href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX()</code></a> performs a
                case-sensitive match when searching for
                <em class="replaceable"><code>delim</code></em>.
            </p><p style="color:blue;">在分隔符delim出现计数之前，从字符串str返回子字符串。如果count为正，则返回最后一个分隔符左侧的所有内容（从左侧开始计数）。如果count为负，则返回最后一个分隔符右侧的所有内容（从右侧计数）。substring_index（）在搜索delim时执行区分大小写的匹配。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING_INDEX('www.mysql.com', '.', 2);</code></strong>
        -&gt; 'www.mysql'
mysql&gt; <strong class="userinput"><code>SELECT SUBSTRING_INDEX('www.mysql.com', '.', -2);</code></strong>
        -&gt; 'mysql.com'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_to-base64"></a><p>
                <a class="indexterm" name="idm140286854322784"></a>

                <a class="link" href="functions.html#function_to-base64"><code class="literal">TO_BASE64(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">至基础64（str）</p><p>
                Converts the string argument to base-64 encoded form and
                returns the result as a character string with the connection
                character set and collation. If the argument is not a string,
                it is converted to a string before conversion takes place. The
                result is <code class="literal">NULL</code> if the argument is
                <code class="literal">NULL</code>. Base-64 encoded strings can be
                decoded using the <a class="link" href="functions.html#function_from-base64"><code class="literal">FROM_BASE64()</code></a>
                function.
            </p><p style="color:blue;">将字符串参数转换为base-64编码形式，并将结果作为具有连接字符集和排序规则的字符串返回。如果参数不是字符串，则在转换之前将其转换为字符串。如果参数为空，则结果为空。base-64编码的字符串可以使用from-base64（）函数进行解码。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TO_BASE64('abc'), FROM_BASE64(TO_BASE64('abc'));</code></strong>
        -&gt; 'JWJj', 'abc'
</pre><p>
                Different base-64 encoding schemes exist. These are the
                encoding and decoding rules used by
                <a class="link" href="functions.html#function_to-base64"><code class="literal">TO_BASE64()</code></a> and
                <a class="link" href="functions.html#function_from-base64"><code class="literal">FROM_BASE64()</code></a>:
            </p><p style="color:blue;">存在不同的BASE-64编码方案。以下是to-base64（）和from-base64（）使用的编码和解码规则：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        The encoding for alphabet value 62 is
                        <code class="literal">'+'</code>.
                    </p><p style="color:blue;">字母表值62的编码为“+”。</p></li><li class="listitem"><p>
                        The encoding for alphabet value 63 is
                        <code class="literal">'/'</code>.
                    </p><p style="color:blue;">字母表值63的编码为“/”。</p></li><li class="listitem"><p>
                        Encoded output consists of groups of 4 printable
                        characters. Each 3 bytes of the input data are encoded
                        using 4 characters. If the last group is incomplete, it is
                        padded with <code class="literal">'='</code> characters to a length
                        of 4.
                    </p><p style="color:blue;">编码输出由4个可打印字符组成。输入数据的每3个字节使用4个字符进行编码。如果最后一个组不完整，则用“=”字符填充，长度为4。</p></li><li class="listitem"><p>
                        A newline is added after each 76 characters of encoded
                        output to divide long output into multiple lines.
                    </p><p style="color:blue;">在编码输出的每76个字符后添加一个换行符，将长输出分成多行。</p></li><li class="listitem"><p>
                        Decoding recognizes and ignores newline, carriage return,
                        tab, and space.
                    </p><p style="color:blue;">解码识别并忽略换行符、回车符、制表符和空格。</p></li></ul>
                </div>
            </li><li class="listitem"><a name="function_trim"></a><p>
                <a class="indexterm" name="idm140286854299440"></a>

                <a class="link" href="functions.html#function_trim"><code class="literal">TRIM([{BOTH | LEADING | TRAILING}
                    [<em class="replaceable"><code>remstr</code></em>] FROM]
                    <em class="replaceable"><code>str</code></em>)</code></a>,
                <a class="link" href="functions.html#function_trim"><code class="literal">TRIM([<em class="replaceable"><code>remstr</code></em>
                    FROM] <em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">修剪（[{both leading trailing}[remstr]from]str），修剪（[remstr from]str）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em> with all
                <em class="replaceable"><code>remstr</code></em> prefixes or suffixes
                removed. If none of the specifiers <code class="literal">BOTH</code>,
                <code class="literal">LEADING</code>, or <code class="literal">TRAILING</code> is
                given, <code class="literal">BOTH</code> is assumed.
                <em class="replaceable"><code>remstr</code></em> is optional and, if not
                specified, spaces are removed.
            </p><p style="color:blue;">返回删除了所有remstr前缀或后缀的字符串str。如果没有给定任何说明符both、leading或trailing，则假定两者都是。remstr是可选的，如果未指定，则删除空格。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TRIM('  bar   ');</code></strong>
        -&gt; 'bar'
mysql&gt; <strong class="userinput"><code>SELECT TRIM(LEADING 'x' FROM 'xxxbarxxx');</code></strong>
        -&gt; 'barxxx'
mysql&gt; <strong class="userinput"><code>SELECT TRIM(BOTH 'x' FROM 'xxxbarxxx');</code></strong>
        -&gt; 'bar'
mysql&gt; <strong class="userinput"><code>SELECT TRIM(TRAILING 'xyz' FROM 'barxxyz');</code></strong>
        -&gt; 'barx'
</pre><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p></li><li class="listitem"><a name="function_ucase"></a><p>
                <a class="indexterm" name="idm140286854280384"></a>

                <a class="link" href="functions.html#function_ucase"><code class="literal">UCASE(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">UCase（街道）</p><p>
                <a class="link" href="functions.html#function_ucase"><code class="literal">UCASE()</code></a> is a synonym for
                <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a>.
            </p><p style="color:blue;">ucase（）是upper（）的同义词。</p><p>
                In MySQL 5.7, <code class="literal">UCASE()</code> used in
                a view is rewritten as <code class="literal">UPPER()</code> when storing
                the view's definition. (Bug #12844279)
            </p><p style="color:blue;">在mysql 5.7中，在存储视图定义时，视图中使用的ucase（）被重写为upper（）。（错误12844279）</p></li><li class="listitem"><a name="function_unhex"></a><p>
                <a class="indexterm" name="idm140286854268800"></a>

                <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">UNHEX（街道）</p><p>
                For a string argument <em class="replaceable"><code>str</code></em>,
                <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX(<em class="replaceable"><code>str</code></em>)</code></a>
                interprets each pair of characters in the argument as a
                hexadecimal number and converts it to the byte represented by
                the number. The return value is a binary string.
            </p><p style="color:blue;">对于字符串参数str，unhex（str）将参数中的每一对字符解释为十六进制数，并将其转换为数字所表示的字节。返回值是二进制字符串。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UNHEX('4D7953514C');</code></strong>
        -&gt; 'MySQL'
mysql&gt; <strong class="userinput"><code>SELECT X'4D7953514C';</code></strong>
        -&gt; 'MySQL'
mysql&gt; <strong class="userinput"><code>SELECT UNHEX(HEX('string'));</code></strong>
        -&gt; 'string'
mysql&gt; <strong class="userinput"><code>SELECT HEX(UNHEX('1267'));</code></strong>
        -&gt; '1267'
</pre><p>
                The characters in the argument string must be legal
                hexadecimal digits: <code class="literal">'0'</code> ..
                <code class="literal">'9'</code>, <code class="literal">'A'</code> ..
                <code class="literal">'F'</code>, <code class="literal">'a'</code> ..
                <code class="literal">'f'</code>. If the argument contains any
                nonhexadecimal digits, the result is <code class="literal">NULL</code>:
            </p><p style="color:blue;">参数字符串中的字符必须是合法的十六进制数字：“0”…'9，“A”…'“F”、“A”…”F英尺。如果参数包含任何非十六进制数字，则结果为空：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UNHEX('GG');</code></strong>
+-------------+
| UNHEX('GG') |
+-------------+
| NULL        |
+-------------+
</pre><p>
                A <code class="literal">NULL</code> result can occur if the argument to
                <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> is a
                <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a> column, because values
                are padded with 0x00 bytes when stored but those bytes are not
                stripped on retrieval. For example, <code class="literal">'41'</code> is
                stored into a <code class="literal">CHAR(3)</code> column as
                <code class="literal">'41&nbsp;'</code> and retrieved as
                <code class="literal">'41'</code> (with the trailing pad space
                stripped), so <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> for the
                column value returns <code class="literal">'A'</code>. By contrast
                <code class="literal">'41'</code> is stored into a
                <code class="literal">BINARY(3)</code> column as
                <code class="literal">'41\0'</code> and retrieved as
                <code class="literal">'41\0'</code> (with the trailing pad
                <code class="literal">0x00</code> byte not stripped).
                <code class="literal">'\0'</code> is not a legal hexadecimal digit, so
                <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> for the column value
                returns <code class="literal">NULL</code>.
            </p><p style="color:blue;">如果unhex（）的参数是二进制列，则可能会出现空结果，因为存储值时会用0x00字节填充，但检索时不会去除这些字节。例如，“41”作为“41”存储在char（3）列中，并作为“41”检索（去掉尾随空格），因此列值的unhex（）返回“a”。相比之下，“41”作为“41\0”存储在二进制（3）列中，并作为“41\0”检索（尾随的pad 0x00字节未剥离）。\ 0'不是合法的十六进制数字，因此列值的unhex（）返回null。</p><p>
                For a numeric argument <em class="replaceable"><code>N</code></em>, the
                inverse of
                <a class="link" href="functions.html#function_hex"><code class="literal">HEX(<em class="replaceable"><code>N</code></em>)</code></a>
                is not performed by <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a>.
                Use
                <a class="link" href="functions.html#function_conv"><code class="literal">CONV(HEX(<em class="replaceable"><code>N</code></em>),16,10)</code></a>
                instead. See the description of
                <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a>.
            </p><p style="color:blue;">对于数值参数n，unhex（）不执行十六进制（n）的逆运算。改用conv（十六进制，16，10）。请参见hex（）的说明。</p></li><li class="listitem"><a name="function_upper"></a><p>
                <a class="indexterm" name="idm140286854225920"></a>

                <a class="link" href="functions.html#function_upper"><code class="literal">UPPER(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">上部（str）</p><p>
                Returns the string <em class="replaceable"><code>str</code></em> with all
                characters changed to uppercase according to the current
                character set mapping. The default is
                <code class="literal">latin1</code> (cp1252 West European).
            </p><p style="color:blue;">返回字符串str，其中所有字符都根据当前字符集映射更改为大写。默认值为Latin1（CP1252西欧）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UPPER('Hej');</code></strong>
        -&gt; 'HEJ'
</pre><p>
                See the description of <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a>
                for information that also applies to
                <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a>. This included
                information about how to perform lettercase conversion of
                binary strings (<a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
                <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>,
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a>) for which these functions
                are ineffective, and information about case folding for
                Unicode character sets.
            </p><p style="color:blue;">有关也适用于upper（）的信息，请参见lower（）的说明。这包括有关如何对这些函数无效的二进制字符串（binary、varbinary、blob）执行字母大小写转换的信息，以及有关unicode字符集的大小写折叠的信息。</p><p>
                This function is multibyte safe.
            </p><p style="color:blue;">此函数是多字节安全的。</p><p>
                In previous versions of MySQL, <code class="literal">UPPER()</code> used
                within a view was rewritten as
                <a class="link" href="functions.html#function_ucase"><code class="literal">UCASE()</code></a> when storing the
                view's definition. In MySQL 5.7,
                <code class="literal">UPPER()</code> is never rewritten in such cases,
                but <code class="literal">UCASE()</code> used within views is instead
                rewritten as <code class="literal">UPPER()</code>. (Bug #12844279)
            </p><p style="color:blue;">在以前的mysql版本中，在存储视图定义时，视图中使用的upper（）被重写为ucase（）。在mysql 5.7中，在这种情况下，upper（）不会被重写，但是视图中使用的ucase（）会被重写为upper（）。（错误12844279）</p></li><li class="listitem"><a name="function_weight-string"></a><p>
                <a class="indexterm" name="idm140286854203760"></a>

                <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING(<em class="replaceable"><code>str</code></em>
                    [AS {CHAR|BINARY}(<em class="replaceable"><code>N</code></em>)] [LEVEL
                    <em class="replaceable"><code>levels</code></em>]
                    [<em class="replaceable"><code>flags</code></em>])</code></a>
            </p><p style="color:blue;">权重字符串（str[as{char binary}（n）][级别级别][标志]）</p><p>
                <code class="literal"><em class="replaceable"><code>levels</code></em>:
                    <em class="replaceable"><code>N</code></em> [ASC|DESC|REVERSE] [,
                    <em class="replaceable"><code>N</code></em> [ASC|DESC|REVERSE]] ...</code>
            </p><p style="color:blue;">等级：N[ASC DESC REVERSE][，N[ASC DESC REVERSE]]…</p><p>
                This function returns the weight string for the input string.
                The return value is a binary string that represents the
                comparison and sorting value of the string. It has these
                properties:
            </p><p style="color:blue;">此函数返回输入字符串的权重字符串。返回值是一个二进制字符串，表示字符串的比较和排序值。它具有以下特性：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        If
                        <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING(<em class="replaceable"><code>str1</code></em>)</code></a>
                        =
                        <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING(<em class="replaceable"><code>str2</code></em>)</code></a>,
                        then <code class="literal"><em class="replaceable"><code>str1</code></em> =
                        <em class="replaceable"><code>str2</code></em></code>
                        (<em class="replaceable"><code>str1</code></em> and
                        <em class="replaceable"><code>str2</code></em> are considered equal)
                    </p><p style="color:blue;">如果weight_string（str1）=weight_string（str2），则str1=str2（str1和str2被视为相等）</p></li><li class="listitem"><p>
                        If
                        <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING(<em class="replaceable"><code>str1</code></em>)</code></a>
                        &lt;
                        <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING(<em class="replaceable"><code>str2</code></em>)</code></a>,
                        then <code class="literal"><em class="replaceable"><code>str1</code></em> &lt;
                        <em class="replaceable"><code>str2</code></em></code>
                        (<em class="replaceable"><code>str1</code></em> sorts before
                        <em class="replaceable"><code>str2</code></em>)
                    </p><p style="color:blue;">如果权重字符串（str1）&lt;权重字符串（str2），则str1<str2（str1在str2之前排序）<p></str2（str1在str2之前排序）<p></p></li></ul>
                </div>
                <p>
                    <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> is a debugging
                    function intended for internal use. Its behavior can change
                    without notice between MySQL versions. It can be used for
                    testing and debugging of collations, especially if you are
                    adding a new collation. See
                    <a class="xref" href="charset.html#adding-collation" title="10.14&nbsp;Adding a Collation to a Character Set">Section&nbsp;10.14, “Adding a Collation to a Character Set”</a>.
                </p><p style="color:blue;">weight_string（）是一个内部使用的调试函数。它的行为在mysql版本之间可以改变而无需注意。它可以用于测试和调试排序规则，特别是在添加新排序规则时。参见第10.14节“向字符集添加排序规则”。</p><p>
                    This list briefly summarizes the arguments. More details are
                    given in the discussion following the list.
                </p><p style="color:blue;">此列表简要总结了这些论点。下面的讨论中给出了更多的细节。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <em class="replaceable"><code>str</code></em>: The input string
                        expression.
                    </p><p style="color:blue;">str：输入字符串表达式。</p></li><li class="listitem"><p>
                        <code class="literal">AS</code> clause: Optional; cast the input
                        string to a given type and length.
                    </p><p style="color:blue;">as子句：可选；将输入字符串转换为给定的类型和长度。</p></li><li class="listitem"><p>
                        <code class="literal">LEVEL</code> clause: Optional; specify weight
                        levels for the return value.
                    </p><p style="color:blue;">level子句：可选；指定返回值的权重级别。</p></li><li class="listitem"><p>
                        <em class="replaceable"><code>flags</code></em>: Optional; unused.
                    </p><p style="color:blue;">标志：可选；未使用。</p></li></ul>
                </div>
                <p>
                    The input string, <em class="replaceable"><code>str</code></em>, is a string
                    expression. If the input is a nonbinary (character) string
                    such as a <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
                    <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, or
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> value, the return value
                    contains the collation weights for the string. If the input is
                    a binary (byte) string such as a
                    <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
                    <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, or
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> value, the return value is
                    the same as the input (the weight for each byte in a binary
                    string is the byte value). If the input is
                    <code class="literal">NULL</code>,
                    <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">输入字符串str是一个字符串表达式。如果输入是非二进制（字符）字符串，如char、varchar或文本值，则返回值包含字符串的排序规则权重。如果输入是二进制（字节）字符串，例如二进制、varbinary或blob值，则返回值与输入相同（二进制字符串中每个字节的权重是字节值）。如果输入为空，weight_string（）将返回空。</p><p>
                    Examples:
                </p><p style="color:blue;">示例：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @s = _latin1 'AB' COLLATE latin1_swedish_ci;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @s, HEX(@s), HEX(WEIGHT_STRING(@s));</code></strong>
+------+---------+------------------------+
| @s   | HEX(@s) | HEX(WEIGHT_STRING(@s)) |
+------+---------+------------------------+
| AB   | 4142    | 4142                   |
+------+---------+------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @s = _latin1 'ab' COLLATE latin1_swedish_ci;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @s, HEX(@s), HEX(WEIGHT_STRING(@s));</code></strong>
+------+---------+------------------------+
| @s   | HEX(@s) | HEX(WEIGHT_STRING(@s)) |
+------+---------+------------------------+
| ab   | 6162    | 4142                   |
+------+---------+------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @s = CAST('AB' AS BINARY);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @s, HEX(@s), HEX(WEIGHT_STRING(@s));</code></strong>
+------+---------+------------------------+
| @s   | HEX(@s) | HEX(WEIGHT_STRING(@s)) |
+------+---------+------------------------+
| AB   | 4142    | 4142                   |
+------+---------+------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @s = CAST('ab' AS BINARY);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @s, HEX(@s), HEX(WEIGHT_STRING(@s));</code></strong>
+------+---------+------------------------+
| @s   | HEX(@s) | HEX(WEIGHT_STRING(@s)) |
+------+---------+------------------------+
| ab   | 6162    | 6162                   |
+------+---------+------------------------+
</pre><p>
                    The preceding examples use
                    <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a> to display the
                    <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> result. Because
                    the result is a binary value,
                    <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a> can be especially useful
                    when the result contains nonprinting values, to display it in
                    printable form:
                </p><p style="color:blue;">前面的示例使用hex（）来显示weight_string（）结果。由于结果是二进制值，因此hex（）在结果包含非打印值时特别有用，以便以可打印形式显示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @s = CONVERT(X'C39F' USING utf8) COLLATE utf8_czech_ci;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(@s));</code></strong>
+------------------------+
| HEX(WEIGHT_STRING(@s)) |
+------------------------+
| 0FEA0FEA               |
+------------------------+
</pre><p>
                    For non-<code class="literal">NULL</code> return values, the data type
                    of the value is <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> if
                    its length is within the maximum length for
                    <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, otherwise the data
                    type is <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a>.
                </p><p style="color:blue;">对于非空返回值，如果其长度在ValBoin的最大长度内，则该值的数据类型为ValBoice，否则数据类型为BLUB。</p><p>
                    The <code class="literal">AS</code> clause may be given to cast the
                    input string to a nonbinary or binary string and to force it
                    to a given length:
                </p><p style="color:blue;">可以使用as子句将输入字符串强制转换为非二进制或二进制字符串并将其强制转换为给定长度：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <code class="literal">AS CHAR(<em class="replaceable"><code>N</code></em>)</code>
                        casts the string to a nonbinary string and pads it on the
                        right with spaces to a length of
                        <em class="replaceable"><code>N</code></em> characters.
                        <em class="replaceable"><code>N</code></em> must be at least 1. If
                        <em class="replaceable"><code>N</code></em> is less than the length of
                        the input string, the string is truncated to
                        <em class="replaceable"><code>N</code></em> characters. No warning occurs
                        for truncation.
                    </p><p style="color:blue;">as char（n）将字符串强制转换为非二进制字符串，并在右侧用空格将其填充到n个字符的长度。n必须至少为1。如果n小于输入字符串的长度，则该字符串将被截断为n个字符。没有发生截断警告。</p></li><li class="listitem"><p>
                        <code class="literal">AS BINARY(<em class="replaceable"><code>N</code></em>)</code>
                        is similar but casts the string to a binary string,
                        <em class="replaceable"><code>N</code></em> is measured in bytes (not
                        characters), and padding uses <code class="literal">0x00</code>
                        bytes (not spaces).
                    </p><p style="color:blue;">由于binary（n）与binary（n）相似，但将字符串强制转换为binary字符串，因此n以字节（而不是字符）度量，padding使用0x00字节（而不是空格）。</p></li></ul>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'latin1';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING('ab' AS CHAR(4)));</code></strong>
+-------------------------------------+
| HEX(WEIGHT_STRING('ab' AS CHAR(4))) |
+-------------------------------------+
| 41422020                            |
+-------------------------------------+
mysql&gt; <strong class="userinput"><code>SET NAMES 'utf8';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING('ab' AS CHAR(4)));</code></strong>
+-------------------------------------+
| HEX(WEIGHT_STRING('ab' AS CHAR(4))) |
+-------------------------------------+
| 0041004200200020                    |
+-------------------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING('ab' AS BINARY(4)));</code></strong>
+---------------------------------------+
| HEX(WEIGHT_STRING('ab' AS BINARY(4))) |
+---------------------------------------+
| 61620000                              |
+---------------------------------------+
</pre><p>
                    The <code class="literal">LEVEL</code> clause may be given to specify
                    that the return value should contain weights for specific
                    collation levels.
                </p><p style="color:blue;">level子句可以指定返回值应包含特定排序规则级别的权重。</p><p>
                    The <em class="replaceable"><code>levels</code></em> specifier following the
                    <code class="literal">LEVEL</code> keyword may be given either as a list
                    of one or more integers separated by commas, or as a range of
                    two integers separated by a dash. Whitespace around the
                    punctuation characters does not matter.
                </p><p style="color:blue;">level关键字后面的levels说明符可以是一个用逗号分隔的一个或多个整数的列表，也可以是用破折号分隔的两个整数的范围。标点字符周围的空格无关紧要。</p><p>
                    Examples:
                </p><p style="color:blue;">示例：</p><pre data-lang="sql" class="programlisting">LEVEL 1
LEVEL 2, 3, 5
LEVEL 1-3
</pre><p>
                    Any level less than 1 is treated as 1. Any level greater than
                    the maximum for the input string collation is treated as
                    maximum for the collation. The maximum varies per collation,
                    but is never greater than 6.
                </p><p style="color:blue;">任何小于1的级别都被视为1。对于排序规则来说，大于输入字符串排序的最大值的任何级别都被视为最大值。每个排序的最大值不同，但永远不大于6。</p><p>
                    In a list of levels, levels must be given in increasing order.
                    In a range of levels, if the second number is less than the
                    first, it is treated as the first number (for example, 4-2 is
                    the same as 4-4).
                </p><p style="color:blue;">在级别列表中，级别必须按递增顺序给出。在一系列级别中，如果第二个数小于第一个数，则将其视为第一个数（例如，4-2与4-4相同）。</p><p>
                    If the <code class="literal">LEVEL</code> clause is omitted, MySQL
                    assumes <code class="literal">LEVEL 1 -
                    <em class="replaceable"><code>max</code></em></code>, where
                    <em class="replaceable"><code>max</code></em> is the maximum level for the
                    collation.
                </p><p style="color:blue;">如果省略Lead子句，MySQL假定级别为1 -max，其中max是排序的最大级别。</p><p>
                    If <code class="literal">LEVEL</code> is specified using list syntax
                    (not range syntax), any level number can be followed by these
                    modifiers:
                </p><p style="color:blue;">如果使用列表语法（而不是范围语法）指定级别，则任何级别号都可以后跟以下修饰符：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <code class="literal">ASC</code>: Return the weights without
                        modification. This is the default.
                    </p><p style="color:blue;">ASC：返回权重而不进行修改。这是默认设置。</p></li><li class="listitem"><p>
                        <code class="literal">DESC</code>: Return bitwise-inverted weights
                        (for example, <code class="literal">0x78f0 DESC</code> =
                        <code class="literal">0x870f</code>).
                    </p><p style="color:blue;">desc：返回按位反转的权重（例如，0x78f0 desc=0x870f）。</p></li><li class="listitem"><p>
                        <code class="literal">REVERSE</code>: Return the weights in reverse
                        order (that is,the weights for the reversed string, with
                        the first character last and the last first).
                    </p><p style="color:blue;">反转：按相反的顺序返回权重（即，反转字符串的权重，第一个字符在后面，最后一个字符在前面）。</p></li></ul>
                </div>
                <p>
                    Examples:
                </p><p style="color:blue;">示例：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(0x007fff LEVEL 1));</code></strong>
+--------------------------------------+
| HEX(WEIGHT_STRING(0x007fff LEVEL 1)) |
+--------------------------------------+
| 007FFF                               |
+--------------------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(0x007fff LEVEL 1 DESC));</code></strong>
+-------------------------------------------+
| HEX(WEIGHT_STRING(0x007fff LEVEL 1 DESC)) |
+-------------------------------------------+
| FF8000                                    |
+-------------------------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(0x007fff LEVEL 1 REVERSE));</code></strong>
+----------------------------------------------+
| HEX(WEIGHT_STRING(0x007fff LEVEL 1 REVERSE)) |
+----------------------------------------------+
| FF7F00                                       |
+----------------------------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(0x007fff LEVEL 1 DESC REVERSE));</code></strong>
+---------------------------------------------------+
| HEX(WEIGHT_STRING(0x007fff LEVEL 1 DESC REVERSE)) |
+---------------------------------------------------+
| 0080FF                                            |
+---------------------------------------------------+
</pre><p>
                    The <em class="replaceable"><code>flags</code></em> clause currently is
                    unused.
                </p><p style="color:blue;">flags子句当前未使用。</p></li></ul>
        </div>

        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="string-comparison-functions"></a>12.5.1&nbsp;String Comparison Functions and Operators</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286854097392"></a><a class="indexterm" name="idm140286854096352"></a><a class="indexterm" name="idm140286854094864"></a><a class="indexterm" name="idm140286854093776"></a>
            <div class="table">
                <a name="idm140286854092288"></a><p class="title"><b>Table&nbsp;12.8&nbsp;String Comparison Functions and Operators</b></p><p style="color:blue;">表12.8字符串比较函数和运算符</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists string comparison functions and operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a></td>
                        <td>
                            Simple pattern matching
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_not-like"><code class="literal">NOT LIKE</code></a></td>
                        <td>
                            Negation of simple pattern matching
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a></td>
                        <td>
                            Compare two strings
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            If a string function is given a binary string as an argument,
            the resulting string is also a binary string. A number converted
            to a string is treated as a binary string. This affects only
            comparisons.
        </p><p style="color:blue;">如果给字符串函数一个二进制字符串作为参数，则得到的字符串也是一个二进制字符串。转换为字符串的数字被视为二进制字符串。这只影响比较。</p><a class="indexterm" name="idm140286854074768"></a><a class="indexterm" name="idm140286854073280"></a><p>
            Normally, if any expression in a string comparison is case
            sensitive, the comparison is performed in case-sensitive
            fashion.
        </p><p style="color:blue;">通常，如果字符串比较中的任何表达式区分大小写，则以区分大小写的方式执行比较。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_like"></a><p>
                    <a class="indexterm" name="idm140286854068064"></a>

                    <a class="link" href="functions.html#operator_like"><code class="literal"><em class="replaceable"><code>expr</code></em>
                        LIKE <em class="replaceable"><code>pat</code></em> [ESCAPE
                        '<em class="replaceable"><code>escape_char</code></em>']</code></a>
                </p><p style="color:blue;">expr like pat[转义'escape_char']</p><p>
                    Pattern matching using an SQL pattern. Returns
                    <code class="literal">1</code> (<code class="literal">TRUE</code>) or
                    <code class="literal">0</code> (<code class="literal">FALSE</code>). If either
                    <em class="replaceable"><code>expr</code></em> or
                    <em class="replaceable"><code>pat</code></em> is <code class="literal">NULL</code>,
                    the result is <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用sql模式进行模式匹配。返回1（true）或0（false）。如果expr或pat为空，则结果为空。</p><p>
                    The pattern need not be a literal string. For example, it
                    can be specified as a string expression or table column.
                </p><p style="color:blue;">模式不必是文本字符串。例如，可以将其指定为字符串表达式或表列。</p><p>
                    Per the SQL standard, <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a>
                    performs matching on a per-character basis, thus it can
                    produce results different from the
                    <a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a> comparison
                    operator:
                </p><p style="color:blue;">根据sql标准，like基于每个字符执行匹配，因此它可以生成不同于=comparison运算符的结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'ä' LIKE 'ae' COLLATE latin1_german2_ci;</code></strong>
+-----------------------------------------+
| 'ä' LIKE 'ae' COLLATE latin1_german2_ci |
+-----------------------------------------+
|                                       0 |
+-----------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT 'ä' = 'ae' COLLATE latin1_german2_ci;</code></strong>
+--------------------------------------+
| 'ä' = 'ae' COLLATE latin1_german2_ci |
+--------------------------------------+
|                                    1 |
+--------------------------------------+
</pre><p>
                    In particular, trailing spaces are significant, which is not
                    true for <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> or
                    <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> comparisons performed
                    with the <a class="link" href="functions.html#operator_equal"><code class="literal">=</code></a>
                    operator:
                </p><p style="color:blue;">特别是，尾随空格是有意义的，这对于使用=运算符执行的char或varchar比较来说是不正确的：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'a' = 'a ', 'a' LIKE 'a ';</code></strong>
+------------+---------------+
| 'a' = 'a ' | 'a' LIKE 'a ' |
+------------+---------------+
|          1 |             0 |
+------------+---------------+
1 row in set (0.00 sec)
</pre><p>
                    With <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> you can use the
                    following two wildcard characters in the pattern:
                </p><p style="color:blue;">使用like可以在模式中使用以下两个通配符：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">%</code> matches any number of characters,
                            even zero characters.
                        </p><p style="color:blue;">%匹配任意数量的字符，甚至零个字符。</p></li><li class="listitem"><p>
                            <code class="literal">_</code> matches exactly one character.
                        </p><p style="color:blue;">_只匹配一个字符。</p></li></ul>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'David!' LIKE 'David_';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'David!' LIKE '%D%v%';</code></strong>
        -&gt; 1
</pre><p>
                        To test for literal instances of a wildcard character,
                        precede it by the escape character. If you do not specify
                        the <code class="literal">ESCAPE</code> character,
                        <code class="literal">\</code> is assumed.
                    </p><p style="color:blue;">要测试通配符的文本实例，请在通配符前面加转义符。如果未指定转义符，则假定为。</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">\%</code> matches one <code class="literal">%</code>
                            character.
                        </p><p style="color:blue;">\%匹配1%字符。</p></li><li class="listitem"><p>
                            <code class="literal">\_</code> matches one <code class="literal">_</code>
                            character.
                        </p><p style="color:blue;">\匹配一个字符。</p></li></ul>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'David!' LIKE 'David\_';</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'David_' LIKE 'David\_';</code></strong>
        -&gt; 1
</pre><p>
                        To specify a different escape character, use the
                        <code class="literal">ESCAPE</code> clause:
                    </p><p style="color:blue;">要指定不同的转义符，请使用escape子句：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'David_' LIKE 'David|_' ESCAPE '|';</code></strong>
        -&gt; 1
</pre><p>
                        The escape sequence should be empty or one character long.
                        The expression must evaluate as a constant at execution
                        time. If the
                        <a class="link" href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
                        mode is enabled, the sequence cannot be empty.
                    </p><p style="color:blue;">转义序列应为空或一个字符长。表达式在执行时必须作为常量计算。如果启用了无反斜杠转义SQL模式，则序列不能为空。</p><p>
                        The following two statements illustrate that string
                        comparisons are not case-sensitive unless one of the
                        operands is case-sensitive (uses a case-sensitive collation
                        or is a binary string):
                    </p><p style="color:blue;">以下两条语句说明字符串比较不区分大小写，除非其中一个操作数区分大小写（使用区分大小写的排序规则或是二进制字符串）：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'abc' LIKE 'ABC';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'abc' LIKE _latin1 'ABC' COLLATE latin1_general_cs;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'abc' LIKE _latin1 'ABC' COLLATE latin1_bin;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'abc' LIKE BINARY 'ABC';</code></strong>
        -&gt; 0
</pre><p>
                        As an extension to standard SQL, MySQL permits
                        <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> on numeric expressions.
                    </p><p style="color:blue;">作为标准sql的扩展，mysql允许对数值表达式使用like。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 10 LIKE '1%';</code></strong>
        -&gt; 1
</pre>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            Because MySQL uses C escape syntax in strings (for
                            example, <code class="literal">\n</code> to represent a newline
                            character), you must double any <code class="literal">\</code> that
                            you use in <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> strings. For
                            example, to search for <code class="literal">\n</code>, specify it
                            as <code class="literal">\\n</code>. To search for
                            <code class="literal">\</code>, specify it as
                            <code class="literal">\\\\</code>; this is because the backslashes
                            are stripped once by the parser and again when the pattern
                            match is made, leaving a single backslash to be matched
                            against.
                        </p><p style="color:blue;">因为mysql在字符串中使用c转义语法（例如，表示换行符），所以在like字符串中使用的任何字符都必须加倍。例如，若要搜索，请将其指定为“\”。若要搜索，请将其指定为“\”；这是因为反斜杠会被解析器删除一次，然后在进行模式匹配时再次删除，只留下一个要匹配的反斜杠。</p><p>
                        Exception: At the end of the pattern string, backslash can
                        be specified as <code class="literal">\\</code>. At the end of the
                        string, backslash stands for itself because there is
                        nothing following to escape. Suppose that a table contains
                        the following values:
                    </p><p style="color:blue;">异常：在模式字符串的末尾，反斜杠可以指定为\。在字符串的末尾，反斜杠代表它自己，因为后面没有可转义的内容。假设一个表包含以下值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT filename FROM t1;</code></strong>
+--------------+
| filename     |
+--------------+
| C:           |
| C:\          |
| C:\Programs  |
| C:\Programs\ |
+--------------+
</pre><p>
                        To test for values that end with backslash, you can match
                        the values using either of the following patterns:
                    </p><p style="color:blue;">要测试以反斜杠结尾的值，可以使用以下任一模式匹配这些值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT filename, filename LIKE '%\\' FROM t1;</code></strong>
+--------------+---------------------+
| filename     | filename LIKE '%\\' |
+--------------+---------------------+
| C:           |                   0 |
| C:\          |                   1 |
| C:\Programs  |                   0 |
| C:\Programs\ |                   1 |
+--------------+---------------------+

mysql&gt; <strong class="userinput"><code>SELECT filename, filename LIKE '%\\\\' FROM t1;</code></strong>
+--------------+-----------------------+
| filename     | filename LIKE '%\\\\' |
+--------------+-----------------------+
| C:           |                     0 |
| C:\          |                     1 |
| C:\Programs  |                     0 |
| C:\Programs\ |                     1 |
+--------------+-----------------------+
</pre>
                    </div>
                </li><li class="listitem"><a name="operator_not-like"></a><p>
                    <a class="indexterm" name="idm140286853998336"></a>

                    <a class="link" href="functions.html#operator_not-like"><code class="literal"><em class="replaceable"><code>expr</code></em>
                        NOT LIKE <em class="replaceable"><code>pat</code></em> [ESCAPE
                        '<em class="replaceable"><code>escape_char</code></em>']</code></a>
                </p><p style="color:blue;">expr不象pat[escape'escape_char']</p><p>
                    This is the same as <code class="literal">NOT
                    (<em class="replaceable"><code>expr</code></em> LIKE
                    <em class="replaceable"><code>pat</code></em> [ESCAPE
                    '<em class="replaceable"><code>escape_char</code></em>'])</code>.
                </p><p style="color:blue;">这与not相同（expr like pat[escape'escape_char']）。</p>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            Aggregate queries involving <a class="link" href="functions.html#operator_not-like"><code class="literal">NOT
                            LIKE</code></a> comparisons with columns containing
                            <code class="literal">NULL</code> may yield unexpected results. For
                            example, consider the following table and data:
                        </p><p style="color:blue;">与包含空的列进行不相似比较的聚合查询可能会产生意外结果。例如，考虑下表和数据：</p><pre data-lang="sql" class="programlisting">CREATE TABLE foo (bar VARCHAR(10));

INSERT INTO foo VALUES (NULL), (NULL);
</pre><p>
                        The query <code class="literal">SELECT COUNT(*) FROM foo WHERE bar LIKE
                        '%baz%';</code> returns <code class="literal">0</code>. You might
                        assume that <code class="literal">SELECT COUNT(*) FROM foo WHERE bar
                        NOT LIKE '%baz%';</code> would return
                        <code class="literal">2</code>. However, this is not the case: The
                        second query returns <code class="literal">0</code>. This is because
                        <code class="literal">NULL NOT LIKE
                            <em class="replaceable"><code>expr</code></em></code> always returns
                        <code class="literal">NULL</code>, regardless of the value of
                        <em class="replaceable"><code>expr</code></em>. The same is true for
                        aggregate queries involving <code class="literal">NULL</code> and
                        comparisons using
                        <a class="link" href="functions.html#operator_not-regexp"><code class="literal">NOT
                            RLIKE</code></a> or <a class="link" href="functions.html#operator_not-regexp"><code class="literal">NOT
                        REGEXP</code></a>. In such cases, you must test explicitly
                        for <code class="literal">NOT NULL</code> using
                        <a class="link" href="functions.html#operator_or"><code class="literal">OR</code></a> (and not
                        <a class="link" href="functions.html#operator_and"><code class="literal">AND</code></a>), as shown here:
                    </p><p style="color:blue;">查询select count（*）from foo，其中bar like'%baz%'；返回0。您可能假设select count（*）from foo where bar not like'%baz%'；将返回2。但是，情况并非如此：第二个查询返回0。这是因为不管expr的值是多少，与expr不同的null总是返回null。对于涉及null的聚合查询和使用not rlike或not regexp的比较也是如此。在这种情况下，您必须使用or（和not and）显式测试not null，如下所示：</p><pre data-lang="sql" class="programlisting">SELECT COUNT(*) FROM foo WHERE bar NOT LIKE '%baz%' OR bar IS NULL;
</pre>
                    </div>
                </li><li class="listitem"><a name="function_strcmp"></a><p>
                    <a class="indexterm" name="idm140286853970608"></a>

                    <a class="link" href="functions.html#function_strcmp"><code class="literal">STRCMP(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
                </p><p style="color:blue;">strcmp（expr1，expr2）</p><p>
                    <a class="link" href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a> returns
                    <code class="literal">0</code> if the strings are the same,
                    <code class="literal">-1</code> if the first argument is smaller than
                    the second according to the current sort order, and
                    <code class="literal">1</code> otherwise.
                </p><p style="color:blue;">如果字符串相同，strcmp（）返回0；如果根据当前排序顺序，第一个参数小于第二个参数，则返回1；否则返回1。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT STRCMP('text', 'text2');</code></strong>
        -&gt; -1
mysql&gt; <strong class="userinput"><code>SELECT STRCMP('text2', 'text');</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT STRCMP('text', 'text');</code></strong>
        -&gt; 0
</pre><p>
                    <a class="link" href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a> performs the
                    comparison using the collation of the arguments.
                </p><p style="color:blue;">strcmp（）使用参数的排序规则执行比较。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @s1 = _latin1 'x' COLLATE latin1_general_ci;</code></strong>
mysql&gt; <strong class="userinput"><code>SET @s2 = _latin1 'X' COLLATE latin1_general_ci;</code></strong>
mysql&gt; <strong class="userinput"><code>SET @s3 = _latin1 'x' COLLATE latin1_general_cs;</code></strong>
mysql&gt; <strong class="userinput"><code>SET @s4 = _latin1 'X' COLLATE latin1_general_cs;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT STRCMP(@s1, @s2), STRCMP(@s3, @s4);</code></strong>
+------------------+------------------+
| STRCMP(@s1, @s2) | STRCMP(@s3, @s4) |
+------------------+------------------+
|                0 |                1 |
+------------------+------------------+
</pre><p>
                    If the collations are incompatible, one of the arguments
                    must be converted to be compatible with the other. See
                    <a class="xref" href="charset.html#charset-collation-coercibility" title="10.8.4&nbsp;Collation Coercibility in Expressions">Section&nbsp;10.8.4, “Collation Coercibility in Expressions”</a>.
                </p><p style="color:blue;">如果排序规则不兼容，则必须将其中一个参数转换为与另一个参数兼容。见第10.8.4节，“表达式中的排序强制性”。</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT STRCMP(@s1, @s3);</code></strong>
ERROR 1267 (HY000): Illegal mix of collations (latin1_general_ci,IMPLICIT)
and (latin1_general_cs,IMPLICIT) for operation 'strcmp'
mysql&gt; <strong class="userinput"><code>SELECT STRCMP(@s1, @s3 COLLATE latin1_general_ci);</code></strong>
+--------------------------------------------+
| STRCMP(@s1, @s3 COLLATE latin1_general_ci) |
+--------------------------------------------+
|                                          0 |
+--------------------------------------------+
</pre></li></ul>
            </div>

        </div>

        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="regexp"></a>12.5.2&nbsp;Regular Expressions</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286853946192"></a><a class="indexterm" name="idm140286853945120"></a><a class="indexterm" name="idm140286853944048"></a><a class="indexterm" name="idm140286853942960"></a>
            <div class="table">
                <a name="idm140286853941472"></a><p class="title"><b>Table&nbsp;12.9&nbsp;Regular Expression Functions and
                Operators</b></p><p style="color:blue;">表12.9正则表达式函数和运算符</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists regular expression functions and operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_not-regexp"><code class="literal">NOT REGEXP</code></a></td>
                        <td>
                            Negation of REGEXP
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a></td>
                        <td>
                            Whether string matches regular expression
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_regexp"><code class="literal">RLIKE</code></a></td>
                        <td>
                            Whether string matches regular expression
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            A regular expression is a powerful way of specifying a pattern
            for a complex search. This section discusses the operators
            available for regular expression matching and illustrates, with
            examples, some of the special characters and constructs that can
            be used for regular expression operations. See also
            <a class="xref" href="tutorial.html#pattern-matching" title="3.3.4.7&nbsp;Pattern Matching">Section&nbsp;3.3.4.7, “Pattern Matching”</a>.
        </p><p style="color:blue;">正则表达式是为复杂搜索指定模式的强大方法。本节讨论可用于正则表达式匹配的运算符，并举例说明可用于正则表达式操作的一些特殊字符和构造。另见第3.3.4.7节“模式匹配”。</p><p>
            MySQL uses Henry Spencer's implementation of regular
            expressions, which is aimed at conformance with POSIX 1003.2.
            MySQL uses the extended version to support regular expression
            pattern-matching operations in SQL statements. This section does
            not contain all the details that can be found in Henry Spencer's
            <code class="literal">regex(7)</code> manual page. That manual page is
            included in MySQL source distributions, in the
            <code class="filename">regex.7</code> file under the
            <code class="filename">regex</code> directory.
        </p><p style="color:blue;">mysql使用henry spencer的正则表达式实现，其目的是与posix 1003.2保持一致。mysql使用扩展版本来支持sql语句中的正则表达式模式匹配操作。本节不包含亨利·斯宾塞（Henry Spencer）Regex（7）手册页中的所有详细信息。这个手动页面包含在mysql源代码发行版中，在regex目录下的regex.7文件中。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="functions.html#regexp-operators" title="Regular Expression Operators">Regular Expression Operators</a></p><p style="color:blue;">正则表达式运算符</p></li><li class="listitem"><p><a class="xref" href="functions.html#regexp-syntax" title="Regular Expression Syntax">Regular Expression Syntax</a></p><p style="color:blue;">正则表达式语法</p></li></ul>
            </div>

            <div class="simplesect">

                <div class="titlepage">
                    <div>

                        <div class="simple">
                            <h4 class="title"><a name="regexp-operators"></a>Regular Expression Operators</h4>

                        </div>

                    </div>

                </div>

                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_not-regexp"></a><p>
                        <a class="indexterm" name="idm140286853914784"></a>

                        <a class="link" href="functions.html#operator_not-regexp"><code class="literal"><em class="replaceable"><code>expr</code></em>
                            NOT REGEXP <em class="replaceable"><code>pat</code></em></code></a>,
                        <a class="link" href="functions.html#operator_not-regexp"><code class="literal"><em class="replaceable"><code>expr</code></em>
                            NOT RLIKE <em class="replaceable"><code>pat</code></em></code></a>
                    </p><p style="color:blue;">expr不是regexp pat，expr不是rlike pat</p><p>
                        This is the same as <code class="literal">NOT
                        (<em class="replaceable"><code>expr</code></em> REGEXP
                        <em class="replaceable"><code>pat</code></em>)</code>.
                    </p><p style="color:blue;">这与not（expr regexp pat）相同。</p></li><li class="listitem"><a name="operator_regexp"></a><p>
                        <a class="indexterm" name="idm140286853903360"></a>

                        <a class="indexterm" name="idm140286853902288"></a>

                        <a class="link" href="functions.html#operator_regexp"><code class="literal"><em class="replaceable"><code>expr</code></em>
                            REGEXP <em class="replaceable"><code>pat</code></em></code></a>,
                        <a class="link" href="functions.html#operator_regexp"><code class="literal"><em class="replaceable"><code>expr</code></em>
                            RLIKE <em class="replaceable"><code>pat</code></em></code></a>
                    </p><p style="color:blue;">表达式regexp pat，expr rlike pat</p><p>
                        Returns 1 if the string <em class="replaceable"><code>expr</code></em>
                        matches the regular expression specified by the pattern
                        <em class="replaceable"><code>pat</code></em>, 0 otherwise. If either
                        <em class="replaceable"><code>expr</code></em> or
                        <em class="replaceable"><code>pat</code></em> is <code class="literal">NULL</code>,
                        the return value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">如果字符串表达式与pat模式指定的正则表达式匹配，则返回1，否则返回0。如果expr或pat为空，则返回值为空。</p><p>
                        <a class="link" href="functions.html#operator_regexp"><code class="literal">RLIKE</code></a> is a
                        synonym for <a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a>.
                    </p><p style="color:blue;">rlike是regexp的同义词。</p><p>
                        The pattern can be an extended regular expression, the
                        syntax for which is discussed in
                        <a class="xref" href="functions.html#regexp-syntax" title="Regular Expression Syntax">Regular Expression Syntax</a>. The pattern need not be a
                        literal string. For example, it can be specified as a
                        string expression or table column.
                    </p><p style="color:blue;">模式可以是扩展的正则表达式，其语法在正则表达式语法中讨论。模式不必是文本字符串。例如，可以将其指定为字符串表达式或表列。</p>
                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                            <div class="admon-title">
                                Note
                            </div>
                            <p>
                                Because MySQL uses the C escape syntax in strings (for
                                example, <code class="literal">\n</code> to represent the newline
                                character), you must double any <code class="literal">\</code>
                                that you use in your <a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a>
                                arguments.
                            </p><p style="color:blue;">因为mysql在字符串中使用c转义语法（例如，表示换行符），所以必须将regexp参数中使用的任何字符加倍。</p>
                        </div>
                        <p>
                            Regular expression operations use the character set and
                            collation of the string expression and pattern arguments
                            when deciding the type of a character and performing the
                            comparison. If the arguments have different character sets
                            or collations, coercibility rules apply as described in
                            <a class="xref" href="charset.html#charset-collation-coercibility" title="10.8.4&nbsp;Collation Coercibility in Expressions">Section&nbsp;10.8.4, “Collation Coercibility in Expressions”</a>. If
                            either argument is a binary string, the arguments are
                            handled in case-sensitive fashion as binary strings.
                        </p><p style="color:blue;">在决定字符类型和执行比较时，正则表达式操作使用字符串表达式和模式参数的字符集和排序规则。如果参数具有不同的字符集或排序规则，则强制性规则适用于第10.8.4节“表达式中的排序规则强制性”。如果任何一个参数是二进制字符串，则以区分大小写的方式将这些参数作为二进制字符串处理。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'Michael!' REGEXP '.*';</code></strong>
+------------------------+
| 'Michael!' REGEXP '.*' |
+------------------------+
|                      1 |
+------------------------+
mysql&gt; <strong class="userinput"><code>SELECT 'new*\n*line' REGEXP 'new\\*.\\*line';</code></strong>
+---------------------------------------+
| 'new*\n*line' REGEXP 'new\\*.\\*line' |
+---------------------------------------+
|                                     0 |
+---------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT 'a' REGEXP '^[a-d]';</code></strong>
+---------------------+
| 'a' REGEXP '^[a-d]' |
+---------------------+
|                   1 |
+---------------------+
mysql&gt; <strong class="userinput"><code>SELECT 'a' REGEXP 'A', 'a' REGEXP BINARY 'A';</code></strong>
+----------------+-----------------------+
| 'a' REGEXP 'A' | 'a' REGEXP BINARY 'A' |
+----------------+-----------------------+
|              1 |                     0 |
+----------------+-----------------------+
</pre>
                        <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

                            <div class="admon-title">
                                Warning
                            </div>
                            <p>
                                The <a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> and
                                <a class="link" href="functions.html#operator_regexp"><code class="literal">RLIKE</code></a>
                                operators work in byte-wise fashion, so they are not
                                multibyte safe and may produce unexpected results with
                                multibyte character sets. In addition, these operators
                                compare characters by their byte values and accented
                                characters may not compare as equal even if a given
                                collation treats them as equal.
                            </p><p style="color:blue;">regexp和rlike运算符按字节方式工作，因此它们不是多字节安全的，并且可能使用多字节字符集产生意外的结果。此外，这些运算符按字节值比较字符，并且即使给定的排序规则将重音字符视为相等，重音字符也不能比较为相等。</p>
                        </div>
                    </li></ul>
                </div>

            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="regexp-syntax"></a>Regular Expression Syntax</h4>

                        </div>

                    </div>

                </div>
                <p>
                    A regular expression describes a set of strings. The simplest
                    regular expression is one that has no special characters in
                    it. For example, the regular expression
                    <code class="literal">hello</code> matches <code class="literal">hello</code> and
                    nothing else.
                </p><p style="color:blue;">正则表达式描述一组字符串。最简单的正则表达式是没有特殊字符的正则表达式。例如，正则表达式hello与hello和其他任何内容都不匹配。</p><p>
                Nontrivial regular expressions use certain special constructs
                so that they can match more than one string. For example, the
                regular expression <code class="literal">hello|world</code> contains the
                <code class="literal">|</code> alternation operator and matches either
                the <code class="literal">hello</code> or <code class="literal">world</code>.
            </p><p style="color:blue;">非平凡正则表达式使用特定的特殊构造，以便它们可以匹配多个字符串。例如，正则表达式hello world包含alternation运算符，并匹配hello或world。</p><p>
                As a more complex example, the regular expression
                <code class="literal">B[an]*s</code> matches any of the strings
                <code class="literal">Bananas</code>, <code class="literal">Baaaaas</code>,
                <code class="literal">Bs</code>, and any other string starting with a
                <code class="literal">B</code>, ending with an <code class="literal">s</code>, and
                containing any number of <code class="literal">a</code> or
                <code class="literal">n</code> characters in between.
            </p><p style="color:blue;">作为一个更复杂的示例，正则表达式b[a n]*s匹配任何字符串香蕉、baaaas、bs和任何其他以b开头、以s结尾、中间包含任意数量a或n个字符的字符串。</p><p>
                A regular expression for the
                <a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> operator may use any of
                the following special characters and constructs:
            </p><p style="color:blue;">regexp运算符的正则表达式可以使用以下任何特殊字符和结构：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        <code class="literal">^</code>
                    </p><p style="color:blue;">^</p><p>
                        Match the beginning of a string.
                    </p><p style="color:blue;">匹配字符串的开头。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'fo\nfo' REGEXP '^fo$';</code></strong>                   -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'fofo' REGEXP '^fo';</code></strong>                      -&gt; 1
</pre></li><li class="listitem"><p>
                        <code class="literal">$</code>
                    </p><p style="color:blue;">$</p><p>
                        Match the end of a string.
                    </p><p style="color:blue;">匹配字符串的结尾。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'fo\no' REGEXP '^fo\no$';</code></strong>                 -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'fo\no' REGEXP '^fo$';</code></strong>                    -&gt; 0
</pre></li><li class="listitem"><p>
                        <code class="literal">.</code>
                    </p><p style="color:blue;">是的。</p><p>
                        Match any character (including carriage return and
                        newline).
                    </p><p style="color:blue;">匹配任何字符（包括回车和换行符）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'fofo' REGEXP '^f.*$';</code></strong>                    -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'fo\r\nfo' REGEXP '^f.*$';</code></strong>                -&gt; 1
</pre></li><li class="listitem"><p>
                        <code class="literal">a*</code>
                    </p><p style="color:blue;">一个*</p><p>
                        Match any sequence of zero or more <code class="literal">a</code>
                        characters.
                    </p><p style="color:blue;">匹配零个或多个A字符的任何序列。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'Ban' REGEXP '^Ba*n';</code></strong>                     -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'Baaan' REGEXP '^Ba*n';</code></strong>                   -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'Bn' REGEXP '^Ba*n';</code></strong>                      -&gt; 1
</pre></li><li class="listitem"><p>
                        <code class="literal">a+</code>
                    </p><p style="color:blue;">一个+</p><p>
                        Match any sequence of one or more <code class="literal">a</code>
                        characters.
                    </p><p style="color:blue;">匹配一个或多个a字符的任意序列。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'Ban' REGEXP '^Ba+n';</code></strong>                     -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'Bn' REGEXP '^Ba+n';</code></strong>                      -&gt; 0
</pre></li><li class="listitem"><p>
                        <code class="literal">a?</code>
                    </p><p style="color:blue;">一个？</p><p>
                        Match either zero or one <code class="literal">a</code> character.
                    </p><p style="color:blue;">匹配0或1个字符。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'Bn' REGEXP '^Ba?n';</code></strong>                      -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'Ban' REGEXP '^Ba?n';</code></strong>                     -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'Baan' REGEXP '^Ba?n';</code></strong>                    -&gt; 0
</pre></li><li class="listitem"><p>
                        <code class="literal">de|abc</code>
                    </p><p style="color:blue;">德ABC</p><p>
                        Alternation; match either of the sequences
                        <code class="literal">de</code> or <code class="literal">abc</code>.
                    </p><p style="color:blue;">交替；匹配de或abc序列中的任何一个。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'pi' REGEXP 'pi|apa';</code></strong>                     -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'axe' REGEXP 'pi|apa';</code></strong>                    -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'apa' REGEXP 'pi|apa';</code></strong>                    -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'apa' REGEXP '^(pi|apa)$';</code></strong>                -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'pi' REGEXP '^(pi|apa)$';</code></strong>                 -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'pix' REGEXP '^(pi|apa)$';</code></strong>                -&gt; 0
</pre></li><li class="listitem"><p>
                        <code class="literal">(abc)*</code>
                    </p><p style="color:blue;">（ABC）*</p><p>
                        Match zero or more instances of the sequence
                        <code class="literal">abc</code>.
                    </p><p style="color:blue;">匹配序列abc的零个或多个实例。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'pi' REGEXP '^(pi)*$';</code></strong>                    -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'pip' REGEXP '^(pi)*$';</code></strong>                   -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'pipi' REGEXP '^(pi)*$';</code></strong>                  -&gt; 1
</pre></li><li class="listitem"><p>
                        <code class="literal">{1}</code>, <code class="literal">{2,3}</code>
                    </p><p style="color:blue;">{1}，{2,3}</p><p>
                        Repetition;
                        <code class="literal">{<em class="replaceable"><code>n</code></em>}</code> and
                        <code class="literal">{<em class="replaceable"><code>m</code></em>,<em class="replaceable"><code>n</code></em>}</code>
                        notation provide a more general way of writing regular
                        expressions that match many occurrences of the previous
                        atom (or <span class="quote">“<span class="quote">piece</span>”</span>) of the pattern.
                        <em class="replaceable"><code>m</code></em> and
                        <em class="replaceable"><code>n</code></em> are integers.
                    </p><p style="color:blue;">重复；{n}和{m，n}表示法提供了一种更通用的编写正则表达式的方法，这些正则表达式与模式的前一个原子（或“片段”）的许多匹配。m和n是整数。</p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                <code class="literal">a*</code>
                            </p><p style="color:blue;">一个*</p><p>
                                Can be written as <code class="literal">a{0,}</code>.
                            </p><p style="color:blue;">可以写为{0，}。</p></li><li class="listitem"><p>
                                <code class="literal">a+</code>
                            </p><p style="color:blue;">一个+</p><p>
                                Can be written as <code class="literal">a{1,}</code>.
                            </p><p style="color:blue;">可以写成{1，}。</p></li><li class="listitem"><p>
                                <code class="literal">a?</code>
                            </p><p style="color:blue;">一个？</p><p>
                                Can be written as <code class="literal">a{0,1}</code>.
                            </p><p style="color:blue;">可以写为{0,1}。</p></li></ul>
                        </div>
                        <p>
                            To be more precise,
                            <code class="literal">a{<em class="replaceable"><code>n</code></em>}</code> matches
                            exactly <em class="replaceable"><code>n</code></em> instances of
                            <code class="literal">a</code>.
                            <code class="literal">a{<em class="replaceable"><code>n</code></em>,}</code>
                            matches <em class="replaceable"><code>n</code></em> or more instances of
                            <code class="literal">a</code>.
                            <code class="literal">a{<em class="replaceable"><code>m</code></em>,<em class="replaceable"><code>n</code></em>}</code>
                            matches <em class="replaceable"><code>m</code></em> through
                            <em class="replaceable"><code>n</code></em> instances of
                            <code class="literal">a</code>, inclusive. If both
                            <em class="replaceable"><code>m</code></em> and
                            <em class="replaceable"><code>n</code></em> are given,
                            <em class="replaceable"><code>m</code></em> must be less than or equal to
                            <em class="replaceable"><code>n</code></em>.
                        </p><p style="color:blue;">更准确地说，a{n}与a的n个实例完全匹配。a{n，}与a的n个或多个实例完全匹配。a{m，n}与a的m到n个实例（含）匹配。如果m和n都给定，则m必须小于或等于n。</p><p>
                            <em class="replaceable"><code>m</code></em> and
                            <em class="replaceable"><code>n</code></em> must be in the range from
                            <code class="literal">0</code> to <code class="literal">RE_DUP_MAX</code>
                            (default 255), inclusive.
                        </p><p style="color:blue;">m和n必须在0到re-dup-max（默认值255）之间（包括0和n）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'abcde' REGEXP 'a[bcd]{2}e';</code></strong>              -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'abcde' REGEXP 'a[bcd]{3}e';</code></strong>              -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'abcde' REGEXP 'a[bcd]{1,10}e';</code></strong>           -&gt; 1
</pre></li><li class="listitem"><p>
                        <code class="literal">[a-dX]</code>, <code class="literal">[^a-dX]</code>
                    </p><p style="color:blue;">[A-DX]，[A-DX]</p><p>
                        Matches any character that is (or is not, if
                        <code class="literal">^</code> is used) either <code class="literal">a</code>,
                        <code class="literal">b</code>, <code class="literal">c</code>,
                        <code class="literal">d</code> or <code class="literal">X</code>. A
                        <code class="literal">-</code> character between two other
                        characters forms a range that matches all characters from
                        the first character to the second. For example,
                        <code class="literal">[0-9]</code> matches any decimal digit. To
                        include a literal <code class="literal">]</code> character, it must
                        immediately follow the opening bracket
                        <code class="literal">[</code>. To include a literal
                        <code class="literal">-</code> character, it must be written first
                        or last. Any character that does not have a defined
                        special meaning inside a <code class="literal">[]</code> pair
                        matches only itself.
                    </p><p style="color:blue;">匹配任何是（或不是，如果使用^）A、B、C、D或X的字符。两个其他字符之间的A字符形成一个范围，匹配从第一个字符到第二个字符的所有字符。例如，[0-9]匹配任何十进制数字。要包含文字]字符，它必须紧跟在左括号[。要包含文字字符，必须先写或后写。[]对中没有定义特殊含义的任何字符只匹配其自身。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'aXbc' REGEXP '[a-dXYZ]';</code></strong>                 -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'aXbc' REGEXP '^[a-dXYZ]$';</code></strong>               -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'aXbc' REGEXP '^[a-dXYZ]+$';</code></strong>              -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'aXbc' REGEXP '^[^a-dXYZ]+$';</code></strong>             -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'gheis' REGEXP '^[^a-dXYZ]+$';</code></strong>            -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'gheisa' REGEXP '^[^a-dXYZ]+$';</code></strong>           -&gt; 0
</pre></li><li class="listitem"><p>
                        <code class="literal">[.characters.]</code>
                    </p><p style="color:blue;">[字符]</p><p>
                        Within a bracket expression (written using
                        <code class="literal">[</code> and <code class="literal">]</code>), matches
                        the sequence of characters of that collating element.
                        <code class="literal">characters</code> is either a single character
                        or a character name like <code class="literal">newline</code>. The
                        following table lists the permissible character names.
                    </p><p style="color:blue;">在括号表达式（使用[和]编写）中，匹配该排序元素的字符序列。字符可以是单个字符，也可以是像换行符这样的字符名。下表列出了允许的字符名。</p><p>
                        The following table shows the permissible character names
                        and the characters that they match. For characters given
                        as numeric values, the values are represented in octal.
                    </p><p style="color:blue;">下表显示了允许的字符名及其匹配的字符。对于以数值形式给出的字符，这些值以八进制表示。</p>
                        <div class="informaltable">
                            <table summary="Permissible character names and characters they match. To save space, the column pairing of Name and Character are presented in a four column table format in this order: Name, Character, Name, Character. For characters given as numeric values, the values are represented in octal."><colgroup><col width="25%"><col width="25%"><col width="25%"><col width="25%"></colgroup><thead><tr>
                                <th scope="col">Name</th>
                                <th scope="col">Character</th>
                                <th scope="col">Name</th>
                                <th scope="col">Character</th>
                            </tr></thead><tbody><tr>
                                <td scope="row"><code class="literal">NUL</code></td>
                                <td><code class="literal">0</code></td>
                                <td><code class="literal">SOH</code></td>
                                <td><code class="literal">001</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">STX</code></td>
                                <td><code class="literal">002</code></td>
                                <td><code class="literal">ETX</code></td>
                                <td><code class="literal">003</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">EOT</code></td>
                                <td><code class="literal">004</code></td>
                                <td><code class="literal">ENQ</code></td>
                                <td><code class="literal">005</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">ACK</code></td>
                                <td><code class="literal">006</code></td>
                                <td><code class="literal">BEL</code></td>
                                <td><code class="literal">007</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">alert</code></td>
                                <td><code class="literal">007</code></td>
                                <td><code class="literal">BS</code></td>
                                <td><code class="literal">010</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">backspace</code></td>
                                <td><code class="literal">'\b'</code></td>
                                <td><code class="literal">HT</code></td>
                                <td><code class="literal">011</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">tab</code></td>
                                <td><code class="literal">'\t'</code></td>
                                <td><code class="literal">LF</code></td>
                                <td><code class="literal">012</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">newline</code></td>
                                <td><code class="literal">'\n'</code></td>
                                <td><code class="literal">VT</code></td>
                                <td><code class="literal">013</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">vertical-tab</code></td>
                                <td><code class="literal">'\v'</code></td>
                                <td><code class="literal">FF</code></td>
                                <td><code class="literal">014</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">form-feed</code></td>
                                <td><code class="literal">'\f'</code></td>
                                <td><code class="literal">CR</code></td>
                                <td><code class="literal">015</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">carriage-return</code></td>
                                <td><code class="literal">'\r'</code></td>
                                <td><code class="literal">SO</code></td>
                                <td><code class="literal">016</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">SI</code></td>
                                <td><code class="literal">017</code></td>
                                <td><code class="literal">DLE</code></td>
                                <td><code class="literal">020</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">DC1</code></td>
                                <td><code class="literal">021</code></td>
                                <td><code class="literal">DC2</code></td>
                                <td><code class="literal">022</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">DC3</code></td>
                                <td><code class="literal">023</code></td>
                                <td><code class="literal">DC4</code></td>
                                <td><code class="literal">024</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">NAK</code></td>
                                <td><code class="literal">025</code></td>
                                <td><code class="literal">SYN</code></td>
                                <td><code class="literal">026</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">ETB</code></td>
                                <td><code class="literal">027</code></td>
                                <td><code class="literal">CAN</code></td>
                                <td><code class="literal">030</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">EM</code></td>
                                <td><code class="literal">031</code></td>
                                <td><code class="literal">SUB</code></td>
                                <td><code class="literal">032</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">ESC</code></td>
                                <td><code class="literal">033</code></td>
                                <td><code class="literal">IS4</code></td>
                                <td><code class="literal">034</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">FS</code></td>
                                <td><code class="literal">034</code></td>
                                <td><code class="literal">IS3</code></td>
                                <td><code class="literal">035</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">GS</code></td>
                                <td><code class="literal">035</code></td>
                                <td><code class="literal">IS2</code></td>
                                <td><code class="literal">036</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">RS</code></td>
                                <td><code class="literal">036</code></td>
                                <td><code class="literal">IS1</code></td>
                                <td><code class="literal">037</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">US</code></td>
                                <td><code class="literal">037</code></td>
                                <td><code class="literal">space</code></td>
                                <td><code class="literal">'&nbsp;'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">exclamation-mark</code></td>
                                <td><code class="literal">'!'</code></td>
                                <td><code class="literal">quotation-mark</code></td>
                                <td><code class="literal">'"'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">number-sign</code></td>
                                <td><code class="literal">'#'</code></td>
                                <td><code class="literal">dollar-sign</code></td>
                                <td><code class="literal">'$'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">percent-sign</code></td>
                                <td><code class="literal">'%'</code></td>
                                <td><code class="literal">ampersand</code></td>
                                <td><code class="literal">'&amp;'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">apostrophe</code></td>
                                <td><code class="literal">'\''</code></td>
                                <td><code class="literal">left-parenthesis</code></td>
                                <td><code class="literal">'('</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">right-parenthesis</code></td>
                                <td><code class="literal">')'</code></td>
                                <td><code class="literal">asterisk</code></td>
                                <td><code class="literal">'*'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">plus-sign</code></td>
                                <td><code class="literal">'+'</code></td>
                                <td><code class="literal">comma</code></td>
                                <td><code class="literal">','</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">hyphen</code></td>
                                <td><code class="literal">'-'</code></td>
                                <td><code class="literal">hyphen-minus</code></td>
                                <td><code class="literal">'-'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">period</code></td>
                                <td><code class="literal">'.'</code></td>
                                <td><code class="literal">full-stop</code></td>
                                <td><code class="literal">'.'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">slash</code></td>
                                <td><code class="literal">'/'</code></td>
                                <td><code class="literal">solidus</code></td>
                                <td><code class="literal">'/'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">zero</code></td>
                                <td><code class="literal">'0'</code></td>
                                <td><code class="literal">one</code></td>
                                <td><code class="literal">'1'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">two</code></td>
                                <td><code class="literal">'2'</code></td>
                                <td><code class="literal">three</code></td>
                                <td><code class="literal">'3'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">four</code></td>
                                <td><code class="literal">'4'</code></td>
                                <td><code class="literal">five</code></td>
                                <td><code class="literal">'5'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">six</code></td>
                                <td><code class="literal">'6'</code></td>
                                <td><code class="literal">seven</code></td>
                                <td><code class="literal">'7'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">eight</code></td>
                                <td><code class="literal">'8'</code></td>
                                <td><code class="literal">nine</code></td>
                                <td><code class="literal">'9'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">colon</code></td>
                                <td><code class="literal">':'</code></td>
                                <td><code class="literal">semicolon</code></td>
                                <td><code class="literal">';'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">less-than-sign</code></td>
                                <td><code class="literal">'&lt;'</code></td>
                                <td><code class="literal">equals-sign</code></td>
                                <td><code class="literal">'='</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">greater-than-sign</code></td>
                                <td><code class="literal">'&gt;'</code></td>
                                <td><code class="literal">question-mark</code></td>
                                <td><code class="literal">'?'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">commercial-at</code></td>
                                <td><code class="literal">'@'</code></td>
                                <td><code class="literal">left-square-bracket</code></td>
                                <td><code class="literal">'['</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">backslash</code></td>
                                <td><code class="literal">'\\'</code></td>
                                <td><code class="literal">reverse-solidus</code></td>
                                <td><code class="literal">'\\'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">right-square-bracket</code></td>
                                <td><code class="literal">']'</code></td>
                                <td><code class="literal">circumflex</code></td>
                                <td><code class="literal">'^'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">circumflex-accent</code></td>
                                <td><code class="literal">'^'</code></td>
                                <td><code class="literal">underscore</code></td>
                                <td><code class="literal">'_'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">low-line</code></td>
                                <td><code class="literal">'_'</code></td>
                                <td><code class="literal">grave-accent</code></td>
                                <td><code class="literal">'`'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">left-brace</code></td>
                                <td><code class="literal">'{'</code></td>
                                <td><code class="literal">left-curly-bracket</code></td>
                                <td><code class="literal">'{'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">vertical-line</code></td>
                                <td><code class="literal">'|'</code></td>
                                <td><code class="literal">right-brace</code></td>
                                <td><code class="literal">'}'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">right-curly-bracket</code></td>
                                <td><code class="literal">'}'</code></td>
                                <td><code class="literal">tilde</code></td>
                                <td><code class="literal">'~'</code></td>
                            </tr><tr>
                                <td scope="row"><code class="literal">DEL</code></td>
                                <td><code class="literal">177</code></td>
                                <td></td>
                                <td></td>
                            </tr></tbody></table>
                        </div>
                        <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT '~' REGEXP '[[.~.]]';</code></strong>                     -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT '~' REGEXP '[[.tilde.]]';</code></strong>                 -&gt; 1
</pre></li><li class="listitem"><p>
                        <code class="literal">[=character_class=]</code>
                    </p><p style="color:blue;">[=字符_类=]</p><p>
                        Within a bracket expression (written using
                        <code class="literal">[</code> and <code class="literal">]</code>),
                        <code class="literal">[=character_class=]</code> represents an
                        equivalence class. It matches all characters with the same
                        collation value, including itself. For example, if
                        <code class="literal">o</code> and <code class="literal">(+)</code> are the
                        members of an equivalence class,
                        <code class="literal">[[=o=]]</code>, <code class="literal">[[=(+)=]]</code>,
                        and <code class="literal">[o(+)]</code> are all synonymous. An
                        equivalence class may not be used as an endpoint of a
                        range.
                    </p><p style="color:blue;">在方括号表达式（使用[和]）中，[=character_class]表示等价类。它匹配所有具有相同排序规则值的字符，包括其自身。例如，如果o和（＋）是等价类的成员，[[=o=]]、[[=（+）=]]和[o（＋）都是同义的。等价类不能用作范围的终结点。</p></li><li class="listitem"><p>
                        <code class="literal">[:character_class:]</code>
                    </p><p style="color:blue;">[：字符_类：]</p><p>
                        Within a bracket expression (written using
                        <code class="literal">[</code> and <code class="literal">]</code>),
                        <code class="literal">[:character_class:]</code> represents a
                        character class that matches all characters belonging to
                        that class. The following table lists the standard class
                        names. These names stand for the character classes defined
                        in the <code class="literal">ctype(3)</code> manual page. A
                        particular locale may provide other class names. A
                        character class may not be used as an endpoint of a range.
                    </p><p style="color:blue;">在方括号表达式（使用[和]）中，[：character_class:]表示与属于该类的所有字符匹配的字符类。下表列出了标准类名。这些名称代表ctype（3）手册页中定义的字符类。特定的区域设置可以提供其他类名。字符类不能用作范围的终结点。</p>
                        <div class="informaltable">
                            <table summary="Character class names and the meaning of each class."><colgroup><col width="20%"><col width="80%"></colgroup><thead><tr>
                                <th scope="col">Character Class Name</th>
                                <th scope="col">Meaning</th>
                            </tr></thead><tbody><tr>
                                <td scope="row"><code class="literal">alnum</code></td>
                                <td>Alphanumeric characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">alpha</code></td>
                                <td>Alphabetic characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">blank</code></td>
                                <td>Whitespace characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">cntrl</code></td>
                                <td>Control characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">digit</code></td>
                                <td>Digit characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">graph</code></td>
                                <td>Graphic characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">lower</code></td>
                                <td>Lowercase alphabetic characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">print</code></td>
                                <td>Graphic or space characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">punct</code></td>
                                <td>Punctuation characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">space</code></td>
                                <td>Space, tab, newline, and carriage return</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">upper</code></td>
                                <td>Uppercase alphabetic characters</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">xdigit</code></td>
                                <td>Hexadecimal digit characters</td>
                            </tr></tbody></table>
                        </div>
                        <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'justalnums' REGEXP '[[:alnum:]]+';</code></strong>       -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT '!!' REGEXP '[[:alnum:]]+';</code></strong>               -&gt; 0
</pre></li><li class="listitem"><p>
                        <code class="literal">[[:&lt;:]]</code>,
                        <code class="literal">[[:&gt;:]]</code>
                    </p><p style="color:blue;">[[：&lt;：]]，[[：&gt;：]]</p><p>
                        These markers stand for word boundaries. They match the
                        beginning and end of words, respectively. A word is a
                        sequence of word characters that is not preceded by or
                        followed by word characters. A word character is an
                        alphanumeric character in the <code class="literal">alnum</code>
                        class or an underscore (<code class="literal">_</code>).
                    </p><p style="color:blue;">这些标记代表单词边界。它们分别匹配单词的开头和结尾。单词是一系列单词字符，前面或后面没有单词字符。字字符是alnum类中的字母数字字符或下划线（u）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'a word a' REGEXP '[[:&lt;:]]word[[:&gt;:]]';</code></strong>   -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 'a xword a' REGEXP '[[:&lt;:]]word[[:&gt;:]]';</code></strong>  -&gt; 0
</pre></li></ul>
                </div>
                <p>
                    To use a literal instance of a special character in a regular
                    expression, precede it by two backslash (\) characters. The
                    MySQL parser interprets one of the backslashes, and the
                    regular expression library interprets the other. For example,
                    to match the string <code class="literal">1+2</code> that contains the
                    special <code class="literal">+</code> character, only the last of the
                    following regular expressions is the correct one:
                </p><p style="color:blue;">若要在正则表达式中使用特殊字符的文本实例，请在其前面加上两个反斜杠（\）字符。mysql解析器解释其中一个反斜杠，而正则表达式库解释另一个。例如，要匹配包含特殊+字符的字符串1+2，只有以下正则表达式中的最后一个才是正确的：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT '1+2' REGEXP '1+2';</code></strong>                       -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT '1+2' REGEXP '1\+2';</code></strong>                      -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT '1+2' REGEXP '1\\+2';</code></strong>                     -&gt; 1
</pre>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="string-functions-charset"></a>12.5.3&nbsp;Character Set and Collation of Function Results</h3>

                    </div>

                </div>

            </div>
            <p>
                MySQL has many operators and functions that return a string.
                This section answers the question: What is the character set and
                collation of such a string?
            </p><p style="color:blue;">mysql有许多返回字符串的运算符和函数。这部分回答了一个问题：这样一个字符串的字符集和排序规则是什么？</p><p>
            For simple functions that take string input and return a string
            result as output, the output's character set and collation are
            the same as those of the principal input value. For example,
            <a class="link" href="functions.html#function_upper"><code class="literal">UPPER(<em class="replaceable"><code>X</code></em>)</code></a>
            returns a string with the same character string and collation as
            <em class="replaceable"><code>X</code></em>. The same applies for
            <a class="link" href="functions.html#function_instr"><code class="literal">INSTR()</code></a>,
            <a class="link" href="functions.html#function_lcase"><code class="literal">LCASE()</code></a>,
            <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a>,
            <a class="link" href="functions.html#function_ltrim"><code class="literal">LTRIM()</code></a>,
            <a class="link" href="functions.html#function_mid"><code class="literal">MID()</code></a>,
            <a class="link" href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a>,
            <a class="link" href="functions.html#function_replace"><code class="literal">REPLACE()</code></a>,
            <a class="link" href="functions.html#function_reverse"><code class="literal">REVERSE()</code></a>,
            <a class="link" href="functions.html#function_right"><code class="literal">RIGHT()</code></a>,
            <a class="link" href="functions.html#function_rpad"><code class="literal">RPAD()</code></a>,
            <a class="link" href="functions.html#function_rtrim"><code class="literal">RTRIM()</code></a>,
            <a class="link" href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a>,
            <a class="link" href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a>,
            <a class="link" href="functions.html#function_trim"><code class="literal">TRIM()</code></a>,
            <a class="link" href="functions.html#function_ucase"><code class="literal">UCASE()</code></a>, and
            <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a>.
        </p><p style="color:blue;">对于接受字符串输入并返回字符串结果作为输出的简单函数，输出的字符集和排序规则与主体输入值的字符集和排序规则相同。例如，upper（x）返回与x具有相同字符串和排序规则的字符串。这同样适用于instr（），lcase（），lower（），ltrim（），mid（），repeat（），replace（），reverse（），right（），rpad（），rtrim（），soundex（），substring（），trim（），ucase（）和upper（）。</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    The <a class="link" href="functions.html#function_replace"><code class="literal">REPLACE()</code></a> function, unlike
                    all other functions, always ignores the collation of the
                    string input and performs a case-sensitive comparison.
                </p><p style="color:blue;">与所有其他函数不同，replace（）函数总是忽略字符串输入的排序规则，并执行区分大小写的比较。</p>
            </div>
            <p>
                If a string input or function result is a binary string, the
                string has the <code class="literal">binary</code> character set and
                collation. This can be checked by using the
                <a class="link" href="functions.html#function_charset"><code class="literal">CHARSET()</code></a> and
                <a class="link" href="functions.html#function_collation"><code class="literal">COLLATION()</code></a> functions, both of
                which return <code class="literal">binary</code> for a binary string
                argument:
            </p><p style="color:blue;">如果字符串输入或函数结果是二进制字符串，则该字符串具有二进制字符集和排序规则。这可以通过使用charset（）和collation（）函数进行检查，这两个函数都返回二进制字符串参数：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARSET(BINARY 'a'), COLLATION(BINARY 'a');</code></strong>
+---------------------+-----------------------+
| CHARSET(BINARY 'a') | COLLATION(BINARY 'a') |
+---------------------+-----------------------+
| binary              | binary                |
+---------------------+-----------------------+
</pre><p>
            For operations that combine multiple string inputs and return a
            single string output, the <span class="quote">“<span class="quote">aggregation rules</span>”</span> of
            standard SQL apply for determining the collation of the result:
        </p><p style="color:blue;">对于组合多个字符串输入并返回单个字符串输出的操作，标准SQL的“聚合规则”适用于确定结果的排序规则：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If an explicit <code class="literal">COLLATE
                    <em class="replaceable"><code>Y</code></em></code> occurs, use
                    <em class="replaceable"><code>Y</code></em>.
                </p><p style="color:blue;">如果出现显式的collate y，请使用y。</p></li><li class="listitem"><p>
                    If explicit <code class="literal">COLLATE
                    <em class="replaceable"><code>Y</code></em></code> and <code class="literal">COLLATE
                    <em class="replaceable"><code>Z</code></em></code> occur, raise an
                    error.
                </p><p style="color:blue;">如果发生显式collate y和collate z，则引发错误。</p></li><li class="listitem"><p>
                    Otherwise, if all collations are
                    <em class="replaceable"><code>Y</code></em>, use
                    <em class="replaceable"><code>Y</code></em>.
                </p><p style="color:blue;">否则，如果所有排序规则都是y，则使用y。</p></li><li class="listitem"><p>
                    Otherwise, the result has no collation.
                </p><p style="color:blue;">否则，结果没有排序规则。</p></li></ul>
            </div>
            <p>
                For example, with <code class="literal">CASE ... WHEN a THEN b WHEN b THEN c
                COLLATE <em class="replaceable"><code>X</code></em> END</code>, the
                resulting collation is <em class="replaceable"><code>X</code></em>. The same
                applies for <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a>,
                <a class="link" href="functions.html#operator_or"><code class="literal">||</code></a>,
                <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>,
                <a class="link" href="functions.html#function_elt"><code class="literal">ELT()</code></a>,
                <a class="link" href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>,
                <a class="link" href="functions.html#function_if"><code class="literal">IF()</code></a>, and
                <a class="link" href="functions.html#function_least"><code class="literal">LEAST()</code></a>.
            </p><p style="color:blue;">例如，对于case…当a然后b当b然后c整理x结束时，得到的排序规则是x。这同样适用于union、、concat（）、elt（）、magest（）、if（）和least（）。</p><p>
            For operations that convert to character data, the character set
            and collation of the strings that result from the operations are
            defined by the
            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
            <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> system
            variables that determine the default connection character set
            and collation (see <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>). This
            applies only to <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a>,
            <a class="link" href="functions.html#function_conv"><code class="literal">CONV()</code></a>,
            <a class="link" href="functions.html#function_format"><code class="literal">FORMAT()</code></a>,
            <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a>, and
            <a class="link" href="functions.html#function_space"><code class="literal">SPACE()</code></a>.
        </p><p style="color:blue;">对于转换为字符数据的操作，由决定默认连接字符集和排序规则的字符集连接和排序规则系统变量定义操作产生的字符串的字符集和排序规则（见第10.4节“连接字符集和排序规则”）。这仅适用于cast（）、conv（）、format（）、hex（）和space（）。</p><p>
            As of MySQL 5.7.19, an exception to the preceding priniciple
            occurs for expressions for virtual generated columns. In such
            expressions, the table character set is used for
            <a class="link" href="functions.html#function_conv"><code class="literal">CONV()</code></a> or
            <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a> results, regardless of
            connection character set.
        </p><p style="color:blue;">从mysql 5.7.19开始，对于虚拟生成列的表达式，会发生与前面的priniciple不同的异常。在这种表达式中，无论连接字符集如何，表字符集都用于conv（）或hex（）结果。</p><p>
            If there is any question about the character set or collation of
            the result returned by a string function, use the
            <a class="link" href="functions.html#function_charset"><code class="literal">CHARSET()</code></a> or
            <a class="link" href="functions.html#function_collation"><code class="literal">COLLATION()</code></a> function to find out:
        </p><p style="color:blue;">如果对字符串函数返回的结果的字符集或排序规则有任何疑问，请使用charset（）或collation（）函数查找：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT USER(), CHARSET(USER()), COLLATION(USER());</code></strong>
+----------------+-----------------+-------------------+
| USER()         | CHARSET(USER()) | COLLATION(USER()) |
+----------------+-----------------+-------------------+
| test@localhost | utf8            | utf8_general_ci   |
+----------------+-----------------+-------------------+
mysql&gt; <strong class="userinput"><code>SELECT CHARSET(COMPRESS('abc')), COLLATION(COMPRESS('abc'));</code></strong>
+--------------------------+----------------------------+
| CHARSET(COMPRESS('abc')) | COLLATION(COMPRESS('abc')) |
+--------------------------+----------------------------+
| binary                   | binary                     |
+--------------------------+----------------------------+
</pre>
        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="numeric-functions"></a>12.6&nbsp;Numeric Functions and Operators</h2>

                </div>

            </div>

        </div>

        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#arithmetic-functions">12.6.1 Arithmetic Operators</a></span></dt><dt><span class="section"><a href="functions.html#mathematical-functions">12.6.2 Mathematical Functions</a></span></dt></dl>
        </div>

        <div class="table">
            <a name="idm140286853330416"></a><p class="title"><b>Table&nbsp;12.10&nbsp;Numeric Functions and Operators</b></p><p style="color:blue;">表12.10数值函数和运算符</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists numeric functions and operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_abs"><code class="literal">ABS()</code></a></td>
                    <td>
                        Return the absolute value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_acos"><code class="literal">ACOS()</code></a></td>
                    <td>
                        Return the arc cosine
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asin"><code class="literal">ASIN()</code></a></td>
                    <td>
                        Return the arc sine
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_atan"><code class="literal">ATAN()</code></a></td>
                    <td>
                        Return the arc tangent
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_atan2"><code class="literal">ATAN2()</code>, <code class="literal">ATAN()</code></a></td>
                    <td>
                        Return the arc tangent of the two arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ceil"><code class="literal">CEIL()</code></a></td>
                    <td>
                        Return the smallest integer value not less than the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ceiling"><code class="literal">CEILING()</code></a></td>
                    <td>
                        Return the smallest integer value not less than the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_conv"><code class="literal">CONV()</code></a></td>
                    <td>
                        Convert numbers between different number bases
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_cos"><code class="literal">COS()</code></a></td>
                    <td>
                        Return the cosine
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_cot"><code class="literal">COT()</code></a></td>
                    <td>
                        Return the cotangent
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_crc32"><code class="literal">CRC32()</code></a></td>
                    <td>
                        Compute a cyclic redundancy check value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_degrees"><code class="literal">DEGREES()</code></a></td>
                    <td>
                        Convert radians to degrees
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_div"><code class="literal">DIV</code></a></td>
                    <td>
                        Integer division
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_divide"><code class="literal">/</code></a></td>
                    <td>
                        Division operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_exp"><code class="literal">EXP()</code></a></td>
                    <td>
                        Raise to the power of
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_floor"><code class="literal">FLOOR()</code></a></td>
                    <td>
                        Return the largest integer value not greater than the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_ln"><code class="literal">LN()</code></a></td>
                    <td>
                        Return the natural logarithm of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_log"><code class="literal">LOG()</code></a></td>
                    <td>
                        Return the natural logarithm of the first argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_log10"><code class="literal">LOG10()</code></a></td>
                    <td>
                        Return the base-10 logarithm of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_log2"><code class="literal">LOG2()</code></a></td>
                    <td>
                        Return the base-2 logarithm of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a></td>
                    <td>
                        Minus operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_mod"><code class="literal">MOD()</code></a></td>
                    <td>
                        Return the remainder
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_mod"><code class="literal">%</code>, <code class="literal">MOD</code></a></td>
                    <td>
                        Modulo operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_pi"><code class="literal">PI()</code></a></td>
                    <td>
                        Return the value of pi
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a></td>
                    <td>
                        Addition operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_pow"><code class="literal">POW()</code></a></td>
                    <td>
                        Return the argument raised to the specified power
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_power"><code class="literal">POWER()</code></a></td>
                    <td>
                        Return the argument raised to the specified power
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_radians"><code class="literal">RADIANS()</code></a></td>
                    <td>
                        Return argument converted to radians
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a></td>
                    <td>
                        Return a random floating-point value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a></td>
                    <td>
                        Round the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sign"><code class="literal">SIGN()</code></a></td>
                    <td>
                        Return the sign of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sin"><code class="literal">SIN()</code></a></td>
                    <td>
                        Return the sine of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sqrt"><code class="literal">SQRT()</code></a></td>
                    <td>
                        Return the square root of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_tan"><code class="literal">TAN()</code></a></td>
                    <td>
                        Return the tangent of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_times"><code class="literal">*</code></a></td>
                    <td>
                        Multiplication operator
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_truncate"><code class="literal">TRUNCATE()</code></a></td>
                    <td>
                        Truncate to specified number of decimal places
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_unary-minus"><code class="literal">-</code></a></td>
                    <td>
                        Change the sign of the argument
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="arithmetic-functions"></a>12.6.1&nbsp;Arithmetic Operators</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286853202336"></a>
            <div class="table">
                <a name="idm140286853200848"></a><p class="title"><b>Table&nbsp;12.11&nbsp;Arithmetic Operators</b></p><p style="color:blue;">表12.11算术运算符</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists arithmetic operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_div"><code class="literal">DIV</code></a></td>
                        <td>
                            Integer division
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_divide"><code class="literal">/</code></a></td>
                        <td>
                            Division operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a></td>
                        <td>
                            Minus operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_mod"><code class="literal">%</code>, <code class="literal">MOD</code></a></td>
                        <td>
                            Modulo operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a></td>
                        <td>
                            Addition operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_times"><code class="literal">*</code></a></td>
                        <td>
                            Multiplication operator
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_unary-minus"><code class="literal">-</code></a></td>
                        <td>
                            Change the sign of the argument
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            The usual arithmetic operators are available. The result is
            determined according to the following rules:
        </p><p style="color:blue;">常用的算术运算符可用。根据以下规则确定结果：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    In the case of
                    <a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a>,
                    <a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a>, and
                    <a class="link" href="functions.html#operator_times"><code class="literal">*</code></a>, the result
                    is calculated with <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>
                    (64-bit) precision if both operands are integers.
                </p><p style="color:blue;">在-、+和*的情况下，如果两个操作数都是整数，则使用bigint（64位）精度计算结果。</p></li><li class="listitem"><p>
                    If both operands are integers and any of them are unsigned,
                    the result is an unsigned integer. For subtraction, if the
                    <a class="link" href="server-administration.html#sqlmode_no_unsigned_subtraction"><code class="literal">NO_UNSIGNED_SUBTRACTION</code></a>
                    SQL mode is enabled, the result is signed even if any
                    operand is unsigned.
                </p><p style="color:blue;">如果两个操作数都是整数，并且其中任何一个是无符号的，则结果是无符号整数。对于减法，如果启用了无符号减法SQL模式，则即使有任何操作数是无符号的，结果也会有符号。</p></li><li class="listitem"><p>
                    If any of the operands of a
                    <a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a>,
                    <a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a>,
                    <a class="link" href="functions.html#operator_divide"><code class="literal">/</code></a>,
                    <a class="link" href="functions.html#operator_times"><code class="literal">*</code></a>,
                    <a class="link" href="functions.html#operator_mod"><code class="literal">%</code></a> is a real or
                    string value, the precision of the result is the precision
                    of the operand with the maximum precision.
                </p><p style="color:blue;">如果A+、、、、、、%的任何操作数都是实数或字符串值，则结果的精度是最大精度的操作数的精度。</p></li><li class="listitem"><p>
                    In division performed with
                    <a class="link" href="functions.html#operator_divide"><code class="literal">/</code></a>, the scale
                    of the result when using two exact-value operands is the
                    scale of the first operand plus the value of the
                    <a class="link" href="server-administration.html#sysvar_div_precision_increment"><code class="literal">div_precision_increment</code></a>
                    system variable (which is 4 by default). For example, the
                    result of the expression <code class="literal">5.05 / 0.014</code> has
                    a scale of six decimal places
                    (<code class="literal">360.714286</code>).
                </p><p style="color:blue;">在使用/执行除法时，使用两个精确值操作数时结果的小数位数是第一个操作数的小数位数加上div_precision_increment系统变量的值（默认为4）。例如，表达式5.05/0.014的结果的小数位数为6（360.714286）。</p></li></ul>
            </div>
            <p>
                These rules are applied for each operation, such that nested
                calculations imply the precision of each component. Hence,
                <code class="literal">(14620 / 9432456) / (24250 / 9432456)</code>,
                resolves first to <code class="literal">(0.0014) / (0.0026)</code>, with
                the final result having 8 decimal places
                (<code class="literal">0.60288653</code>).
            </p><p style="color:blue;">这些规则适用于每个操作，因此嵌套计算意味着每个组件的精度。因此，（14620/9432456）/（24250/9432456）首先解析为（0.0014）/（0.0026），最终结果有8个小数位（0.60288653）。</p><p>
            Because of these rules and the way they are applied, care should
            be taken to ensure that components and subcomponents of a
            calculation use the appropriate level of precision. See
            <a class="xref" href="functions.html#cast-functions" title="12.10&nbsp;Cast Functions and Operators">Section&nbsp;12.10, “Cast Functions and Operators”</a>.
        </p><p style="color:blue;">由于这些规则及其应用方式，应注意确保计算的组件和子组件使用适当的精度级别。见第12.10节“浇铸函数和运算符”。</p><p>
            For information about handling of overflow in numeric expression
            evaluation, see <a class="xref" href="data-types.html#out-of-range-and-overflow" title="11.2.6&nbsp;Out-of-Range and Overflow Handling">Section&nbsp;11.2.6, “Out-of-Range and Overflow Handling”</a>.
        </p><p style="color:blue;">有关数值表达式求值中溢出处理的信息，请参阅第11.2.6节“超出范围和溢出处理”。</p><p>
            Arithmetic operators apply to numbers. For other types of
            values, alternative operations may be available. For example, to
            add date values, use <a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>;
            see <a class="xref" href="functions.html#date-and-time-functions" title="12.7&nbsp;Date and Time Functions">Section&nbsp;12.7, “Date and Time Functions”</a>.
        </p><p style="color:blue;">算术运算符适用于数字。对于其他类型的值，可以使用替代操作。例如，要添加日期值，请使用date_add（）；请参见第12.7节“日期和时间函数”。</p><a class="indexterm" name="idm140286853142016"></a><a class="indexterm" name="idm140286853140528"></a>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_plus"></a><p>
                    <a class="indexterm" name="idm140286853137024"></a>

                    <a class="indexterm" name="idm140286853135952"></a>

                    <a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a>
                </p><p style="color:blue;">+</p><p>
                    Addition:
                </p><p style="color:blue;">增加：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 3+5;</code></strong>
        -&gt; 8
</pre></li><li class="listitem"><a name="operator_minus"></a><p>
                    <a class="indexterm" name="idm140286853127056"></a>

                    <a class="indexterm" name="idm140286853125984"></a>

                    <a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a>
                </p><p style="color:blue;">-</p><p>
                    Subtraction:
                </p><p style="color:blue;">减法：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 3-5;</code></strong>
        -&gt; -2
</pre></li><li class="listitem"><a name="operator_unary-minus"></a><p>
                    <a class="indexterm" name="idm140286853117088"></a>

                    <a class="indexterm" name="idm140286853116016"></a>

                    <a class="indexterm" name="idm140286853114528"></a>

                    <a class="link" href="functions.html#operator_unary-minus"><code class="literal">-</code></a>
                </p><p style="color:blue;">-</p><p>
                    Unary minus. This operator changes the sign of the operand.
                </p><p style="color:blue;">一元负号。此运算符更改操作数的符号。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT - 2;</code></strong>
        -&gt; -2
</pre>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            If this operator is used with a
                            <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>, the return value is
                            also a <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>. This means
                            that you should avoid using <code class="literal">-</code> on
                            integers that may have the value of
                            −2<sup>63</sup>.
                        </p><p style="color:blue;">如果此运算符与bigint一起使用，则返回值也是bigint。这意味着您应该避免对值为-263的整数使用-on。</p>
                    </div>
                </li><li class="listitem"><a name="operator_times"></a><p>
                    <a class="indexterm" name="idm140286853100944"></a>

                    <a class="indexterm" name="idm140286853099872"></a>

                    <a class="link" href="functions.html#operator_times"><code class="literal">*</code></a>
                </p><p style="color:blue;">*</p><p>
                    Multiplication:
                </p><p style="color:blue;">乘法：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 3*5;</code></strong>
        -&gt; 15
mysql&gt; <strong class="userinput"><code>SELECT 18014398509481984*18014398509481984.0;</code></strong>
        -&gt; 324518553658426726783156020576256.0
mysql&gt; <strong class="userinput"><code>SELECT 18014398509481984*18014398509481984;</code></strong>
        -&gt; out-of-range error
</pre><p>
                    The last expression produces an error because the result of
                    the integer multiplication exceeds the 64-bit range of
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> calculations. (See
                    <a class="xref" href="data-types.html#numeric-types" title="11.2&nbsp;Numeric Types">Section&nbsp;11.2, “Numeric Types”</a>.)
                </p><p style="color:blue;">最后一个表达式产生错误，因为整数乘法的结果超出了bigint计算的64位范围。（见第11.2节，“数字类型”。）</p></li><li class="listitem"><a name="operator_divide"></a><p>
                    <a class="indexterm" name="idm140286853086784"></a>

                    <a class="indexterm" name="idm140286853085712"></a>

                    <a class="link" href="functions.html#operator_divide"><code class="literal">/</code></a>
                </p><p style="color:blue;">/</p><p>
                    Division:
                </p><p style="color:blue;">部门：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 3/5;</code></strong>
        -&gt; 0.60
</pre><p>
                    Division by zero produces a <code class="literal">NULL</code> result:
                </p><p style="color:blue;">除以零产生空结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 102/(1-1);</code></strong>
        -&gt; NULL
</pre><p>
                    A division is calculated with
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> arithmetic only if
                    performed in a context where its result is converted to an
                    integer.
                </p><p style="color:blue;">只有在将除法结果转换为整数的上下文中执行除法时，才会使用bigint算术计算除法。</p></li><li class="listitem"><a name="operator_div"></a><p>
                    <a class="indexterm" name="idm140286853071472"></a>

                    <a class="link" href="functions.html#operator_div"><code class="literal">DIV</code></a>
                </p><p style="color:blue;">分区</p><p>
                    Integer division. Discards from the division result any
                    fractional part to the right of the decimal point.
                </p><p style="color:blue;">整数除法。从除法结果中舍弃小数点右边的任何小数部分。</p><p>
                    If either operand has a noninteger type, the operands are
                    converted to <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> and
                    divided using <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a>
                    arithmetic before converting the result to
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>. If the result exceeds
                    <code class="literal">BIGINT</code> range, an error occurs.
                </p><p style="color:blue;">如果两个操作数都是非整数类型，则在将结果转换为bigint之前，操作数将转换为十进制数并使用十进制算术进行除法。如果结果超出bigint范围，则会发生错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 5 DIV 2, -5 DIV 2, 5 DIV -2, -5 DIV -2;</code></strong>
        -&gt; 2, -2, -2, 2
</pre></li><li class="listitem"><a name="operator_mod"></a><p>
                    <a class="indexterm" name="idm140286853056656"></a>

                    <a class="link" href="functions.html#operator_mod"><code class="literal"><em class="replaceable"><code>N</code></em>
                        % <em class="replaceable"><code>M</code></em></code></a>,
                    <a class="link" href="functions.html#operator_mod"><code class="literal"><em class="replaceable"><code>N</code></em>
                        MOD <em class="replaceable"><code>M</code></em></code></a>
                </p><p style="color:blue;">n%m，n模m</p><p>
                    Modulo operation. Returns the remainder of
                    <em class="replaceable"><code>N</code></em> divided by
                    <em class="replaceable"><code>M</code></em>. For more information, see the
                    description for the <a class="link" href="functions.html#function_mod"><code class="literal">MOD()</code></a>
                    function in <a class="xref" href="functions.html#mathematical-functions" title="12.6.2&nbsp;Mathematical Functions">Section&nbsp;12.6.2, “Mathematical Functions”</a>.
                </p><p style="color:blue;">模运算。返回n除以m的余数。有关详细信息，请参阅12.6.2节“数学函数”中mod（）函数的说明。</p></li></ul>
            </div>

        </div>

        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="mathematical-functions"></a>12.6.2&nbsp;Mathematical Functions</h3>

                    </div>

                </div>

            </div>

            <div class="table">
                <a name="idm140286853045504"></a><p class="title"><b>Table&nbsp;12.12&nbsp;Mathematical Functions</b></p><p style="color:blue;">表12.12数学函数</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists mathematical functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_abs"><code class="literal">ABS()</code></a></td>
                        <td>
                            Return the absolute value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_acos"><code class="literal">ACOS()</code></a></td>
                        <td>
                            Return the arc cosine
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_asin"><code class="literal">ASIN()</code></a></td>
                        <td>
                            Return the arc sine
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_atan"><code class="literal">ATAN()</code></a></td>
                        <td>
                            Return the arc tangent
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_atan2"><code class="literal">ATAN2()</code>, <code class="literal">ATAN()</code></a></td>
                        <td>
                            Return the arc tangent of the two arguments
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_ceil"><code class="literal">CEIL()</code></a></td>
                        <td>
                            Return the smallest integer value not less than the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_ceiling"><code class="literal">CEILING()</code></a></td>
                        <td>
                            Return the smallest integer value not less than the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_conv"><code class="literal">CONV()</code></a></td>
                        <td>
                            Convert numbers between different number bases
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_cos"><code class="literal">COS()</code></a></td>
                        <td>
                            Return the cosine
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_cot"><code class="literal">COT()</code></a></td>
                        <td>
                            Return the cotangent
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_crc32"><code class="literal">CRC32()</code></a></td>
                        <td>
                            Compute a cyclic redundancy check value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_degrees"><code class="literal">DEGREES()</code></a></td>
                        <td>
                            Convert radians to degrees
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_exp"><code class="literal">EXP()</code></a></td>
                        <td>
                            Raise to the power of
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_floor"><code class="literal">FLOOR()</code></a></td>
                        <td>
                            Return the largest integer value not greater than the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_ln"><code class="literal">LN()</code></a></td>
                        <td>
                            Return the natural logarithm of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_log"><code class="literal">LOG()</code></a></td>
                        <td>
                            Return the natural logarithm of the first argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_log10"><code class="literal">LOG10()</code></a></td>
                        <td>
                            Return the base-10 logarithm of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_log2"><code class="literal">LOG2()</code></a></td>
                        <td>
                            Return the base-2 logarithm of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mod"><code class="literal">MOD()</code></a></td>
                        <td>
                            Return the remainder
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_pi"><code class="literal">PI()</code></a></td>
                        <td>
                            Return the value of pi
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_pow"><code class="literal">POW()</code></a></td>
                        <td>
                            Return the argument raised to the specified power
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_power"><code class="literal">POWER()</code></a></td>
                        <td>
                            Return the argument raised to the specified power
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_radians"><code class="literal">RADIANS()</code></a></td>
                        <td>
                            Return argument converted to radians
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a></td>
                        <td>
                            Return a random floating-point value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a></td>
                        <td>
                            Round the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_sign"><code class="literal">SIGN()</code></a></td>
                        <td>
                            Return the sign of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_sin"><code class="literal">SIN()</code></a></td>
                        <td>
                            Return the sine of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_sqrt"><code class="literal">SQRT()</code></a></td>
                        <td>
                            Return the square root of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_tan"><code class="literal">TAN()</code></a></td>
                        <td>
                            Return the tangent of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_truncate"><code class="literal">TRUNCATE()</code></a></td>
                        <td>
                            Truncate to specified number of decimal places
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            All mathematical functions return <code class="literal">NULL</code> in the
            event of an error.
        </p><p style="color:blue;">发生错误时，所有数学函数都返回空值。</p><a class="indexterm" name="idm140286852939456"></a><a class="indexterm" name="idm140286852938384"></a>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_abs"></a><p>
                    <a class="indexterm" name="idm140286852934400"></a>

                    <a class="link" href="functions.html#function_abs"><code class="literal">ABS(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">绝对值（X）</p><p>
                    Returns the absolute value of <em class="replaceable"><code>X</code></em>.
                </p><p style="color:blue;">返回x的绝对值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ABS(2);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT ABS(-32);</code></strong>
        -&gt; 32
</pre><p>
                    This function is safe to use with
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> values.
                </p><p style="color:blue;">此函数与bigint值一起使用是安全的。</p></li><li class="listitem"><a name="function_acos"></a><p>
                    <a class="indexterm" name="idm140286852922176"></a>

                    <a class="link" href="functions.html#function_acos"><code class="literal">ACOS(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">ACOS（十）</p><p>
                    Returns the arc cosine of <em class="replaceable"><code>X</code></em>, that
                    is, the value whose cosine is <em class="replaceable"><code>X</code></em>.
                    Returns <code class="literal">NULL</code> if
                    <em class="replaceable"><code>X</code></em> is not in the range
                    <code class="literal">-1</code> to <code class="literal">1</code>.
                </p><p style="color:blue;">返回x的弧余弦，即余弦为x的值。如果x不在-1到1的范围内，则返回空值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ACOS(1);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT ACOS(1.0001);</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT ACOS(0);</code></strong>
        -&gt; 1.5707963267949
</pre></li><li class="listitem"><a name="function_asin"></a><p>
                    <a class="indexterm" name="idm140286852907936"></a>

                    <a class="link" href="functions.html#function_asin"><code class="literal">ASIN(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">阿信（X）</p><p>
                    Returns the arc sine of <em class="replaceable"><code>X</code></em>, that
                    is, the value whose sine is <em class="replaceable"><code>X</code></em>.
                    Returns <code class="literal">NULL</code> if
                    <em class="replaceable"><code>X</code></em> is not in the range
                    <code class="literal">-1</code> to <code class="literal">1</code>.
                </p><p style="color:blue;">返回x的弧正弦，即正弦为x的值。如果x不在-1到1的范围内，则返回空值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ASIN(0.2);</code></strong>
        -&gt; 0.20135792079033
mysql&gt; <strong class="userinput"><code>SELECT ASIN('foo');</code></strong>

+-------------+
| ASIN('foo') |
+-------------+
|           0 |
+-------------+
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
+---------+------+-----------------------------------------+
| Level   | Code | Message                                 |
+---------+------+-----------------------------------------+
| Warning | 1292 | Truncated incorrect DOUBLE value: 'foo' |
+---------+------+-----------------------------------------+
</pre></li><li class="listitem"><a name="function_atan"></a><p>
                    <a class="indexterm" name="idm140286852893120"></a>

                    <a class="link" href="functions.html#function_atan"><code class="literal">ATAN(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">阿坦（X）</p><p>
                    Returns the arc tangent of <em class="replaceable"><code>X</code></em>,
                    that is, the value whose tangent is
                    <em class="replaceable"><code>X</code></em>.
                </p><p style="color:blue;">返回x的弧切线，即切线为x的值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ATAN(2);</code></strong>
        -&gt; 1.1071487177941
mysql&gt; <strong class="userinput"><code>SELECT ATAN(-2);</code></strong>
        -&gt; -1.1071487177941
</pre></li><li class="listitem"><a name="function_atan2"></a><p>
                    <a class="indexterm" name="idm140286852881984"></a>

                    <a class="link" href="functions.html#function_atan2"><code class="literal">ATAN(<em class="replaceable"><code>Y</code></em>,<em class="replaceable"><code>X</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_atan2"><code class="literal">ATAN2(<em class="replaceable"><code>Y</code></em>,<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">atan（y，x），atan2（y，x）</p><p>
                    Returns the arc tangent of the two variables
                    <em class="replaceable"><code>X</code></em> and
                    <em class="replaceable"><code>Y</code></em>. It is similar to calculating
                    the arc tangent of <code class="literal"><em class="replaceable"><code>Y</code></em> /
                    <em class="replaceable"><code>X</code></em></code>, except that the
                    signs of both arguments are used to determine the quadrant
                    of the result.
                </p><p style="color:blue;">返回两个变量x和y的反正切值。这与计算y/x的反正切值类似，只是两个参数的符号用于确定结果的象限。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ATAN(-2,2);</code></strong>
        -&gt; -0.78539816339745
mysql&gt; <strong class="userinput"><code>SELECT ATAN2(PI(),0);</code></strong>
        -&gt; 1.5707963267949
</pre></li><li class="listitem"><a name="function_ceil"></a><p>
                    <a class="indexterm" name="idm140286852866464"></a>

                    <a class="link" href="functions.html#function_ceil"><code class="literal">CEIL(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">天花板（X）</p><p>
                    <a class="link" href="functions.html#function_ceil"><code class="literal">CEIL()</code></a> is a synonym for
                    <a class="link" href="functions.html#function_ceiling"><code class="literal">CEILING()</code></a>.
                </p><p style="color:blue;">ceil（）是ceiling（）的同义词。</p></li><li class="listitem"><a name="function_ceiling"></a><p>
                    <a class="indexterm" name="idm140286852856128"></a>

                    <a class="link" href="functions.html#function_ceiling"><code class="literal">CEILING(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">天花板（X）</p><p>
                    Returns the smallest integer value not less than
                    <em class="replaceable"><code>X</code></em>.
                </p><p style="color:blue;">返回不小于x的最小整数值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CEILING(1.23);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT CEILING(-1.23);</code></strong>
        -&gt; -1
</pre><p>
                    For exact-value numeric arguments, the return value has an
                    exact-value numeric type. For string or floating-point
                    arguments, the return value has a floating-point type.
                </p><p style="color:blue;">对于精确值数值参数，返回值具有精确值数值类型。对于字符串或浮点参数，返回值具有浮点类型。</p></li><li class="listitem"><a name="function_conv"></a><p>
                    <a class="indexterm" name="idm140286852845008"></a>

                    <a class="link" href="functions.html#function_conv"><code class="literal">CONV(<em class="replaceable"><code>N</code></em>,<em class="replaceable"><code>from_base</code></em>,<em class="replaceable"><code>to_base</code></em>)</code></a>
                </p><p style="color:blue;">conv（n，从_base，到_base）</p><p>
                    Converts numbers between different number bases. Returns a
                    string representation of the number
                    <em class="replaceable"><code>N</code></em>, converted from base
                    <em class="replaceable"><code>from_base</code></em> to base
                    <em class="replaceable"><code>to_base</code></em>. Returns
                    <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. The argument
                    <em class="replaceable"><code>N</code></em> is interpreted as an integer,
                    but may be specified as an integer or a string. The minimum
                    base is <code class="literal">2</code> and the maximum base is
                    <code class="literal">36</code>. If
                    <em class="replaceable"><code>from_base</code></em> is a negative number,
                    <em class="replaceable"><code>N</code></em> is regarded as a signed number.
                    Otherwise, <em class="replaceable"><code>N</code></em> is treated as
                    unsigned. <a class="link" href="functions.html#function_conv"><code class="literal">CONV()</code></a> works with
                    64-bit precision.
                </p><p style="color:blue;">在不同的基数之间转换数字。返回数字n的字符串表示形式，从基到基转换为基。如果任何参数为空，则返回空。参数n被解释为整数，但可以指定为整数或字符串。最小基数为2，最大基数为36。如果from_base是负数，则n被视为有符号数。否则，n被视为无符号。conv（）以64位精度工作。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONV('a',16,2);</code></strong>
        -&gt; '1010'
mysql&gt; <strong class="userinput"><code>SELECT CONV('6E',18,8);</code></strong>
        -&gt; '172'
mysql&gt; <strong class="userinput"><code>SELECT CONV(-17,10,-18);</code></strong>
        -&gt; '-H'
mysql&gt; <strong class="userinput"><code>SELECT CONV(10+'10'+'10'+X'0a',10,10);</code></strong>
        -&gt; '40'
</pre></li><li class="listitem"><a name="function_cos"></a><p>
                    <a class="indexterm" name="idm140286852825040"></a>

                    <a class="link" href="functions.html#function_cos"><code class="literal">COS(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">成本（x）</p><p>
                    Returns the cosine of <em class="replaceable"><code>X</code></em>, where
                    <em class="replaceable"><code>X</code></em> is given in radians.
                </p><p style="color:blue;">返回x的余弦，其中x以弧度表示。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COS(PI());</code></strong>
        -&gt; -1
</pre></li><li class="listitem"><a name="function_cot"></a><p>
                    <a class="indexterm" name="idm140286852814800"></a>

                    <a class="link" href="functions.html#function_cot"><code class="literal">COT(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">床（X）</p><p>
                    Returns the cotangent of <em class="replaceable"><code>X</code></em>.
                </p><p style="color:blue;">返回x的余切。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COT(12);</code></strong>
        -&gt; -1.5726734063977
mysql&gt; <strong class="userinput"><code>SELECT COT(0);</code></strong>
        -&gt; out-of-range error
</pre></li><li class="listitem"><a name="function_crc32"></a><p>
                    <a class="indexterm" name="idm140286852804208"></a>

                    <a class="link" href="functions.html#function_crc32"><code class="literal">CRC32(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">CRC32（出口）</p><p>
                    Computes a cyclic redundancy check value and returns a
                    32-bit unsigned value. The result is <code class="literal">NULL</code>
                    if the argument is <code class="literal">NULL</code>. The argument is
                    expected to be a string and (if possible) is treated as one
                    if it is not.
                </p><p style="color:blue;">计算循环冗余检查值并返回32位无符号值。如果参数为空，则结果为空。参数应为字符串，如果可能，则视为字符串。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CRC32('MySQL');</code></strong>
        -&gt; 3259397556
mysql&gt; <strong class="userinput"><code>SELECT CRC32('mysql');</code></strong>
        -&gt; 2501908538
</pre></li><li class="listitem"><a name="function_degrees"></a><p>
                    <a class="indexterm" name="idm140286852792368"></a>

                    <a class="link" href="functions.html#function_degrees"><code class="literal">DEGREES(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">度（X）</p><p>
                    Returns the argument <em class="replaceable"><code>X</code></em>, converted
                    from radians to degrees.
                </p><p style="color:blue;">返回从弧度转换为度的参数x。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DEGREES(PI());</code></strong>
        -&gt; 180
mysql&gt; <strong class="userinput"><code>SELECT DEGREES(PI() / 2);</code></strong>
        -&gt; 90
</pre></li><li class="listitem"><a name="function_exp"></a><p>
                    <a class="indexterm" name="idm140286852781824"></a>

                    <a class="link" href="functions.html#function_exp"><code class="literal">EXP(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">实验（X）</p><p>
                    Returns the value of <span class="emphasis"><em>e</em></span> (the base of
                    natural logarithms) raised to the power of
                    <em class="replaceable"><code>X</code></em>. The inverse of this function
                    is <a class="link" href="functions.html#function_log"><code class="literal">LOG()</code></a> (using a single
                    argument only) or <a class="link" href="functions.html#function_ln"><code class="literal">LN()</code></a>.
                </p><p style="color:blue;">返回e（自然对数的底）的值，该值提升为x的幂。此函数的逆函数是log（）（仅使用单个参数）或ln（）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT EXP(2);</code></strong>
        -&gt; 7.3890560989307
mysql&gt; <strong class="userinput"><code>SELECT EXP(-2);</code></strong>
        -&gt; 0.13533528323661
mysql&gt; <strong class="userinput"><code>SELECT EXP(0);</code></strong>
        -&gt; 1
</pre></li><li class="listitem"><a name="function_floor"></a><p>
                    <a class="indexterm" name="idm140286852767424"></a>

                    <a class="link" href="functions.html#function_floor"><code class="literal">FLOOR(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">楼层（X）</p><p>
                    Returns the largest integer value not greater than
                    <em class="replaceable"><code>X</code></em>.
                </p><p style="color:blue;">返回不大于x的最大整数值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT FLOOR(1.23), FLOOR(-1.23);</code></strong>
        -&gt; 1, -2
</pre><p>
                    For exact-value numeric arguments, the return value has an
                    exact-value numeric type. For string or floating-point
                    arguments, the return value has a floating-point type.
                </p><p style="color:blue;">对于精确值数值参数，返回值具有精确值数值类型。对于字符串或浮点参数，返回值具有浮点类型。</p></li><li class="listitem"><p>
                    <a class="link" href="functions.html#function_format"><code class="literal">FORMAT(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
                </p><p style="color:blue;">格式（x，d）</p><p>
                    Formats the number <em class="replaceable"><code>X</code></em> to a format
                    like <code class="literal">'#,###,###.##'</code>, rounded to
                    <em class="replaceable"><code>D</code></em> decimal places, and returns the
                    result as a string. For details, see
                    <a class="xref" href="functions.html#string-functions" title="12.5&nbsp;String Functions and Operators">Section&nbsp;12.5, “String Functions and Operators”</a>.
                </p><p style="color:blue;">将数字x的格式设置为类似“，，.”的格式，四舍五入为d个小数位，并将结果作为字符串返回。有关详细信息，请参见第12.5节“字符串函数和运算符”。</p></li><li class="listitem"><p>
                    <a class="indexterm" name="idm140286852751472"></a>

                    <a class="link" href="functions.html#function_hex"><code class="literal">HEX(N_or_S)</code></a>
                </p><p style="color:blue;">十六进制（n_或s）</p><p>
                    This function can be used to obtain a hexadecimal
                    representation of a decimal number or a string; the manner
                    in which it does so varies according to the argument's
                    type. See this function's description in
                    <a class="xref" href="functions.html#string-functions" title="12.5&nbsp;String Functions and Operators">Section&nbsp;12.5, “String Functions and Operators”</a>, for details.
                </p><p style="color:blue;">此函数可用于获取十进制数或字符串的十六进制表示形式；其方式因参数类型而异。有关详细信息，请参阅第12.5节“字符串函数和运算符”中对此函数的描述。</p></li><li class="listitem"><a name="function_ln"></a><p>
                    <a class="indexterm" name="idm140286852745296"></a>

                    <a class="link" href="functions.html#function_ln"><code class="literal">LN(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">ln（x）级</p><p>
                    Returns the natural logarithm of
                    <em class="replaceable"><code>X</code></em>; that is, the
                    base-<span class="emphasis"><em>e</em></span> logarithm of
                    <em class="replaceable"><code>X</code></em>. If
                    <em class="replaceable"><code>X</code></em> is less than or equal to 0.0E0,
                    the function returns <code class="literal">NULL</code> and (as of
                    MySQL 5.7.4) a warning <span class="quote">“<span class="quote">Invalid argument for
            logarithm</span>”</span> is reported.
                </p><p style="color:blue;">返回x的自然对数，即x的e底对数。如果x小于或等于0.0e 0，则函数返回空值，并（从mysql 5.7.4开始）报告警告“对数参数无效”。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LN(2);</code></strong>
        -&gt; 0.69314718055995
mysql&gt; <strong class="userinput"><code>SELECT LN(-2);</code></strong>
        -&gt; NULL
</pre><p>
                    This function is synonymous with
                    <a class="link" href="functions.html#function_log"><code class="literal">LOG(<em class="replaceable"><code>X</code></em>)</code></a>.
                    The inverse of this function is the
                    <a class="link" href="functions.html#function_exp"><code class="literal">EXP()</code></a> function.
                </p><p style="color:blue;">此函数与log（x）同义。此函数的逆函数是exp（）函数。</p></li><li class="listitem"><a name="function_log"></a><p>
                    <a class="indexterm" name="idm140286852728752"></a>

                    <a class="link" href="functions.html#function_log"><code class="literal">LOG(<em class="replaceable"><code>X</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_log"><code class="literal">LOG(<em class="replaceable"><code>B</code></em>,<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">对数（x），对数（b，x）</p><p>
                    If called with one parameter, this function returns the
                    natural logarithm of <em class="replaceable"><code>X</code></em>. If
                    <em class="replaceable"><code>X</code></em> is less than or equal to 0.0E0,
                    the function returns <code class="literal">NULL</code> and (as of
                    MySQL 5.7.4) a warning <span class="quote">“<span class="quote">Invalid argument for
            logarithm</span>”</span> is reported.
                </p><p style="color:blue;">如果使用一个参数调用，则此函数返回x的自然对数。如果x小于或等于0.0e0，则此函数返回空值，并（从mysql 5.7.4开始）报告警告“对数参数无效”。</p><p>
                    The inverse of this function (when called with a single
                    argument) is the <a class="link" href="functions.html#function_exp"><code class="literal">EXP()</code></a>
                    function.
                </p><p style="color:blue;">此函数的逆函数（使用单个参数调用时）是exp（）函数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LOG(2);</code></strong>
        -&gt; 0.69314718055995
mysql&gt; <strong class="userinput"><code>SELECT LOG(-2);</code></strong>
        -&gt; NULL
</pre><p>
                    If called with two parameters, this function returns the
                    logarithm of <em class="replaceable"><code>X</code></em> to the base
                    <em class="replaceable"><code>B</code></em>. If
                    <em class="replaceable"><code>X</code></em> is less than or equal to 0, or
                    if <em class="replaceable"><code>B</code></em> is less than or equal to 1,
                    then <code class="literal">NULL</code> is returned.
                </p><p style="color:blue;">如果使用两个参数调用，则此函数将x的对数返回到基数b。如果x小于或等于0，或者如果b小于或等于1，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LOG(2,65536);</code></strong>
        -&gt; 16
mysql&gt; <strong class="userinput"><code>SELECT LOG(10,100);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT LOG(1,100);</code></strong>
        -&gt; NULL
</pre><p>
                    <a class="link" href="functions.html#function_log"><code class="literal">LOG(<em class="replaceable"><code>B</code></em>,<em class="replaceable"><code>X</code></em>)</code></a>
                    is equivalent to
                    <a class="link" href="functions.html#function_log"><code class="literal">LOG(<em class="replaceable"><code>X</code></em>) /
                        LOG(<em class="replaceable"><code>B</code></em>)</code></a>.
                </p><p style="color:blue;">log（b，x）相当于log（x）/log（b）。</p></li><li class="listitem"><a name="function_log2"></a><p>
                    <a class="indexterm" name="idm140286852702128"></a>

                    <a class="link" href="functions.html#function_log2"><code class="literal">LOG2(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">对数2（x）</p><p>
                    Returns the base-2 logarithm of
                    <code class="literal"><em class="replaceable"><code>X</code></em></code>. If
                    <em class="replaceable"><code>X</code></em> is less than or equal to 0.0E0,
                    the function returns <code class="literal">NULL</code> and (as of
                    MySQL 5.7.4) a warning <span class="quote">“<span class="quote">Invalid argument for
            logarithm</span>”</span> is reported.
                </p><p style="color:blue;">返回x的以2为底的对数。如果x小于或等于0.0e0，则函数返回空值，并（从mysql 5.7.4开始）报告警告“对数参数无效”。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LOG2(65536);</code></strong>
        -&gt; 16
mysql&gt; <strong class="userinput"><code>SELECT LOG2(-100);</code></strong>
        -&gt; NULL
</pre><p>
                    <a class="link" href="functions.html#function_log2"><code class="literal">LOG2()</code></a> is useful for finding
                    out how many bits a number requires for storage. This
                    function is equivalent to the expression
                    <a class="link" href="functions.html#function_log"><code class="literal">LOG(<em class="replaceable"><code>X</code></em>) /
                        LOG(2)</code></a>.
                </p><p style="color:blue;">log2（）有助于找出一个数字存储需要多少位。此函数相当于表达式log（x）/log（2）。</p></li><li class="listitem"><a name="function_log10"></a><p>
                    <a class="indexterm" name="idm140286852686128"></a>

                    <a class="link" href="functions.html#function_log10"><code class="literal">LOG10(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">对数10（x）</p><p>
                    Returns the base-10 logarithm of
                    <em class="replaceable"><code>X</code></em>. If
                    <em class="replaceable"><code>X</code></em> is less than or equal to 0.0E0,
                    the function returns <code class="literal">NULL</code> and (as of
                    MySQL 5.7.4) a warning <span class="quote">“<span class="quote">Invalid argument for
            logarithm</span>”</span> is reported.
                </p><p style="color:blue;">返回x的以10为底的对数。如果x小于或等于0.0e0，则函数返回空值，并（从mysql 5.7.4开始）报告警告“对数参数无效”。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LOG10(2);</code></strong>
        -&gt; 0.30102999566398
mysql&gt; <strong class="userinput"><code>SELECT LOG10(100);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT LOG10(-100);</code></strong>
        -&gt; NULL
</pre><p>
                    <a class="link" href="functions.html#function_log10"><code class="literal">LOG10(<em class="replaceable"><code>X</code></em>)</code></a>
                    is equivalent to
                    <a class="link" href="functions.html#function_log"><code class="literal">LOG(10,<em class="replaceable"><code>X</code></em>)</code></a>.
                </p><p style="color:blue;">log10（x）相当于log（10，x）。</p></li><li class="listitem"><a name="function_mod"></a><p>
                    <a class="indexterm" name="idm140286852668752"></a>

                    <a class="indexterm" name="idm140286852667680"></a>

                    <a class="indexterm" name="idm140286852666608"></a>

                    <a class="indexterm" name="idm140286852665536"></a>

                    <a class="indexterm" name="idm140286852664464"></a>

                    <a class="link" href="functions.html#function_mod"><code class="literal">MOD(<em class="replaceable"><code>N</code></em>,<em class="replaceable"><code>M</code></em>)</code></a>,
                    <a class="link" href="functions.html#operator_mod"><code class="literal"><em class="replaceable"><code>N</code></em>
                        % <em class="replaceable"><code>M</code></em></code></a>,
                    <a class="link" href="functions.html#operator_mod"><code class="literal"><em class="replaceable"><code>N</code></em>
                        MOD <em class="replaceable"><code>M</code></em></code></a>
                </p><p style="color:blue;">模（n，m），n%m，n模m</p><p>
                    Modulo operation. Returns the remainder of
                    <em class="replaceable"><code>N</code></em> divided by
                    <em class="replaceable"><code>M</code></em>.
                </p><p style="color:blue;">模运算。返回n的余数除以m。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MOD(234, 10);</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT 253 % 7;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT MOD(29,9);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT 29 MOD 9;</code></strong>
        -&gt; 2
</pre><p>
                    This function is safe to use with
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> values.
                </p><p style="color:blue;">此函数与bigint值一起使用是安全的。</p><p>
                    <a class="link" href="functions.html#function_mod"><code class="literal">MOD()</code></a> also works on values
                    that have a fractional part and returns the exact remainder
                    after division:
                </p><p style="color:blue;">mod（）也适用于具有小数部分的值，并返回除法后的精确余数：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MOD(34.5,3);</code></strong>
        -&gt; 1.5
</pre><p>
                    <a class="link" href="functions.html#function_mod"><code class="literal">MOD(<em class="replaceable"><code>N</code></em>,0)</code></a>
                    returns <code class="literal">NULL</code>.
                </p><p style="color:blue;">mod（n，0）返回空值。</p></li><li class="listitem"><a name="function_pi"></a><p>
                    <a class="indexterm" name="idm140286852640416"></a>

                    <a class="link" href="functions.html#function_pi"><code class="literal">PI()</code></a>
                </p><p style="color:blue;">π（）</p><p>
                    Returns the value of π (pi). The default number of
                    decimal places displayed is seven, but MySQL uses the full
                    double-precision value internally.
                </p><p style="color:blue;">返回π（pi）的值。默认显示的小数位数是7，但mysql在内部使用完整的双精度值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT PI();</code></strong>
        -&gt; 3.141593
mysql&gt; <strong class="userinput"><code>SELECT PI()+0.000000000000000000;</code></strong>
        -&gt; 3.141592653589793116
</pre></li><li class="listitem"><a name="function_pow"></a><p>
                    <a class="indexterm" name="idm140286852629472"></a>

                    <a class="link" href="functions.html#function_pow"><code class="literal">POW(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>Y</code></em>)</code></a>
                </p><p style="color:blue;">功率（x，y）</p><p>
                    Returns the value of <em class="replaceable"><code>X</code></em> raised to
                    the power of <em class="replaceable"><code>Y</code></em>.
                </p><p style="color:blue;">将x的值提升为y的幂。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT POW(2,2);</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT POW(2,-2);</code></strong>
        -&gt; 0.25
</pre></li><li class="listitem"><a name="function_power"></a><p>
                    <a class="indexterm" name="idm140286852617440"></a>

                    <a class="link" href="functions.html#function_power"><code class="literal">POWER(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>Y</code></em>)</code></a>
                </p><p style="color:blue;">功率（x，y）</p><p>
                    This is a synonym for <a class="link" href="functions.html#function_pow"><code class="literal">POW()</code></a>.
                </p><p style="color:blue;">这是pow（）的同义词。</p></li><li class="listitem"><a name="function_radians"></a><p>
                    <a class="indexterm" name="idm140286852608624"></a>

                    <a class="link" href="functions.html#function_radians"><code class="literal">RADIANS(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">弧度（X）</p><p>
                    Returns the argument <em class="replaceable"><code>X</code></em>, converted
                    from degrees to radians. (Note that π radians equals 180
                    degrees.)
                </p><p style="color:blue;">返回从度数转换为弧度的参数x。（注意π弧度等于180度。）</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT RADIANS(90);</code></strong>
        -&gt; 1.5707963267949
</pre></li><li class="listitem"><a name="function_rand"></a><p>
                    <a class="indexterm" name="idm140286852598560"></a>

                    <a class="link" href="functions.html#function_rand"><code class="literal">RAND([<em class="replaceable"><code>N</code></em>])</code></a>
                </p><p style="color:blue;">兰特（[N]）</p><p>
                    Returns a random floating-point value
                    <em class="replaceable"><code>v</code></em> in the range
                    <code class="literal">0</code> &lt;= <em class="replaceable"><code>v</code></em> &lt;
                    <code class="literal">1.0</code>. To obtain a random integer
                    <em class="replaceable"><code>R</code></em> in the range
                    <em class="replaceable"><code>i</code></em> &lt;=
                    <em class="replaceable"><code>R</code></em> &lt;
                    <em class="replaceable"><code>j</code></em>, use the expression
                    <a class="link" href="functions.html#function_floor"><code class="literal">FLOOR(<em class="replaceable"><code>i</code></em>
                        + RAND() * (<em class="replaceable"><code>j</code></em></code></a>
                    − <code class="literal"><em class="replaceable"><code>i</code></em>))</code>.
                    For example, to obtain a random integer in the range the
                    range <code class="literal">7</code> &lt;=
                    <em class="replaceable"><code>R</code></em> &lt; <code class="literal">12</code>, use
                    the following statement:
                </p><p style="color:blue;">返回0&lt;=v&lt;1.0范围内的随机浮点值v。要获得i&lt;=r<j范围内的随机整数r，请使用表达式floor（i+rand（）*（j−i））。例如，要获取7<=r<12范围内的随机整数，请使用以下语句：<p></j范围内的随机整数r，请使用表达式floor（i+rand（）*（j−i））。例如，要获取7<=r<12范围内的随机整数，请使用以下语句：<p></p><pre data-lang="sql" class="programlisting">SELECT FLOOR(7 + (RAND() * 5));
</pre><p>
                    If an integer argument <em class="replaceable"><code>N</code></em> is
                    specified, it is used as the seed value:
                </p><p style="color:blue;">如果指定了整型参数n，则将其用作种子值：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            With a constant initializer argument, the seed is
                            initialized once when the statement is prepared, prior
                            to execution.
                        </p><p style="color:blue;">使用常量初始值设定项参数，在语句准备好后，在执行之前初始化一次种子。</p></li><li class="listitem"><p>
                            With a nonconstant initializer argument (such as a
                            column name), the seed is initialized with the value for
                            each invocation of
                            <a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a>.
                        </p><p style="color:blue;">使用非常量初始值设定项参数（例如列名），种子将使用每次调用rand（）的值初始化。</p></li></ul>
                    </div>
                    <p>
                        One implication of this behavior is that for equal argument
                        values,
                        <a class="link" href="functions.html#function_rand"><code class="literal">RAND(<em class="replaceable"><code>N</code></em>)</code></a>
                        returns the same value each time, and thus produces a
                        repeatable sequence of column values. In the following
                        example, the sequence of values produced by
                        <code class="literal">RAND(3)</code> is the same both places it
                        occurs.
                    </p><p style="color:blue;">这种行为的一个含义是，对于相等的参数值，rand（n）每次返回相同的值，从而生成一个可重复的列值序列。在下面的示例中，rand（3）生成的值序列在两个位置都是相同的。</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE TABLE t (i INT);</code></strong>
Query OK, 0 rows affected (0.42 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES(1),(2),(3);</code></strong>
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT i, RAND() FROM t;</code></strong>
+------+------------------+
| i    | RAND()           |
+------+------------------+
|    1 | 0.61914388706828 |
|    2 | 0.93845168309142 |
|    3 | 0.83482678498591 |
+------+------------------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT i, RAND(3) FROM t;</code></strong>
+------+------------------+
| i    | RAND(3)          |
+------+------------------+
|    1 | 0.90576975597606 |
|    2 | 0.37307905813035 |
|    3 | 0.14808605345719 |
+------+------------------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT i, RAND() FROM t;</code></strong>
+------+------------------+
| i    | RAND()           |
+------+------------------+
|    1 | 0.35877890638893 |
|    2 | 0.28941420772058 |
|    3 | 0.37073435016976 |
+------+------------------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT i, RAND(3) FROM t;</code></strong>
+------+------------------+
| i    | RAND(3)          |
+------+------------------+
|    1 | 0.90576975597606 |
|    2 | 0.37307905813035 |
|    3 | 0.14808605345719 |
+------+------------------+
3 rows in set (0.01 sec)
</pre><p>
                        <a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a> in a
                        <code class="literal">WHERE</code> clause is evaluated for every row
                        (when selecting from one table) or combination of rows (when
                        selecting from a multiple-table join). Thus, for optimizer
                        purposes, <a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a> is not a
                        constant value and cannot be used for index optimizations.
                        For more information, see
                        <a class="xref" href="optimization.html#function-optimization" title="8.2.1.18&nbsp;Function Call Optimization">Section&nbsp;8.2.1.18, “Function Call Optimization”</a>.
                    </p><p style="color:blue;">在where子句中，对每一行（从一个表中选择时）或行组合（从多个表联接中选择时）计算rand（）。因此，出于优化器的目的，rand（）不是一个常量值，不能用于索引优化。有关更多信息，请参见第8.2.1.18节“函数调用优化”。</p><p>
                        Use of a column with <a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a>
                        values in an <code class="literal">ORDER BY</code> or <code class="literal">GROUP
                        BY</code> clause may yield unexpected results because for
                        either clause a <a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a>
                        expression can be evaluated multiple times for the same row,
                        each time returning a different result. If the goal is to
                        retrieve rows in random order, you can use a statement like
                        this:
                    </p><p style="color:blue;">在ORDER BY或GROUP BY子句中使用具有rand（）值的列可能会产生意外结果，因为对于任一子句，可以对同一行多次计算rand（）表达式，每次返回不同的结果。如果目标是以随机顺序检索行，则可以使用如下语句：</p><pre data-lang="sql" class="programlisting">SELECT * FROM <em class="replaceable"><code>tbl_name</code></em> ORDER BY RAND();
</pre><p>
                        To select a random sample from a set of rows, combine
                        <code class="literal">ORDER BY RAND()</code> with
                        <code class="literal">LIMIT</code>:
                    </p><p style="color:blue;">要从一组行中选择随机样本，请将order by rand（）与limit结合起来：</p><pre data-lang="sql" class="programlisting">SELECT * FROM table1, table2 WHERE a=b AND c&lt;d ORDER BY RAND() LIMIT 1000;
</pre><p>
                        <a class="link" href="functions.html#function_rand"><code class="literal">RAND()</code></a> is not meant to be a
                        perfect random generator. It is a fast way to generate
                        random numbers on demand that is portable between platforms
                        for the same MySQL version.
                    </p><p style="color:blue;">rand（）不是一个完美的随机生成器。这是一种按需生成随机数的快速方法，可在相同mysql版本的平台之间移植。</p><p>
                        This function is unsafe for statement-based replication. A
                        warning is logged if you use this function when
                        <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                        <code class="literal">STATEMENT</code>.
                    </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li><li class="listitem"><a name="function_round"></a><p>
                    <a class="indexterm" name="idm140286852548560"></a>

                    <a class="link" href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
                </p><p style="color:blue;">圆（X），圆（X，D）</p><p>
                    Rounds the argument <em class="replaceable"><code>X</code></em> to
                    <em class="replaceable"><code>D</code></em> decimal places. The rounding
                    algorithm depends on the data type of
                    <em class="replaceable"><code>X</code></em>. <em class="replaceable"><code>D</code></em>
                    defaults to 0 if not specified. <em class="replaceable"><code>D</code></em>
                    can be negative to cause <em class="replaceable"><code>D</code></em> digits
                    left of the decimal point of the value
                    <em class="replaceable"><code>X</code></em> to become zero.
                </p><p style="color:blue;">将参数x舍入到d个小数位。舍入算法取决于x.d的数据类型，如果未指定，则默认为0。d可以是负数，以使x值小数点左边的d位变为零。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROUND(-1.23);</code></strong>
        -&gt; -1
mysql&gt; <strong class="userinput"><code>SELECT ROUND(-1.58);</code></strong>
        -&gt; -2
mysql&gt; <strong class="userinput"><code>SELECT ROUND(1.58);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT ROUND(1.298, 1);</code></strong>
        -&gt; 1.3
mysql&gt; <strong class="userinput"><code>SELECT ROUND(1.298, 0);</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT ROUND(23.298, -1);</code></strong>
        -&gt; 20
</pre><p>
                    The return value has the same type as the first argument
                    (assuming that it is integer, double, or decimal). This
                    means that for an integer argument, the result is an integer
                    (no decimal places):
                </p><p style="color:blue;">返回值的类型与第一个参数的类型相同（假设它是整数、双精度或十进制）。这意味着对于整型参数，结果是一个整数（没有小数点）：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROUND(150.000,2), ROUND(150,2);</code></strong>
+------------------+--------------+
| ROUND(150.000,2) | ROUND(150,2) |
+------------------+--------------+
|           150.00 |          150 |
+------------------+--------------+
</pre><p>
                    <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> uses the following
                    rules depending on the type of the first argument:
                </p><p style="color:blue;">round（）根据第一个参数的类型使用以下规则：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            For exact-value numbers,
                            <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> uses the
                            <span class="quote">“<span class="quote">round half away from zero</span>”</span> or <span class="quote">“<span class="quote">round
                toward nearest</span>”</span> rule: A value with a fractional
                            part of .5 or greater is rounded up to the next integer
                            if positive or down to the next integer if negative. (In
                            other words, it is rounded away from zero.) A value with
                            a fractional part less than .5 is rounded down to the
                            next integer if positive or up to the next integer if
                            negative.
                        </p><p style="color:blue;">对于精确的数值，round（）使用“舍入0的一半”或“舍入到最近”规则：小数部分为.5或更大的值，如果为正，则向上舍入到下一个整数；如果为负，则向下舍入到下一个整数。（换言之，从零开始四舍五入。）小数部分小于.5的值，如果为正，则向下舍入到下一个整数；如果为负，则向上舍入到下一个整数。</p></li><li class="listitem"><p>
                            For approximate-value numbers, the result depends on the
                            C library. On many systems, this means that
                            <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> uses the
                            <span class="quote">“<span class="quote">round to nearest even</span>”</span> rule: A value with
                            a fractional part exactly half way between two integers
                            is rounded to the nearest even integer.
                        </p><p style="color:blue;">对于近似值数字，结果依赖于C库。在许多系统中，这意味着round（）使用“舍入到最接近的偶数”规则：小数部分正好位于两个整数之间一半的值被舍入到最接近的偶数整数。</p></li></ul>
                    </div>
                    <p>
                        The following example shows how rounding differs for exact
                        and approximate values:
                    </p><p style="color:blue;">下面的示例显示舍入对于精确值和近似值的不同：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROUND(2.5), ROUND(25E-1);</code></strong>
+------------+--------------+
| ROUND(2.5) | ROUND(25E-1) |
+------------+--------------+
| 3          |            2 |
+------------+--------------+
</pre><p>
                        For more information, see <a class="xref" href="functions.html#precision-math" title="12.22&nbsp;Precision Math">Section&nbsp;12.22, “Precision Math”</a>.
                    </p><p style="color:blue;">有关详细信息，请参见第12.22节“精确数学”。</p></li><li class="listitem"><a name="function_sign"></a><p>
                    <a class="indexterm" name="idm140286852516320"></a>

                    <a class="link" href="functions.html#function_sign"><code class="literal">SIGN(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">标志（X）</p><p>
                    Returns the sign of the argument as <code class="literal">-1</code>,
                    <code class="literal">0</code>, or <code class="literal">1</code>, depending on
                    whether <em class="replaceable"><code>X</code></em> is negative, zero, or
                    positive.
                </p><p style="color:blue;">返回参数的符号为-1、0或1，具体取决于x是负、0还是正。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SIGN(-32);</code></strong>
        -&gt; -1
mysql&gt; <strong class="userinput"><code>SELECT SIGN(0);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT SIGN(234);</code></strong>
        -&gt; 1
</pre></li><li class="listitem"><a name="function_sin"></a><p>
                    <a class="indexterm" name="idm140286852502944"></a>

                    <a class="link" href="functions.html#function_sin"><code class="literal">SIN(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">罪（X）</p><p>
                    Returns the sine of <em class="replaceable"><code>X</code></em>, where
                    <em class="replaceable"><code>X</code></em> is given in radians.
                </p><p style="color:blue;">返回x的正弦值，其中x以弧度表示。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SIN(PI());</code></strong>
        -&gt; 1.2246063538224e-16
mysql&gt; <strong class="userinput"><code>SELECT ROUND(SIN(PI()));</code></strong>
        -&gt; 0
</pre></li><li class="listitem"><a name="function_sqrt"></a><p>
                    <a class="indexterm" name="idm140286852491904"></a>

                    <a class="link" href="functions.html#function_sqrt"><code class="literal">SQRT(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">平方英尺（x）</p><p>
                    Returns the square root of a nonnegative number
                    <em class="replaceable"><code>X</code></em>.
                </p><p style="color:blue;">返回非负数x的平方根。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SQRT(4);</code></strong>
        -&gt; 2
mysql&gt; <strong class="userinput"><code>SELECT SQRT(20);</code></strong>
        -&gt; 4.4721359549996
mysql&gt; <strong class="userinput"><code>SELECT SQRT(-16);</code></strong>
        -&gt; NULL
</pre></li><li class="listitem"><a name="function_tan"></a><p>
                    <a class="indexterm" name="idm140286852480528"></a>

                    <a class="link" href="functions.html#function_tan"><code class="literal">TAN(<em class="replaceable"><code>X</code></em>)</code></a>
                </p><p style="color:blue;">棕褐色（X）</p><p>
                    Returns the tangent of <em class="replaceable"><code>X</code></em>, where
                    <em class="replaceable"><code>X</code></em> is given in radians.
                </p><p style="color:blue;">返回x的正切，其中x以弧度表示。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TAN(PI());</code></strong>
        -&gt; -1.2246063538224e-16
mysql&gt; <strong class="userinput"><code>SELECT TAN(PI()+1);</code></strong>
        -&gt; 1.5574077246549
</pre></li><li class="listitem"><a name="function_truncate"></a><p>
                    <a class="indexterm" name="idm140286852469440"></a>

                    <a class="link" href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
                </p><p style="color:blue;">截断（x，d）</p><p>
                    Returns the number <em class="replaceable"><code>X</code></em>, truncated
                    to <em class="replaceable"><code>D</code></em> decimal places. If
                    <em class="replaceable"><code>D</code></em> is <code class="literal">0</code>, the
                    result has no decimal point or fractional part.
                    <em class="replaceable"><code>D</code></em> can be negative to cause
                    <em class="replaceable"><code>D</code></em> digits left of the decimal
                    point of the value <em class="replaceable"><code>X</code></em> to become
                    zero.
                </p><p style="color:blue;">返回数字x，截断为d个小数位。如果d为0，则结果没有小数点或小数部分。d可以是负数，以使x值小数点左边的d位变为零。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TRUNCATE(1.223,1);</code></strong>
        -&gt; 1.2
mysql&gt; <strong class="userinput"><code>SELECT TRUNCATE(1.999,1);</code></strong>
        -&gt; 1.9
mysql&gt; <strong class="userinput"><code>SELECT TRUNCATE(1.999,0);</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT TRUNCATE(-1.999,1);</code></strong>
        -&gt; -1.9
mysql&gt; <strong class="userinput"><code>SELECT TRUNCATE(122,-2);</code></strong>
       -&gt; 100
mysql&gt; <strong class="userinput"><code>SELECT TRUNCATE(10.28*100,0);</code></strong>
       -&gt; 1028
</pre><p>
                    All numbers are rounded toward zero.
                </p><p style="color:blue;">所有数字都四舍五入为零。</p></li></ul>
            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="date-and-time-functions"></a>12.7&nbsp;Date and Time Functions</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286852452064"></a><a class="indexterm" name="idm140286852450992"></a><p>
        This section describes the functions that can be used to
        manipulate temporal values. See
        <a class="xref" href="data-types.html#date-and-time-types" title="11.3&nbsp;Date and Time Types">Section&nbsp;11.3, “Date and Time Types”</a>, for a description of the
        range of values each date and time type has and the valid formats
        in which values may be specified.
    </p><p style="color:blue;">本节描述可用于操作时态值的函数。参见第11.3节“日期和时间类型”，了解每个日期和时间类型具有的值的范围以及可以指定值的有效格式。</p>
        <div class="table">
            <a name="idm140286852448160"></a><p class="title"><b>Table&nbsp;12.13&nbsp;Date and Time Functions</b></p><p style="color:blue;">表12.13日期和时间函数</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists date and time functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_adddate"><code class="literal">ADDDATE()</code></a></td>
                    <td>
                        Add time values (intervals) to a date value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_addtime"><code class="literal">ADDTIME()</code></a></td>
                    <td>
                        Add time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a></td>
                    <td>
                        Convert from one time zone to another
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a></td>
                    <td>
                        Return the current date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-date"><code class="literal">CURRENT_DATE()</code>, <code class="literal">CURRENT_DATE</code></a></td>
                    <td>
                        Synonyms for CURDATE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-time"><code class="literal">CURRENT_TIME()</code>, <code class="literal">CURRENT_TIME</code></a></td>
                    <td>
                        Synonyms for CURTIME()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-timestamp"><code class="literal">CURRENT_TIMESTAMP()</code>, <code class="literal">CURRENT_TIMESTAMP</code></a></td>
                    <td>
                        Synonyms for NOW()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a></td>
                    <td>
                        Return the current time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date"><code class="literal">DATE()</code></a></td>
                    <td>
                        Extract the date part of a date or datetime expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a></td>
                    <td>
                        Add time values (intervals) to a date value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a></td>
                    <td>
                        Format date as specified
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a></td>
                    <td>
                        Subtract a time value (interval) from a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_datediff"><code class="literal">DATEDIFF()</code></a></td>
                    <td>
                        Subtract two dates
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_day"><code class="literal">DAY()</code></a></td>
                    <td>
                        Synonym for DAYOFMONTH()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a></td>
                    <td>
                        Return the name of the weekday
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayofmonth"><code class="literal">DAYOFMONTH()</code></a></td>
                    <td>
                        Return the day of the month (0-31)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayofweek"><code class="literal">DAYOFWEEK()</code></a></td>
                    <td>
                        Return the weekday index of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_dayofyear"><code class="literal">DAYOFYEAR()</code></a></td>
                    <td>
                        Return the day of the year (1-366)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_extract"><code class="literal">EXTRACT()</code></a></td>
                    <td>
                        Extract part of a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_from-days"><code class="literal">FROM_DAYS()</code></a></td>
                    <td>
                        Convert a day number to a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a></td>
                    <td>
                        Format Unix timestamp as a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT()</code></a></td>
                    <td>
                        Return a date format string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_hour"><code class="literal">HOUR()</code></a></td>
                    <td>
                        Extract the hour
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_last-day"><code class="literal">LAST_DAY</code></a></td>
                    <td>
                        Return the last day of the month for the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_localtime"><code class="literal">LOCALTIME()</code>, <code class="literal">LOCALTIME</code></a></td>
                    <td>
                        Synonym for NOW()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_localtimestamp"><code class="literal">LOCALTIMESTAMP</code>, <code class="literal">LOCALTIMESTAMP()</code></a></td>
                    <td>
                        Synonym for NOW()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_makedate"><code class="literal">MAKEDATE()</code></a></td>
                    <td>
                        Create a date from the year and day of year
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a></td>
                    <td>
                        Create time from hour, minute, second
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_microsecond"><code class="literal">MICROSECOND()</code></a></td>
                    <td>
                        Return the microseconds from argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_minute"><code class="literal">MINUTE()</code></a></td>
                    <td>
                        Return the minute from the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_month"><code class="literal">MONTH()</code></a></td>
                    <td>
                        Return the month from the date passed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a></td>
                    <td>
                        Return the name of the month
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a></td>
                    <td>
                        Return the current date and time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_period-add"><code class="literal">PERIOD_ADD()</code></a></td>
                    <td>
                        Add a period to a year-month
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_period-diff"><code class="literal">PERIOD_DIFF()</code></a></td>
                    <td>
                        Return the number of months between periods
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_quarter"><code class="literal">QUARTER()</code></a></td>
                    <td>
                        Return the quarter from a date argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a></td>
                    <td>
                        Converts seconds to 'hh:mm:ss' format
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_second"><code class="literal">SECOND()</code></a></td>
                    <td>
                        Return the second (0-59)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a></td>
                    <td>
                        Convert a string to a date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_subdate"><code class="literal">SUBDATE()</code></a></td>
                    <td>
                        Synonym for DATE_SUB() when invoked with three arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_subtime"><code class="literal">SUBTIME()</code></a></td>
                    <td>
                        Subtract times
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a></td>
                    <td>
                        Return the time at which the function executes
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_time"><code class="literal">TIME()</code></a></td>
                    <td>
                        Extract the time portion of the expression passed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a></td>
                    <td>
                        Format as time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_time-to-sec"><code class="literal">TIME_TO_SEC()</code></a></td>
                    <td>
                        Return the argument converted to seconds
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a></td>
                    <td>
                        Subtract time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timestamp"><code class="literal">TIMESTAMP()</code></a></td>
                    <td>
                        With a single argument, this function returns the date or datetime
                        expression; with two arguments, the sum of the arguments
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a></td>
                    <td>
                        Add an interval to a datetime expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a></td>
                    <td>
                        Subtract an interval from a datetime expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS()</code></a></td>
                    <td>
                        Return the date argument converted to days
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_to-seconds"><code class="literal">TO_SECONDS()</code></a></td>
                    <td>
                        Return the date or datetime argument converted to seconds since
                        Year 0
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a></td>
                    <td>
                        Return a Unix timestamp
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_utc-date"><code class="literal">UTC_DATE()</code></a></td>
                    <td>
                        Return the current UTC date
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_utc-time"><code class="literal">UTC_TIME()</code></a></td>
                    <td>
                        Return the current UTC time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_utc-timestamp"><code class="literal">UTC_TIMESTAMP()</code></a></td>
                    <td>
                        Return the current UTC date and time
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a></td>
                    <td>
                        Return the week number
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_weekday"><code class="literal">WEEKDAY()</code></a></td>
                    <td>
                        Return the weekday index
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_weekofyear"><code class="literal">WEEKOFYEAR()</code></a></td>
                    <td>
                        Return the calendar week of the date (1-53)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_year"><code class="literal">YEAR()</code></a></td>
                    <td>
                        Return the year
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_yearweek"><code class="literal">YEARWEEK()</code></a></td>
                    <td>
                        Return the year and week
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break"><p>
        Here is an example that uses date functions. The following query
        selects all rows with a <em class="replaceable"><code>date_col</code></em> value
        from within the last 30 days:
    </p><p style="color:blue;">下面是一个使用日期函数的示例。以下查询从过去30天内选择具有日期值的所有行：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT <em class="replaceable"><code>something</code></em> FROM <em class="replaceable"><code>tbl_name</code></em></code></strong>
    -&gt; <strong class="userinput"><code>WHERE DATE_SUB(CURDATE(),INTERVAL 30 DAY) &lt;= <em class="replaceable"><code>date_col</code></em>;</code></strong>
</pre><p>
        The query also selects rows with dates that lie in the future.
    </p><p style="color:blue;">查询还选择具有未来日期的行。</p><p>
        Functions that expect date values usually accept datetime values
        and ignore the time part. Functions that expect time values
        usually accept datetime values and ignore the date part.
    </p><p style="color:blue;">期望日期值的函数通常接受日期时间值而忽略时间部分。期望时间值的函数通常接受日期时间值而忽略日期部分。</p><p>
        Functions that return the current date or time each are evaluated
        only once per query at the start of query execution. This means
        that multiple references to a function such as
        <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a> within a single query always
        produce the same result. (For our purposes, a single query also
        includes a call to a stored program (stored routine, trigger, or
        event) and all subprograms called by that program.) This principle
        also applies to <a class="link" href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a>,
        <a class="link" href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a>,
        <a class="link" href="functions.html#function_utc-date"><code class="literal">UTC_DATE()</code></a>,
        <a class="link" href="functions.html#function_utc-time"><code class="literal">UTC_TIME()</code></a>,
        <a class="link" href="functions.html#function_utc-timestamp"><code class="literal">UTC_TIMESTAMP()</code></a>, and to any of
        their synonyms.
    </p><p style="color:blue;">在查询执行开始时，每个返回当前日期或时间的函数只对每个查询求值一次。这意味着在一个查询中对now（）这样的函数的多次引用总是产生相同的结果。（就我们的目的而言，单个查询还包括对存储程序（存储例程、触发器或事件）和该程序调用的所有子程序的调用。）此原则也适用于curdate（）、curtime（）、utc_date（）、utc_time（）、utc_timestamp（）及其任何同义词。</p><p>
        The <a class="link" href="functions.html#function_current-timestamp"><code class="literal">CURRENT_TIMESTAMP()</code></a>,
        <a class="link" href="functions.html#function_current-time"><code class="literal">CURRENT_TIME()</code></a>,
        <a class="link" href="functions.html#function_current-date"><code class="literal">CURRENT_DATE()</code></a>, and
        <a class="link" href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> functions return
        values in the current session time zone, which is available as the
        session value of the <a class="link" href="server-administration.html#sysvar_time_zone"><code class="literal">time_zone</code></a>
        system variable. In addition,
        <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> assumes that its
        argument is a datetime value in the session time zone. See
        <a class="xref" href="server-administration.html#time-zone-support" title="5.1.12&nbsp;MySQL Server Time Zone Support">Section&nbsp;5.1.12, “MySQL Server Time Zone Support”</a>.
    </p><p style="color:blue;">current_timestamp（）、current_time（）、current_date（）和from_unixtime（）函数返回当前会话时区中的值，该值可用作时区系统变量的会话值。此外，unix_timestamp（）假定其参数是会话时区中的日期时间值。参见第5.1.12节“MySQL服务器时区支持”。</p><p>
        Some date functions can be used with <span class="quote">“<span class="quote">zero</span>”</span> dates or
        incomplete dates such as <code class="literal">'2001-11-00'</code>, whereas
        others cannot. Functions that extract parts of dates typically
        work with incomplete dates and thus can return 0 when you might
        otherwise expect a nonzero value. For example:
    </p><p style="color:blue;">有些日期函数可以用于“零”日期或不完整的日期，如“2001-11-00”，而其他函数则不能。提取部分日期的函数通常处理不完整的日期，因此当您可能期望非零值时，可以返回0。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DAYOFMONTH('2001-11-00'), MONTH('2005-00-00');</code></strong>
        -&gt; 0, 0
</pre><p>
        Other functions expect complete dates and return
        <code class="literal">NULL</code> for incomplete dates. These include
        functions that perform date arithmetic or that map parts of dates
        to names. For example:
    </p><p style="color:blue;">其他函数需要完整的日期，对于不完整的日期则返回null。其中包括执行日期算术或将部分日期映射到名称的函数。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('2006-05-00',INTERVAL 1 DAY);</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT DAYNAME('2006-05-00');</code></strong>
        -&gt; NULL
</pre><p>
        Several functions are more strict when passed a
        <a class="link" href="functions.html#function_date"><code class="literal">DATE()</code></a> function value as their
        argument and reject incomplete dates with a day part of zero.
        These functions are affected:
        <a class="link" href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a>,
        <a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>,
        <a class="link" href="functions.html#function_dayofyear"><code class="literal">DAYOFYEAR()</code></a>,
        <a class="link" href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> (permits a day part of
        zero), <a class="link" href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a>,
        <a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS()</code></a>,
        <a class="link" href="functions.html#function_to-seconds"><code class="literal">TO_SECONDS()</code></a>,
        <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a>,
        <a class="link" href="functions.html#function_weekday"><code class="literal">WEEKDAY()</code></a>,
        <a class="link" href="functions.html#function_weekofyear"><code class="literal">WEEKOFYEAR()</code></a>,
        <a class="link" href="functions.html#function_yearweek"><code class="literal">YEARWEEK()</code></a>.
    </p><p style="color:blue;">当传递一个date（）函数值作为参数并拒绝日期部分为零的不完整日期时，有几个函数更严格。这些函数受影响：convert_tz（）、date_add（）、date_sub（）、dayofyear（）、last_day（）（允许一天为零）、timestampDiff（）、to_days（）、to_seconds（）、week（）、weekday（）、weekofyear（）、yearweek（）。</p><p>
        Fractional seconds for <code class="literal">TIME</code>,
        <code class="literal">DATETIME</code>, and <code class="literal">TIMESTAMP</code>
        values are supported, with up to microsecond precision. Functions
        that take temporal arguments accept values with fractional
        seconds. Return values from temporal functions include fractional
        seconds as appropriate.
    </p><p style="color:blue;">支持时间、日期时间和时间戳值的小数秒，精度高达微秒。接受时态参数的函数接受带有小数秒的值。时间函数的返回值包括适当的小数秒。</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_adddate"></a><p>
                <a class="indexterm" name="idm140286852192768"></a>

                <a class="link" href="functions.html#function_adddate"><code class="literal">ADDDATE(<em class="replaceable"><code>date</code></em>,INTERVAL
                    <em class="replaceable"><code>expr</code></em>
                    <em class="replaceable"><code>unit</code></em>)</code></a>,
                <a class="link" href="functions.html#function_adddate"><code class="literal">ADDDATE(<em class="replaceable"><code>expr</code></em>,<em class="replaceable"><code>days</code></em>)</code></a>
            </p><p style="color:blue;">添加日期（日期，间隔表达式单位），添加日期（表达式，天）</p><p>
                When invoked with the <code class="literal">INTERVAL</code> form of the
                second argument, <a class="link" href="functions.html#function_adddate"><code class="literal">ADDDATE()</code></a> is a
                synonym for <a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>. The
                related function <a class="link" href="functions.html#function_subdate"><code class="literal">SUBDATE()</code></a> is a
                synonym for <a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>. For
                information on the <code class="literal">INTERVAL</code>
                <em class="replaceable"><code>unit</code></em> argument, see
                <a class="xref" href="language-structure.html#temporal-intervals" title="Temporal Intervals">Temporal Intervals</a>.
            </p><p style="color:blue;">当使用第二个参数的interval形式调用时，addDate（）是date_add（）的同义词。相关函数sub date（）是date_sub（）的同义词。有关间隔单位参数的信息，请参见时间间隔。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('2008-01-02', INTERVAL 31 DAY);</code></strong>
        -&gt; '2008-02-02'
mysql&gt; <strong class="userinput"><code>SELECT ADDDATE('2008-01-02', INTERVAL 31 DAY);</code></strong>
        -&gt; '2008-02-02'
</pre><p>
                When invoked with the <em class="replaceable"><code>days</code></em> form of
                the second argument, MySQL treats it as an integer number of
                days to be added to <em class="replaceable"><code>expr</code></em>.
            </p><p style="color:blue;">当使用第二个参数的days形式调用时，mysql将其视为要添加到expr的整数天数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ADDDATE('2008-01-02', 31);</code></strong>
        -&gt; '2008-02-02'
</pre></li><li class="listitem"><a name="function_addtime"></a><p>
                <a class="indexterm" name="idm140286852168864"></a>

                <a class="link" href="functions.html#function_addtime"><code class="literal">ADDTIME(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
            </p><p style="color:blue;">添加时间（expr1，expr2）</p><p>
                <a class="link" href="functions.html#function_addtime"><code class="literal">ADDTIME()</code></a> adds
                <em class="replaceable"><code>expr2</code></em> to
                <em class="replaceable"><code>expr1</code></em> and returns the result.
                <em class="replaceable"><code>expr1</code></em> is a time or datetime
                expression, and <em class="replaceable"><code>expr2</code></em> is a time
                expression.
            </p><p style="color:blue;">addTime（）将expr2添加到expr1并返回结果。expr1是时间或日期时间表达式，expr2是时间表达式。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ADDTIME('2007-12-31 23:59:59.999999', '1 1:1:1.000002');</code></strong>
        -&gt; '2008-01-02 01:01:01.000001'
mysql&gt; <strong class="userinput"><code>SELECT ADDTIME('01:00:00.999999', '02:00:00.999998');</code></strong>
        -&gt; '03:00:01.999997'
</pre></li><li class="listitem"><a name="function_convert-tz"></a><p>
                <a class="indexterm" name="idm140286852155024"></a>

                <a class="link" href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ(<em class="replaceable"><code>dt</code></em>,<em class="replaceable"><code>from_tz</code></em>,<em class="replaceable"><code>to_tz</code></em>)</code></a>
            </p><p style="color:blue;">转换（dt，从_Tz，到_Tz）</p><p>
                <a class="link" href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> converts a
                datetime value <em class="replaceable"><code>dt</code></em> from the time
                zone given by <em class="replaceable"><code>from_tz</code></em> to the time
                zone given by <em class="replaceable"><code>to_tz</code></em> and returns the
                resulting value. Time zones are specified as described in
                <a class="xref" href="server-administration.html#time-zone-support" title="5.1.12&nbsp;MySQL Server Time Zone Support">Section&nbsp;5.1.12, “MySQL Server Time Zone Support”</a>. This function returns
                <code class="literal">NULL</code> if the arguments are invalid.
            </p><p style="color:blue;">convert_tz（）将日期时间值dt从from_tz给定的时区转换为to_tz给定的时区，并返回结果值。时区如5.1.12节“MySQL服务器时区支持”所述。如果参数无效，则此函数返回null。</p><p>
                If the value falls out of the supported range of the
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> type when converted
                from <em class="replaceable"><code>from_tz</code></em> to UTC, no conversion
                occurs. The <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> range is
                described in <a class="xref" href="data-types.html#date-and-time-type-overview" title="11.1.2&nbsp;Date and Time Type Overview">Section&nbsp;11.1.2, “Date and Time Type Overview”</a>.
            </p><p style="color:blue;">如果值在从_Tz转换为UTC时超出了时间戳类型的支持范围，则不会发生转换。时间戳范围在第11.1.2节“日期和时间类型概述”中描述。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONVERT_TZ('2004-01-01 12:00:00','GMT','MET');</code></strong>
        -&gt; '2004-01-01 13:00:00'
mysql&gt; <strong class="userinput"><code>SELECT CONVERT_TZ('2004-01-01 12:00:00','+00:00','+10:00');</code></strong>
        -&gt; '2004-01-01 22:00:00'
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        To use named time zones such as <code class="literal">'MET'</code> or
                        <code class="literal">'Europe/Amsterdam'</code>, the time zone tables
                        must be properly set up. For instructions, see
                        <a class="xref" href="server-administration.html#time-zone-support" title="5.1.12&nbsp;MySQL Server Time Zone Support">Section&nbsp;5.1.12, “MySQL Server Time Zone Support”</a>.
                    </p><p style="color:blue;">要使用命名时区，如“met”或“europe/amsterdam”，必须正确设置时区表。有关说明，请参阅第5.1.12节“MySQL服务器时区支持”。</p>
                </div>
            </li><li class="listitem"><a name="function_curdate"></a><p>
                <a class="indexterm" name="idm140286852132576"></a>

                <a class="link" href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a>
            </p><p style="color:blue;">当前日期（）</p><p>
                Returns the current date as a value in
                <em class="replaceable"><code>'YYYY-MM-DD'</code></em> or
                <em class="replaceable"><code>YYYYMMDD</code></em> format, depending on
                whether the function is used in a string or numeric context.
            </p><p style="color:blue;">返回当前日期作为“yyyy-mm-dd”或yyyymmdd格式的值，具体取决于函数是在字符串或数字上下文中使用。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CURDATE();</code></strong>
        -&gt; '2008-06-13'
mysql&gt; <strong class="userinput"><code>SELECT CURDATE() + 0;</code></strong>
        -&gt; 20080613
</pre></li><li class="listitem"><a name="function_current-date"></a><p>
                <a class="indexterm" name="idm140286852121792"></a>

                <a class="link" href="functions.html#function_current-date"><code class="literal">CURRENT_DATE</code></a>,
                <a class="link" href="functions.html#function_current-date"><code class="literal">CURRENT_DATE()</code></a>
            </p><p style="color:blue;">当前日期，当前日期（）</p><p>
                <a class="link" href="functions.html#function_current-date"><code class="literal">CURRENT_DATE</code></a> and
                <a class="link" href="functions.html#function_current-date"><code class="literal">CURRENT_DATE()</code></a> are synonyms for
                <a class="link" href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a>.
            </p><p style="color:blue;">当前日期和当前日期（）是curdate（）的同义词。</p></li><li class="listitem"><a name="function_current-time"></a><p>
                <a class="indexterm" name="idm140286852110080"></a>

                <a class="link" href="functions.html#function_current-time"><code class="literal">CURRENT_TIME</code></a>,
                <a class="link" href="functions.html#function_current-time"><code class="literal">CURRENT_TIME([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">当前时间，当前时间（[fsp]）</p><p>
                <a class="link" href="functions.html#function_current-time"><code class="literal">CURRENT_TIME</code></a> and
                <a class="link" href="functions.html#function_current-time"><code class="literal">CURRENT_TIME()</code></a> are synonyms for
                <a class="link" href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a>.
            </p><p style="color:blue;">current_time和current_time（）是curtime（）的同义词。</p></li><li class="listitem"><a name="function_current-timestamp"></a><p>
                <a class="indexterm" name="idm140286852097904"></a>

                <a class="link" href="functions.html#function_current-timestamp"><code class="literal">CURRENT_TIMESTAMP</code></a>,
                <a class="link" href="functions.html#function_current-timestamp"><code class="literal">CURRENT_TIMESTAMP([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">当前时间戳，当前时间戳（[fsp]）</p><p>
                <a class="link" href="functions.html#function_current-timestamp"><code class="literal">CURRENT_TIMESTAMP</code></a> and
                <a class="link" href="functions.html#function_current-timestamp"><code class="literal">CURRENT_TIMESTAMP()</code></a> are
                synonyms for <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a>.
            </p><p style="color:blue;">current_timestamp和current_timestamp（）是now（）的同义词。</p></li><li class="listitem"><a name="function_curtime"></a><p>
                <a class="indexterm" name="idm140286852085728"></a>

                <a class="link" href="functions.html#function_curtime"><code class="literal">CURTIME([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">缩短时间（[fsp]）</p><p>
                Returns the current time as a value in
                <em class="replaceable"><code>'hh:mm:ss'</code></em> or
                <em class="replaceable"><code>hhmmss</code></em> format, depending on whether
                the function is used in a string or numeric context. The value
                is expressed in the session time zone.
            </p><p style="color:blue;">以“hh:mm:ss”或“hhmmss”格式返回当前时间作为值，具体取决于函数是在字符串还是数字上下文中使用。该值在会话时区中表示。</p><p>
                If the <em class="replaceable"><code>fsp</code></em> argument is given to
                specify a fractional seconds precision from 0 to 6, the return
                value includes a fractional seconds part of that many digits.
            </p><p style="color:blue;">如果给fsp参数指定从0到6的小数秒精度，则返回值包含该多个数字的小数秒部分。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CURTIME();</code></strong>
        -&gt; '23:50:26'
mysql&gt; <strong class="userinput"><code>SELECT CURTIME() + 0;</code></strong>
        -&gt; 235026.000000
</pre></li><li class="listitem"><a name="function_date"></a><p>
                <a class="indexterm" name="idm140286852072736"></a>

                <a class="link" href="functions.html#function_date"><code class="literal">DATE(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">日期（expr）</p><p>
                Extracts the date part of the date or datetime expression
                <em class="replaceable"><code>expr</code></em>.
            </p><p style="color:blue;">提取日期或日期时间表达式表达式的日期部分。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATE('2003-12-31 01:02:03');</code></strong>
        -&gt; '2003-12-31'
</pre></li><li class="listitem"><a name="function_datediff"></a><p>
                <a class="indexterm" name="idm140286852062752"></a>

                <a class="link" href="functions.html#function_datediff"><code class="literal">DATEDIFF(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
            </p><p style="color:blue;">日期差异（expr1，expr2）</p><p>
                <a class="link" href="functions.html#function_datediff"><code class="literal">DATEDIFF()</code></a> returns
                <em class="replaceable"><code>expr1</code></em> −
                <em class="replaceable"><code>expr2</code></em> expressed as a value in days
                from one date to the other. <em class="replaceable"><code>expr1</code></em>
                and <em class="replaceable"><code>expr2</code></em> are date or date-and-time
                expressions. Only the date parts of the values are used in the
                calculation.
            </p><p style="color:blue;">datediff（）返回从一个日期到另一个日期以天为单位表示的expr1-expr2。expr1和expr2是日期或日期和时间表达式。计算中只使用值的日期部分。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATEDIFF('2007-12-31 23:59:59','2007-12-30');</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT DATEDIFF('2010-11-30 23:59:59','2010-12-31');</code></strong>
        -&gt; -31
</pre></li><li class="listitem"><a name="function_date-add"></a><p>
                <a class="indexterm" name="idm140286852048128"></a>

                <a class="indexterm" name="idm140286852047056"></a>

                <a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD(<em class="replaceable"><code>date</code></em>,INTERVAL
                    <em class="replaceable"><code>expr</code></em>
                    <em class="replaceable"><code>unit</code></em>)</code></a>,
                <a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB(<em class="replaceable"><code>date</code></em>,INTERVAL
                    <em class="replaceable"><code>expr</code></em>
                    <em class="replaceable"><code>unit</code></em>)</code></a>
            </p><p style="color:blue;">日期添加（日期，间隔表达式单位），日期子（日期，间隔表达式单位）</p><p>
                These functions perform date arithmetic. The
                <em class="replaceable"><code>date</code></em> argument specifies the
                starting date or datetime value.
                <em class="replaceable"><code>expr</code></em> is an expression specifying
                the interval value to be added or subtracted from the starting
                date. <em class="replaceable"><code>expr</code></em> is evaluated as a
                string; it may start with a <code class="literal">-</code> for negative
                intervals. <em class="replaceable"><code>unit</code></em> is a keyword
                indicating the units in which the expression should be
                interpreted.
            </p><p style="color:blue;">这些函数执行日期运算。日期参数指定开始日期或日期时间值。expr是一个表达式，指定要从开始日期中添加或减去的间隔值。expr作为字符串计算；它可以以-开头，表示负间隔。unit是一个关键字，指示应在其中解释表达式的单位。</p><p>
                For more information about temporal interval syntax, including
                a full list of <em class="replaceable"><code>unit</code></em> specifiers, the
                expected form of the <em class="replaceable"><code>expr</code></em> argument
                for each <em class="replaceable"><code>unit</code></em> value, and rules for
                operand interpretation in temporal arithmetic, see
                <a class="xref" href="language-structure.html#temporal-intervals" title="Temporal Intervals">Temporal Intervals</a>.
            </p><p style="color:blue;">有关时态区间语法的更多信息，包括单位说明符的完整列表、每个单位值的expr参数的预期形式以及时态算术中操作数解释的规则，请参见时态区间。</p><p>
                The return value depends on the arguments:
            </p><p style="color:blue;">返回值取决于参数：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> if the
                        <em class="replaceable"><code>date</code></em> argument is a
                        <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> value and your
                        calculations involve only <code class="literal">YEAR</code>,
                        <code class="literal">MONTH</code>, and <code class="literal">DAY</code> parts
                        (that is, no time parts).
                    </p><p style="color:blue;">如果date参数是日期值，并且您的计算只涉及年、月和日部分（即，没有时间部分）。</p></li><li class="listitem"><p>
                        <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> if the first
                        argument is a <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> (or
                        <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>) value, or if the
                        first argument is a <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a>
                        and the <em class="replaceable"><code>unit</code></em> value uses
                        <code class="literal">HOURS</code>, <code class="literal">MINUTES</code>, or
                        <code class="literal">SECONDS</code>.
                    </p><p style="color:blue;">如果第一个参数是日期时间（或时间戳）值，或者如果第一个参数是日期并且单位值使用小时、分钟或秒，则为日期时间。</p></li><li class="listitem"><p>
                        String otherwise.
                    </p><p style="color:blue;">否则为字符串。</p></li></ul>
                </div>
                <p>
                    To ensure that the result is
                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>, you can use
                    <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> to convert the first
                    argument to <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>.
                </p><p style="color:blue;">为了确保结果是datetime，可以使用cast（）将第一个参数转换为datetime。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('2018-05-01',INTERVAL 1 DAY);</code></strong>
        -&gt; '2018-05-02'
mysql&gt; <strong class="userinput"><code>SELECT DATE_SUB('2018-05-01',INTERVAL 1 YEAR);</code></strong>
        -&gt; '2017-05-01'
mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('2020-12-31 23:59:59',</code></strong>
    -&gt;                 <strong class="userinput"><code>INTERVAL 1 SECOND);</code></strong>
        -&gt; '2021-01-01 00:00:00'
mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('2018-12-31 23:59:59',</code></strong>
    -&gt;                 <strong class="userinput"><code>INTERVAL 1 DAY);</code></strong>
        -&gt; '2019-01-01 23:59:59'
mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('2100-12-31 23:59:59',</code></strong>
    -&gt;                 <strong class="userinput"><code>INTERVAL '1:1' MINUTE_SECOND);</code></strong>
        -&gt; '2101-01-01 00:01:00'
mysql&gt; <strong class="userinput"><code>SELECT DATE_SUB('2025-01-01 00:00:00',</code></strong>
    -&gt;                 <strong class="userinput"><code>INTERVAL '1 1:1:1' DAY_SECOND);</code></strong>
        -&gt; '2024-12-30 22:58:59'
mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('1900-01-01 00:00:00',</code></strong>
    -&gt;                 <strong class="userinput"><code>INTERVAL '-1 10' DAY_HOUR);</code></strong>
        -&gt; '1899-12-30 14:00:00'
mysql&gt; <strong class="userinput"><code>SELECT DATE_SUB('1998-01-02', INTERVAL 31 DAY);</code></strong>
        -&gt; '1997-12-02'
mysql&gt; <strong class="userinput"><code>SELECT DATE_ADD('1992-12-31 23:59:59.000002',</code></strong>
    -&gt;            <strong class="userinput"><code>INTERVAL '1.999999' SECOND_MICROSECOND);</code></strong>
        -&gt; '1993-01-01 00:00:01.000001'
</pre></li><li class="listitem"><a name="function_date-format"></a><p>
                <a class="indexterm" name="idm140286851997328"></a>

                <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT(<em class="replaceable"><code>date</code></em>,<em class="replaceable"><code>format</code></em>)</code></a>
            </p><p style="color:blue;">日期格式（日期，格式）</p><p>
                Formats the <em class="replaceable"><code>date</code></em> value according to
                the <em class="replaceable"><code>format</code></em> string.
            </p><p style="color:blue;">根据格式字符串格式化日期值。</p><p>
                The specifiers shown in the following table may be used in the
                <em class="replaceable"><code>format</code></em> string. The
                <code class="literal">%</code> character is required before format
                specifier characters. The specifiers apply to other functions
                as well: <a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a>,
                <a class="link" href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a>,
                <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a>.
            </p><p style="color:blue;">下表中显示的说明符可以用于格式字符串。格式说明符字符前需要%字符。说明符也适用于其他函数：str_to_date（）、time_format（）、unix_timestamp（）。</p>
                <div class="informaltable">
                    <table summary="Specifier characters for the DATE_FORMAT function that may be used in the format string and provides a description of each specifier character."><colgroup><col width="20%"><col width="70%"></colgroup><thead><tr>
                        <th scope="col">Specifier</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr>
                        <td scope="row"><code class="literal">%a</code></td>
                        <td>Abbreviated weekday name
                            (<code class="literal">Sun</code>..<code class="literal">Sat</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%b</code></td>
                        <td>Abbreviated month name (<code class="literal">Jan</code>..<code class="literal">Dec</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%c</code></td>
                        <td>Month, numeric (<code class="literal">0</code>..<code class="literal">12</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%D</code></td>
                        <td>Day of the month with English suffix (<code class="literal">0th</code>,
                            <code class="literal">1st</code>, <code class="literal">2nd</code>,
                            <code class="literal">3rd</code>, …)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%d</code></td>
                        <td>Day of the month, numeric (<code class="literal">00</code>..<code class="literal">31</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%e</code></td>
                        <td>Day of the month, numeric (<code class="literal">0</code>..<code class="literal">31</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%f</code></td>
                        <td>Microseconds (<code class="literal">000000</code>..<code class="literal">999999</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%H</code></td>
                        <td>Hour (<code class="literal">00</code>..<code class="literal">23</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%h</code></td>
                        <td>Hour (<code class="literal">01</code>..<code class="literal">12</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%I</code></td>
                        <td>Hour (<code class="literal">01</code>..<code class="literal">12</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%i</code></td>
                        <td>Minutes, numeric (<code class="literal">00</code>..<code class="literal">59</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%j</code></td>
                        <td>Day of year (<code class="literal">001</code>..<code class="literal">366</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%k</code></td>
                        <td>Hour (<code class="literal">0</code>..<code class="literal">23</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%l</code></td>
                        <td>Hour (<code class="literal">1</code>..<code class="literal">12</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%M</code></td>
                        <td>Month name (<code class="literal">January</code>..<code class="literal">December</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%m</code></td>
                        <td>Month, numeric (<code class="literal">00</code>..<code class="literal">12</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%p</code></td>
                        <td><code class="literal">AM</code> or <code class="literal">PM</code></td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%r</code></td>
                        <td>Time, 12-hour (<em class="replaceable"><code>hh:mm:ss</code></em> followed by
                            <code class="literal">AM</code> or <code class="literal">PM</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%S</code></td>
                        <td>Seconds (<code class="literal">00</code>..<code class="literal">59</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%s</code></td>
                        <td>Seconds (<code class="literal">00</code>..<code class="literal">59</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%T</code></td>
                        <td>Time, 24-hour (<em class="replaceable"><code>hh:mm:ss</code></em>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%U</code></td>
                        <td>Week (<code class="literal">00</code>..<code class="literal">53</code>), where Sunday is the
                            first day of the week;
                            <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> mode 0</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%u</code></td>
                        <td>Week (<code class="literal">00</code>..<code class="literal">53</code>), where Monday is the
                            first day of the week;
                            <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> mode 1</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%V</code></td>
                        <td>Week (<code class="literal">01</code>..<code class="literal">53</code>), where Sunday is the
                            first day of the week;
                            <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> mode 2; used with
                            <code class="literal">%X</code></td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%v</code></td>
                        <td>Week (<code class="literal">01</code>..<code class="literal">53</code>), where Monday is the
                            first day of the week;
                            <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> mode 3; used with
                            <code class="literal">%x</code></td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%W</code></td>
                        <td>Weekday name (<code class="literal">Sunday</code>..<code class="literal">Saturday</code>)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%w</code></td>
                        <td>Day of the week
                            (<code class="literal">0</code>=Sunday..<code class="literal">6</code>=Saturday)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%X</code></td>
                        <td>Year for the week where Sunday is the first day of the week, numeric,
                            four digits; used with <code class="literal">%V</code></td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%x</code></td>
                        <td>Year for the week, where Monday is the first day of the week, numeric,
                            four digits; used with <code class="literal">%v</code></td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%Y</code></td>
                        <td>Year, numeric, four digits</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%y</code></td>
                        <td>Year, numeric (two digits)</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%%</code></td>
                        <td>A literal <code class="literal">%</code> character</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">%<em class="replaceable"><code>x</code></em></code></td>
                        <td><em class="replaceable"><code>x</code></em>, for any
                            <span class="quote">“<span class="quote"><em class="replaceable"><code>x</code></em></span>”</span> not listed
                            above</td>
                    </tr></tbody></table>
                </div>
                <p>
                    Ranges for the month and day specifiers begin with zero due to
                    the fact that MySQL permits the storing of incomplete dates
                    such as <code class="literal">'2014-00-00'</code>.
                </p><p style="color:blue;">月份和日期说明符的范围以零开头，因为MySQL允许存储不完整的日期，如“2014-00-00”。</p><p>
                    The language used for day and month names and abbreviations is
                    controlled by the value of the
                    <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable
                    (<a class="xref" href="charset.html#locale-support" title="10.16&nbsp;MySQL Server Locale Support">Section&nbsp;10.16, “MySQL Server Locale Support”</a>).
                </p><p style="color:blue;">用于日、月名称和缩写的语言由lc_time_names系统变量的值控制（第10.16节，“mysql server locale支持”）。</p><p>
                    For the <code class="literal">%U</code>, <code class="literal">%u</code>,
                    <code class="literal">%V</code>, and <code class="literal">%v</code> specifiers,
                    see the description of the
                    <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> function for information
                    about the mode values. The mode affects how week numbering
                    occurs.
                </p><p style="color:blue;">对于%u、%u、%v和%v说明符，有关模式值的信息，请参见week（）函数的说明。该模式影响星期编号的方式。</p><p>
                    <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> returns a string
                    with a character set and collation given by
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
                    <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> so that
                    it can return month and weekday names containing non-ASCII
                    characters.
                </p><p style="color:blue;">date_format（）返回由character_set_connection和collation_connection给定字符集和排序规则的字符串，以便返回包含非ascii字符的月份和工作日名称。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('2009-10-04 22:23:00', '%W %M %Y');</code></strong>
        -&gt; 'Sunday October 2009'
mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('2007-10-04 22:23:00', '%H:%i:%s');</code></strong>
        -&gt; '22:23:00'
mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('1900-10-04 22:23:00',</code></strong>
    -&gt; <strong class="userinput"><code>                '%D %y %a %d %m %b %j');</code></strong>
        -&gt; '4th 00 Thu 04 10 Oct 277'
mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('1997-10-04 22:23:00',</code></strong>
    -&gt; <strong class="userinput"><code>                '%H %k %I %r %T %S %w');</code></strong>
        -&gt; '22 22 10 10:23:00 PM 22:23:00 00 6'
mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('1999-01-01', '%X %V');</code></strong>
        -&gt; '1998 52'
mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('2006-06-00', '%d');</code></strong>
        -&gt; '00'
</pre></li><li class="listitem"><a name="function_date-sub"></a><p>
                <a class="indexterm" name="idm140286851817728"></a>

                <a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB(<em class="replaceable"><code>date</code></em>,INTERVAL
                    <em class="replaceable"><code>expr</code></em>
                    <em class="replaceable"><code>unit</code></em>)</code></a>
            </p><p style="color:blue;">日期（日期，间隔表达式单位）</p><p>
                See the description for
                <a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>.
            </p><p style="color:blue;">请参阅date_add（）的说明。</p></li><li class="listitem"><a name="function_day"></a><p>
                <a class="indexterm" name="idm140286851808416"></a>

                <a class="link" href="functions.html#function_day"><code class="literal">DAY(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">天（日期）</p><p>
                <a class="link" href="functions.html#function_day"><code class="literal">DAY()</code></a> is a synonym for
                <a class="link" href="functions.html#function_dayofmonth"><code class="literal">DAYOFMONTH()</code></a>.
            </p><p style="color:blue;">day（）是dayofmonth（）的同义词。</p></li><li class="listitem"><a name="function_dayname"></a><p>
                <a class="indexterm" name="idm140286851798752"></a>

                <a class="link" href="functions.html#function_dayname"><code class="literal">DAYNAME(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">日名（日期）</p><p>
                Returns the name of the weekday for
                <em class="replaceable"><code>date</code></em>. The language used for the
                name is controlled by the value of the
                <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable
                (<a class="xref" href="charset.html#locale-support" title="10.16&nbsp;MySQL Server Locale Support">Section&nbsp;10.16, “MySQL Server Locale Support”</a>).
            </p><p style="color:blue;">返回日期的工作日名称。用于名称的语言由lc_time_names系统变量的值控制（第10.16节，“mysql server locale support”）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DAYNAME('2007-02-03');</code></strong>
        -&gt; 'Saturday'
</pre></li><li class="listitem"><a name="function_dayofmonth"></a><p>
                <a class="indexterm" name="idm140286851786928"></a>

                <a class="link" href="functions.html#function_dayofmonth"><code class="literal">DAYOFMONTH(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">月日</p><p>
                Returns the day of the month for
                <em class="replaceable"><code>date</code></em>, in the range
                <code class="literal">1</code> to <code class="literal">31</code>, or
                <code class="literal">0</code> for dates such as
                <code class="literal">'0000-00-00'</code> or
                <code class="literal">'2008-00-00'</code> that have a zero day part.
            </p><p style="color:blue;">返回日期的月份日期，范围为1到31，或者对于具有零日部分的日期（如“0000-00-00”或“2008-00-00”）返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DAYOFMONTH('2007-02-03');</code></strong>
        -&gt; 3
</pre></li><li class="listitem"><a name="function_dayofweek"></a><p>
                <a class="indexterm" name="idm140286851773488"></a>

                <a class="link" href="functions.html#function_dayofweek"><code class="literal">DAYOFWEEK(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">周日（日期）</p><p>
                Returns the weekday index for <em class="replaceable"><code>date</code></em>
                (<code class="literal">1</code> = Sunday, <code class="literal">2</code> = Monday,
                …, <code class="literal">7</code> = Saturday). These index values
                correspond to the ODBC standard.
            </p><p style="color:blue;">返回日期的工作日索引（1=星期日，2=星期一，…，7=星期六）。这些索引值对应于odbc标准。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DAYOFWEEK('2007-02-03');</code></strong>
        -&gt; 7
</pre></li><li class="listitem"><a name="function_dayofyear"></a><p>
                <a class="indexterm" name="idm140286851761440"></a>

                <a class="link" href="functions.html#function_dayofyear"><code class="literal">DAYOFYEAR(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">年月日</p><p>
                Returns the day of the year for
                <em class="replaceable"><code>date</code></em>, in the range
                <code class="literal">1</code> to <code class="literal">366</code>.
            </p><p style="color:blue;">返回日期的年份日期，范围为1到366。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DAYOFYEAR('2007-02-03');</code></strong>
        -&gt; 34
</pre></li><li class="listitem"><a name="function_extract"></a><p>
                <a class="indexterm" name="idm140286851750160"></a>

                <a class="link" href="functions.html#function_extract"><code class="literal">EXTRACT(<em class="replaceable"><code>unit</code></em>
                    FROM <em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">摘录（单位起始日期）</p><p>
                The <a class="link" href="functions.html#function_extract"><code class="literal">EXTRACT()</code></a> function uses the
                same kinds of <em class="replaceable"><code>unit</code></em> specifiers as
                <a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> or
                <a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, but extracts parts
                from the date rather than performing date arithmetic. For
                information on the <em class="replaceable"><code>unit</code></em> argument,
                see <a class="xref" href="language-structure.html#temporal-intervals" title="Temporal Intervals">Temporal Intervals</a>.
            </p><p style="color:blue;">extract（）函数使用与date_add（）或date_sub（）相同的单元说明符，但从日期中提取部分，而不是执行日期算术。有关单位参数的信息，请参见时间间隔。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT EXTRACT(YEAR FROM '2019-07-02');</code></strong>
        -&gt; 2019
mysql&gt; <strong class="userinput"><code>SELECT EXTRACT(YEAR_MONTH FROM '2019-07-02 01:02:03');</code></strong>
        -&gt; 201907
mysql&gt; <strong class="userinput"><code>SELECT EXTRACT(DAY_MINUTE FROM '2019-07-02 01:02:03');</code></strong>
        -&gt; 20102
mysql&gt; <strong class="userinput"><code>SELECT EXTRACT(MICROSECOND</code></strong>
    -&gt;                <strong class="userinput"><code>FROM '2003-01-02 10:30:00.000123');</code></strong>
        -&gt; 123
</pre></li><li class="listitem"><a name="function_from-days"></a><p>
                <a class="indexterm" name="idm140286851731728"></a>

                <a class="link" href="functions.html#function_from-days"><code class="literal">FROM_DAYS(<em class="replaceable"><code>N</code></em>)</code></a>
            </p><p style="color:blue;">从天（n）</p><p>
                Given a day number <em class="replaceable"><code>N</code></em>, returns a
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> value.
            </p><p style="color:blue;">给定日数n，返回日期值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT FROM_DAYS(730669);</code></strong>
        -&gt; '2000-07-03'
</pre><p>
                Use <a class="link" href="functions.html#function_from-days"><code class="literal">FROM_DAYS()</code></a> with caution on
                old dates. It is not intended for use with values that precede
                the advent of the Gregorian calendar (1582). See
                <a class="xref" href="functions.html#mysql-calendar" title="12.8&nbsp;What Calendar Is Used By MySQL?">Section&nbsp;12.8, “What Calendar Is Used By MySQL?”</a>.
            </p><p style="color:blue;">在旧日期使用from_days（）时要小心。它不打算与公历（1582）出现之前的值一起使用。见第12.8节，“MySQL使用什么日历？“。</p></li><li class="listitem"><a name="function_from-unixtime"></a><p>
                <a class="indexterm" name="idm140286851718048"></a>

                <a class="link" href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME(<em class="replaceable"><code>unix_timestamp</code></em>[,<em class="replaceable"><code>format</code></em>])</code></a>
            </p><p style="color:blue;">from_unixtime（Unix_时间戳[，格式]）</p><p>
                Returns a representation of the
                <em class="replaceable"><code>unix_timestamp</code></em> argument as a value
                in <em class="replaceable"><code>'YYYY-MM-DD hh:mm:ss'</code></em> or
                <em class="replaceable"><code>YYYYMMDDhhmmss.uuuuuu</code></em> format,
                depending on whether the function is used in a string or
                numeric context. <em class="replaceable"><code>unix_timestamp</code></em> is
                an internal timestamp value representing seconds since
                <code class="literal">'1970-01-01 00:00:00'</code> UTC, such as produced
                by the <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a>
                function.
            </p><p style="color:blue;">以“yyyy-mm-dd hh:mm:ss”或“yyyymmddhhmmss.uuuuuu”格式返回unix撸timestamp参数的表示形式，具体取决于函数是在字符串还是数字上下文中使用。unix_timestamp是一个内部时间戳值，表示自“1970-01-01 00:00:00”UTC以来的秒数，例如由unix_timestamp（）函数生成的秒数。</p><p>
                The return value is expressed in the session time zone.
                (Clients can set the session time zone as described in
                <a class="xref" href="server-administration.html#time-zone-support" title="5.1.12&nbsp;MySQL Server Time Zone Support">Section&nbsp;5.1.12, “MySQL Server Time Zone Support”</a>.) The
                <em class="replaceable"><code>format</code></em> string, if given, is used to
                format the result the same way as described in the entry for
                the <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> function.
            </p><p style="color:blue;">返回值以会话时区表示。（客户机可以按照第5.1.12节“MySQL服务器时区支持”中的说明设置会话时区）。如果给定格式字符串，则使用与date_format（）函数项中所述相同的方式格式化结果。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT FROM_UNIXTIME(1447430881);</code></strong>
        -&gt; '2015-11-13 10:08:01'
mysql&gt; <strong class="userinput"><code>SELECT FROM_UNIXTIME(1447430881) + 0;</code></strong>
        -&gt; 20151113100801
mysql&gt; <strong class="userinput"><code>SELECT FROM_UNIXTIME(1447430881,</code></strong>
    -&gt;                      <strong class="userinput"><code>'%Y %D %M %h:%i:%s %x');</code></strong>
        -&gt; '2015 13th November 10:08:01 2015'
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        If you use <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a>
                        and <a class="link" href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> to
                        convert between values in a non-UTC time zone and Unix
                        timestamp values, the conversion is lossy because the
                        mapping is not one-to-one in both directions. For details,
                        see the description of the
                        <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> function.
                    </p><p style="color:blue;">如果使用unix_timestamp（）和from_unix time（）在非UTC时区的值和unix timestamp值之间进行转换，则转换是有损耗的，因为在两个方向上映射不是一对一的。有关详细信息，请参见unix_timestamp（）函数的说明。</p>
                </div>
            </li><li class="listitem"><a name="function_get-format"></a><p>
                <a class="indexterm" name="idm140286851693968"></a>

                <a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT({DATE|TIME|DATETIME},
                    {'EUR'|'USA'|'JIS'|'ISO'|'INTERNAL'})</code></a>
            </p><p style="color:blue;">获取格式（{date time datetime}，{'eur''usa''jis''iso''internal'}）</p><p>
                Returns a format string. This function is useful in
                combination with the
                <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> and the
                <a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> functions.
            </p><p style="color:blue;">返回格式字符串。此函数与date_format（）和str_to_date（）函数结合使用非常有用。</p><p>
                The possible values for the first and second arguments result
                in several possible format strings (for the specifiers used,
                see the table in the
                <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> function
                description). ISO format refers to ISO 9075, not ISO 8601.
            </p><p style="color:blue;">第一个和第二个参数的可能值会产生几个可能的格式字符串（有关使用的说明符，请参见date_format（）函数描述中的表）。ISO格式指的是ISO 9075，而不是ISO 8601。</p>
                <div class="informaltable">
                    <table summary="Function calls for the GET_FORMAT function along with results for each function call."><colgroup><col width="60%"><col width="40%"></colgroup><thead><tr>
                        <th scope="col">Function Call</th>
                        <th scope="col">Result</th>
                    </tr></thead><tbody><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATE,'USA')</code></a></td>
                        <td><code class="literal">'%m.%d.%Y'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATE,'JIS')</code></a></td>
                        <td><code class="literal">'%Y-%m-%d'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATE,'ISO')</code></a></td>
                        <td><code class="literal">'%Y-%m-%d'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATE,'EUR')</code></a></td>
                        <td><code class="literal">'%d.%m.%Y'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATE,'INTERNAL')</code></a></td>
                        <td><code class="literal">'%Y%m%d'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATETIME,'USA')</code></a></td>
                        <td><code class="literal">'%Y-%m-%d %H.%i.%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATETIME,'JIS')</code></a></td>
                        <td><code class="literal">'%Y-%m-%d %H:%i:%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATETIME,'ISO')</code></a></td>
                        <td><code class="literal">'%Y-%m-%d %H:%i:%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATETIME,'EUR')</code></a></td>
                        <td><code class="literal">'%Y-%m-%d %H.%i.%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(DATETIME,'INTERNAL')</code></a></td>
                        <td><code class="literal">'%Y%m%d%H%i%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(TIME,'USA')</code></a></td>
                        <td><code class="literal">'%h:%i:%s %p'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(TIME,'JIS')</code></a></td>
                        <td><code class="literal">'%H:%i:%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(TIME,'ISO')</code></a></td>
                        <td><code class="literal">'%H:%i:%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(TIME,'EUR')</code></a></td>
                        <td><code class="literal">'%H.%i.%s'</code></td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT(TIME,'INTERNAL')</code></a></td>
                        <td><code class="literal">'%H%i%s'</code></td>
                    </tr></tbody></table>
                </div>
                <p>
                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> can also be used as
                    the first argument to
                    <a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT()</code></a>, in which case the
                    function returns the same values as for
                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>.
                </p><p style="color:blue;">timestamp还可以用作get_format（）的第一个参数，在这种情况下，函数返回的值与datetime相同。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('2003-10-03',GET_FORMAT(DATE,'EUR'));</code></strong>
        -&gt; '03.10.2003'
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('10.31.2003',GET_FORMAT(DATE,'USA'));</code></strong>
        -&gt; '2003-10-31'
</pre></li><li class="listitem"><a name="function_hour"></a><p>
                <a class="indexterm" name="idm140286851613040"></a>

                <a class="link" href="functions.html#function_hour"><code class="literal">HOUR(<em class="replaceable"><code>time</code></em>)</code></a>
            </p><p style="color:blue;">小时（次）</p><p>
                Returns the hour for <em class="replaceable"><code>time</code></em>. The
                range of the return value is <code class="literal">0</code> to
                <code class="literal">23</code> for time-of-day values. However, the
                range of <a class="link" href="data-types.html#time" title="11.3.2&nbsp;The TIME Type"><code class="literal">TIME</code></a> values actually
                is much larger, so <code class="literal">HOUR</code> can return values
                greater than <code class="literal">23</code>.
            </p><p style="color:blue;">返回时间的小时。对于一天中的时间值，返回值的范围是0到23。但是，时间值的范围实际上要大得多，因此小时可以返回大于23的值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HOUR('10:05:03');</code></strong>
        -&gt; 10
mysql&gt; <strong class="userinput"><code>SELECT HOUR('272:59:59');</code></strong>
        -&gt; 272
</pre></li><li class="listitem"><a name="function_last-day"></a><p>
                <a class="indexterm" name="idm140286851598272"></a>

                <a class="link" href="functions.html#function_last-day"><code class="literal">LAST_DAY(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">最后一天（日期）</p><p>
                Takes a date or datetime value and returns the corresponding
                value for the last day of the month. Returns
                <code class="literal">NULL</code> if the argument is invalid.
            </p><p style="color:blue;">获取日期或日期时间值，并返回该月最后一天的相应值。如果参数无效，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LAST_DAY('2003-02-05');</code></strong>
        -&gt; '2003-02-28'
mysql&gt; <strong class="userinput"><code>SELECT LAST_DAY('2004-02-05');</code></strong>
        -&gt; '2004-02-29'
mysql&gt; <strong class="userinput"><code>SELECT LAST_DAY('2004-01-01 01:01:01');</code></strong>
        -&gt; '2004-01-31'
mysql&gt; <strong class="userinput"><code>SELECT LAST_DAY('2003-03-32');</code></strong>
        -&gt; NULL
</pre></li><li class="listitem"><a name="function_localtime"></a><p>
                <a class="indexterm" name="idm140286851585664"></a>

                <a class="link" href="functions.html#function_localtime"><code class="literal">LOCALTIME</code></a>,
                <a class="link" href="functions.html#function_localtime"><code class="literal">LOCALTIME([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">本地时间，本地时间（[fsp]）</p><p>
                <a class="link" href="functions.html#function_localtime"><code class="literal">LOCALTIME</code></a> and
                <a class="link" href="functions.html#function_localtime"><code class="literal">LOCALTIME()</code></a> are synonyms for
                <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a>.
            </p><p style="color:blue;">localtime和localtime（）是now（）的同义词。</p></li><li class="listitem"><a name="function_localtimestamp"></a><p>
                <a class="indexterm" name="idm140286851573568"></a>

                <a class="link" href="functions.html#function_localtimestamp"><code class="literal">LOCALTIMESTAMP</code></a>,
                <a class="link" href="functions.html#function_localtimestamp"><code class="literal">LOCALTIMESTAMP([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">本地时间戳，本地时间戳（[fsp]）</p><p>
                <a class="link" href="functions.html#function_localtimestamp"><code class="literal">LOCALTIMESTAMP</code></a> and
                <a class="link" href="functions.html#function_localtimestamp"><code class="literal">LOCALTIMESTAMP()</code></a> are synonyms
                for <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a>.
            </p><p style="color:blue;">localtimestamp和localtimestamp（）是now（）的同义词。</p></li><li class="listitem"><a name="function_makedate"></a><p>
                <a class="indexterm" name="idm140286851561472"></a>

                <a class="link" href="functions.html#function_makedate"><code class="literal">MAKEDATE(<em class="replaceable"><code>year</code></em>,<em class="replaceable"><code>dayofyear</code></em>)</code></a>
            </p><p style="color:blue;">制造日期（年份，年份）</p><p>
                Returns a date, given year and day-of-year values.
                <em class="replaceable"><code>dayofyear</code></em> must be greater than 0 or
                the result is <code class="literal">NULL</code>.
            </p><p style="color:blue;">返回给定年份和年份值的日期。日期必须大于0或结果为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MAKEDATE(2011,31), MAKEDATE(2011,32);</code></strong>
        -&gt; '2011-01-31', '2011-02-01'
mysql&gt; <strong class="userinput"><code>SELECT MAKEDATE(2011,365), MAKEDATE(2014,365);</code></strong>
        -&gt; '2011-12-31', '2014-12-31'
mysql&gt; <strong class="userinput"><code>SELECT MAKEDATE(2011,0);</code></strong>
        -&gt; NULL
</pre></li><li class="listitem"><a name="function_maketime"></a><p>
                <a class="indexterm" name="idm140286851548688"></a>

                <a class="link" href="functions.html#function_maketime"><code class="literal">MAKETIME(<em class="replaceable"><code>hour</code></em>,<em class="replaceable"><code>minute</code></em>,<em class="replaceable"><code>second</code></em>)</code></a>
            </p><p style="color:blue;">制造时间（小时、分钟、秒）</p><p>
                Returns a time value calculated from the
                <em class="replaceable"><code>hour</code></em>,
                <em class="replaceable"><code>minute</code></em>, and
                <em class="replaceable"><code>second</code></em> arguments.
            </p><p style="color:blue;">返回从hour、minute和second参数计算的时间值。</p><p>
                The <em class="replaceable"><code>second</code></em> argument can have a
                fractional part.
            </p><p style="color:blue;">第二个参数可以有小数部分。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MAKETIME(12,15,30);</code></strong>
        -&gt; '12:15:30'
</pre></li><li class="listitem"><a name="function_microsecond"></a><p>
                <a class="indexterm" name="idm140286851536144"></a>

                <a class="link" href="functions.html#function_microsecond"><code class="literal">MICROSECOND(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">微秒（expr）</p><p>
                Returns the microseconds from the time or datetime expression
                <em class="replaceable"><code>expr</code></em> as a number in the range from
                <code class="literal">0</code> to <code class="literal">999999</code>.
            </p><p style="color:blue;">将时间或日期时间表达式表达式中的微秒作为0到999999之间的数字返回。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MICROSECOND('12:00:00.123456');</code></strong>
        -&gt; 123456
mysql&gt; <strong class="userinput"><code>SELECT MICROSECOND('2019-12-31 23:59:59.000010');</code></strong>
        -&gt; 10
</pre></li><li class="listitem"><a name="function_minute"></a><p>
                <a class="indexterm" name="idm140286851523968"></a>

                <a class="link" href="functions.html#function_minute"><code class="literal">MINUTE(<em class="replaceable"><code>time</code></em>)</code></a>
            </p><p style="color:blue;">分钟（时间）</p><p>
                Returns the minute for <em class="replaceable"><code>time</code></em>, in the
                range <code class="literal">0</code> to <code class="literal">59</code>.
            </p><p style="color:blue;">返回时间的分钟，范围为0到59。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MINUTE('2008-02-03 10:05:03');</code></strong>
        -&gt; 5
</pre></li><li class="listitem"><a name="function_month"></a><p>
                <a class="indexterm" name="idm140286851512704"></a>

                <a class="link" href="functions.html#function_month"><code class="literal">MONTH(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">月（日）</p><p>
                Returns the month for <em class="replaceable"><code>date</code></em>, in the
                range <code class="literal">1</code> to <code class="literal">12</code> for
                January to December, or <code class="literal">0</code> for dates such as
                <code class="literal">'0000-00-00'</code> or
                <code class="literal">'2008-00-00'</code> that have a zero month part.
            </p><p style="color:blue;">返回日期的月份，1月到12月的范围为1到12，或“0000-00-00”或“2008-00-00”等具有零月份部分的日期的月份。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MONTH('2008-02-03');</code></strong>
        -&gt; 2
</pre></li><li class="listitem"><a name="function_monthname"></a><p>
                <a class="indexterm" name="idm140286851499264"></a>

                <a class="link" href="functions.html#function_monthname"><code class="literal">MONTHNAME(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">月日</p><p>
                Returns the full name of the month for
                <em class="replaceable"><code>date</code></em>. The language used for the
                name is controlled by the value of the
                <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable
                (<a class="xref" href="charset.html#locale-support" title="10.16&nbsp;MySQL Server Locale Support">Section&nbsp;10.16, “MySQL Server Locale Support”</a>).
            </p><p style="color:blue;">返回日期的月份全名。用于名称的语言由lc_time_names系统变量的值控制（第10.16节，“mysql server locale support”）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MONTHNAME('2008-02-03');</code></strong>
        -&gt; 'February'
</pre></li><li class="listitem"><a name="function_now"></a><p>
                <a class="indexterm" name="idm140286851487472"></a>

                <a class="link" href="functions.html#function_now"><code class="literal">NOW([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">现在（[fsp]）</p><p>
                Returns the current date and time as a value in
                <em class="replaceable"><code>'YYYY-MM-DD hh:mm:ss'</code></em> or
                <em class="replaceable"><code>YYYYMMDDhhmmss</code></em> format, depending on
                whether the function is used in a string or numeric context.
                The value is expressed in the session time zone.
            </p><p style="color:blue;">将当前日期和时间作为“yyyy-mm-dd hh:mm:ss”或yyyymmddhhmmss格式的值返回，具体取决于该函数是在字符串或数字上下文中使用。该值在会话时区中表示。</p><p>
                If the <em class="replaceable"><code>fsp</code></em> argument is given to
                specify a fractional seconds precision from 0 to 6, the return
                value includes a fractional seconds part of that many digits.
            </p><p style="color:blue;">如果给fsp参数指定从0到6的小数秒精度，则返回值包含该多个数字的小数秒部分。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT NOW();</code></strong>
        -&gt; '2007-12-15 23:50:26'
mysql&gt; <strong class="userinput"><code>SELECT NOW() + 0;</code></strong>
        -&gt; 20071215235026.000000
</pre><p>
                <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a> returns a constant time
                that indicates the time at which the statement began to
                execute. (Within a stored function or trigger,
                <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a> returns the time at which
                the function or triggering statement began to execute.) This
                differs from the behavior for
                <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a>, which returns the
                exact time at which it executes.
            </p><p style="color:blue;">now（）返回一个常量时间，指示语句开始执行的时间。（在存储的函数或触发器中，now（）返回函数或触发语句开始执行的时间。）这与sysdate（）的行为不同，sysdate（）返回它执行的确切时间。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT NOW(), SLEEP(2), NOW();</code></strong>
+---------------------+----------+---------------------+
| NOW()               | SLEEP(2) | NOW()               |
+---------------------+----------+---------------------+
| 2006-04-12 13:47:36 |        0 | 2006-04-12 13:47:36 |
+---------------------+----------+---------------------+

mysql&gt; <strong class="userinput"><code>SELECT SYSDATE(), SLEEP(2), SYSDATE();</code></strong>
+---------------------+----------+---------------------+
| SYSDATE()           | SLEEP(2) | SYSDATE()           |
+---------------------+----------+---------------------+
| 2006-04-12 13:47:44 |        0 | 2006-04-12 13:47:46 |
+---------------------+----------+---------------------+
</pre><p>
                In addition, the <code class="literal">SET TIMESTAMP</code> statement
                affects the value returned by
                <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a> but not by
                <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a>. This means that
                timestamp settings in the binary log have no effect on
                invocations of <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a>.
                Setting the timestamp to a nonzero value causes each
                subsequent invocation of <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a>
                to return that value. Setting the timestamp to zero cancels
                this effect so that <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a> once
                again returns the current date and time.
            </p><p style="color:blue;">此外，set timestamp语句影响now（）返回的值，而不是sysdate（）返回的值。这意味着二进制日志中的时间戳设置对sysdate（）的调用没有影响。将时间戳设置为非零值会导致now（）的每个后续调用返回该值。将时间戳设置为零将取消此效果，以便now（）再次返回当前日期和时间。</p><p>
                See the description for
                <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> for additional
                information about the differences between the two functions.
            </p><p style="color:blue;">有关两个函数之间差异的其他信息，请参见sysdate（）的说明。</p></li><li class="listitem"><a name="function_period-add"></a><p>
                <a class="indexterm" name="idm140286851458080"></a>

                <a class="link" href="functions.html#function_period-add"><code class="literal">PERIOD_ADD(<em class="replaceable"><code>P</code></em>,<em class="replaceable"><code>N</code></em>)</code></a>
            </p><p style="color:blue;">周期加（P，N）</p><p>
                Adds <em class="replaceable"><code>N</code></em> months to period
                <em class="replaceable"><code>P</code></em> (in the format
                <em class="replaceable"><code>YYMM</code></em> or
                <em class="replaceable"><code>YYYYMM</code></em>). Returns a value in the
                format <em class="replaceable"><code>YYYYMM</code></em>.
            </p><p style="color:blue;">将n个月添加到p期间（格式为yymm或yyymm）。返回格式为yyyymm的值。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The period argument <em class="replaceable"><code>P</code></em> is
                        <span class="emphasis"><em>not</em></span> a date value.
                    </p><p style="color:blue;">period参数p不是日期值。</p>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT PERIOD_ADD(200801,2);</code></strong>
        -&gt; 200803
</pre></li><li class="listitem"><a name="function_period-diff"></a><p>
                <a class="indexterm" name="idm140286851444416"></a>

                <a class="link" href="functions.html#function_period-diff"><code class="literal">PERIOD_DIFF(<em class="replaceable"><code>P1</code></em>,<em class="replaceable"><code>P2</code></em>)</code></a>
            </p><p style="color:blue;">周期差异（p1，p2）</p><p>
                Returns the number of months between periods
                <em class="replaceable"><code>P1</code></em> and
                <em class="replaceable"><code>P2</code></em>. <em class="replaceable"><code>P1</code></em>
                and <em class="replaceable"><code>P2</code></em> should be in the format
                <em class="replaceable"><code>YYMM</code></em> or
                <em class="replaceable"><code>YYYYMM</code></em>. Note that the period
                arguments <em class="replaceable"><code>P1</code></em> and
                <em class="replaceable"><code>P2</code></em> are <span class="emphasis"><em>not</em></span>
                date values.
            </p><p style="color:blue;">返回时段p1和p2之间的月数。p1和p2的格式应为yymm或yyymm。注意，句点参数p1和p2不是日期值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT PERIOD_DIFF(200802,200703);</code></strong>
        -&gt; 11
</pre></li><li class="listitem"><a name="function_quarter"></a><p>
                <a class="indexterm" name="idm140286851430672"></a>

                <a class="link" href="functions.html#function_quarter"><code class="literal">QUARTER(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">季度（日期）</p><p>
                Returns the quarter of the year for
                <em class="replaceable"><code>date</code></em>, in the range
                <code class="literal">1</code> to <code class="literal">4</code>.
            </p><p style="color:blue;">返回日期在1到4之间的年度季度。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT QUARTER('2008-04-01');</code></strong>
        -&gt; 2
</pre></li><li class="listitem"><a name="function_second"></a><p>
                <a class="indexterm" name="idm140286851419376"></a>

                <a class="link" href="functions.html#function_second"><code class="literal">SECOND(<em class="replaceable"><code>time</code></em>)</code></a>
            </p><p style="color:blue;">秒（次）</p><p>
                Returns the second for <em class="replaceable"><code>time</code></em>, in the
                range <code class="literal">0</code> to <code class="literal">59</code>.
            </p><p style="color:blue;">返回时间的第二个值，范围为0到59。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SECOND('10:05:03');</code></strong>
        -&gt; 3
</pre></li><li class="listitem"><a name="function_sec-to-time"></a><p>
                <a class="indexterm" name="idm140286851408112"></a>

                <a class="link" href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME(<em class="replaceable"><code>seconds</code></em>)</code></a>
            </p><p style="color:blue;">秒到秒（秒）</p><p>
                Returns the <em class="replaceable"><code>seconds</code></em> argument,
                converted to hours, minutes, and seconds, as a
                <a class="link" href="data-types.html#time" title="11.3.2&nbsp;The TIME Type"><code class="literal">TIME</code></a> value. The range of the
                result is constrained to that of the
                <a class="link" href="data-types.html#time" title="11.3.2&nbsp;The TIME Type"><code class="literal">TIME</code></a> data type. A warning
                occurs if the argument corresponds to a value outside that
                range.
            </p><p style="color:blue;">返回秒参数，转换为小时、分钟和秒，作为时间值。结果的范围限制为时间数据类型的范围。如果参数对应于超出该范围的值，则会出现警告。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SEC_TO_TIME(2378);</code></strong>
        -&gt; '00:39:38'
mysql&gt; <strong class="userinput"><code>SELECT SEC_TO_TIME(2378) + 0;</code></strong>
        -&gt; 3938
</pre></li><li class="listitem"><a name="function_str-to-date"></a><p>
                <a class="indexterm" name="idm140286851394832"></a>

                <a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>format</code></em>)</code></a>
            </p><p style="color:blue;">str_to_日期（str，格式）</p><p>
                This is the inverse of the
                <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> function. It
                takes a string <em class="replaceable"><code>str</code></em> and a format
                string <em class="replaceable"><code>format</code></em>.
                <a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> returns a
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> value if the format
                string contains both date and time parts, or a
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> or
                <a class="link" href="data-types.html#time" title="11.3.2&nbsp;The TIME Type"><code class="literal">TIME</code></a> value if the string
                contains only date or time parts. If the date, time, or
                datetime value extracted from <em class="replaceable"><code>str</code></em>
                is illegal, <a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a>
                returns <code class="literal">NULL</code> and produces a warning.
            </p><p style="color:blue;">这与date_format（）函数相反。它采用字符串str和格式字符串格式。str_to_date（）如果格式字符串同时包含日期和时间部分，则返回日期时间值；如果格式字符串仅包含日期或时间部分，则返回日期或时间值。如果从str提取的日期、时间或日期时间值非法，str_to_date（）将返回空值并生成警告。</p><p>
                The server scans <em class="replaceable"><code>str</code></em> attempting to
                match <em class="replaceable"><code>format</code></em> to it. The format
                string can contain literal characters and format specifiers
                beginning with <code class="literal">%</code>. Literal characters in
                <em class="replaceable"><code>format</code></em> must match literally in
                <em class="replaceable"><code>str</code></em>. Format specifiers in
                <em class="replaceable"><code>format</code></em> must match a date or time
                part in <em class="replaceable"><code>str</code></em>. For the specifiers
                that can be used in <em class="replaceable"><code>format</code></em>, see the
                <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> function
                description.
            </p><p style="color:blue;">服务器扫描str，试图将格式与其匹配。格式字符串可以包含以%开头的文本字符和格式说明符。格式中的文字字符必须与str中的文字字符完全匹配。格式中的格式说明符必须与str中的日期或时间部分匹配。有关可以在格式中使用的说明符，请参阅date_format（）函数说明。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('01,5,2013','%d,%m,%Y');</code></strong>
        -&gt; '2013-05-01'
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('May 1, 2013','%M %d,%Y');</code></strong>
        -&gt; '2013-05-01'
</pre><p>
                Scanning starts at the beginning of
                <em class="replaceable"><code>str</code></em> and fails if
                <em class="replaceable"><code>format</code></em> is found not to match. Extra
                characters at the end of <em class="replaceable"><code>str</code></em> are
                ignored.
            </p><p style="color:blue;">扫描从str的开头开始，如果发现格式不匹配，则扫描失败。str结尾的额外字符将被忽略。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('a09:30:17','a%h:%i:%s');</code></strong>
        -&gt; '09:30:17'
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('a09:30:17','%h:%i:%s');</code></strong>
        -&gt; NULL
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('09:30:17a','%h:%i:%s');</code></strong>
        -&gt; '09:30:17'
</pre><p>
                Unspecified date or time parts have a value of 0, so
                incompletely specified values in
                <em class="replaceable"><code>str</code></em> produce a result with some or
                all parts set to 0:
            </p><p style="color:blue;">未指定的日期或时间部分的值为0，因此str中未完全指定的值会产生一个结果，其中部分或全部部分设置为0：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('abc','abc');</code></strong>
        -&gt; '0000-00-00'
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('9','%m');</code></strong>
        -&gt; '0000-09-00'
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('9','%s');</code></strong>
        -&gt; '00:00:09'
</pre><p>
                Range checking on the parts of date values is as described in
                <a class="xref" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types">Section&nbsp;11.3.1, “The DATE, DATETIME, and TIMESTAMP Types”</a>. This means, for example, that
                <span class="quote">“<span class="quote">zero</span>”</span> dates or dates with part values of 0 are
                permitted unless the SQL mode is set to disallow such values.
            </p><p style="color:blue;">日期值部分的范围检查如第11.3.1节“日期、日期时间和时间戳类型”所述。例如，这意味着允许“零”日期或部分值为0的日期，除非SQL模式设置为不允许此类值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('00/00/0000', '%m/%d/%Y');</code></strong>
        -&gt; '0000-00-00'
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('04/31/2004', '%m/%d/%Y');</code></strong>
        -&gt; '2004-04-31'
</pre><p>
                If the <a class="link" href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> or
                <a class="link" href="server-administration.html#sqlmode_no_zero_in_date"><code class="literal">NO_ZERO_IN_DATE</code></a> SQL mode is
                enabled, zero dates or part of dates are disallowed. In that
                case, <a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> returns
                <code class="literal">NULL</code> and generates a warning:
            </p><p style="color:blue;">如果在日期SQL模式下启用了无零日期或无零日期，则不允许零日期或部分日期。在这种情况下，str_to_date（）返回null并生成警告：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_mode = '';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('15:35:00', '%H:%i:%s');</code></strong>
+-------------------------------------+
| STR_TO_DATE('15:35:00', '%H:%i:%s') |
+-------------------------------------+
| 15:35:00                            |
+-------------------------------------+
mysql&gt; <strong class="userinput"><code>SET sql_mode = 'NO_ZERO_IN_DATE';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('15:35:00', '%h:%i:%s');</code></strong>
+-------------------------------------+
| STR_TO_DATE('15:35:00', '%h:%i:%s') |
+-------------------------------------+
| NULL                                |
+-------------------------------------+
mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1411
Message: Incorrect datetime value: '15:35:00' for function str_to_date
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        You cannot use format <code class="literal">"%X%V"</code> to convert a
                        year-week string to a date because the combination of a year
                        and week does not uniquely identify a year and month if the
                        week crosses a month boundary. To convert a year-week to a
                        date, you should also specify the weekday:
                    </p><p style="color:blue;">不能使用格式%x%v将年-周字符串转换为日期，因为如果周跨越月边界，则年和周的组合不能唯一标识年和月。要将年周转换为日期，还应指定工作日：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT STR_TO_DATE('200442 Monday', '%X%V %W');</code></strong>
        -&gt; '2004-10-18'
</pre>
                </div>
            </li><li class="listitem"><a name="function_subdate"></a><p>
                <a class="indexterm" name="idm140286851341744"></a>

                <a class="link" href="functions.html#function_subdate"><code class="literal">SUBDATE(<em class="replaceable"><code>date</code></em>,INTERVAL
                    <em class="replaceable"><code>expr</code></em>
                    <em class="replaceable"><code>unit</code></em>)</code></a>,
                <a class="link" href="functions.html#function_subdate"><code class="literal">SUBDATE(<em class="replaceable"><code>expr</code></em>,<em class="replaceable"><code>days</code></em>)</code></a>
            </p><p style="color:blue;">子日期（日期，间隔表达式单位），子日期（表达式，天）</p><p>
                When invoked with the <code class="literal">INTERVAL</code> form of the
                second argument, <a class="link" href="functions.html#function_subdate"><code class="literal">SUBDATE()</code></a> is a
                synonym for <a class="link" href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>. For
                information on the <code class="literal">INTERVAL</code>
                <em class="replaceable"><code>unit</code></em> argument, see the discussion
                for <a class="link" href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>.
            </p><p style="color:blue;">当使用第二个参数的间隔形式调用时，sub date（）是date_sub（）的同义词。有关interval unit参数的信息，请参阅date_add（）的讨论。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATE_SUB('2008-01-02', INTERVAL 31 DAY);</code></strong>
        -&gt; '2007-12-02'
mysql&gt; <strong class="userinput"><code>SELECT SUBDATE('2008-01-02', INTERVAL 31 DAY);</code></strong>
        -&gt; '2007-12-02'
</pre><p>
                The second form enables the use of an integer value for
                <em class="replaceable"><code>days</code></em>. In such cases, it is
                interpreted as the number of days to be subtracted from the
                date or datetime expression <em class="replaceable"><code>expr</code></em>.
            </p><p style="color:blue;">第二种形式允许在数天内使用整数值。在这种情况下，它被解释为要从日期或日期时间表达式expr中减去的天数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SUBDATE('2008-01-02 12:00:00', 31);</code></strong>
        -&gt; '2007-12-02 12:00:00'
</pre></li><li class="listitem"><a name="function_subtime"></a><p>
                <a class="indexterm" name="idm140286851320128"></a>

                <a class="link" href="functions.html#function_subtime"><code class="literal">SUBTIME(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
            </p><p style="color:blue;">子时间（expr1，expr2）</p><p>
                <a class="link" href="functions.html#function_subtime"><code class="literal">SUBTIME()</code></a> returns
                <em class="replaceable"><code>expr1</code></em> −
                <em class="replaceable"><code>expr2</code></em> expressed as a value in the
                same format as <em class="replaceable"><code>expr1</code></em>.
                <em class="replaceable"><code>expr1</code></em> is a time or datetime
                expression, and <em class="replaceable"><code>expr2</code></em> is a time
                expression.
            </p><p style="color:blue;">subtime（）返回以与expr1相同格式表示的值expr1-expr2。expr1是时间或日期时间表达式，expr2是时间表达式。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SUBTIME('2007-12-31 23:59:59.999999','1 1:1:1.000002');</code></strong>
        -&gt; '2007-12-30 22:58:58.999997'
mysql&gt; <strong class="userinput"><code>SELECT SUBTIME('01:00:00.999999', '02:00:00.999998');</code></strong>
        -&gt; '-00:59:59.999999'
</pre></li><li class="listitem"><a name="function_sysdate"></a><p>
                <a class="indexterm" name="idm140286851305872"></a>

                <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">系统日期（[fsp]）</p><p>
                Returns the current date and time as a value in
                <em class="replaceable"><code>'YYYY-MM-DD hh:mm:ss'</code></em> or
                <em class="replaceable"><code>YYYYMMDDhhmmss</code></em> format, depending on
                whether the function is used in a string or numeric context.
            </p><p style="color:blue;">将当前日期和时间作为“yyyy-mm-dd hh:mm:ss”或yyyymmddhhmmss格式的值返回，具体取决于该函数是在字符串或数字上下文中使用。</p><p>
                If the <em class="replaceable"><code>fsp</code></em> argument is given to
                specify a fractional seconds precision from 0 to 6, the return
                value includes a fractional seconds part of that many digits.
            </p><p style="color:blue;">如果给fsp参数指定从0到6的小数秒精度，则返回值包含该多个数字的小数秒部分。</p><p>
                <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> returns the time at
                which it executes. This differs from the behavior for
                <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a>, which returns a constant
                time that indicates the time at which the statement began to
                execute. (Within a stored function or trigger,
                <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a> returns the time at which
                the function or triggering statement began to execute.)
            </p><p style="color:blue;">sysdate（）返回它执行的时间。这与behavior for now（）不同，后者返回一个常量时间，指示语句开始执行的时间。（在存储的函数或触发器中，now（）返回函数或触发语句开始执行的时间。）</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT NOW(), SLEEP(2), NOW();</code></strong>
+---------------------+----------+---------------------+
| NOW()               | SLEEP(2) | NOW()               |
+---------------------+----------+---------------------+
| 2006-04-12 13:47:36 |        0 | 2006-04-12 13:47:36 |
+---------------------+----------+---------------------+

mysql&gt; <strong class="userinput"><code>SELECT SYSDATE(), SLEEP(2), SYSDATE();</code></strong>
+---------------------+----------+---------------------+
| SYSDATE()           | SLEEP(2) | SYSDATE()           |
+---------------------+----------+---------------------+
| 2006-04-12 13:47:44 |        0 | 2006-04-12 13:47:46 |
+---------------------+----------+---------------------+
</pre><p>
                In addition, the <code class="literal">SET TIMESTAMP</code> statement
                affects the value returned by
                <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a> but not by
                <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a>. This means that
                timestamp settings in the binary log have no effect on
                invocations of <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a>.
            </p><p style="color:blue;">此外，set timestamp语句影响now（）返回的值，而不是sysdate（）返回的值。这意味着二进制日志中的时间戳设置对sysdate（）的调用没有影响。</p><p>
                Because <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> can return
                different values even within the same statement, and is not
                affected by <code class="literal">SET TIMESTAMP</code>, it is
                nondeterministic and therefore unsafe for replication if
                statement-based binary logging is used. If that is a problem,
                you can use row-based logging.
            </p><p style="color:blue;">由于sysdate（）即使在同一条语句中也可以返回不同的值，并且不受设置时间戳的影响，因此如果使用基于语句的二进制日志记录，则它是不确定的，因此对复制来说是不安全的。如果有问题，可以使用基于行的日志记录。</p><p>
                Alternatively, you can use the
                <a class="link" href="server-administration.html#option_mysqld_sysdate-is-now"><code class="option">--sysdate-is-now</code></a> option to
                cause <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> to be an alias
                for <a class="link" href="functions.html#function_now"><code class="literal">NOW()</code></a>. This works if the
                option is used on both the master and the slave.
            </p><p style="color:blue;">或者，可以使用--sysdate is now选项使sysdate（）成为now（）的别名。如果在主设备和从设备上都使用此选项，则此操作有效。</p><p>
                The nondeterministic nature of
                <a class="link" href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> also means that
                indexes cannot be used for evaluating expressions that refer
                to it.
            </p><p style="color:blue;">sysdate（）的不确定性还意味着索引不能用于计算引用它的表达式。</p></li><li class="listitem"><a name="function_time"></a><p>
                <a class="indexterm" name="idm140286851274928"></a>

                <a class="link" href="functions.html#function_time"><code class="literal">TIME(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">时间（expr）</p><p>
                Extracts the time part of the time or datetime expression
                <em class="replaceable"><code>expr</code></em> and returns it as a string.
            </p><p style="color:blue;">提取时间或日期时间表达式表达式的时间部分，并将其作为字符串返回。</p><p>
                This function is unsafe for statement-based replication. A
                warning is logged if you use this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TIME('2003-12-31 01:02:03');</code></strong>
        -&gt; '01:02:03'
mysql&gt; <strong class="userinput"><code>SELECT TIME('2003-12-31 01:02:03.000123');</code></strong>
        -&gt; '01:02:03.000123'
</pre></li><li class="listitem"><a name="function_timediff"></a><p>
                <a class="indexterm" name="idm140286851261616"></a>

                <a class="link" href="functions.html#function_timediff"><code class="literal">TIMEDIFF(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
            </p><p style="color:blue;">时间差异（expr1，expr2）</p><p>
                <a class="link" href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> returns
                <em class="replaceable"><code>expr1</code></em> −
                <em class="replaceable"><code>expr2</code></em> expressed as a time value.
                <em class="replaceable"><code>expr1</code></em> and
                <em class="replaceable"><code>expr2</code></em> are time or date-and-time
                expressions, but both must be of the same type.
            </p><p style="color:blue;">timediff（）返回表示为时间值的expr1-expr2。expr1和expr2是时间或日期和时间表达式，但两者必须属于同一类型。</p><p>
                The result returned by <code class="literal">TIMEDIFF()</code> is
                limited to the range allowed for
                <a class="link" href="data-types.html#time" title="11.3.2&nbsp;The TIME Type"><code class="literal">TIME</code></a> values. Alternatively, you
                can use either of the functions
                <a class="link" href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> and
                <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a>, both of which
                return integers.
            </p><p style="color:blue;">timediff（）返回的结果限制在时间值允许的范围内。或者，可以使用函数timestampdiff（）和unix_timestamp（），这两个函数都返回整数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TIMEDIFF('2000:01:01 00:00:00',</code></strong>
    -&gt;                 <strong class="userinput"><code>'2000:01:01 00:00:00.000001');</code></strong>
        -&gt; '-00:00:00.000001'
mysql&gt; <strong class="userinput"><code>SELECT TIMEDIFF('2008-12-31 23:59:59.000001',</code></strong>
    -&gt; <strong class="userinput"><code>                '2008-12-30 01:01:01.000002');</code></strong>
        -&gt; '46:58:57.999999'
</pre></li><li class="listitem"><a name="function_timestamp"></a><p>
                <a class="indexterm" name="idm140286851240560"></a>

                <a class="link" href="functions.html#function_timestamp"><code class="literal">TIMESTAMP(<em class="replaceable"><code>expr</code></em>)</code></a>,
                <a class="link" href="functions.html#function_timestamp"><code class="literal">TIMESTAMP(<em class="replaceable"><code>expr1</code></em>,<em class="replaceable"><code>expr2</code></em>)</code></a>
            </p><p style="color:blue;">时间戳（expr），时间戳（expr1，expr2）</p><p>
                With a single argument, this function returns the date or
                datetime expression <em class="replaceable"><code>expr</code></em> as a
                datetime value. With two arguments, it adds the time
                expression <em class="replaceable"><code>expr2</code></em> to the date or
                datetime expression <em class="replaceable"><code>expr1</code></em> and
                returns the result as a datetime value.
            </p><p style="color:blue;">对于单个参数，此函数将日期或日期时间表达式expr作为日期时间值返回。使用两个参数，它将时间表达式expr2添加到日期或日期时间表达式expr1，并将结果作为日期时间值返回。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TIMESTAMP('2003-12-31');</code></strong>
        -&gt; '2003-12-31 00:00:00'
mysql&gt; <strong class="userinput"><code>SELECT TIMESTAMP('2003-12-31 12:00:00','12:00:00');</code></strong>
        -&gt; '2004-01-01 00:00:00'
</pre></li><li class="listitem"><a name="function_timestampadd"></a><p>
                <a class="indexterm" name="idm140286851226592"></a>

                <a class="link" href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD(<em class="replaceable"><code>unit</code></em>,<em class="replaceable"><code>interval</code></em>,<em class="replaceable"><code>datetime_expr</code></em>)</code></a>
            </p><p style="color:blue;">timestampadd（单位、间隔、日期时间表达式）</p><p>
                Adds the integer expression
                <em class="replaceable"><code>interval</code></em> to the date or datetime
                expression <em class="replaceable"><code>datetime_expr</code></em>. The unit
                for <em class="replaceable"><code>interval</code></em> is given by the
                <em class="replaceable"><code>unit</code></em> argument, which should be one
                of the following values: <code class="literal">MICROSECOND</code>
                (microseconds), <code class="literal">SECOND</code>,
                <code class="literal">MINUTE</code>, <code class="literal">HOUR</code>,
                <code class="literal">DAY</code>, <code class="literal">WEEK</code>,
                <code class="literal">MONTH</code>, <code class="literal">QUARTER</code>, or
                <code class="literal">YEAR</code>.
            </p><p style="color:blue;">将整数表达式interval添加到日期或日期时间表达式datetime_expr。间隔的单位由unit参数给出，该参数应为以下值之一：微秒（微秒）、秒、分钟、小时、日、周、月、季度或年。</p><p>
                The <em class="replaceable"><code>unit</code></em> value may be specified
                using one of keywords as shown, or with a prefix of
                <code class="literal">SQL_TSI_</code>. For example,
                <code class="literal">DAY</code> and <code class="literal">SQL_TSI_DAY</code> both
                are legal.
            </p><p style="color:blue;">可以使用如图所示的关键字之一，或使用sql-tsi前缀指定单位值。例如，day和sql-tsi-day都是合法的。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TIMESTAMPADD(MINUTE,1,'2003-01-02');</code></strong>
        -&gt; '2003-01-02 00:01:00'
mysql&gt; <strong class="userinput"><code>SELECT TIMESTAMPADD(WEEK,1,'2003-01-02');</code></strong>
        -&gt; '2003-01-09'
</pre></li><li class="listitem"><a name="function_timestampdiff"></a><p>
                <a class="indexterm" name="idm140286851204032"></a>

                <a class="link" href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF(<em class="replaceable"><code>unit</code></em>,<em class="replaceable"><code>datetime_expr1</code></em>,<em class="replaceable"><code>datetime_expr2</code></em>)</code></a>
            </p><p style="color:blue;">时间戳差异（单位，日期时间表达式1，日期时间表达式2）</p><p>
                Returns <em class="replaceable"><code>datetime_expr2</code></em> −
                <em class="replaceable"><code>datetime_expr1</code></em>, where
                <em class="replaceable"><code>datetime_expr1</code></em> and
                <em class="replaceable"><code>datetime_expr2</code></em> are date or datetime
                expressions. One expression may be a date and the other a
                datetime; a date value is treated as a datetime having the
                time part <code class="literal">'00:00:00'</code> where necessary. The
                unit for the result (an integer) is given by the
                <em class="replaceable"><code>unit</code></em> argument. The legal values for
                <em class="replaceable"><code>unit</code></em> are the same as those listed
                in the description of the
                <a class="link" href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> function.
            </p><p style="color:blue;">返回datetime_expr2–datetime_expr1，其中datetime_expr1和datetime_expr2是日期或日期时间表达式。一个表达式可以是日期，另一个表达式是日期时间；在必要时，日期值被视为具有时间部分“00:00:00”的日期时间。结果的单位（整数）由unit参数给出。unit的合法值与timestampAdd（）函数的说明中列出的值相同。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TIMESTAMPDIFF(MONTH,'2003-02-01','2003-05-01');</code></strong>
        -&gt; 3
mysql&gt; <strong class="userinput"><code>SELECT TIMESTAMPDIFF(YEAR,'2002-05-01','2001-01-01');</code></strong>
        -&gt; -1
mysql&gt; <strong class="userinput"><code>SELECT TIMESTAMPDIFF(MINUTE,'2003-02-01','2003-05-01 12:05:55');</code></strong>
        -&gt; 128885
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The order of the date or datetime arguments for this
                        function is the opposite of that used with the
                        <a class="link" href="functions.html#function_timestamp"><code class="literal">TIMESTAMP()</code></a> function when
                        invoked with 2 arguments.
                    </p><p style="color:blue;">此函数的日期或日期时间参数的顺序与使用2个参数调用timestamp（）函数时使用的顺序相反。</p>
                </div>
            </li><li class="listitem"><a name="function_time-format"></a><p>
                <a class="indexterm" name="idm140286851185056"></a>

                <a class="link" href="functions.html#function_time-format"><code class="literal">TIME_FORMAT(<em class="replaceable"><code>time</code></em>,<em class="replaceable"><code>format</code></em>)</code></a>
            </p><p style="color:blue;">时间格式（时间，格式）</p><p>
                This is used like the
                <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> function, but the
                <em class="replaceable"><code>format</code></em> string may contain format
                specifiers only for hours, minutes, seconds, and microseconds.
                Other specifiers produce a <code class="literal">NULL</code> value or
                <code class="literal">0</code>.
            </p><p style="color:blue;">这与date_format（）函数类似，但格式字符串只能包含小时、分钟、秒和微秒的格式说明符。其他说明符生成空值或0。</p><p>
                If the <em class="replaceable"><code>time</code></em> value contains an hour
                part that is greater than <code class="literal">23</code>, the
                <code class="literal">%H</code> and <code class="literal">%k</code> hour format
                specifiers produce a value larger than the usual range of
                <code class="literal">0..23</code>. The other hour format specifiers
                produce the hour value modulo 12.
            </p><p style="color:blue;">如果时间值包含大于23的小时部分，则%h和%k小时格式说明符将产生大于通常范围0..23的值。其他小时格式说明符生成12模的小时值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TIME_FORMAT('100:00:00', '%H %k %h %I %l');</code></strong>
        -&gt; '100 100 04 04 4'
</pre></li><li class="listitem"><a name="function_time-to-sec"></a><p>
                <a class="indexterm" name="idm140286851168048"></a>

                <a class="link" href="functions.html#function_time-to-sec"><code class="literal">TIME_TO_SEC(<em class="replaceable"><code>time</code></em>)</code></a>
            </p><p style="color:blue;">时间到秒（时间）</p><p>
                Returns the <em class="replaceable"><code>time</code></em> argument,
                converted to seconds.
            </p><p style="color:blue;">返回时间参数，转换为秒。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TIME_TO_SEC('22:23:00');</code></strong>
        -&gt; 80580
mysql&gt; <strong class="userinput"><code>SELECT TIME_TO_SEC('00:39:38');</code></strong>
        -&gt; 2378
</pre></li><li class="listitem"><a name="function_to-days"></a><p>
                <a class="indexterm" name="idm140286851157456"></a>

                <a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">结束日期</p><p>
                Given a date <em class="replaceable"><code>date</code></em>, returns a day
                number (the number of days since year 0).
            </p><p style="color:blue;">给定日期，返回日期（自0年以来的天数）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TO_DAYS(950501);</code></strong>
        -&gt; 728779
mysql&gt; <strong class="userinput"><code>SELECT TO_DAYS('2007-10-07');</code></strong>
        -&gt; 733321
</pre><p>
                <a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS()</code></a> is not intended for
                use with values that precede the advent of the Gregorian
                calendar (1582), because it does not take into account the
                days that were lost when the calendar was changed. For dates
                before 1582 (and possibly a later year in other locales),
                results from this function are not reliable. See
                <a class="xref" href="functions.html#mysql-calendar" title="12.8&nbsp;What Calendar Is Used By MySQL?">Section&nbsp;12.8, “What Calendar Is Used By MySQL?”</a>, for details.
            </p><p style="color:blue;">to_days（）不用于公历（1582）出现之前的值，因为它不考虑日历更改时丢失的天数。对于1582年之前的日期（可能在其他地区是一年之后），此函数的结果是不可靠的。见第12.8节，“MySQL使用什么日历？“，了解详细信息。</p><p>
                Remember that MySQL converts two-digit year values in dates to
                four-digit form using the rules in
                <a class="xref" href="data-types.html#date-and-time-types" title="11.3&nbsp;Date and Time Types">Section&nbsp;11.3, “Date and Time Types”</a>. For example,
                <code class="literal">'2008-10-07'</code> and
                <code class="literal">'08-10-07'</code> are seen as identical dates:
            </p><p style="color:blue;">请记住，mysql使用第11.3节“日期和时间类型”中的规则将日期中的两位数年份值转换为四位数形式。例如，“2008-10-07”和“08-10-07”被视为相同的日期：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TO_DAYS('2008-10-07'), TO_DAYS('08-10-07');</code></strong>
        -&gt; 733687, 733687
</pre><p>
                In MySQL, the zero date is defined as
                <code class="literal">'0000-00-00'</code>, even though this date is
                itself considered invalid. This means that, for
                <code class="literal">'0000-00-00'</code> and
                <code class="literal">'0000-01-01'</code>,
                <a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS()</code></a> returns the values
                shown here:
            </p><p style="color:blue;">在mysql中，零日期被定义为“0000-00-00”，即使这个日期本身被认为是无效的。这意味着，对于“0000-00-00”和“0000-01-01”，to-days（）返回如下所示的值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TO_DAYS('0000-00-00');</code></strong>
+-----------------------+
| to_days('0000-00-00') |
+-----------------------+
|                  NULL |
+-----------------------+
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
+---------+------+----------------------------------------+
| Level   | Code | Message                                |
+---------+------+----------------------------------------+
| Warning | 1292 | Incorrect datetime value: '0000-00-00' |
+---------+------+----------------------------------------+
1 row in set (0.00 sec)


mysql&gt; <strong class="userinput"><code>SELECT TO_DAYS('0000-01-01');</code></strong>
+-----------------------+
| to_days('0000-01-01') |
+-----------------------+
|                     1 |
+-----------------------+
1 row in set (0.00 sec)
</pre><p>
                This is true whether or not the
                <a class="link" href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL
                server mode is enabled.
            </p><p style="color:blue;">无论是否启用了“允许无效日期”SQL Server模式，都是如此。</p></li><li class="listitem"><a name="function_to-seconds"></a><p>
                <a class="indexterm" name="idm140286851129664"></a>

                <a class="link" href="functions.html#function_to-seconds"><code class="literal">TO_SECONDS(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">至秒（expr）</p><p>
                Given a date or datetime <em class="replaceable"><code>expr</code></em>,
                returns the number of seconds since the year 0. If
                <em class="replaceable"><code>expr</code></em> is not a valid date or
                datetime value, returns <code class="literal">NULL</code>.
            </p><p style="color:blue;">给定日期或日期时间表达式，返回自0年以来的秒数。如果expr不是有效的日期或日期时间值，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TO_SECONDS(950501);</code></strong>
        -&gt; 62966505600
mysql&gt; <strong class="userinput"><code>SELECT TO_SECONDS('2009-11-29');</code></strong>
        -&gt; 63426672000
mysql&gt; <strong class="userinput"><code>SELECT TO_SECONDS('2009-11-29 13:43:32');</code></strong>
        -&gt; 63426721412
mysql&gt; <strong class="userinput"><code>SELECT TO_SECONDS( NOW() );</code></strong>
        -&gt; 63426721458
</pre><p>
                Like <a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS()</code></a>,
                <code class="literal">TO_SECONDS()</code> is not intended for use with
                values that precede the advent of the Gregorian calendar
                (1582), because it does not take into account the days that
                were lost when the calendar was changed. For dates before 1582
                (and possibly a later year in other locales), results from
                this function are not reliable. See
                <a class="xref" href="functions.html#mysql-calendar" title="12.8&nbsp;What Calendar Is Used By MySQL?">Section&nbsp;12.8, “What Calendar Is Used By MySQL?”</a>, for details.
            </p><p style="color:blue;">与to_days（）类似，to_seconds（）不用于公历（1582）出现之前的值，因为它不考虑日历更改时丢失的天数。对于1582年之前的日期（可能在其他地区是一年之后），此函数的结果是不可靠的。见第12.8节，“MySQL使用什么日历？“，了解详细信息。</p><p>
                Like <a class="link" href="functions.html#function_to-days"><code class="literal">TO_DAYS()</code></a>,
                <code class="literal">TO_SECONDS()</code>, converts two-digit year
                values in dates to four-digit form using the rules in
                <a class="xref" href="data-types.html#date-and-time-types" title="11.3&nbsp;Date and Time Types">Section&nbsp;11.3, “Date and Time Types”</a>.
            </p><p style="color:blue;">类似于to_days（），to_seconds（），使用第11.3节“日期和时间类型”中的规则将日期中的两位数年份值转换为四位数形式。</p><p>
                In MySQL, the zero date is defined as
                <code class="literal">'0000-00-00'</code>, even though this date is
                itself considered invalid. This means that, for
                <code class="literal">'0000-00-00'</code> and
                <code class="literal">'0000-01-01'</code>,
                <a class="link" href="functions.html#function_to-seconds"><code class="literal">TO_SECONDS()</code></a> returns the values
                shown here:
            </p><p style="color:blue;">在mysql中，零日期被定义为“0000-00-00”，即使这个日期本身被认为是无效的。这意味着，对于“0000-00-00”和“0000-01-01”，to-seconds（）返回如下所示的值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TO_SECONDS('0000-00-00');</code></strong>
+--------------------------+
| TO_SECONDS('0000-00-00') |
+--------------------------+
|                     NULL |
+--------------------------+
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
+---------+------+----------------------------------------+
| Level   | Code | Message                                |
+---------+------+----------------------------------------+
| Warning | 1292 | Incorrect datetime value: '0000-00-00' |
+---------+------+----------------------------------------+
1 row in set (0.00 sec)


mysql&gt; <strong class="userinput"><code>SELECT TO_SECONDS('0000-01-01');</code></strong>
+--------------------------+
| TO_SECONDS('0000-01-01') |
+--------------------------+
|                    86400 |
+--------------------------+
1 row in set (0.00 sec)
</pre><p>
                This is true whether or not the
                <a class="link" href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL
                server mode is enabled.
            </p><p style="color:blue;">无论是否启用了“允许无效日期”SQL Server模式，都是如此。</p></li><li class="listitem"><a name="function_unix-timestamp"></a><p>
                <a class="indexterm" name="idm140286851099504"></a>

                <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP([<em class="replaceable"><code>date</code></em>])</code></a>
            </p><p style="color:blue;">Unix_时间戳（[日期]）</p><p>
                If <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> is called
                with no <em class="replaceable"><code>date</code></em> argument, it returns a
                Unix timestamp representing seconds since <code class="literal">'1970-01-01
                00:00:00'</code> UTC.
            </p><p style="color:blue;">如果调用unix_timestamp（）时没有日期参数，则返回一个unix timestamp，表示自“1970-01-01 00:00:00”UTC以来的秒数。</p><p>
                If <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> is called
                with a <em class="replaceable"><code>date</code></em> argument, it returns
                the value of the argument as seconds since
                <code class="literal">'1970-01-01 00:00:00'</code> UTC. The server
                interprets <em class="replaceable"><code>date</code></em> as a value in the
                session time zone and converts it to an internal Unix
                timestamp value in UTC. (Clients can set the session time zone
                as described in <a class="xref" href="server-administration.html#time-zone-support" title="5.1.12&nbsp;MySQL Server Time Zone Support">Section&nbsp;5.1.12, “MySQL Server Time Zone Support”</a>.) The
                <em class="replaceable"><code>date</code></em> argument may be a
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a>,
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a>, or
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> string, or a number
                in <em class="replaceable"><code>YYMMDD</code></em>,
                <em class="replaceable"><code>YYMMDDhhmmss</code></em>,
                <em class="replaceable"><code>YYYYMMDD</code></em>, or
                <em class="replaceable"><code>YYYYMMDDhhmmss</code></em> format. If the
                argument includes a time part, it may optionally include a
                fractional seconds part.
            </p><p style="color:blue;">如果使用日期参数调用unix_timestamp（），则返回自“1970-01-01 00:00:00”UTC起的秒数。服务器将日期解释为会话时区中的值，并将其转换为UTC格式的内部Unix时间戳值。（客户端可以按照第5.1.12节“MySQL服务器时区支持”中的说明设置会话时区。）日期参数可以是日期、日期时间或时间戳字符串，也可以是YYMMDD、YYMMDDHHMMS、YYYYMMDD或YYYYMMDDHHMMSS格式的数字。如果参数包含时间部分，则可以选择包含小数秒部分。</p><p>
                The return value is an integer if no argument is given or the
                argument does not include a fractional seconds part, or
                <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> if an argument is given
                that includes a fractional seconds part.
            </p><p style="color:blue;">如果未给定参数或参数不包含小数秒部分，则返回值为整数；如果给定的参数包含小数秒部分，则返回值为十进制。</p><p>
                When the <em class="replaceable"><code>date</code></em> argument is a
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column,
                <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> returns the
                internal timestamp value directly, with no implicit
                <span class="quote">“<span class="quote">string-to-Unix-timestamp</span>”</span> conversion.
            </p><p style="color:blue;">当date参数是timestamp列时，unix_timestamp（）直接返回内部时间戳值，而不进行隐式的“string to unix timestamp”转换。</p><p>
                The valid range of argument values is the same as for the
                <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> data type:
                <code class="literal">'1970-01-01 00:00:01.000000'</code> UTC to
                <code class="literal">'2038-01-19 03:14:07.999999'</code> UTC. If you
                pass an out-of-range date to
                <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a>, it returns
                <code class="literal">0</code>.
            </p><p style="color:blue;">参数值的有效范围与时间戳数据类型相同：“1970-01-01 00:00:01.000000”UTC到“2038-01-19 03:14:07.999999”UTC。如果将超出范围的日期传递给unix_timestamp（），则返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UNIX_TIMESTAMP();</code></strong>
        -&gt; 1447431666
mysql&gt; <strong class="userinput"><code>SELECT UNIX_TIMESTAMP('2015-11-13 10:20:19');</code></strong>
        -&gt; 1447431619
mysql&gt; <strong class="userinput"><code>SELECT UNIX_TIMESTAMP('2015-11-13 10:20:19.012');</code></strong>
        -&gt; 1447431619.012
</pre><a class="indexterm" name="idm140286851067216"></a><p>
                If you use <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> and
                <a class="link" href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> to convert
                between values in a non-UTC time zone and Unix timestamp
                values, the conversion is lossy because the mapping is not
                one-to-one in both directions. For example, due to conventions
                for local time zone changes such as Daylight Saving Time
                (DST), it is possible for
                <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> to map two
                values that are distinct in a non-UTC time zone to the same
                Unix timestamp value.
                <a class="link" href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> will map that
                value back to only one of the original values. Here is an
                example, using values that are distinct in the
                <code class="literal">MET</code> time zone:
            </p><p style="color:blue;">如果使用unix_timestamp（）和from_unix time（）在非UTC时区的值和unix timestamp值之间进行转换，则转换是有损耗的，因为在两个方向上映射不是一对一的。例如，由于本地时区更改（如夏令时（DST））的约定，Unix_Timestamp（）可以将非UTC时区中不同的两个值映射到同一个Unix Timestamp值。from_unixtime（）将该值映射回原始值之一。下面是一个示例，使用met时区中不同的值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET time_zone = 'MET';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT UNIX_TIMESTAMP('2005-03-27 03:00:00');</code></strong>
+---------------------------------------+
| UNIX_TIMESTAMP('2005-03-27 03:00:00') |
+---------------------------------------+
|                            1111885200 |
+---------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT UNIX_TIMESTAMP('2005-03-27 02:00:00');</code></strong>
+---------------------------------------+
| UNIX_TIMESTAMP('2005-03-27 02:00:00') |
+---------------------------------------+
|                            1111885200 |
+---------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT FROM_UNIXTIME(1111885200);</code></strong>
+---------------------------+
| FROM_UNIXTIME(1111885200) |
+---------------------------+
| 2005-03-27 03:00:00       |
+---------------------------+
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        To use named time zones such as <code class="literal">'MET'</code> or
                        <code class="literal">'Europe/Amsterdam'</code>, the time zone tables
                        must be properly set up. For instructions, see
                        <a class="xref" href="server-administration.html#time-zone-support" title="5.1.12&nbsp;MySQL Server Time Zone Support">Section&nbsp;5.1.12, “MySQL Server Time Zone Support”</a>.
                    </p><p style="color:blue;">要使用命名时区，如“met”或“europe/amsterdam”，必须正确设置时区表。有关说明，请参阅第5.1.12节“MySQL服务器时区支持”。</p>
                </div>
                <p>
                    If you want to subtract
                    <a class="link" href="functions.html#function_unix-timestamp"><code class="literal">UNIX_TIMESTAMP()</code></a> columns, you
                    might want to cast them to signed integers. See
                    <a class="xref" href="functions.html#cast-functions" title="12.10&nbsp;Cast Functions and Operators">Section&nbsp;12.10, “Cast Functions and Operators”</a>.
                </p><p style="color:blue;">如果要减去unix_timestamp（）列，可以将它们转换为有符号整数。见第12.10节“浇铸函数和运算符”。</p></li><li class="listitem"><a name="function_utc-date"></a><p>
                <a class="indexterm" name="idm140286851046816"></a>

                <a class="link" href="functions.html#function_utc-date"><code class="literal">UTC_DATE</code></a>,
                <a class="link" href="functions.html#function_utc-date"><code class="literal">UTC_DATE()</code></a>
            </p><p style="color:blue;">UTC日期，UTC日期（）</p><p>
                Returns the current UTC date as a value in
                <em class="replaceable"><code>'YYYY-MM-DD'</code></em> or
                <em class="replaceable"><code>YYYYMMDD</code></em> format, depending on
                whether the function is used in a string or numeric context.
            </p><p style="color:blue;">以“yyyy-mm-dd”或yyyymmdd格式返回当前UTC日期作为值，具体取决于该函数是在字符串还是数字上下文中使用。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UTC_DATE(), UTC_DATE() + 0;</code></strong>
        -&gt; '2003-08-14', 20030814
</pre></li><li class="listitem"><a name="function_utc-time"></a><p>
                <a class="indexterm" name="idm140286851035488"></a>

                <a class="link" href="functions.html#function_utc-time"><code class="literal">UTC_TIME</code></a>,
                <a class="link" href="functions.html#function_utc-time"><code class="literal">UTC_TIME([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">UTC时间，UTC时间（[FSP]）</p><p>
                Returns the current UTC time as a value in
                <em class="replaceable"><code>'hh:mm:ss'</code></em> or
                <em class="replaceable"><code>hhmmss</code></em> format, depending on whether
                the function is used in a string or numeric context.
            </p><p style="color:blue;">以“hh:mm:ss”或“hhmmss”格式返回当前UTC时间作为值，具体取决于函数是在字符串还是数字上下文中使用。</p><p>
                If the <em class="replaceable"><code>fsp</code></em> argument is given to
                specify a fractional seconds precision from 0 to 6, the return
                value includes a fractional seconds part of that many digits.
            </p><p style="color:blue;">如果给fsp参数指定从0到6的小数秒精度，则返回值包含该多个数字的小数秒部分。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UTC_TIME(), UTC_TIME() + 0;</code></strong>
        -&gt; '18:07:53', 180753.000000
</pre></li><li class="listitem"><a name="function_utc-timestamp"></a><p>
                <a class="indexterm" name="idm140286851022784"></a>

                <a class="link" href="functions.html#function_utc-timestamp"><code class="literal">UTC_TIMESTAMP</code></a>,
                <a class="link" href="functions.html#function_utc-timestamp"><code class="literal">UTC_TIMESTAMP([<em class="replaceable"><code>fsp</code></em>])</code></a>
            </p><p style="color:blue;">UTC时间戳，UTC时间戳（[FSP]）</p><p>
                Returns the current UTC date and time as a value in
                <em class="replaceable"><code>'YYYY-MM-DD hh:mm:ss'</code></em> or
                <em class="replaceable"><code>YYYYMMDDhhmmss</code></em> format, depending on
                whether the function is used in a string or numeric context.
            </p><p style="color:blue;">以“yyyy-mm-dd hh:mm:ss”或yyyymmddhhmmss格式返回当前的UTC日期和时间，具体取决于函数是在字符串上下文中使用还是在数字上下文中使用。</p><p>
                If the <em class="replaceable"><code>fsp</code></em> argument is given to
                specify a fractional seconds precision from 0 to 6, the return
                value includes a fractional seconds part of that many digits.
            </p><p style="color:blue;">如果给fsp参数指定从0到6的小数秒精度，则返回值包含该多个数字的小数秒部分。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UTC_TIMESTAMP(), UTC_TIMESTAMP() + 0;</code></strong>
        -&gt; '2003-08-14 18:08:04', 20030814180804.000000
</pre></li><li class="listitem"><a name="function_week"></a><p>
                <a class="indexterm" name="idm140286851010000"></a>

                <a class="link" href="functions.html#function_week"><code class="literal">WEEK(<em class="replaceable"><code>date</code></em>[,<em class="replaceable"><code>mode</code></em>])</code></a>
            </p><p style="color:blue;">周（日期[，模式]）</p><p>
                This function returns the week number for
                <em class="replaceable"><code>date</code></em>. The two-argument form of
                <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> enables you to specify
                whether the week starts on Sunday or Monday and whether the
                return value should be in the range from <code class="literal">0</code>
                to <code class="literal">53</code> or from <code class="literal">1</code> to
                <code class="literal">53</code>. If the <em class="replaceable"><code>mode</code></em>
                argument is omitted, the value of the
                <a class="link" href="server-administration.html#sysvar_default_week_format"><code class="literal">default_week_format</code></a> system
                variable is used. See
                <a class="xref" href="server-administration.html#server-system-variables" title="5.1.7&nbsp;Server System Variables">Section&nbsp;5.1.7, “Server System Variables”</a>.
            </p><p style="color:blue;">此函数返回日期的周数。week（）的双参数形式使您能够指定一周是从星期日还是星期一开始，以及返回值应在0到53或1到53的范围内。如果省略mode参数，则使用默认的_week_格式系统变量的值。见第5.1.7节“服务器系统变量”。</p><p>
                The following table describes how the
                <em class="replaceable"><code>mode</code></em> argument works.
            </p><p style="color:blue;">下表描述了mode参数的工作方式。</p>
                <div class="informaltable">
                    <table summary="Now the mode argument of the WEEK function works. For each mode value, the table lists the first day of the week, the range, and a description of week 1."><colgroup><col width="10%"><col width="20%"><col width="20%"><col width="50%"></colgroup><thead><tr>
                        <th scope="col">Mode</th>
                        <th scope="col">First day of week</th>
                        <th scope="col">Range</th>
                        <th scope="col">Week 1 is the first week …</th>
                    </tr></thead><tbody><tr>
                        <td scope="row">0</td>
                        <td>Sunday</td>
                        <td>0-53</td>
                        <td>with a Sunday in this year</td>
                    </tr><tr>
                        <td scope="row">1</td>
                        <td>Monday</td>
                        <td>0-53</td>
                        <td>with 4 or more days this year</td>
                    </tr><tr>
                        <td scope="row">2</td>
                        <td>Sunday</td>
                        <td>1-53</td>
                        <td>with a Sunday in this year</td>
                    </tr><tr>
                        <td scope="row">3</td>
                        <td>Monday</td>
                        <td>1-53</td>
                        <td>with 4 or more days this year</td>
                    </tr><tr>
                        <td scope="row">4</td>
                        <td>Sunday</td>
                        <td>0-53</td>
                        <td>with 4 or more days this year</td>
                    </tr><tr>
                        <td scope="row">5</td>
                        <td>Monday</td>
                        <td>0-53</td>
                        <td>with a Monday in this year</td>
                    </tr><tr>
                        <td scope="row">6</td>
                        <td>Sunday</td>
                        <td>1-53</td>
                        <td>with 4 or more days this year</td>
                    </tr><tr>
                        <td scope="row">7</td>
                        <td>Monday</td>
                        <td>1-53</td>
                        <td>with a Monday in this year</td>
                    </tr></tbody></table>
                </div>
                <p>
                    For <em class="replaceable"><code>mode</code></em> values with a meaning of
                    <span class="quote">“<span class="quote">with 4 or more days this year,</span>”</span> weeks are
                    numbered according to ISO 8601:1988:
                </p><p style="color:blue;">对于具有“今年有4天或4天以上”含义的模式值，根据ISO 8601:1988对周进行编号：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        If the week containing January 1 has 4 or more days in the
                        new year, it is week 1.
                    </p><p style="color:blue;">如果包含1月1日的一周在新年中有4天或更多天，则为第1周。</p></li><li class="listitem"><p>
                        Otherwise, it is the last week of the previous year, and
                        the next week is week 1.
                    </p><p style="color:blue;">否则，这是上一年的最后一周，下一周是第1周。</p></li></ul>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT WEEK('2008-02-20');</code></strong>
        -&gt; 7
mysql&gt; <strong class="userinput"><code>SELECT WEEK('2008-02-20',0);</code></strong>
        -&gt; 7
mysql&gt; <strong class="userinput"><code>SELECT WEEK('2008-02-20',1);</code></strong>
        -&gt; 8
mysql&gt; <strong class="userinput"><code>SELECT WEEK('2008-12-31',1);</code></strong>
        -&gt; 53
</pre><p>
                    If a date falls in the last week of the previous year, MySQL
                    returns <code class="literal">0</code> if you do not use
                    <code class="literal">2</code>, <code class="literal">3</code>,
                    <code class="literal">6</code>, or <code class="literal">7</code> as the optional
                    <em class="replaceable"><code>mode</code></em> argument:
                </p><p style="color:blue;">如果日期落在上一年的最后一周，如果不使用2、3、6或7作为可选模式参数，mysql将返回0：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT YEAR('2000-01-01'), WEEK('2000-01-01',0);</code></strong>
        -&gt; 2000, 0
</pre><p>
                    One might argue that <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a>
                    should return <code class="literal">52</code> because the given date
                    actually occurs in the 52nd week of 1999.
                    <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> returns
                    <code class="literal">0</code> instead so that the return value is
                    <span class="quote">“<span class="quote">the week number in the given year.</span>”</span> This makes
                    use of the <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> function
                    reliable when combined with other functions that extract a
                    date part from a date.
                </p><p style="color:blue;">有人可能会说week（）应该返回52，因为给定的日期实际上发生在1999年的第52周。week（）返回0，因此返回值为“给定年份中的周数”。这使得week（）函数与从日期中提取日期部分的其他函数结合使用时更加可靠。</p><p>
                    If you prefer a result evaluated with respect to the year that
                    contains the first day of the week for the given date, use
                    <code class="literal">0</code>, <code class="literal">2</code>,
                    <code class="literal">5</code>, or <code class="literal">7</code> as the optional
                    <em class="replaceable"><code>mode</code></em> argument.
                </p><p style="color:blue;">如果您希望对包含给定日期的星期一的第一天的年份计算结果，请使用0、2、5或7作为可选模式参数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT WEEK('2000-01-01',2);</code></strong>
        -&gt; 52
</pre><p>
                    Alternatively, use the
                    <a class="link" href="functions.html#function_yearweek"><code class="literal">YEARWEEK()</code></a> function:
                </p><p style="color:blue;">或者，使用yearweek（）函数：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT YEARWEEK('2000-01-01');</code></strong>
        -&gt; 199952
mysql&gt; <strong class="userinput"><code>SELECT MID(YEARWEEK('2000-01-01'),5,2);</code></strong>
        -&gt; '52'
</pre></li><li class="listitem"><a name="function_weekday"></a><p>
                <a class="indexterm" name="idm140286850921456"></a>

                <a class="link" href="functions.html#function_weekday"><code class="literal">WEEKDAY(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">工作日（日期）</p><p>
                Returns the weekday index for <em class="replaceable"><code>date</code></em>
                (<code class="literal">0</code> = Monday, <code class="literal">1</code> =
                Tuesday, … <code class="literal">6</code> = Sunday).
            </p><p style="color:blue;">返回日期的工作日索引（0=周一，1=周二，…6=周日）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT WEEKDAY('2008-02-03 22:23:00');</code></strong>
        -&gt; 6
mysql&gt; <strong class="userinput"><code>SELECT WEEKDAY('2007-11-06');</code></strong>
        -&gt; 1
</pre></li><li class="listitem"><a name="function_weekofyear"></a><p>
                <a class="indexterm" name="idm140286850908736"></a>

                <a class="link" href="functions.html#function_weekofyear"><code class="literal">WEEKOFYEAR(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">星期一（日期）</p><p>
                Returns the calendar week of the date as a number in the range
                from <code class="literal">1</code> to <code class="literal">53</code>.
                <a class="link" href="functions.html#function_weekofyear"><code class="literal">WEEKOFYEAR()</code></a> is a compatibility
                function that is equivalent to
                <a class="link" href="functions.html#function_week"><code class="literal">WEEK(<em class="replaceable"><code>date</code></em>,3)</code></a>.
            </p><p style="color:blue;">以1到53之间的数字形式返回日期的日历周。weekofyear（）是一个兼容函数，相当于week（date，3）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT WEEKOFYEAR('2008-02-20');</code></strong>
        -&gt; 8
</pre></li><li class="listitem"><a name="function_year"></a><p>
                <a class="indexterm" name="idm140286850894896"></a>

                <a class="link" href="functions.html#function_year"><code class="literal">YEAR(<em class="replaceable"><code>date</code></em>)</code></a>
            </p><p style="color:blue;">年（日）</p><p>
                Returns the year for <em class="replaceable"><code>date</code></em>, in the
                range <code class="literal">1000</code> to <code class="literal">9999</code>, or
                <code class="literal">0</code> for the <span class="quote">“<span class="quote">zero</span>”</span> date.
            </p><p style="color:blue;">返回日期的年份，范围为1000到9999，或0表示“零”日期。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT YEAR('1987-01-01');</code></strong>
        -&gt; 1987
</pre></li><li class="listitem"><a name="function_yearweek"></a><p>
                <a class="indexterm" name="idm140286850882496"></a>

                <a class="link" href="functions.html#function_yearweek"><code class="literal">YEARWEEK(<em class="replaceable"><code>date</code></em>)</code></a>,
                <a class="link" href="functions.html#function_yearweek"><code class="literal">YEARWEEK(<em class="replaceable"><code>date</code></em>,<em class="replaceable"><code>mode</code></em>)</code></a>
            </p><p style="color:blue;">年周（日期），年周（日期，模式）</p><p>
                Returns year and week for a date. The year in the result may
                be different from the year in the date argument for the first
                and the last week of the year.
            </p><p style="color:blue;">返回日期的年和周。结果中的年份可能与一年中第一周和最后一周的日期参数中的年份不同。</p><p>
                The <em class="replaceable"><code>mode</code></em> argument works exactly
                like the <em class="replaceable"><code>mode</code></em> argument to
                <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a>. For the single-argument
                syntax, a <em class="replaceable"><code>mode</code></em> value of 0 is used.
                Unlike <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a>, the value of
                <a class="link" href="server-administration.html#sysvar_default_week_format"><code class="literal">default_week_format</code></a> does not
                influence <a class="link" href="functions.html#function_yearweek"><code class="literal">YEARWEEK()</code></a>.
            </p><p style="color:blue;">mode参数的工作方式与week（）的mode参数完全相同。对于单参数语法，使用模式值0。与week（）不同，default_week_format的值不影响yearweek（）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT YEARWEEK('1987-01-01');</code></strong>
        -&gt; 198652
</pre><p>
                The week number is different from what the
                <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> function would return
                (<code class="literal">0</code>) for optional arguments
                <code class="literal">0</code> or <code class="literal">1</code>, as
                <a class="link" href="functions.html#function_week"><code class="literal">WEEK()</code></a> then returns the week in
                the context of the given year.
            </p><p style="color:blue;">周数不同于week（）函数为可选参数0或1返回的值（0），因为week（）在给定年份的上下文中返回周。</p></li></ul>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="mysql-calendar"></a>12.8&nbsp;What Calendar Is Used By MySQL?</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286850859856"></a><p>
        MySQL uses what is known as a <span class="firstterm">proleptic
      Gregorian calendar</span>.
    </p><p style="color:blue;">mysql使用的是一种被称为proleptic gregorian calendar的日历。</p><p>
        Every country that has switched from the Julian to the Gregorian
        calendar has had to discard at least ten days during the switch.
        To see how this works, consider the month of October 1582, when
        the first Julian-to-Gregorian switch occurred.
    </p><p style="color:blue;">每一个从儒略改为公历的国家，在改历的过程中至少要放弃10天。要了解这是如何工作的，请考虑1582年10月，第一次朱利安到格里高利的转换发生的月份。</p>
        <div class="informaltable">
            <table summary="The month of October 1582, when the first Julian-to-Gregorian switch occurred. Table headings are days of the week and table rows list the dates for each day of the week. The table is intended to illustrate that there are no dates between October 4 and October 15."><colgroup><col width="14%"><col width="14%"><col width="14%"><col width="14%"><col width="14%"><col width="14%"><col width="14%"></colgroup><thead><tr>
                <th scope="col">Monday</th>
                <th scope="col">Tuesday</th>
                <th scope="col">Wednesday</th>
                <th scope="col">Thursday</th>
                <th scope="col">Friday</th>
                <th scope="col">Saturday</th>
                <th scope="col">Sunday</th>
            </tr></thead><tbody><tr>
                <td scope="row">1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
                <td>15</td>
                <td>16</td>
                <td>17</td>
            </tr><tr>
                <td scope="row">18</td>
                <td>19</td>
                <td>20</td>
                <td>21</td>
                <td>22</td>
                <td>23</td>
                <td>24</td>
            </tr><tr>
                <td scope="row">25</td>
                <td>26</td>
                <td>27</td>
                <td>28</td>
                <td>29</td>
                <td>30</td>
                <td>31</td>
            </tr></tbody></table>
        </div>
        <p>
            There are no dates between October 4 and October 15. This
            discontinuity is called the
            <span class="firstterm">cutover</span>. Any dates before
            the cutover are Julian, and any dates following the cutover are
            Gregorian. Dates during a cutover are nonexistent.
        </p><p style="color:blue;">10月4日至10月15日之间没有日期。这种不连续性称为割接。割接前的任何日期都是朱利安，割接后的任何日期都是公历日期。切割期间的日期是不存在的。</p><p>
        A calendar applied to dates when it was not actually in use is
        called <span class="firstterm">proleptic</span>. Thus, if
        we assume there was never a cutover and Gregorian rules always
        rule, we have a proleptic Gregorian calendar. This is what is used
        by MySQL, as is required by standard SQL. For this reason, dates
        prior to the cutover stored as MySQL
        <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> or
        <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> values must be adjusted to
        compensate for the difference. It is important to realize that the
        cutover did not occur at the same time in all countries, and that
        the later it happened, the more days were lost. For example, in
        Great Britain, it took place in 1752, when Wednesday September 2
        was followed by Thursday September 14. Russia remained on the
        Julian calendar until 1918, losing 13 days in the process, and
        what is popularly referred to as its <span class="quote">“<span class="quote">October
      Revolution</span>”</span> occurred in November according to the Gregorian
        calendar.
    </p><p style="color:blue;">一个应用于没有实际使用的日期的日历称为proleptic。因此，如果我们假设没有割让，而格里高利历法总是规则的话，我们就有了一个先入为主的格里高利历法。这就是mysql所使用的，这是标准sql所要求的。因此，必须调整转换之前存储为mysql日期或日期时间值的日期，以补偿差异。必须认识到，在所有国家，割让并非同时发生，而且割让发生得越晚，损失的时间就越多。例如，在英国，它发生在1752年，9月2日星期三之后是9月14日星期四。1918年前，俄罗斯一直沿用儒略历，在此过程中损失了13天，根据公历，人们普遍称之为“十月革命”的事件发生在11月。</p>
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="fulltext-search"></a>12.9&nbsp;Full-Text Search Functions</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#fulltext-natural-language">12.9.1 Natural Language Full-Text Searches</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-boolean">12.9.2 Boolean Full-Text Searches</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-query-expansion">12.9.3 Full-Text Searches with Query Expansion</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-stopwords">12.9.4 Full-Text Stopwords</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-restrictions">12.9.5 Full-Text Restrictions</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-fine-tuning">12.9.6 Fine-Tuning MySQL Full-Text Search</a></span></dt><dt><span class="section"><a href="functions.html#full-text-adding-collation">12.9.7 Adding a Collation for Full-Text Indexing</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-search-ngram">12.9.8 ngram Full-Text Parser</a></span></dt><dt><span class="section"><a href="functions.html#fulltext-search-mecab">12.9.9 MeCab Full-Text Parser Plugin</a></span></dt></dl>
        </div>
        <a class="indexterm" name="idm140286850813360"></a><a class="indexterm" name="idm140286850811872"></a><a class="indexterm" name="idm140286850810800"></a><a class="indexterm" name="idm140286850809728"></a><p><a name="function_match"></a>
        <a class="link" href="functions.html#function_match"><code class="literal">MATCH
            (<em class="replaceable"><code>col1</code></em>,<em class="replaceable"><code>col2</code></em>,...)
            AGAINST (<em class="replaceable"><code>expr</code></em>
            [<em class="replaceable"><code>search_modifier</code></em>])</code></a>
    </p><p style="color:blue;">将（col1，col2，…）与（expr[搜索修饰符]）匹配</p><pre data-lang="sql" class="programlisting"><em class="replaceable"><code>search_modifier:</code></em>
  {
       IN NATURAL LANGUAGE MODE
     | IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION
     | IN BOOLEAN MODE
     | WITH QUERY EXPANSION
  }
</pre><p>
        MySQL has support for full-text indexing and searching:
    </p><p style="color:blue;">MySQL支持全文索引和搜索：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                A full-text index in MySQL is an index of type
                <code class="literal">FULLTEXT</code>.
            </p><p style="color:blue;">mysql中的全文索引是full text类型的索引。</p></li><li class="listitem"><p>
                Full-text indexes can be used only with
                <a class="link" href="innodb-storage-engine.html" title="Chapter&nbsp;14&nbsp;The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> or
                <a class="link" href="storage-engines.html#myisam-storage-engine" title="15.2&nbsp;The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> tables, and can be created
                only for <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
                <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, or
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns.
            </p><p style="color:blue;">全文索引只能用于innodb或myisam表，并且只能为char、varchar或text列创建。</p></li><li class="listitem"><p>
                As of MySQL 5.7.6, <code class="literal">MySQL</code> provides a
                built-in full-text ngram parser that supports Chinese,
                Japanese, and Korean (CJK), and an installable MeCab full-text
                parser plugin for Japanese. Parsing differences are outlined
                in <a class="xref" href="functions.html#fulltext-search-ngram" title="12.9.8&nbsp;ngram Full-Text Parser">Section&nbsp;12.9.8, “ngram Full-Text Parser”</a>, and
                <a class="xref" href="functions.html#fulltext-search-mecab" title="12.9.9&nbsp;MeCab Full-Text Parser Plugin">Section&nbsp;12.9.9, “MeCab Full-Text Parser Plugin”</a>.
            </p><p style="color:blue;">从mysql 5.7.6开始，mysql提供了一个支持中文、日文和韩文（cjk）的内置全文ngram解析器，以及一个可安装的mecab日文全文解析器插件。解析差异在第12.9.8节“ngram全文解析器”和第12.9.9节“mecab全文解析器插件”中概述。</p></li><li class="listitem"><p>
                A <code class="literal">FULLTEXT</code> index definition can be given in
                the <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement when
                a table is created, or added later using
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> or
                <a class="link" href="sql-syntax.html#create-index" title="13.1.14&nbsp;CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>.
            </p><p style="color:blue;">创建表时，可以在CREATETABLE语句中给出全文索引定义，或者稍后使用ALTERTABLE或CREATEINDEX添加。</p></li><li class="listitem"><p>
                For large data sets, it is much faster to load your data into
                a table that has no <code class="literal">FULLTEXT</code> index and then
                create the index after that, than to load data into a table
                that has an existing <code class="literal">FULLTEXT</code> index.
            </p><p style="color:blue;">对于大型数据集，将数据加载到一个没有FultExtindex并随后创建索引的表中要快得多，而不是将数据加载到具有现有FultLeXT索引的表中。</p></li></ul>
        </div>
        <p>
            Full-text searching is performed using
            <a class="link" href="functions.html#function_match"><code class="literal">MATCH() ... AGAINST</code></a> syntax.
            <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> takes a comma-separated
            list that names the columns to be searched.
            <code class="literal">AGAINST</code> takes a string to search for, and an
            optional modifier that indicates what type of search to perform.
            The search string must be a string value that is constant during
            query evaluation. This rules out, for example, a table column
            because that can differ for each row.
        </p><p style="color:blue;">全文搜索是使用match（）执行的…反对语法。match（）使用逗号分隔的列表来命名要搜索的列。获取要搜索的字符串和指示要执行的搜索类型的可选修饰符。搜索字符串必须是在查询求值期间为常量的字符串值。例如，这就排除了表列，因为每一行的表列可能不同。</p><p>
        There are three types of full-text searches:
    </p><p style="color:blue;">全文搜索有三种类型：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                A natural language search interprets the search string as a
                phrase in natural human language (a phrase in free text).
                There are no special operators, with the exception of double
                quote (") characters. The stopword list applies. For more
                information about stopword lists, see
                <a class="xref" href="functions.html#fulltext-stopwords" title="12.9.4&nbsp;Full-Text Stopwords">Section&nbsp;12.9.4, “Full-Text Stopwords”</a>.
            </p><p style="color:blue;">自然语言搜索将搜索字符串解释为自然人类语言中的短语（自由文本中的短语）。除了双引号（“）字符外，没有特殊运算符。停止字列表适用。有关停止字列表的详细信息，请参阅第12.9.4节“全文停止字”。</p><p>
                Full-text searches are natural language searches if the
                <code class="literal">IN NATURAL LANGUAGE MODE</code> modifier is given
                or if no modifier is given. For more information, see
                <a class="xref" href="functions.html#fulltext-natural-language" title="12.9.1&nbsp;Natural Language Full-Text Searches">Section&nbsp;12.9.1, “Natural Language Full-Text Searches”</a>.
            </p><p style="color:blue;">如果给定了in natural language mode修饰符或没有给定修饰符，则全文搜索是自然语言搜索。有关更多信息，请参见第12.9.1节“自然语言全文搜索”。</p></li><li class="listitem"><p>
                A boolean search interprets the search string using the rules
                of a special query language. The string contains the words to
                search for. It can also contain operators that specify
                requirements such that a word must be present or absent in
                matching rows, or that it should be weighted higher or lower
                than usual. Certain common words (stopwords) are omitted from
                the search index and do not match if present in the search
                string. The <code class="literal">IN BOOLEAN MODE</code> modifier
                specifies a boolean search. For more information, see
                <a class="xref" href="functions.html#fulltext-boolean" title="12.9.2&nbsp;Boolean Full-Text Searches">Section&nbsp;12.9.2, “Boolean Full-Text Searches”</a>.
            </p><p style="color:blue;">布尔搜索使用特殊查询语言的规则解释搜索字符串。字符串包含要搜索的单词。它还可以包含指定要求的运算符，以便在匹配行中必须存在或不存在某个单词，或者该单词的权重应高于或低于通常值。某些常用词（stopwords）从搜索索引中省略，如果在搜索字符串中存在，则不匹配。in boolean mode修饰符指定布尔搜索。有关详细信息，请参见第12.9.2节“布尔全文搜索”。</p></li><li class="listitem"><p>
                A query expansion search is a modification of a natural
                language search. The search string is used to perform a
                natural language search. Then words from the most relevant
                rows returned by the search are added to the search string and
                the search is done again. The query returns the rows from the
                second search. The <code class="literal">IN NATURAL LANGUAGE MODE WITH
                QUERY EXPANSION</code> or <code class="literal">WITH QUERY
                EXPANSION</code> modifier specifies a query expansion
                search. For more information, see
                <a class="xref" href="functions.html#fulltext-query-expansion" title="12.9.3&nbsp;Full-Text Searches with Query Expansion">Section&nbsp;12.9.3, “Full-Text Searches with Query Expansion”</a>.
            </p><p style="color:blue;">查询扩展搜索是对自然语言搜索的修改。搜索字符串用于执行自然语言搜索。然后将搜索返回的最相关行中的单词添加到搜索字符串中，然后再次执行搜索。查询返回第二次搜索的行。使用查询扩展或查询扩展修饰符的自然语言模式指定查询扩展搜索。有关详细信息，请参阅第12.9.3节“使用查询扩展进行全文搜索”。</p></li></ul>
        </div>
        <p>
            For information about <code class="literal">FULLTEXT</code> query
            performance, see <a class="xref" href="optimization.html#column-indexes" title="8.3.4&nbsp;Column Indexes">Section&nbsp;8.3.4, “Column Indexes”</a>.
        </p><p style="color:blue;">有关全文查询性能的信息，请参阅第8.3.4节“列索引”。</p><p>
        For more information about <code class="literal">InnoDB</code>
        <code class="literal">FULLTEXT</code> indexes, see
        <a class="xref" href="innodb-storage-engine.html#innodb-fulltext-index" title="14.6.2.4&nbsp;InnoDB FULLTEXT Indexes">Section&nbsp;14.6.2.4, “InnoDB FULLTEXT Indexes”</a>.
    </p><p style="color:blue;">有关innodb全文索引的更多信息，请参阅14.6.2.4节“innodb全文索引”。</p><p>
        Constraints on full-text searching are listed in
        <a class="xref" href="functions.html#fulltext-restrictions" title="12.9.5&nbsp;Full-Text Restrictions">Section&nbsp;12.9.5, “Full-Text Restrictions”</a>.
    </p><p style="color:blue;">全文搜索的限制在第12.9.5节“全文限制”中列出。</p><p>
        The <a class="link" href="programs.html#myisam-ftdump" title="4.6.2&nbsp;myisam_ftdump — Display Full-Text Index information"><span class="command"><strong>myisam_ftdump</strong></span></a> utility dumps the contents of
        a <code class="literal">MyISAM</code> full-text index. This may be helpful
        for debugging full-text queries. See
        <a class="xref" href="programs.html#myisam-ftdump" title="4.6.2&nbsp;myisam_ftdump — Display Full-Text Index information">Section&nbsp;4.6.2, “<span class="command"><strong>myisam_ftdump</strong></span> — Display Full-Text Index information”</a>.
    </p><p style="color:blue;">myisam_ftdump实用程序转储myisam全文索引的内容。这可能有助于调试全文查询。见第4.6.2节，“myisam_ftdump-显示全文索引信息”。</p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-natural-language"></a>12.9.1&nbsp;Natural Language Full-Text Searches</h3>
                    </div>
                </div>
            </div>
            <p>
                By default or with the <code class="literal">IN NATURAL LANGUAGE
                MODE</code> modifier, the
                <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> function performs a
                natural language search for a string against a
                <span class="firstterm">text collection</span>. A
                collection is a set of one or more columns included in a
                <code class="literal">FULLTEXT</code> index. The search string is given as
                the argument to <code class="literal">AGAINST()</code>. For each row in
                the table, <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> returns a
                relevance value; that is, a similarity measure between the
                search string and the text in that row in the columns named in
                the <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> list.
            </p><p style="color:blue;">默认情况下，或者使用in natural language mode修饰符，match（）函数对文本集合执行字符串的自然语言搜索。集合是全文索引中包含的一个或多个列的集合。搜索字符串作为参数提供给account（）。对于表中的每一行，match（）返回一个相关值；也就是说，在match（）列表中指定的列中，搜索字符串和该行中的文本之间的相似性度量。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE articles (</code></strong>
          <strong class="userinput"><code>id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,</code></strong>
          <strong class="userinput"><code>title VARCHAR(200),</code></strong>
          <strong class="userinput"><code>body TEXT,</code></strong>
          <strong class="userinput"><code>FULLTEXT (title,body)</code></strong>
        <strong class="userinput"><code>) ENGINE=InnoDB;</code></strong>
Query OK, 0 rows affected (0.08 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO articles (title,body) VALUES</code></strong>
        <strong class="userinput"><code>('MySQL Tutorial','DBMS stands for DataBase ...'),</code></strong>
        <strong class="userinput"><code>('How To Use MySQL Well','After you went through a ...'),</code></strong>
        <strong class="userinput"><code>('Optimizing MySQL','In this tutorial we will show ...'),</code></strong>
        <strong class="userinput"><code>('1001 MySQL Tricks','1. Never run mysqld as root. 2. ...'),</code></strong>
        <strong class="userinput"><code>('MySQL vs. YourSQL','In the following database comparison ...'),</code></strong>
        <strong class="userinput"><code>('MySQL Security','When configured properly, MySQL ...');</code></strong>
Query OK, 6 rows affected (0.01 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT * FROM articles</code></strong>
        <strong class="userinput"><code>WHERE MATCH (title,body)</code></strong>
        <strong class="userinput"><code>AGAINST ('database' IN NATURAL LANGUAGE MODE);</code></strong>
+----+-------------------+------------------------------------------+
| id | title             | body                                     |
+----+-------------------+------------------------------------------+
|  1 | MySQL Tutorial    | DBMS stands for DataBase ...             |
|  5 | MySQL vs. YourSQL | In the following database comparison ... |
+----+-------------------+------------------------------------------+
2 rows in set (0.00 sec)
</pre><p>
            By default, the search is performed in case-insensitive fashion.
            To perform a case-sensitive full-text search, use a binary
            collation for the indexed columns. For example, a column that
            uses the <code class="literal">latin1</code> character set of can be
            assigned a collation of <code class="literal">latin1_bin</code> to make it
            case-sensitive for full-text searches.
        </p><p style="color:blue;">默认情况下，搜索以不区分大小写的方式执行。要执行区分大小写的全文搜索，请对索引列使用二进制排序规则。例如，可以为使用Latin1字符集的列指定Latin1_bin排序规则，使其对全文搜索区分大小写。</p><p>
            When <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> is used in a
            <code class="literal">WHERE</code> clause, as in the example shown
            earlier, the rows returned are automatically sorted with the
            highest relevance first. Relevance values are nonnegative
            floating-point numbers. Zero relevance means no similarity.
            Relevance is computed based on the number of words in the row
            (document), the number of unique words in the row, the total
            number of words in the collection, and the number of rows that
            contain a particular word.
        </p><p style="color:blue;">当在where子句中使用match（）时（如前所示），返回的行将首先自动按最高相关性排序。关联值是非负浮点数。零相关性意味着没有相似性。相关性是根据行（文档）中的单词数、行中唯一单词数、集合中单词总数以及包含特定单词的行数计算的。</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    The term <span class="quote">“<span class="quote">document</span>”</span> may be used interchangeably
                    with the term <span class="quote">“<span class="quote">row</span>”</span>, and both terms refer to the
                    indexed part of the row. The term <span class="quote">“<span class="quote">collection</span>”</span>
                    refers to the indexed columns and encompasses all rows.
                </p><p style="color:blue;">术语“文档”可以与术语“行”互换使用，并且两个术语都指行的索引部分。术语“集合”指的是索引列并包含所有行。</p>
            </div>
            <p>
                To simply count matches, you could use a query like this:
            </p><p style="color:blue;">要简单地计算匹配项，可以使用如下查询：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COUNT(*) FROM articles</code></strong>
    <strong class="userinput"><code>WHERE MATCH (title,body)</code></strong>
    <strong class="userinput"><code>AGAINST ('database' IN NATURAL LANGUAGE MODE);</code></strong>
+----------+
| COUNT(*) |
+----------+
|        2 |
+----------+
1 row in set (0.00 sec)
</pre><p>
            You might find it quicker to rewrite the query as follows:
        </p><p style="color:blue;">您可能会发现按如下方式重写查询会更快：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    <strong class="userinput"><code>COUNT(IF(MATCH (title,body) AGAINST ('database' IN NATURAL LANGUAGE MODE), 1, NULL))</code></strong>
    <strong class="userinput"><code>AS count</code></strong>
    <strong class="userinput"><code>FROM articles;</code></strong>
+-------+
| count |
+-------+
|     2 |
+-------+
1 row in set (0.03 sec)
</pre><p>
            The first query does some extra work (sorting the results by
            relevance) but also can use an index lookup based on the
            <code class="literal">WHERE</code> clause. The index lookup might make the
            first query faster if the search matches few rows. The second
            query performs a full table scan, which might be faster than the
            index lookup if the search term was present in most rows.
        </p><p style="color:blue;">第一个查询做了一些额外的工作（按相关性排序结果），但也可以使用基于where子句的索引查找。如果搜索只匹配几行，索引查找可能会使第一个查询更快。第二个查询执行全表扫描，如果搜索词出现在大多数行中，则扫描速度可能比索引查找快。</p><p>
            For natural-language full-text searches, the columns named in
            the <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> function must be the
            same columns included in some <code class="literal">FULLTEXT</code> index
            in your table. For the preceding query, note that the columns
            named in the <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> function
            (<code class="literal">title</code> and <code class="literal">body</code>) are the
            same as those named in the definition of the
            <code class="literal">article</code> table's <code class="literal">FULLTEXT</code>
            index. To search the <code class="literal">title</code> or
            <code class="literal">body</code> separately, you would create separate
            <code class="literal">FULLTEXT</code> indexes for each column.
        </p><p style="color:blue;">对于自然语言全文搜索，match（）函数中命名的列必须与表中某些全文索引中包含的列相同。对于前面的查询，请注意match（）函数中命名的列（title和body）与项目表全文索引定义中命名的列相同。若要分别搜索标题或正文，请为每一列创建单独的全文索引。</p><p>
            You can also perform a boolean search or a search with query
            expansion. These search types are described in
            <a class="xref" href="functions.html#fulltext-boolean" title="12.9.2&nbsp;Boolean Full-Text Searches">Section&nbsp;12.9.2, “Boolean Full-Text Searches”</a>, and
            <a class="xref" href="functions.html#fulltext-query-expansion" title="12.9.3&nbsp;Full-Text Searches with Query Expansion">Section&nbsp;12.9.3, “Full-Text Searches with Query Expansion”</a>.
        </p><p style="color:blue;">也可以执行布尔搜索或使用查询扩展进行搜索。这些搜索类型在第12.9.2节“布尔全文搜索”和第12.9.3节“带查询扩展的全文搜索”中进行了描述。</p><p>
            A full-text search that uses an index can name columns only from
            a single table in the <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a>
            clause because an index cannot span multiple tables. For
            <code class="literal">MyISAM</code> tables, a boolean search can be done
            in the absence of an index (albeit more slowly), in which case
            it is possible to name columns from multiple tables.
        </p><p style="color:blue;">使用索引的全文搜索只能从match（）子句中的单个表命名列，因为索引不能跨越多个表。对于myisam表，可以在没有索引的情况下（尽管速度较慢）执行布尔搜索，在这种情况下，可以命名多个表中的列。</p><p>
            The preceding example is a basic illustration that shows how to
            use the <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> function where
            rows are returned in order of decreasing relevance. The next
            example shows how to retrieve the relevance values explicitly.
            Returned rows are not ordered because the
            <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement includes neither
            <code class="literal">WHERE</code> nor <code class="literal">ORDER BY</code>
            clauses:
        </p><p style="color:blue;">前面的示例是一个基本的演示，演示了如何使用match（）函数，在该函数中，按相关性递减的顺序返回行。下一个示例演示如何显式检索关联值。返回的行不排序，因为select语句既不包含where子句，也不包含order by子句：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT id, MATCH (title,body)</code></strong>
    <strong class="userinput"><code>AGAINST ('Tutorial' IN NATURAL LANGUAGE MODE) AS score</code></strong>
    <strong class="userinput"><code>FROM articles;</code></strong>
+----+---------------------+
| id | score               |
+----+---------------------+
|  1 | 0.22764469683170319 |
|  2 |                   0 |
|  3 | 0.22764469683170319 |
|  4 |                   0 |
|  5 |                   0 |
|  6 |                   0 |
+----+---------------------+
6 rows in set (0.00 sec)
</pre><p>
            The following example is more complex. The query returns the
            relevance values and it also sorts the rows in order of
            decreasing relevance. To achieve this result, specify
            <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> twice: once in the
            <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> list and once in the
            <code class="literal">WHERE</code> clause. This causes no additional
            overhead, because the MySQL optimizer notices that the two
            <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> calls are identical and
            invokes the full-text search code only once.
        </p><p style="color:blue;">下面的例子更复杂。查询返回相关性值，并按相关性降低的顺序对行进行排序。要获得此结果，请指定match（）两次：一次在select列表中，一次在where子句中。这不会导致额外的开销，因为mysql优化器注意到两个match（）调用是相同的，并且只调用一次全文搜索代码。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT id, body, MATCH (title,body) AGAINST</code></strong>
    <strong class="userinput"><code>('Security implications of running MySQL as root'</code></strong>
    <strong class="userinput"><code>IN NATURAL LANGUAGE MODE) AS score</code></strong>
    <strong class="userinput"><code>FROM articles WHERE MATCH (title,body) AGAINST</code></strong>
    <strong class="userinput"><code>('Security implications of running MySQL as root'</code></strong>
    <strong class="userinput"><code>IN NATURAL LANGUAGE MODE);</code></strong>
+----+-------------------------------------+-----------------+
| id | body                                | score           |
+----+-------------------------------------+-----------------+
|  4 | 1. Never run mysqld as root. 2. ... | 1.5219271183014 |
|  6 | When configured properly, MySQL ... | 1.3114095926285 |
+----+-------------------------------------+-----------------+
2 rows in set (0.00 sec)
</pre><p>
            A phrase that is enclosed within double quote
            (<code class="literal">"</code>) characters matches only rows that contain
            the phrase <span class="emphasis"><em>literally, as it was typed</em></span>. The
            full-text engine splits the phrase into words and performs a
            search in the <code class="literal">FULLTEXT</code> index for the words.
            Nonword characters need not be matched exactly: Phrase searching
            requires only that matches contain exactly the same words as the
            phrase and in the same order. For example, <code class="literal">"test
            phrase"</code> matches <code class="literal">"test, phrase"</code>. If
            the phrase contains no words that are in the index, the result
            is empty. For example, if all words are either stopwords or
            shorter than the minimum length of indexed words, the result is
            empty.
        </p><p style="color:blue;">在双引号（“）字符中括起来的短语只与按字面意思键入的短语所包含的行匹配。全文引擎将短语拆分为单词，并在全文索引中搜索单词。非单词字符不需要完全匹配：短语搜索只需要匹配包含与短语完全相同的单词，并且顺序相同。例如，“测试短语”与“测试短语”匹配。如果短语不包含索引中的单词，则结果为空。例如，如果所有字都是停止字或短于索引字的最小长度，则结果为空。</p><p>
            The MySQL <code class="literal">FULLTEXT</code> implementation regards any
            sequence of true word characters (letters, digits, and
            underscores) as a word. That sequence may also contain
            apostrophes (<code class="literal">'</code>), but not more than one in a
            row. This means that <code class="literal">aaa'bbb</code> is regarded as
            one word, but <code class="literal">aaa''bbb</code> is regarded as two
            words. Apostrophes at the beginning or the end of a word are
            stripped by the <code class="literal">FULLTEXT</code> parser;
            <code class="literal">'aaa'bbb'</code> would be parsed as
            <code class="literal">aaa'bbb</code>.
        </p><p style="color:blue;">mysql全文实现将任何一系列真单词字符（字母、数字和下划线）视为一个单词。该序列也可以包含撇号（'），但不能在一行中包含多个撇号。这意味着aaa'bbb被视为一个单词，而aaa'bbb被视为两个单词。全文分析器将去掉单词开头或结尾的撇号；“a a a'bbb”将被解析为aaa'bbb。</p><p>
            The built-in <code class="literal">FULLTEXT</code> parser determines where
            words start and end by looking for certain delimiter characters;
            for example, <code class="literal">&nbsp;</code> (space),
            <code class="literal">,</code> (comma), and <code class="literal">.</code> (period).
            If words are not separated by delimiters (as in, for example,
            Chinese), the built-in <code class="literal">FULLTEXT</code> parser cannot
            determine where a word begins or ends. To be able to add words
            or other indexed terms in such languages to a
            <code class="literal">FULLTEXT</code> index that uses the built-in
            <code class="literal">FULLTEXT</code> parser, you must preprocess them so
            that they are separated by some arbitrary delimiter.
            Alternatively, as of MySQL 5.7.6, you can create
            <code class="literal">FULLTEXT</code> indexes using the ngram parser
            plugin (for Chinese, Japanese, or Korean) or the MeCab parser
            plugin (for Japanese).
        </p><p style="color:blue;">内置的全文分析器通过查找某些分隔符字符（例如，（空格），（逗号）和来确定单词的开始和结束位置。（句号）。如果单词没有用分隔符分隔（例如，在中文中），则内置的全文解析器无法确定单词的开始或结束位置。要能够将此类语言中的单词或其他索引项添加到使用内置全文分析器的全文索引中，必须对它们进行预处理，以便它们由任意分隔符分隔。或者，从mysql 5.7.6开始，可以使用ngram解析器插件（中文、日文或韩文）或mecab解析器插件（日文）创建全文索引。</p><p>
            It is possible to write a plugin that replaces the built-in
            full-text parser. For details, see <a class="xref" href="extending-mysql.html#plugin-api" title="28.2&nbsp;The MySQL Plugin API">Section&nbsp;28.2, “The MySQL Plugin API”</a>.
            For example parser plugin source code, see the
            <code class="filename">plugin/fulltext</code> directory of a MySQL source
            distribution.
        </p><p style="color:blue;">可以编写一个插件来代替内置的全文解析器。有关详细信息，请参见第28.2节“MySQL插件API”。例如，parser plugin源代码，请参见mysql源发行版的plugin/fulltext目录。</p><p>
            Some words are ignored in full-text searches:
        </p><p style="color:blue;">某些单词在全文搜索中被忽略：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Any word that is too short is ignored. The default minimum
                    length of words that are found by full-text searches is
                    three characters for <code class="literal">InnoDB</code> search
                    indexes, or four characters for <code class="literal">MyISAM</code>.
                    You can control the cutoff by setting a configuration option
                    before creating the index:
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>
                    configuration option for <code class="literal">InnoDB</code> search
                    indexes, or <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a>
                    for <code class="literal">MyISAM</code>.
                </p><p style="color:blue;">任何太短的词都会被忽略。全文搜索找到的单词的默认最小长度是innodb搜索索引的3个字符，myisam的4个字符。在创建索引之前，可以通过设置一个配置选项来控制截断：innodb搜索索引的innodb ft_min_token_size配置选项，myisam的ft_min_word_len。</p>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            This behavior does not apply to
                            <code class="literal">FULLTEXT</code> indexes that use the ngram
                            parser. For the ngram parser, token length is defined by
                            the <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a>
                            option.
                        </p><p style="color:blue;">此行为不适用于使用ngram解析器的全文索引。对于ngram解析器，令牌长度由ngram_token_size选项定义。</p>
                    </div>
                </li><li class="listitem"><p>
                    Words in the stopword list are ignored. A stopword is a word
                    such as <span class="quote">“<span class="quote">the</span>”</span> or <span class="quote">“<span class="quote">some</span>”</span> that is so
                    common that it is considered to have zero semantic value.
                    There is a built-in stopword list, but it can be overridden
                    by a user-defined list. The stopword lists and related
                    configuration options are different for
                    <code class="literal">InnoDB</code> search indexes and
                    <code class="literal">MyISAM</code> ones. Stopword processing is
                    controlled by the configuration options
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_enable_stopword"><code class="literal">innodb_ft_enable_stopword</code></a>,
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_server_stopword_table"><code class="literal">innodb_ft_server_stopword_table</code></a>,
                    and
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_user_stopword_table"><code class="literal">innodb_ft_user_stopword_table</code></a>
                    for <code class="literal">InnoDB</code> search indexes, and
                    <a class="link" href="server-administration.html#sysvar_ft_stopword_file"><code class="literal">ft_stopword_file</code></a> for
                    <code class="literal">MyISAM</code> ones.
                </p><p style="color:blue;">停止字列表中的字将被忽略。stopword是诸如“the”或“some”这样的词，它非常常见，以至于被认为没有语义值。有一个内置的stopword列表，但它可以被用户定义的列表覆盖。对于innodb搜索索引和myisam索引，stopword列表和相关配置选项是不同的。stopword处理由配置选项innodb_ft_enable_stopword、innodb_ft_server_stopword_table和innodb_ft_user_stopword_table（用于innodb搜索索引）和ft_stopword_file（用于myisam索引）控制。</p></li></ul>
            </div>
            <p>
                See <a class="xref" href="functions.html#fulltext-stopwords" title="12.9.4&nbsp;Full-Text Stopwords">Section&nbsp;12.9.4, “Full-Text Stopwords”</a> to view default
                stopword lists and how to change them. The default minimum word
                length can be changed as described in
                <a class="xref" href="functions.html#fulltext-fine-tuning" title="12.9.6&nbsp;Fine-Tuning MySQL Full-Text Search">Section&nbsp;12.9.6, “Fine-Tuning MySQL Full-Text Search”</a>.
            </p><p style="color:blue;">参见12.9.4节“全文非索引字表”以查看默认非索引字表以及如何更改它们。默认的最小字长可以更改，如12.9.6节“微调mysql全文搜索”中所述。</p><p>
            Every correct word in the collection and in the query is
            weighted according to its significance in the collection or
            query. Thus, a word that is present in many documents has a
            lower weight, because it has lower semantic value in this
            particular collection. Conversely, if the word is rare, it
            receives a higher weight. The weights of the words are combined
            to compute the relevance of the row. This technique works best
            with large collections.
        </p><p style="color:blue;">集合和查询中的每个正确单词都根据其在集合或查询中的重要性进行加权。因此，出现在许多文档中的单词的权重较低，因为它在这个特定集合中的语义值较低。相反，如果这个词很少见，它的分量就更重。将单词的权重组合起来计算行的相关性。这种技术最适合大型收藏。</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    MyISAM Limitation
                </div>
                <p>
                    For very small tables, word distribution does not adequately
                    reflect their semantic value, and this model may sometimes
                    produce bizarre results for search indexes on
                    <code class="literal">MyISAM</code> tables. For example, although the
                    word <span class="quote">“<span class="quote">MySQL</span>”</span> is present in every row of the
                    <code class="literal">articles</code> table shown earlier, a search for
                    the word in a <code class="literal">MyISAM</code> search index produces
                    no results:
                </p><p style="color:blue;">对于非常小的表，单词分布并不能充分反映它们的语义值，这种模型有时可能会为myisam表上的搜索索引生成奇怪的结果。例如，尽管前面显示的articles表的每一行都有“mysql”一词，但在myisam搜索索引中搜索该词不会产生任何结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM articles</code></strong>
    <strong class="userinput"><code>WHERE MATCH (title,body)</code></strong>
    <strong class="userinput"><code>AGAINST ('MySQL' IN NATURAL LANGUAGE MODE);</code></strong>
Empty set (0.00 sec)
</pre><p>
                The search result is empty because the word
                <span class="quote">“<span class="quote">MySQL</span>”</span> is present in at least 50% of the rows,
                and so is effectively treated as a stopword. This filtering
                technique is more suitable for large data sets, where you
                might not want the result set to return every second row from
                a 1GB table, than for small data sets where it might cause
                poor results for popular terms.
            </p><p style="color:blue;">搜索结果为空，因为单词“mysql”至少存在于50%的行中，因此被有效地视为一个stopword。这种过滤技术更适合于大数据集，在大数据集中，您可能不希望结果集返回1GB表中的每一行，而不适合于小数据集，在小数据集中，它可能会导致通俗术语的不良结果。</p><p>
                The 50% threshold can surprise you when you first try
                full-text searching to see how it works, and makes
                <code class="literal">InnoDB</code> tables more suited to
                experimentation with full-text searches. If you create a
                <code class="literal">MyISAM</code> table and insert only one or two
                rows of text into it, every word in the text occurs in at
                least 50% of the rows. As a result, no search returns any
                results until the table contains more rows. Users who need to
                bypass the 50% limitation can build search indexes on
                <code class="literal">InnoDB</code> tables, or use the boolean search
                mode explained in <a class="xref" href="functions.html#fulltext-boolean" title="12.9.2&nbsp;Boolean Full-Text Searches">Section&nbsp;12.9.2, “Boolean Full-Text Searches”</a>.
            </p><p style="color:blue;">当您第一次尝试全文搜索以了解其工作原理时，50%的阈值可能会让您大吃一惊，并使innodb tables更适合进行全文搜索实验。如果创建一个myisam表，并且只向其中插入一行或两行文本，则文本中的每个单词至少出现在50%的行中。因此，在表包含更多行之前，任何搜索都不会返回任何结果。需要绕过50%限制的用户可以在innodb表上建立搜索索引，或者使用第12.9.2节“布尔全文搜索”中解释的布尔搜索模式。</p>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-boolean"></a>12.9.2&nbsp;Boolean Full-Text Searches</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286850629024"></a><a class="indexterm" name="idm140286850627984"></a><p>
            MySQL can perform boolean full-text searches using the
            <code class="literal">IN BOOLEAN MODE</code> modifier. With this modifier,
            certain characters have special meaning at the beginning or end
            of words in the search string. In the following query, the
            <code class="literal">+</code> and <code class="literal">-</code> operators indicate
            that a word must be present or absent, respectively, for a match
            to occur. Thus, the query retrieves all the rows that contain
            the word <span class="quote">“<span class="quote">MySQL</span>”</span> but that do
            <span class="emphasis"><em>not</em></span> contain the word
            <span class="quote">“<span class="quote">YourSQL</span>”</span>:
        </p><p style="color:blue;">mysql可以使用in boolean mode修饰符执行布尔全文搜索。使用此修饰符，某些字符在搜索字符串中单词的开头或结尾具有特殊意义。在下面的查询中，+和-运算符表示单词必须存在或不存在，才能发生匹配。因此，查询检索包含单词“mysql”但不包含单词“yoursql”的所有行：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM articles WHERE MATCH (title,body)</code></strong>
    <strong class="userinput"><code>AGAINST ('+MySQL -YourSQL' IN BOOLEAN MODE);</code></strong>
+----+-----------------------+-------------------------------------+
| id | title                 | body                                |
+----+-----------------------+-------------------------------------+
|  1 | MySQL Tutorial        | DBMS stands for DataBase ...        |
|  2 | How To Use MySQL Well | After you went through a ...        |
|  3 | Optimizing MySQL      | In this tutorial we will show ...   |
|  4 | 1001 MySQL Tricks     | 1. Never run mysqld as root. 2. ... |
|  6 | MySQL Security        | When configured properly, MySQL ... |
+----+-----------------------+-------------------------------------+
</pre>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    In implementing this feature, MySQL uses what is sometimes
                    referred to as <span class="firstterm">implied Boolean
          logic</span>, in which
                </p><p style="color:blue;">在实现这个特性时，mysql使用有时被称为隐含布尔逻辑的逻辑，其中</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        <code class="literal">+</code> stands for <code class="literal">AND</code>
                    </p><p style="color:blue;">+代表和</p></li><li class="listitem"><p>
                        <code class="literal">-</code> stands for <code class="literal">NOT</code>
                    </p><p style="color:blue;">-代表不</p></li><li class="listitem"><p>
                        [<span class="emphasis"><em>no operator</em></span>] implies
                        <code class="literal">OR</code>
                    </p><p style="color:blue;">[无运算符]表示或</p></li></ul>
                </div>

            </div>
            <p>
                Boolean full-text searches have these characteristics:
            </p><p style="color:blue;">布尔全文搜索具有以下特征：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    They do not automatically sort rows in order of decreasing
                    relevance.
                </p><p style="color:blue;">它们不会自动按相关性降低的顺序对行进行排序。</p></li><li class="listitem"><p>
                    <code class="literal">InnoDB</code> tables require a
                    <code class="literal">FULLTEXT</code> index on all columns of the
                    <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> expression to perform
                    boolean queries. Boolean queries against a
                    <code class="literal">MyISAM</code> search index can work even without
                    a <code class="literal">FULLTEXT</code> index, although a search
                    executed in this fashion would be quite slow.
                </p><p style="color:blue;">innodb表需要对match（）表达式的所有列使用全文索引来执行布尔查询。即使没有全文索引，针对myisam搜索索引的布尔查询也可以工作，尽管以这种方式执行的搜索会非常慢。</p></li><li class="listitem"><p>
                    The minimum and maximum word length full-text parameters
                    apply to <code class="literal">FULLTEXT</code> indexes created using
                    the built-in <code class="literal">FULLTEXT</code> parser and MeCab
                    parser plugin.
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>
                    and
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_max_token_size"><code class="literal">innodb_ft_max_token_size</code></a>
                    are used for <code class="literal">InnoDB</code> search indexes.
                    <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a> and
                    <a class="link" href="server-administration.html#sysvar_ft_max_word_len"><code class="literal">ft_max_word_len</code></a> are used
                    for <code class="literal">MyISAM</code> search indexes.
                </p><p style="color:blue;">最小和最大字长全文参数应用于使用内置的全文分析器和MeCAB解析器插件创建的全文索引。innodb_ft_min_token_size和innodb_ft_max_token_size用于innodb搜索索引。ft_min_word_len和ft_max_word_len用于myisam搜索索引。</p><p>
                    Minimum and maximum word length full-text parameters do not
                    apply to <code class="literal">FULLTEXT</code> indexes created using
                    the ngram parser. ngram token size is defined by the
                    <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> option.
                </p><p style="color:blue;">最小和最大字长的全文参数不适用于使用子查询解析器创建的索引。ngram令牌大小由ngram令牌大小选项定义。</p></li><li class="listitem"><p>
                    The stopword list applies, controlled by
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_enable_stopword"><code class="literal">innodb_ft_enable_stopword</code></a>,
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_server_stopword_table"><code class="literal">innodb_ft_server_stopword_table</code></a>,
                    and
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_user_stopword_table"><code class="literal">innodb_ft_user_stopword_table</code></a>
                    for <code class="literal">InnoDB</code> search indexes, and
                    <a class="link" href="server-administration.html#sysvar_ft_stopword_file"><code class="literal">ft_stopword_file</code></a> for
                    <code class="literal">MyISAM</code> ones.
                </p><p style="color:blue;">stopword列表由innodb_ft_enable_stopword、innodb_ft_server_stopword_table和innodb_ft_user_stopword_table（用于innodb搜索索引）和ft_stopword_file（用于myisam索引）控制。</p></li><li class="listitem"><p>
                    <code class="literal">InnoDB</code> full-text search does not support
                    the use of multiple operators on a single search word, as in
                    this example: <code class="literal">'++apple'</code>. Use of multiple
                    operators on a single search word returns a syntax error to
                    standard out. MyISAM full-text search will successfully
                    process the same search ignoring all operators except for
                    the operator immediately adjacent to the search word.
                </p><p style="color:blue;">innodb全文搜索不支持在单个搜索词上使用多个运算符，如本例中所示：'++apple'。在一个搜索词上使用多个运算符将返回标准输出语法错误。MyISAM全文搜索将成功处理相同的搜索，忽略除紧靠搜索词的运算符以外的所有运算符。</p></li><li class="listitem"><p>
                    <code class="literal">InnoDB</code> full-text search only supports
                    leading plus or minus signs. For example,
                    <code class="literal">InnoDB</code> supports
                    <code class="literal">'+apple'</code> but does not support
                    <code class="literal">'apple+'</code>. Specifying a trailing plus or
                    minus sign causes <code class="literal">InnoDB</code> to report a
                    syntax error.
                </p><p style="color:blue;">InnoDB全文搜索只支持前导加号或减号。例如，innodb支持“+apple”，但不支持“apple+”。指定后面的加号或减号会导致innodb报告语法错误。</p></li><li class="listitem"><p>
                    <code class="literal">InnoDB</code> full-text search does not support
                    the use of a leading plus sign with wildcard
                    (<code class="literal">'+*'</code>), a plus and minus sign combination
                    (<code class="literal">'+-'</code>), or leading a plus and minus sign
                    combination (<code class="literal">'+-apple'</code>). These invalid
                    queries return a syntax error.
                </p><p style="color:blue;">innodb全文搜索不支持使用带通配符的前导加号（“+*”）、加号和减号组合（“+-”）或前导加号和减号组合（“+-apple”）。这些无效查询返回语法错误。</p></li><li class="listitem"><p>
                    <code class="literal">InnoDB</code> full-text search does not support
                    the use of the <code class="literal">@</code> symbol in boolean
                    full-text searches. The <code class="literal">@</code> symbol is
                    reserved for use by the <code class="literal">@distance</code>
                    proximity search operator.
                </p><p style="color:blue;">InnoDB全文搜索不支持在布尔全文搜索中使用@符号。@符号保留为@距离接近搜索操作符使用。</p></li><li class="listitem"><p>
                    They do not use the 50% threshold that applies to
                    <code class="literal">MyISAM</code> search indexes.
                </p><p style="color:blue;">它们不使用适用于myisam搜索索引的50%阈值。</p></li></ul>
            </div>
            <p>
                The boolean full-text search capability supports the following
                operators:
            </p><p style="color:blue;">布尔全文搜索功能支持以下运算符：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">+</code>
                </p><p style="color:blue;">+</p><p>
                    A leading or trailing plus sign indicates that this word
                    <span class="emphasis"><em>must</em></span> be present in each row that is
                    returned. <code class="literal">InnoDB</code> only supports leading
                    plus signs.
                </p><p style="color:blue;">前导或尾随加号表示该单词必须出现在返回的每一行中。InnoDB只支持前导加号。</p></li><li class="listitem"><p>
                    <code class="literal">-</code>
                </p><p style="color:blue;">-</p><p>
                    A leading or trailing minus sign indicates that this word
                    must <span class="emphasis"><em>not</em></span> be present in any of the rows
                    that are returned. <code class="literal">InnoDB</code> only supports
                    leading minus signs.
                </p><p style="color:blue;">前导或尾随的减号表示此字不能出现在返回的任何行中。InnoDB只支持前导减号。</p><p>
                    Note: The <code class="literal">-</code> operator acts only to exclude
                    rows that are otherwise matched by other search terms. Thus,
                    a boolean-mode search that contains only terms preceded by
                    <code class="literal">-</code> returns an empty result. It does not
                    return <span class="quote">“<span class="quote">all rows except those containing any of the
            excluded terms.</span>”</span>
                </p><p style="color:blue;">注意，-运算符仅用于排除与其他搜索词匹配的行。因此，布尔模式搜索只包含前面有-的项，返回空结果。它不返回“除包含任何排除项的行之外的所有行”。</p></li><li class="listitem"><p>
                    (no operator)
                </p><p style="color:blue;">（无操作员）</p><p>
                    By default (when neither <code class="literal">+</code> nor
                    <code class="literal">-</code> is specified), the word is optional,
                    but the rows that contain it are rated higher. This mimics
                    the behavior of <a class="link" href="functions.html#function_match"><code class="literal">MATCH() ...
                    AGAINST()</code></a> without the <code class="literal">IN BOOLEAN
                    MODE</code> modifier.
                </p><p style="color:blue;">默认情况下（未指定+或-时），该单词是可选的，但包含该单词的行的评级更高。这模仿了match（）的行为…不带in boolean mode修饰符的。</p></li><li class="listitem"><p>
                    <code class="literal">@<em class="replaceable"><code>distance</code></em></code>
                </p><p style="color:blue;">@距离</p><p>
                    This operator works on <code class="literal">InnoDB</code> tables
                    only. It tests whether two or more words all start within a
                    specified distance from each other, measured in words.
                    Specify the search words within a double-quoted string
                    immediately before the
                    <code class="literal">@<em class="replaceable"><code>distance</code></em></code>
                    operator, for example, <code class="literal">MATCH(col1) AGAINST('"word1
                    word2 word3" @8' IN BOOLEAN MODE)</code>
                </p><p style="color:blue;">这个操作符只在innodb表上工作。它测试两个或两个以上的单词是否都以单词的形式在指定的距离内开始。在紧靠@distance运算符之前的双引号字符串中指定搜索词，例如，match（col1）for（''word1 word2 word3'@8'在布尔模式下）</p></li><li class="listitem"><p>
                    <code class="literal">&gt; &lt;</code>
                </p><p style="color:blue;">&gt;&lt;</p><p>
                    These two operators are used to change a word's contribution
                    to the relevance value that is assigned to a row. The
                    <code class="literal">&gt;</code> operator increases the contribution
                    and the <code class="literal">&lt;</code> operator decreases it. See
                    the example following this list.
                </p><p style="color:blue;">这两个运算符用于更改单词对指定给行的关联值的贡献。&gt;运算符增加贡献，&lt;运算符减少贡献。请参见下面的示例。</p></li><li class="listitem"><p>
                    <code class="literal">( )</code>
                </p><p style="color:blue;">（）</p><p>
                    Parentheses group words into subexpressions. Parenthesized
                    groups can be nested.
                </p><p style="color:blue;">括号将单词分组成子表达式。带圆括号的组可以嵌套。</p></li><li class="listitem"><p>
                    <code class="literal">~</code>
                </p><p style="color:blue;">~</p><p>
                    A leading tilde acts as a negation operator, causing the
                    word's contribution to the row's relevance to be negative.
                    This is useful for marking <span class="quote">“<span class="quote">noise</span>”</span> words. A row
                    containing such a word is rated lower than others, but is
                    not excluded altogether, as it would be with the
                    <code class="literal">-</code> operator.
                </p><p style="color:blue;">前导颚化符用作否定运算符，使单词对行相关性的贡献为负。这对于标记“noise”单词很有用。包含这样一个词的行的评级比其他行低，但并没有完全排除在外，就像使用-operator一样。</p></li><li class="listitem"><p>
                    <code class="literal">*</code>
                </p><p style="color:blue;">*</p><p>
                    The asterisk serves as the truncation (or wildcard)
                    operator. Unlike the other operators, it is
                    <span class="emphasis"><em>appended</em></span> to the word to be affected.
                    Words match if they begin with the word preceding the
                    <code class="literal">*</code> operator.
                </p><p style="color:blue;">星号用作截断（或通配符）运算符。与其他运算符不同，它被附加到要受影响的单词中。如果单词以*运算符前面的单词开头，则单词匹配。</p><p>
                    If a word is specified with the truncation operator, it is
                    not stripped from a boolean query, even if it is too short
                    or a stopword. Whether a word is too short is determined
                    from the
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>
                    setting for <code class="literal">InnoDB</code> tables, or
                    <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a> for
                    <code class="literal">MyISAM</code> tables. These options are not
                    applicable to <code class="literal">FULLTEXT</code> indexes that use
                    the ngram parser.
                </p><p style="color:blue;">如果用截断运算符指定了一个单词，则不会从布尔查询中删除它，即使它太短或是一个停止字。单词是否太短取决于innodb表的innodb-ft-min-u token-size设置，或者myisam表的ft-min-word-len设置。这些选项不适用于使用ngram解析器的全文索引。</p><p>
                    The wildcarded word is considered as a prefix that must be
                    present at the start of one or more words. If the minimum
                    word length is 4, a search for
                    <code class="literal">'+<em class="replaceable"><code>word</code></em> +the*'</code>
                    could return fewer rows than a search for
                    <code class="literal">'+<em class="replaceable"><code>word</code></em> +the'</code>,
                    because the second query ignores the too-short search term
                    <code class="literal">the</code>.
                </p><p style="color:blue;">通配符被认为是一个前缀，必须出现在一个或多个单词的开头。如果最小字长为4，则搜索“+word+the*”可能返回的行数少于搜索“+word+the”，因为第二个查询忽略了搜索词太短。</p></li><li class="listitem"><p>
                    <code class="literal">"</code>
                </p><p style="color:blue;">“。”</p><p>
                    A phrase that is enclosed within double quote
                    (<code class="literal">"</code>) characters matches only rows that
                    contain the phrase <span class="emphasis"><em>literally, as it was
            typed</em></span>. The full-text engine splits the phrase
                    into words and performs a search in the
                    <code class="literal">FULLTEXT</code> index for the words. Nonword
                    characters need not be matched exactly: Phrase searching
                    requires only that matches contain exactly the same words as
                    the phrase and in the same order. For example,
                    <code class="literal">"test phrase"</code> matches <code class="literal">"test,
                    phrase"</code>.
                </p><p style="color:blue;">在双引号（“）字符中括起来的短语只与按字面意思键入的短语所包含的行匹配。全文引擎将短语拆分为单词，并在全文索引中搜索单词。非单词字符不需要完全匹配：短语搜索只需要匹配包含与短语完全相同的单词，并且顺序相同。例如，“测试短语”与“测试短语”匹配。</p><p>
                    If the phrase contains no words that are in the index, the
                    result is empty. The words might not be in the index because
                    of a combination of factors: if they do not exist in the
                    text, are stopwords, or are shorter than the minimum length
                    of indexed words.
                </p><p style="color:blue;">如果短语不包含索引中的单词，则结果为空。这些词可能不在索引中，因为组合的因素是：如果它们不存在于文本中，则是词尾，或者比索引词的最小长度短。</p></li></ul>
            </div>
            <p>
                The following examples demonstrate some search strings that use
                boolean full-text operators:
            </p><p style="color:blue;">以下示例演示了一些使用布尔全文运算符的搜索字符串：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">'apple banana'</code>
                </p><p style="color:blue;">“苹果香蕉”</p><p>
                    Find rows that contain at least one of the two words.
                </p><p style="color:blue;">查找至少包含这两个单词之一的行。</p></li><li class="listitem"><p>
                    <code class="literal">'+apple +juice'</code>
                </p><p style="color:blue;">'+苹果+果汁'</p><p>
                    Find rows that contain both words.
                </p><p style="color:blue;">查找包含这两个词的行。</p></li><li class="listitem"><p>
                    <code class="literal">'+apple macintosh'</code>
                </p><p style="color:blue;">'+苹果Macintosh'</p><p>
                    Find rows that contain the word <span class="quote">“<span class="quote">apple</span>”</span>, but
                    rank rows higher if they also contain
                    <span class="quote">“<span class="quote">macintosh</span>”</span>.
                </p><p style="color:blue;">查找包含单词“apple”的行，但如果还包含“macintosh”，则将这些行排列得更高。</p></li><li class="listitem"><p>
                    <code class="literal">'+apple -macintosh'</code>
                </p><p style="color:blue;">'+苹果-麦金塔'</p><p>
                    Find rows that contain the word <span class="quote">“<span class="quote">apple</span>”</span> but not
                    <span class="quote">“<span class="quote">macintosh</span>”</span>.
                </p><p style="color:blue;">查找包含单词“apple”但不包含“macintosh”的行。</p></li><li class="listitem"><p>
                    <code class="literal">'+apple ~macintosh'</code>
                </p><p style="color:blue;">'+Apple~麦金塔'</p><p>
                    Find rows that contain the word <span class="quote">“<span class="quote">apple</span>”</span>, but if
                    the row also contains the word <span class="quote">“<span class="quote">macintosh</span>”</span>,
                    rate it lower than if row does not. This is
                    <span class="quote">“<span class="quote">softer</span>”</span> than a search for <code class="literal">'+apple
                    -macintosh'</code>, for which the presence of
                    <span class="quote">“<span class="quote">macintosh</span>”</span> causes the row not to be returned
                    at all.
                </p><p style="color:blue;">查找包含单词“apple”的行，但如果该行也包含单词“macintosh”，则将其评级低于不包含单词“macintosh”的行。这比搜索“+apple-macintosh”要“软”，因为“macintosh”的存在导致该行根本不返回。</p></li><li class="listitem"><p>
                    <code class="literal">'+apple +(&gt;turnover &lt;strudel)'</code>
                </p><p style="color:blue;">“+苹果+（&gt;营业额<strudel）”<p></strudel）”<p></p><p>
                    Find rows that contain the words <span class="quote">“<span class="quote">apple</span>”</span> and
                    <span class="quote">“<span class="quote">turnover</span>”</span>, or <span class="quote">“<span class="quote">apple</span>”</span> and
                    <span class="quote">“<span class="quote">strudel</span>”</span> (in any order), but rank <span class="quote">“<span class="quote">apple
            turnover</span>”</span> higher than <span class="quote">“<span class="quote">apple strudel</span>”</span>.
                </p><p style="color:blue;">查找包含单词“apple”和“overlosure”或“apple”和“strudel”的行（按任意顺序排列），但将“apple overlosure”的排名高于“apple strudel”。</p></li><li class="listitem"><p>
                    <code class="literal">'apple*'</code>
                </p><p style="color:blue;">“苹果*”</p><p>
                    Find rows that contain words such as <span class="quote">“<span class="quote">apple</span>”</span>,
                    <span class="quote">“<span class="quote">apples</span>”</span>, <span class="quote">“<span class="quote">applesauce</span>”</span>, or
                    <span class="quote">“<span class="quote">applet</span>”</span>.
                </p><p style="color:blue;">查找包含“apple”、“apples”、“applesauce”或“applet”等词的行。</p></li><li class="listitem"><p>
                    <code class="literal">'"some words"'</code>
                </p><p style="color:blue;">“一些词”</p><p>
                    Find rows that contain the exact phrase <span class="quote">“<span class="quote">some
            words</span>”</span> (for example, rows that contain <span class="quote">“<span class="quote">some
            words of wisdom</span>”</span> but not <span class="quote">“<span class="quote">some noise
            words</span>”</span>). Note that the <code class="literal">"</code>
                    characters that enclose the phrase are operator characters
                    that delimit the phrase. They are not the quotation marks
                    that enclose the search string itself.
                </p><p style="color:blue;">查找包含确切短语“some words”的行（例如，包含“some words of wish”但不包含“some noise words”的行）。请注意，包含短语的“字符是分隔短语的运算符字符。它们不是包围搜索字符串本身的引号。</p></li></ul>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-boolean-innodb-relevancy-ranking"></a>Relevancy Rankings for InnoDB Boolean Mode Search</h4>

                        </div>

                    </div>

                </div>
                <p>
                    <a class="link" href="innodb-storage-engine.html" title="Chapter&nbsp;14&nbsp;The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> full-text search is
                    modeled on the
                    <a class="ulink" href="http://sphinxsearch.com/" target="_top">Sphinx</a> full-text
                    search engine, and the algorithms used are based on
                    <a class="ulink" href="http://en.wikipedia.org/wiki/Okapi_BM25" target="_top">BM25</a>
                    and
                    <a class="ulink" href="http://en.wikipedia.org/wiki/TF-IDF" target="_top">TF-IDF</a>
                    ranking algorithms. For these reasons, relevancy rankings for
                    <code class="literal">InnoDB</code> boolean full-text search may differ
                    from <a class="link" href="storage-engines.html#myisam-storage-engine" title="15.2&nbsp;The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> relevancy rankings.
                </p><p style="color:blue;">InnoDB全文搜索以Sphinx全文搜索引擎为模型，所使用的算法基于BM25和TF-IDF排名算法。基于这些原因，innodb boolean全文搜索的关联度排名可能不同于myisam关联度排名。</p><p>
                <code class="literal">InnoDB</code> uses a variation of the <span class="quote">“<span class="quote">term
          frequency-inverse document frequency</span>”</span>
                (<code class="literal">TF-IDF</code>) weighting system to rank a
                document's relevance for a given full-text search query. The
                <code class="literal">TF-IDF</code> weighting is based on how frequently
                a word appears in a document, offset by how frequently the
                word appears in all documents in the collection. In other
                words, the more frequently a word appears in a document, and
                the less frequently the word appears in the document
                collection, the higher the document is ranked.
            </p><p style="color:blue;">InnoDB使用“术语频率逆文档频率”（TF-IDF）加权系统的变体来对文档与给定全文搜索查询的相关性进行排序。TF-IDF权重基于单词在文档中出现的频率，并由单词在集合中的所有文档中出现的频率抵消。换句话说，单词在文档中出现的频率越高，单词在文档集合中出现的频率越低，文档的排名就越高。</p>
                <h5><a name="idm140286850482048"></a>How Relevancy Ranking is Calculated</h5>
                <p>
                    The term frequency (<code class="literal">TF</code>) value is the number
                    of times that a word appears in a document. The inverse
                    document frequency (<code class="literal">IDF</code>) value of a word is
                    calculated using the following formula, where
                    <code class="literal">total_records</code> is the number of records in
                    the collection, and <code class="literal">matching_records</code> is the
                    number of records that the search term appears in.
                </p><p style="color:blue;">词频（tf）值是单词在文档中出现的次数。单词的文档反频率（idf）值使用以下公式计算，其中total_records是集合中的记录数，matching_records是搜索词出现在其中的记录数。</p><pre data-lang="simple" class="programlisting">${IDF} = log10( ${total_records} / ${matching_records} )  </pre><p>
                When a document contains a word multiple times, the IDF value
                is multiplied by the TF value:
            </p><p style="color:blue;">当文档多次包含一个单词时，idf值乘以tf值：</p><pre data-lang="simple" class="programlisting">${TF} * ${IDF}</pre><p>
                Using the <code class="literal">TF</code> and <code class="literal">IDF</code>
                values, the relevancy ranking for a document is calculated
                using this formula:
            </p><p style="color:blue;">使用tf和idf值，使用以下公式计算文档的相关性排名：</p><pre data-lang="simple" class="programlisting">${rank} = ${TF} * ${IDF} * ${IDF}</pre><p>
                The formula is demonstrated in the following examples.
            </p><p style="color:blue;">下面的例子演示了这个公式。</p>
                <h5><a name="idm140286850471872"></a>Relevancy Ranking for a Single Word Search</h5>
                <p>
                    This example demonstrates the relevancy ranking calculation
                    for a single-word search.
                </p><p style="color:blue;">这个例子演示了单词搜索的关联度排名计算。</p><pre data-lang="sql" class="programlisting">mysql&gt; CREATE TABLE articles (
id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
title VARCHAR(200),
body TEXT,
FULLTEXT (title,body)
) ENGINE=InnoDB;
Query OK, 0 rows affected (1.04 sec)

mysql&gt; INSERT INTO articles (title,body) VALUES
('MySQL Tutorial','This database tutorial ...'),
("How To Use MySQL",'After you went through a ...'),
('Optimizing Your Database','In this database tutorial ...'),
('MySQL vs. YourSQL','When comparing databases ...'),
('MySQL Security','When configured properly, MySQL ...'),
('Database, Database, Database','database database database'),
('1001 MySQL Tricks','1. Never run mysqld as root. 2. ...'),
('MySQL Full-Text Indexes', 'MySQL fulltext indexes use a ..');
Query OK, 8 rows affected (0.06 sec)
Records: 8  Duplicates: 0  Warnings: 0

mysql&gt; SELECT id, title, body, MATCH (title,body)  AGAINST ('database' IN BOOLEAN MODE)
AS score FROM articles ORDER BY score DESC;
+----+------------------------------+-------------------------------------+---------------------+
| id | title                        | body                                | score               |
+----+------------------------------+-------------------------------------+---------------------+
|  6 | Database, Database, Database | database database database          |  1.0886961221694946 |
|  3 | Optimizing Your Database     | In this database tutorial ...       | 0.36289870738983154 |
|  1 | MySQL Tutorial               | This database tutorial ...          | 0.18144935369491577 |
|  2 | How To Use MySQL             | After you went through a ...        |                   0 |
|  4 | MySQL vs. YourSQL            | When comparing databases ...        |                   0 |
|  5 | MySQL Security               | When configured properly, MySQL ... |                   0 |
|  7 | 1001 MySQL Tricks            | 1. Never run mysqld as root. 2. ... |                   0 |
|  8 | MySQL Full-Text Indexes      | MySQL fulltext indexes use a ..     |                   0 |
+----+------------------------------+-------------------------------------+---------------------+
8 rows in set (0.00 sec)</pre><p>
                There are 8 records in total, with 3 that match the
                <span class="quote">“<span class="quote">database</span>”</span> search term. The first record
                (<code class="literal">id 6</code>) contains the search term 6 times and
                has a relevancy ranking of
                <code class="literal">1.0886961221694946</code>. This ranking value is
                calculated using a <code class="literal">TF</code> value of 6 (the
                <span class="quote">“<span class="quote">database</span>”</span> search term appears 6 times in record
                <code class="literal">id 6</code>) and an <code class="literal">IDF</code> value
                of 0.42596873216370745, which is calculated as follows (where
                8 is the total number of records and 3 is the number of
                records that the search term appears in):
            </p><p style="color:blue;">总共有8条记录，其中3条与“数据库”搜索词匹配。第一条记录（id 6）包含搜索项6次，关联度排名为1.0886961221694946。使用tf值6（“数据库”搜索词在记录id 6中出现6次）和idf值0.42596873216370745计算该排名值，计算方法如下（其中8是记录总数，3是搜索词出现的记录数）：</p><pre data-lang="simple" class="programlisting">${IDF} = log10( 8 / 3 ) = 0.42596873216370745</pre><p>
                The <code class="literal">TF</code> and <code class="literal">IDF</code> values
                are then entered into the ranking formula:
            </p><p style="color:blue;">然后将tf和idf值输入到排名公式中：</p><pre data-lang="simple" class="programlisting">${rank} = ${TF} * ${IDF} * ${IDF}</pre><p>
                Performing the calculation in the MySQL command-line client
                returns a ranking value of 1.088696164686938.
            </p><p style="color:blue;">在mysql命令行客户机中执行计算将返回排名值1.088696164686938。</p><pre data-lang="sql" class="programlisting">mysql&gt; SELECT 6*log10(8/3)*log10(8/3);
+-------------------------+
| 6*log10(8/3)*log10(8/3) |
+-------------------------+
|       1.088696164686938 |
+-------------------------+
1 row in set (0.00 sec)</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        You may notice a slight difference in the ranking values
                        returned by the <code class="literal">SELECT ... MATCH ...
                        AGAINST</code> statement and the MySQL command-line
                        client (<code class="literal">1.0886961221694946</code> versus
                        <code class="literal">1.088696164686938</code>). The difference is due
                        to how the casts between integers and floats/doubles are
                        performed internally by <code class="literal">InnoDB</code> (along
                        with related precision and rounding decisions), and how they
                        are performed elsewhere, such as in the MySQL command-line
                        client or other types of calculators.
                    </p><p style="color:blue;">您可能会注意到select返回的排名值略有不同…匹配…对语句和mysql命令行客户机（1.0886961221694946对1.088696164686938）。区别在于innodb如何在内部执行整数和浮点数/双精度数之间的转换（以及相关的精度和舍入决策），以及它们如何在其他地方执行，例如在mysql命令行客户机或其他类型的计算器中。</p>
                </div>
                <h5><a name="idm140286850448304"></a>Relevancy Ranking for a Multiple Word Search</h5>
                <p>
                    This example demonstrates the relevancy ranking calculation
                    for a multiple-word full-text search based on the
                    <code class="literal">articles</code> table and data used in the
                    previous example.
                </p><p style="color:blue;">此示例演示基于上一示例中使用的项目表和数据的多单词全文搜索的关联性排名计算。</p><p>
                If you search on more than one word, the relevancy ranking
                value is a sum of the relevancy ranking value for each word,
                as shown in this formula:
            </p><p style="color:blue;">如果搜索多个单词，则关联度排名值是每个单词的关联度排名值之和，如以下公式所示：</p><pre data-lang="simple" class="programlisting">${rank} = ${TF} * ${IDF} * ${IDF} + ${TF} * ${IDF} * ${IDF}</pre><p>
                Performing a search on two terms ('mysql tutorial') returns
                the following results:
            </p><p style="color:blue;">对两个术语执行搜索（“mysql tutorial”）将返回以下结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; SELECT id, title, body, MATCH (title,body)  AGAINST ('mysql tutorial' IN BOOLEAN MODE)
    AS score FROM articles ORDER BY score DESC;
+----+------------------------------+-------------------------------------+----------------------+
| id | title                        | body                                | score                |
+----+------------------------------+-------------------------------------+----------------------+
|  1 | MySQL Tutorial               | This database tutorial ...          |   0.7405621409416199 |
|  3 | Optimizing Your Database     | In this database tutorial ...       |   0.3624762296676636 |
|  5 | MySQL Security               | When configured properly, MySQL ... | 0.031219376251101494 |
|  8 | MySQL Full-Text Indexes      | MySQL fulltext indexes use a ..     | 0.031219376251101494 |
|  2 | How To Use MySQL             | After you went through a ...        | 0.015609688125550747 |
|  4 | MySQL vs. YourSQL            | When comparing databases ...        | 0.015609688125550747 |
|  7 | 1001 MySQL Tricks            | 1. Never run mysqld as root. 2. ... | 0.015609688125550747 |
|  6 | Database, Database, Database | database database database          |                    0 |
+----+------------------------------+-------------------------------------+----------------------+
8 rows in set (0.00 sec)</pre><p>
                In the first record (<code class="literal">id 8</code>), 'mysql' appears
                once and 'tutorial' appears twice. There are six matching
                records for 'mysql' and two matching records for 'tutorial'.
                The MySQL command-line client returns the expected ranking
                value when inserting these values into the ranking formula for
                a multiple word search:
            </p><p style="color:blue;">在第一条记录（id 8）中，“mysql”出现一次，“tutorial”出现两次。“mysql”有六条匹配记录，“tutorial”有两条匹配记录。当将这些值插入多词搜索的排名公式时，mysql命令行客户端返回预期的排名值：</p><pre data-lang="sql" class="programlisting">mysql&gt; SELECT (1*log10(8/6)*log10(8/6)) + (2*log10(8/2)*log10(8/2));
+-------------------------------------------------------+
| (1*log10(8/6)*log10(8/6)) + (2*log10(8/2)*log10(8/2)) |
+-------------------------------------------------------+
|                                    0.7405621541938003 |
+-------------------------------------------------------+
1 row in set (0.00 sec)</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The slight difference in the ranking values returned by the
                        <code class="literal">SELECT ... MATCH ... AGAINST</code> statement
                        and the MySQL command-line client is explained in the
                        preceding example.
                    </p><p style="color:blue;">选择返回的排名值略有不同…匹配…在前面的例子中，我们将解释account语句和mysql命令行客户机。</p>
                </div>

            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-query-expansion"></a>12.9.3&nbsp;Full-Text Searches with Query Expansion</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286850434224"></a><a class="indexterm" name="idm140286850433152"></a><p>
            Full-text search supports query expansion (and in particular,
            its variant <span class="quote">“<span class="quote">blind query expansion</span>”</span>). This is
            generally useful when a search phrase is too short, which often
            means that the user is relying on implied knowledge that the
            full-text search engine lacks. For example, a user searching for
            <span class="quote">“<span class="quote">database</span>”</span> may really mean that
            <span class="quote">“<span class="quote">MySQL</span>”</span>, <span class="quote">“<span class="quote">Oracle</span>”</span>, <span class="quote">“<span class="quote">DB2</span>”</span>,
            and <span class="quote">“<span class="quote">RDBMS</span>”</span> all are phrases that should match
            <span class="quote">“<span class="quote">databases</span>”</span> and should be returned, too. This is
            implied knowledge.
        </p><p style="color:blue;">全文搜索支持查询扩展（特别是它的变体“盲查询扩展”）。当搜索短语太短时，这通常很有用，这通常意味着用户依赖的是全文搜索引擎所缺乏的隐含知识。例如，用户搜索“database”可能真的意味着“mysql”、“oracle”、“db2”和“rdbms”都是应该与“databases”匹配并应该返回的短语。这是隐含的知识。</p><p>
            Blind query expansion (also known as automatic relevance
            feedback) is enabled by adding <code class="literal">WITH QUERY
            EXPANSION</code> or <code class="literal">IN NATURAL LANGUAGE MODE WITH
            QUERY EXPANSION</code> following the search phrase. It works
            by performing the search twice, where the search phrase for the
            second search is the original search phrase concatenated with
            the few most highly relevant documents from the first search.
            Thus, if one of these documents contains the word
            <span class="quote">“<span class="quote">databases</span>”</span> and the word <span class="quote">“<span class="quote">MySQL</span>”</span>, the
            second search finds the documents that contain the word
            <span class="quote">“<span class="quote">MySQL</span>”</span> even if they do not contain the word
            <span class="quote">“<span class="quote">database</span>”</span>. The following example shows this
            difference:
        </p><p style="color:blue;">盲查询扩展（也称为自动相关反馈）是通过添加查询扩展或在自然语言模式下在搜索短语后添加查询扩展来启用的。它的工作原理是执行两次搜索，其中第二次搜索的搜索短语是原始搜索短语，与第一次搜索中极为相关的少数文档连接在一起。因此，如果其中一个文档包含单词“databases”和单词“mysql”，则第二次搜索将查找包含单词“mysql”的文档，即使它们不包含单词“database”。以下示例显示了这种差异：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM articles</code></strong>
    <strong class="userinput"><code>WHERE MATCH (title,body)</code></strong>
    <strong class="userinput"><code>AGAINST ('database' IN NATURAL LANGUAGE MODE);</code></strong>
+----+-------------------+------------------------------------------+
| id | title             | body                                     |
+----+-------------------+------------------------------------------+
|  1 | MySQL Tutorial    | DBMS stands for DataBase ...             |
|  5 | MySQL vs. YourSQL | In the following database comparison ... |
+----+-------------------+------------------------------------------+
2 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM articles</code></strong>
    <strong class="userinput"><code>WHERE MATCH (title,body)</code></strong>
    <strong class="userinput"><code>AGAINST ('database' WITH QUERY EXPANSION);</code></strong>
+----+-----------------------+------------------------------------------+
| id | title                 | body                                     |
+----+-----------------------+------------------------------------------+
|  5 | MySQL vs. YourSQL     | In the following database comparison ... |
|  1 | MySQL Tutorial        | DBMS stands for DataBase ...             |
|  3 | Optimizing MySQL      | In this tutorial we will show ...        |
|  6 | MySQL Security        | When configured properly, MySQL ...      |
|  2 | How To Use MySQL Well | After you went through a ...             |
|  4 | 1001 MySQL Tricks     | 1. Never run mysqld as root. 2. ...      |
+----+-----------------------+------------------------------------------+
6 rows in set (0.00 sec)
</pre><p>
            Another example could be searching for books by Georges Simenon
            about Maigret, when a user is not sure how to spell
            <span class="quote">“<span class="quote">Maigret</span>”</span>. A search for <span class="quote">“<span class="quote">Megre and the
        reluctant witnesses</span>”</span> finds only <span class="quote">“<span class="quote">Maigret and the
        Reluctant Witnesses</span>”</span> without query expansion. A search
            with query expansion finds all books with the word
            <span class="quote">“<span class="quote">Maigret</span>”</span> on the second pass.
        </p><p style="color:blue;">另一个例子是，当用户不确定如何拼写“maigret”时，可以搜索georges simenon关于maigret的书籍。搜索“Megre和不情愿的证人”只找到“Maigret和不情愿的证人”，没有查询扩展。使用查询扩展的搜索将查找所有在第二个过程中使用“maigret”一词的书籍。</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    Because blind query expansion tends to increase noise
                    significantly by returning nonrelevant documents, use it only
                    when a search phrase is short.
                </p><p style="color:blue;">由于盲查询扩展倾向于通过返回非相关文档来显著增加噪声，因此只能在搜索短语较短时使用它。</p>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-stopwords"></a>12.9.4&nbsp;Full-Text Stopwords</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286850412416"></a><p>
            The stopword list is loaded and searched for full-text queries
            using the server character set and collation (the values of the
            <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a> and
            <a class="link" href="server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a> system
            variables). False hits or misses might occur for stopword
            lookups if the stopword file or columns used for full-text
            indexing or searches have a character set or collation different
            from <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a> or
            <a class="link" href="server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a>.
        </p><p style="color:blue;">将使用服务器字符集和排序规则（字符集服务器和排序规则服务器系统变量的值）加载stopword列表并搜索全文查询。如果用于全文索引或搜索的StudiWord文件或列具有与TyrimoStIsServer或CalpTyServer不同的字符集或排序，则StWORD查找可能会出现错误命中或错误。</p><p>
            Case sensitivity of stopword lookups depends on the server
            collation. For example, lookups are case insensitive if the
            collation is <code class="literal">latin1_swedish_ci</code>, whereas
            lookups are case-sensitive if the collation is
            <code class="literal">latin1_general_cs</code> or
            <code class="literal">latin1_bin</code>.
        </p><p style="color:blue;">stopword查找的区分大小写取决于服务器排序规则。例如，如果排序规则是Latin1_-Swedish_-Ci，则查找不区分大小写，而如果排序规则是Latin1_-General_-Cs或Latin1_-Bin，则查找区分大小写。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="functions.html#fulltext-stopwords-stopwords-for-innodb-search-indexes" title="Stopwords for InnoDB Search Indexes">Stopwords for InnoDB Search Indexes</a></p><p style="color:blue;">InnoDB搜索索引的停止词</p></li><li class="listitem"><p><a class="xref" href="functions.html#fulltext-stopwords-stopwords-for-myisam-search-indexes" title="Stopwords for MyISAM Search Indexes">Stopwords for MyISAM Search Indexes</a></p><p style="color:blue;">myisam搜索索引的停止字</p></li></ul>
            </div>

            <div class="simplesect">

                <div class="titlepage">
                    <div>

                        <div class="simple">
                            <h4 class="title"><a name="fulltext-stopwords-stopwords-for-innodb-search-indexes"></a>Stopwords for InnoDB Search Indexes</h4>

                        </div>

                    </div>

                </div>
                <p>
                    <code class="literal">InnoDB</code> has a relatively short list of
                    default stopwords, because documents from technical, literary,
                    and other sources often use short words as keywords or in
                    significant phrases. For example, you might search for
                    <span class="quote">“<span class="quote">to be or not to be</span>”</span> and expect to get a sensible
                    result, rather than having all those words ignored.
                </p><p style="color:blue;">innodb有一个相对较短的默认停止词列表，因为来自技术、文学和其他来源的文档通常使用短词作为关键字或重要短语。例如，您可能会搜索“是否存在”，并期望得到一个合理的结果，而不是忽略所有这些词。</p><p>
                To see the default <code class="literal">InnoDB</code> stopword list,
                query the
                <a class="link" href="information-schema.html#innodb-ft-default-stopword-table" title="24.32.9&nbsp;The INFORMATION_SCHEMA INNODB_FT_DEFAULT_STOPWORD Table"><code class="literal">INFORMATION_SCHEMA.INNODB_FT_DEFAULT_STOPWORD</code></a>
                table.
            </p><p style="color:blue;">要查看默认的innodb stopword列表，请查询information_schema.innodb_ft_default_stopword表。</p><pre data-lang="sql" class="programlisting">mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_DEFAULT_STOPWORD;
+-------+
| value |
+-------+
| a     |
| about |
| an    |
| are   |
| as    |
| at    |
| be    |
| by    |
| com   |
| de    |
| en    |
| for   |
| from  |
| how   |
| i     |
| in    |
| is    |
| it    |
| la    |
| of    |
| on    |
| or    |
| that  |
| the   |
| this  |
| to    |
| was   |
| what  |
| when  |
| where |
| who   |
| will  |
| with  |
| und   |
| the   |
| www   |
+-------+
36 rows in set (0.00 sec)</pre><p>
                To define your own stopword list for all
                <code class="literal">InnoDB</code> tables, define a table with the same
                structure as the
                <a class="link" href="information-schema.html#innodb-ft-default-stopword-table" title="24.32.9&nbsp;The INFORMATION_SCHEMA INNODB_FT_DEFAULT_STOPWORD Table"><code class="literal">INNODB_FT_DEFAULT_STOPWORD</code></a> table,
                populate it with stopwords, and set the value of the
                <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_server_stopword_table"><code class="literal">innodb_ft_server_stopword_table</code></a>
                option to a value in the form
                <code class="literal"><em class="replaceable"><code>db_name</code></em>/<em class="replaceable"><code>table_name</code></em></code>
                before creating the full-text index. The stopword table must
                have a single <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> column
                named <code class="literal">value</code>. The following example
                demonstrates creating and configuring a new global stopword
                table for <code class="literal">InnoDB</code>.
            </p><p style="color:blue;">要为所有innodb表定义自己的stopword列表，请定义一个结构与innodb_ft_default_stopword表相同的表，用stopwords填充它，并在创建全文索引之前将innodb_ft_server_stopword_table选项的值设置为db_name/table_name格式的值。stopword表必须有一个名为value的varchar列。下面的示例演示如何为innodb创建和配置新的全局stopword表。</p><pre data-lang="sql" class="programlisting">-- Create a new stopword table

mysql&gt; CREATE TABLE my_stopwords(value VARCHAR(30)) ENGINE = INNODB;
Query OK, 0 rows affected (0.01 sec)

-- Insert stopwords (for simplicity, a single stopword is used in this example)

mysql&gt; INSERT INTO my_stopwords(value) VALUES ('Ishmael');
Query OK, 1 row affected (0.00 sec)

-- Create the table

mysql&gt; CREATE TABLE opening_lines (
id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
opening_line TEXT(500),
author VARCHAR(200),
title VARCHAR(200)
) ENGINE=InnoDB;
Query OK, 0 rows affected (0.01 sec)

-- Insert data into the table

mysql&gt; INSERT INTO opening_lines(opening_line,author,title) VALUES
('Call me Ishmael.','Herman Melville','Moby-Dick'),
('A screaming comes across the sky.','Thomas Pynchon','Gravity\'s Rainbow'),
('I am an invisible man.','Ralph Ellison','Invisible Man'),
('Where now? Who now? When now?','Samuel Beckett','The Unnamable'),
('It was love at first sight.','Joseph Heller','Catch-22'),
('All this happened, more or less.','Kurt Vonnegut','Slaughterhouse-Five'),
('Mrs. Dalloway said she would buy the flowers herself.','Virginia Woolf','Mrs. Dalloway'),
('It was a pleasure to burn.','Ray Bradbury','Fahrenheit 451');
Query OK, 8 rows affected (0.00 sec)
Records: 8  Duplicates: 0  Warnings: 0

-- Set the innodb_ft_server_stopword_table option to the new stopword table

mysql&gt; SET GLOBAL innodb_ft_server_stopword_table = 'test/my_stopwords';
Query OK, 0 rows affected (0.00 sec)

-- Create the full-text index (which rebuilds the table if no FTS_DOC_ID column is defined)

mysql&gt; CREATE FULLTEXT INDEX idx ON opening_lines(opening_line);
Query OK, 0 rows affected, 1 warning (1.17 sec)
Records: 0  Duplicates: 0  Warnings: 1</pre><p>
                Verify that the specified stopword ('Ishmael') does not appear
                by querying the words in
                <a class="link" href="information-schema.html#innodb-ft-index-table-table" title="24.32.12&nbsp;The INFORMATION_SCHEMA INNODB_FT_INDEX_TABLE Table"><code class="literal">INFORMATION_SCHEMA.INNODB_FT_INDEX_TABLE</code></a>.
            </p><p style="color:blue;">通过查询information schema.innodb_ft_index_表中的单词，验证指定的stopword（'ishmael'）是否未出现。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        By default, words less than 3 characters in length or
                        greater than 84 characters in length do not appear in an
                        <code class="literal">InnoDB</code> full-text search index. Maximum
                        and minimum word length values are configurable using the
                        <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_max_token_size"><code class="literal">innodb_ft_max_token_size</code></a>
                        and
                        <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>
                        variables. This default behavior does not apply to the ngram
                        parser plugin. ngram token size is defined by the
                        <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> option.
                    </p><p style="color:blue;">默认情况下，innodb全文搜索索引中不会出现长度小于3个字符或大于84个字符的单词。最大和最小字长值可使用YNObjiftMax Myth-TokKySnand和NynBuff-ftmi-Tim-TokEngSimple变量来配置。此默认行为不适用于ngram解析器插件。ngram令牌大小由ngram令牌大小选项定义。</p>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; SET GLOBAL innodb_ft_aux_table='test/opening_lines';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; SELECT word FROM INFORMATION_SCHEMA.INNODB_FT_INDEX_TABLE LIMIT 15;
+-----------+
| word      |
+-----------+
| across    |
| all       |
| burn      |
| buy       |
| call      |
| comes     |
| dalloway  |
| first     |
| flowers   |
| happened  |
| herself   |
| invisible |
| less      |
| love      |
| man       |
+-----------+
15 rows in set (0.00 sec)</pre><p>
                To create stopword lists on a table-by-table basis, create
                other stopword tables and use the
                <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_user_stopword_table"><code class="literal">innodb_ft_user_stopword_table</code></a>
                option to specify the stopword table that you want to use
                before you create the full-text index.
            </p><p style="color:blue;">要逐个表创建stopword列表，请创建其他stopword表，并使用innodb_ft_user_stopword_table选项指定要在创建全文索引之前使用的stopword表。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-stopwords-stopwords-for-myisam-search-indexes"></a>Stopwords for MyISAM Search Indexes</h4>

                        </div>

                    </div>

                </div>
                <p>
                    The stopword file is loaded and searched using
                    <code class="literal">latin1</code> if
                    <code class="literal">character_set_server</code> is
                    <code class="literal">ucs2</code>, <code class="literal">utf16</code>,
                    <code class="literal">utf16le</code>, or <code class="literal">utf32</code>.
                </p><p style="color:blue;">如果字符集服务器是ucs2、utf16、utf16le或utf32，则使用latin1加载和搜索stopword文件。</p><p>
                <a class="indexterm" name="idm140286850362224"></a>

                <a class="indexterm" name="idm140286850360736"></a>

                To override the default stopword list for MyISAM tables, set
                the <a class="link" href="server-administration.html#sysvar_ft_stopword_file"><code class="literal">ft_stopword_file</code></a> system
                variable. (See <a class="xref" href="server-administration.html#server-system-variables" title="5.1.7&nbsp;Server System Variables">Section&nbsp;5.1.7, “Server System Variables”</a>.) The
                variable value should be the path name of the file containing
                the stopword list, or the empty string to disable stopword
                filtering. The server looks for the file in the data directory
                unless an absolute path name is given to specify a different
                directory. After changing the value of this variable or the
                contents of the stopword file, restart the server and rebuild
                your <code class="literal">FULLTEXT</code> indexes.
            </p><p style="color:blue;">要覆盖myisam表的默认stopword列表，请设置ft_stopword_文件系统变量。（请参阅第5.1.7节，“服务器系统变量”。）变量值应为包含停止字列表的文件的路径名，或为空字符串以禁用停止字筛选。服务器在数据目录中查找文件，除非指定了绝对路径名以指定其他目录。更改此变量的值或stopword文件的内容后，重新启动服务器并重新生成全文索引。</p><p>
                The stopword list is free-form, separating stopwords with any
                nonalphanumeric character such as newline, space, or comma.
                Exceptions are the underscore character (<code class="literal">_</code>)
                and a single apostrophe (<code class="literal">'</code>) which are
                treated as part of a word. The character set of the stopword
                list is the server's default character set; see
                <a class="xref" href="charset.html#charset-server" title="10.3.2&nbsp;Server Character Set and Collation">Section&nbsp;10.3.2, “Server Character Set and Collation”</a>.
            </p><p style="color:blue;">停止字列表是自由格式的，用任何非字母数字字符（如换行符、空格或逗号）分隔停止字。例外情况是下划线字符和单撇号（'）被视为单词的一部分。stopword列表的字符集是服务器的默认字符集；请参阅第10.3.2节“服务器字符集和排序规则”。</p><p>
                The following list shows the default stopwords for
                <code class="literal">MyISAM</code> search indexes. In a MySQL source
                distribution, you can find this list in the
                <code class="filename">storage/myisam/ft_static.c</code> file.
            </p><p style="color:blue;">下表显示myisam搜索索引的默认停止字。在mysql源代码发行版中，可以在storage/myisam/ft_static.c文件中找到此列表。</p><pre data-lang="simple" class="programlisting">a's           able          about         above         according
accordingly   across        actually      after         afterwards
again         against       ain't         all           allow
allows        almost        alone         along         already
also          although      always        am            among
amongst       an            and           another       any
anybody       anyhow        anyone        anything      anyway
anyways       anywhere      apart         appear        appreciate
appropriate   are           aren't        around        as
aside         ask           asking        associated    at
available     away          awfully       be            became
because       become        becomes       becoming      been
before        beforehand    behind        being         believe
below         beside        besides       best          better
between       beyond        both          brief         but
by            c'mon         c's           came          can
can't         cannot        cant          cause         causes
certain       certainly     changes       clearly       co
com           come          comes         concerning    consequently
consider      considering   contain       containing    contains
corresponding could         couldn't      course        currently
definitely    described     despite       did           didn't
different     do            does          doesn't       doing
don't         done          down          downwards     during
each          edu           eg            eight         either
else          elsewhere     enough        entirely      especially
et            etc           even          ever          every
everybody     everyone      everything    everywhere    ex
exactly       example       except        far           few
fifth         first         five          followed      following
follows       for           former        formerly      forth
four          from          further       furthermore   get
gets          getting       given         gives         go
goes          going         gone          got           gotten
greetings     had           hadn't        happens       hardly
has           hasn't        have          haven't       having
he            he's          hello         help          hence
her           here          here's        hereafter     hereby
herein        hereupon      hers          herself       hi
him           himself       his           hither        hopefully
how           howbeit       however       i'd           i'll
i'm           i've          ie            if            ignored
immediate     in            inasmuch      inc           indeed
indicate      indicated     indicates     inner         insofar
instead       into          inward        is            isn't
it            it'd          it'll         it's          its
itself        just          keep          keeps         kept
know          known         knows         last          lately
later         latter        latterly      least         less
lest          let           let's         like          liked
likely        little        look          looking       looks
ltd           mainly        many          may           maybe
me            mean          meanwhile     merely        might
more          moreover      most          mostly        much
must          my            myself        name          namely
nd            near          nearly        necessary     need
needs         neither       never         nevertheless  new
next          nine          no            nobody        non
none          noone         nor           normally      not
nothing       novel         now           nowhere       obviously
of            off           often         oh            ok
okay          old           on            once          one
ones          only          onto          or            other
others        otherwise     ought         our           ours
ourselves     out           outside       over          overall
own           particular    particularly  per           perhaps
placed        please        plus          possible      presumably
probably      provides      que           quite         qv
rather        rd            re            really        reasonably
regarding     regardless    regards       relatively    respectively
right         said          same          saw           say
saying        says          second        secondly      see
seeing        seem          seemed        seeming       seems
seen          self          selves        sensible      sent
serious       seriously     seven         several       shall
she           should        shouldn't     since         six
so            some          somebody      somehow       someone
something     sometime      sometimes     somewhat      somewhere
soon          sorry         specified     specify       specifying
still         sub           such          sup           sure
t's           take          taken         tell          tends
th            than          thank         thanks        thanx
that          that's        thats         the           their
theirs        them          themselves    then          thence
there         there's       thereafter    thereby       therefore
therein       theres        thereupon     these         they
they'd        they'll       they're       they've       think
third         this          thorough      thoroughly    those
though        three         through       throughout    thru
thus          to            together      too           took
toward        towards       tried         tries         truly
try           trying        twice         two           un
under         unfortunately unless        unlikely      until
unto          up            upon          us            use
used          useful        uses          using         usually
value         various       very          via           viz
vs            want          wants         was           wasn't
way           we            we'd          we'll         we're
we've         welcome       well          went          were
weren't       what          what's        whatever      when
whence        whenever      where         where's       whereafter
whereas       whereby       wherein       whereupon     wherever
whether       which         while         whither       who
who's         whoever       whole         whom          whose
why           will          willing       wish          with
within        without       won't         wonder        would
wouldn't      yes           yet           you           you'd
you'll        you're        you've        your          yours
yourself      yourselves    zero
</pre>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-restrictions"></a>12.9.5&nbsp;Full-Text Restrictions</h3>

                    </div>

                </div>

            </div>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Full-text searches are supported for
                    <a class="link" href="innodb-storage-engine.html" title="Chapter&nbsp;14&nbsp;The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> and
                    <a class="link" href="storage-engines.html#myisam-storage-engine" title="15.2&nbsp;The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> tables only.
                </p><p style="color:blue;">全文搜索仅支持innodb和myisam表。</p></li><li class="listitem"><p>
                    Full-text searches are not supported for partitioned tables.
                    See <a class="xref" href="partitioning.html#partitioning-limitations" title="22.6&nbsp;Restrictions and Limitations on Partitioning">Section&nbsp;22.6, “Restrictions and Limitations on Partitioning”</a>.
                </p><p style="color:blue;">分区表不支持全文搜索。见第22.6节“分区限制和限制”。</p></li><li class="listitem"><p>
                    Full-text searches can be used with most multibyte character
                    sets. The exception is that for Unicode, the
                    <code class="literal">utf8</code> character set can be used, but not
                    the <code class="literal">ucs2</code> character set. Although
                    <code class="literal">FULLTEXT</code> indexes on
                    <code class="literal">ucs2</code> columns cannot be used, you can
                    perform <code class="literal">IN BOOLEAN MODE</code> searches on a
                    <code class="literal">ucs2</code> column that has no such index.
                </p><p style="color:blue;">全文搜索可用于大多数多字节字符集。例外情况是，对于unicode，可以使用utf8字符集，但不能使用ucs2字符集。尽管不能对UCS2列使用全文索引，但可以在布尔模式下对没有此类索引的UCS2列执行搜索。</p><p>
                    The remarks for <code class="literal">utf8</code> also apply to
                    <code class="literal">utf8mb4</code>, and the remarks for
                    <code class="literal">ucs2</code> also apply to
                    <code class="literal">utf16</code>, <code class="literal">utf16le</code>, and
                    <code class="literal">utf32</code>.
                </p><p style="color:blue;">utf8的备注也适用于utf8mb4，而ucs2的备注也适用于utf16、utf16le和utf32。</p></li><li class="listitem"><p>
                    Ideographic languages such as Chinese and Japanese do not
                    have word delimiters. Therefore, the built-in full-text
                    parser <span class="emphasis"><em>cannot determine where words begin and end
            in these and other such languages</em></span>.
                </p><p style="color:blue;">表意文字，如汉语和日语，没有分词符。因此，内置的全文解析器无法确定这些语言和其他此类语言中单词的开头和结尾。</p><p>
                    In MySQL 5.7.6, a character-based ngram full-text parser
                    that supports Chinese, Japanese, and Korean (CJK), and a
                    word-based MeCab parser plugin that supports Japanese are
                    provided for use with <code class="literal">InnoDB</code> and
                    <code class="literal">MySIAM</code> tables.
                </p><p style="color:blue;">在mysql 5.7.6中，为innodb和mysiam表提供了一个支持中文、日文和韩文（cjk）的基于字符的ngram全文解析器和一个支持日文的基于单词的mecab解析器插件。</p></li><li class="listitem"><p>
                    Although the use of multiple character sets within a single
                    table is supported, all columns in a
                    <code class="literal">FULLTEXT</code> index must use the same
                    character set and collation.
                </p><p style="color:blue;">虽然支持在单个表中使用多个字符集，但全文索引中的所有列必须使用相同的字符集和排序规则。</p></li><li class="listitem"><p>
                    The <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> column list must
                    match exactly the column list in some
                    <code class="literal">FULLTEXT</code> index definition for the table,
                    unless this <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a> is
                    <code class="literal">IN BOOLEAN MODE</code> on a
                    <code class="literal">MyISAM</code> table. For
                    <code class="literal">MyISAM</code> tables, boolean-mode searches can
                    be done on nonindexed columns, although they are likely to
                    be slow.
                </p><p style="color:blue;">match（）列列表必须与表的某些全文索引定义中的列列表完全匹配，除非此match（）在myisam表上处于布尔模式。对于myisam表，布尔模式搜索可以在非索引列上完成，尽管它们可能很慢。</p></li><li class="listitem"><p>
                    The argument to <code class="literal">AGAINST()</code> must be a
                    string value that is constant during query evaluation. This
                    rules out, for example, a table column because that can
                    differ for each row.
                </p><p style="color:blue;">account（）的参数必须是一个字符串值，该值在查询计算期间是常量。例如，这就排除了表列，因为每一行的表列可能不同。</p></li><li class="listitem"><p>
                    Index hints are more limited for <code class="literal">FULLTEXT</code>
                    searches than for non-<code class="literal">FULLTEXT</code> searches.
                    See <a class="xref" href="optimization.html#index-hints" title="8.9.4&nbsp;Index Hints">Section&nbsp;8.9.4, “Index Hints”</a>.
                </p><p style="color:blue;">与非全文搜索相比，全文搜索的索引提示更为有限。见第8.9.4节“索引提示”。</p></li><li class="listitem"><p>
                    For <code class="literal">InnoDB</code>, all DML operations
                    (<a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a>,
                    <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a>,
                    <a class="link" href="sql-syntax.html#delete" title="13.2.2&nbsp;DELETE Syntax"><code class="literal">DELETE</code></a>) involving columns
                    with full-text indexes are processed at transaction commit
                    time. For example, for an <code class="literal">INSERT</code>
                    operation, an inserted string is tokenized and decomposed
                    into individual words. The individual words are then added
                    to full-text index tables when the transaction is committed.
                    As a result, full-text searches only return committed data.
                </p><p style="color:blue;">对于innodb，所有涉及具有全文索引的列的dml操作（insert、update、delete）都在事务提交时处理。例如，对于插入操作，插入的字符串被标记化并分解为单个单词。在提交事务时，各个单词将被添加到全文索引表中。因此，全文搜索只返回提交的数据。</p></li><li class="listitem"><p>
                    The '%' character is not a supported wildcard character for
                    full-text searches.
                </p><p style="color:blue;">“%”字符不是全文搜索所支持的通配符。</p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-fine-tuning"></a>12.9.6&nbsp;Fine-Tuning MySQL Full-Text Search</h3>

                    </div>

                </div>

            </div>
            <p>
                MySQL's full-text search capability has few user-tunable
                parameters. You can exert more control over full-text searching
                behavior if you have a MySQL source distribution because some
                changes require source code modifications. See
                <a class="xref" href="installing.html#source-installation" title="2.9&nbsp;Installing MySQL from Source">Section&nbsp;2.9, “Installing MySQL from Source”</a>.
            </p><p style="color:blue;">mysql的全文搜索功能几乎没有用户可调的参数。如果使用mysql源代码分发版，则可以对全文搜索行为施加更多控制，因为某些更改需要修改源代码。参见第2.9节“从源代码安装mysql”。</p><p>
            Full-text search is carefully tuned for effectiveness. Modifying
            the default behavior in most cases can actually decrease
            effectiveness. <span class="emphasis"><em>Do not alter the MySQL sources unless
        you know what you are doing</em></span>.
        </p><p style="color:blue;">全文搜索是仔细调整的有效性。在大多数情况下修改默认行为实际上会降低效率。除非您知道自己在做什么，否则不要更改mysql源代码。</p><p>
            Most full-text variables described in this section must be set
            at server startup time. A server restart is required to change
            them; they cannot be modified while the server is running.
        </p><p style="color:blue;">本节中描述的大多数全文变量必须在服务器启动时设置。需要重新启动服务器才能更改它们；在服务器运行时无法修改它们。</p><p>
            Some variable changes require that you rebuild the
            <code class="literal">FULLTEXT</code> indexes in your tables. Instructions
            for doing so are given later in this section.
        </p><p style="color:blue;">某些变量更改要求重新生成表中的全文索引。本节后面将给出相关说明。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="functions.html#fulltext-word-length" title="Configuring Minimum and Maximum Word Length">Configuring Minimum and Maximum Word Length</a></p><p style="color:blue;">配置最小值和Maximum Word Length</p></li><li class="listitem"><p><a class="xref" href="functions.html#fulltext-natural-language-threshold" title="Configuring the Natural Language Search Threshold">Configuring the Natural Language Search Threshold</a></p><p style="color:blue;">配置自然语言搜索阈值</p></li><li class="listitem"><p><a class="xref" href="functions.html#fulltext-modify-boolean-operators" title="Modifying Boolean Full-Text Search Operators">Modifying Boolean Full-Text Search Operators</a></p><p style="color:blue;">修改布尔全文搜索运算符</p></li><li class="listitem"><p><a class="xref" href="functions.html#fulltext-modify-character-set" title="Character Set Modifications">Character Set Modifications</a></p><p style="color:blue;">字符集修改</p></li><li class="listitem"><p><a class="xref" href="functions.html#fulltext-rebuild-innodb-indexes" title="Rebuilding InnoDB Full-Text Indexes">Rebuilding InnoDB Full-Text Indexes</a></p><p style="color:blue;">重建innodb全文索引</p></li><li class="listitem"><p><a class="xref" href="functions.html#fulltext-optimize" title="Optimizing InnoDB Full-Text Indexes">Optimizing InnoDB Full-Text Indexes</a></p><p style="color:blue;">优化innodb全文索引</p></li><li class="listitem"><p><a class="xref" href="functions.html#fulltext-rebuild-myisam-indexes" title="Rebuilding MyISAM Full-Text Indexes">Rebuilding MyISAM Full-Text Indexes</a></p><p style="color:blue;">重建myisam全文索引</p></li></ul>
            </div>

            <div class="simplesect">

                <div class="titlepage">
                    <div>

                        <div class="simple">
                            <h4 class="title"><a name="fulltext-word-length"></a>Configuring Minimum and Maximum Word Length</h4>

                        </div>

                    </div>

                </div>
                <p>
                    The minimum and maximum lengths of words to be indexed are
                    defined by the
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a> and
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_max_token_size"><code class="literal">innodb_ft_max_token_size</code></a> for
                    <code class="literal">InnoDB</code> search indexes, and
                    <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a> and
                    <a class="link" href="server-administration.html#sysvar_ft_max_word_len"><code class="literal">ft_max_word_len</code></a> for
                    <code class="literal">MyISAM</code> ones.
                </p><p style="color:blue;">要索引的词的最小和最大长度是由YNObdIfftMi-TytotoKeNe大小和NyndBuftMax StokEnter大小为YNDB搜索索引，以及FythMin WorddLyn和FtMax MydWordLyn为MyISAM的。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        Minimum and maximum word length full-text parameters do not
                        apply to <code class="literal">FULLTEXT</code> indexes created using
                        the ngram parser. ngram token size is defined by the
                        <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> option.
                    </p><p style="color:blue;">最小和最大字长的全文参数不适用于使用子查询解析器创建的索引。ngram令牌大小由ngram令牌大小选项定义。</p>
                </div>
                <p>
                    After changing any of these options, rebuild your
                    <code class="literal">FULLTEXT</code> indexes for the change to take
                    effect. For example, to make two-character words searchable,
                    you could put the following lines in an option file:
                </p><p style="color:blue;">更改这些选项后，请重新生成全文索引以使更改生效。例如，要使两个字符的单词可搜索，可以将以下行放在选项文件中：</p><pre data-lang="ini" class="programlisting">[mysqld]
innodb_ft_min_token_size=2
ft_min_word_len=2</pre><p>
                Then restart the server and rebuild your
                <code class="literal">FULLTEXT</code> indexes. For
                <code class="literal">MyISAM</code> tables, note the remarks regarding
                <a class="link" href="programs.html#myisamchk" title="4.6.3&nbsp;myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> in the instructions that follow
                for rebuilding <code class="literal">MyISAM</code> full-text indexes.
            </p><p style="color:blue;">然后重新启动服务器并重新生成全文索引。对于myisam表，请注意下面重建myisam全文索引的说明中有关myisamchk的说明。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-natural-language-threshold"></a>Configuring the Natural Language Search Threshold</h4>

                        </div>

                    </div>

                </div>
                <p>
                    For <code class="literal">MyISAM</code> search indexes, the 50%
                    threshold for natural language searches is determined by the
                    particular weighting scheme chosen. To disable it, look for
                    the following line in
                    <code class="filename">storage/myisam/ftdefs.h</code>:
                </p><p style="color:blue;">对于myisam搜索索引，自然语言搜索的50%阈值由选择的特定加权方案确定。要禁用它，请在storage/myisam/ftdefs.h中查找以下行：</p><pre data-lang="c" class="programlisting">#define GWS_IN_USE GWS_PROB
</pre><p>
                Change that line to this:
            </p><p style="color:blue;">将该行改为：</p><pre data-lang="c" class="programlisting">#define GWS_IN_USE GWS_FREQ
</pre><p>
                Then recompile MySQL. There is no need to rebuild the indexes
                in this case.
            </p><p style="color:blue;">然后重新编译mysql。在这种情况下，不需要重建索引。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        By making this change, you <span class="emphasis"><em>severely</em></span>
                        decrease MySQL's ability to provide adequate relevance
                        values for the <a class="link" href="functions.html#function_match"><code class="literal">MATCH()</code></a>
                        function. If you really need to search for such common
                        words, it would be better to search using <code class="literal">IN
                        BOOLEAN MODE</code> instead, which does not observe the
                        50% threshold.
                    </p><p style="color:blue;">通过进行此更改，您将严重降低mysql为match（）函数提供足够相关性值的能力。如果您真的需要搜索这样的常用词，最好使用布尔模式进行搜索，而不遵守50%的阈值。</p>
                </div>

            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-modify-boolean-operators"></a>Modifying Boolean Full-Text Search Operators</h4>

                        </div>

                    </div>

                </div>
                <p>
                    To change the operators used for boolean full-text searches on
                    <code class="literal">MyISAM</code> tables, set the
                    <a class="link" href="server-administration.html#sysvar_ft_boolean_syntax"><code class="literal">ft_boolean_syntax</code></a> system
                    variable. (<code class="literal">InnoDB</code> does not have an
                    equivalent setting.) This variable can be changed while the
                    server is running, but you must have privileges sufficient to
                    set global system variables (see
                    <a class="xref" href="server-administration.html#system-variable-privileges" title="5.1.8.1&nbsp;System Variable Privileges">Section&nbsp;5.1.8.1, “System Variable Privileges”</a>). No rebuilding
                    of indexes is necessary in this case.
                </p><p style="color:blue;">要更改myisam表上用于布尔全文搜索的运算符，请设置ft_boolean_syntax系统变量。（innodb没有等效的设置。）可以在服务器运行时更改此变量，但您必须具有足够的权限来设置全局系统变量（请参阅第5.1.8.1节“系统变量权限”）。在这种情况下不需要重建索引。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-modify-character-set"></a>Character Set Modifications</h4>

                        </div>

                    </div>

                </div>
                <p>
                    For the built-in full-text parser, you can change the set of
                    characters that are considered word characters in several
                    ways, as described in the following list. After making the
                    modification, rebuild the indexes for each table that contains
                    any <code class="literal">FULLTEXT</code> indexes. Suppose that you want
                    to treat the hyphen character ('-') as a word character. Use
                    one of these methods:
                </p><p style="color:blue;">对于内置的全文解析器，可以通过多种方式更改被视为单词字符的字符集，如下表所述。进行修改后，重新生成包含任何全文索引的每个表的索引。假设要将连字符（'-'）视为单词字符。使用以下方法之一：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        Modify the MySQL source: In
                        <code class="filename">storage/innobase/handler/ha_innodb.cc</code>
                        (for <code class="literal">InnoDB</code>), or in
                        <code class="filename">storage/myisam/ftdefs.h</code> (for
                        <code class="literal">MyISAM</code>), see the
                        <code class="literal">true_word_char()</code> and
                        <code class="literal">misc_word_char()</code> macros. Add
                        <code class="literal">'-'</code> to one of those macros and
                        recompile MySQL.
                    </p><p style="color:blue;">修改mysql源代码：在storage/innobase/handler/ha_innodb.cc（对于innodb）或storage/myisam/ftdefs.h（对于myisam）中，请参见true_word_char（）和misc_word_char（）宏。在其中一个宏中添加“-”，然后重新编译mysql。</p></li><li class="listitem"><p>
                        Modify a character set file: This requires no
                        recompilation. The <code class="literal">true_word_char()</code>
                        macro uses a <span class="quote">“<span class="quote">character type</span>”</span> table to
                        distinguish letters and numbers from other characters. .
                        You can edit the contents of the
                        <code class="literal">&lt;ctype&gt;&lt;map&gt;</code> array in one
                        of the character set XML files to specify that
                        <code class="literal">'-'</code> is a <span class="quote">“<span class="quote">letter.</span>”</span> Then
                        use the given character set for your
                        <code class="literal">FULLTEXT</code> indexes. For information about
                        the <code class="literal">&lt;ctype&gt;&lt;map&gt;</code> array
                        format, see <a class="xref" href="charset.html#character-arrays" title="10.13.1&nbsp;Character Definition Arrays">Section&nbsp;10.13.1, “Character Definition Arrays”</a>.
                    </p><p style="color:blue;">修改字符集文件：这不需要重新编译。true_word_char（）宏使用“字符类型”表将字母和数字与其他字符区分开来。。您可以编辑其中一个字符集XML文件中<ctype><map>数组的内容，以指定“-”是一个“字母”。然后将给定的字符集用于全文索引。有关<ctype><map>数组格式的信息，请参阅第10.13.1节“字符定义数组”。</map></ctype></map></ctype></p></li><li class="listitem"><p>
                        Add a new collation for the character set used by the
                        indexed columns, and alter the columns to use that
                        collation. For general information about adding
                        collations, see <a class="xref" href="charset.html#adding-collation" title="10.14&nbsp;Adding a Collation to a Character Set">Section&nbsp;10.14, “Adding a Collation to a Character Set”</a>. For an
                        example specific to full-text indexing, see
                        <a class="xref" href="functions.html#full-text-adding-collation" title="12.9.7&nbsp;Adding a Collation for Full-Text Indexing">Section&nbsp;12.9.7, “Adding a Collation for Full-Text Indexing”</a>.
                    </p><p style="color:blue;">为索引列使用的字符集添加新排序规则，并更改列以使用该排序规则。有关添加排序规则的一般信息，请参阅第10.14节“向字符集添加排序规则”。对于特定于全文索引的示例，请参阅第122.7节，“添加全文索引的排序规则”。</p></li></ul>
                </div>

            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-rebuild-innodb-indexes"></a>Rebuilding InnoDB Full-Text Indexes</h4>

                        </div>

                    </div>

                </div>
                <p>
                    For the changes to take effect, <code class="literal">FULLTEXT</code>
                    indexes must be rebuilt after modifying any of the following
                    full-text index variables:
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>;
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_max_token_size"><code class="literal">innodb_ft_max_token_size</code></a>;
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_server_stopword_table"><code class="literal">innodb_ft_server_stopword_table</code></a>;
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_user_stopword_table"><code class="literal">innodb_ft_user_stopword_table</code></a>;
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_enable_stopword"><code class="literal">innodb_ft_enable_stopword</code></a>;
                    <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a>. Modifying
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>,
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_max_token_size"><code class="literal">innodb_ft_max_token_size</code></a>, or
                    <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> requires
                    restarting the server.
                </p><p style="color:blue;">要使更改生效，必须在修改以下任何全文索引变量后重建全文索引：innodb ft_min_token_size；innodb ft_max_token_size；innodb ft_server_stopword_table；innodb ft_user_stopword_table；innodb ft_enable_stopword；ngram_token_size。修改innodb_ft_min_token_size、innodb_ft_max_token_size或ngram_token_size需要重新启动服务器。</p><p>
                To rebuild <code class="literal">FULLTEXT</code> indexes for an
                <code class="literal">InnoDB</code> table, use
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> with the
                <code class="literal">DROP INDEX</code> and <code class="literal">ADD INDEX</code>
                options to drop and re-create each index.
            </p><p style="color:blue;">要为innodb表重建全文索引，请将alter table与drop index一起使用，并添加索引选项来删除和重新创建每个索引。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-optimize"></a>Optimizing InnoDB Full-Text Indexes</h4>

                        </div>

                    </div>

                </div>
                <p>
                    Running <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4&nbsp;OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> on a
                    table with a full-text index rebuilds the full-text index,
                    removing deleted Document IDs and consolidating multiple
                    entries for the same word, where possible.
                </p><p style="color:blue;">在具有全文索引的表上运行optimize table可重建全文索引，删除已删除的文档id，并尽可能合并同一单词的多个条目。</p><p>
                To optimize a full-text index, enable
                <a class="link" href="innodb-storage-engine.html#sysvar_innodb_optimize_fulltext_only"><code class="literal">innodb_optimize_fulltext_only</code></a>
                and run <code class="literal">OPTIMIZE TABLE</code>.
            </p><p style="color:blue;">要优化全文索引，请仅启用innodb_optimize_full text_并运行optimize table。</p><pre data-lang="sql" class="programlisting">mysql&gt; set GLOBAL innodb_optimize_fulltext_only=ON;
Query OK, 0 rows affected (0.01 sec)

mysql&gt; OPTIMIZE TABLE opening_lines;
+--------------------+----------+----------+----------+
| Table              | Op       | Msg_type | Msg_text |
+--------------------+----------+----------+----------+
| test.opening_lines | optimize | status   | OK       |
+--------------------+----------+----------+----------+
1 row in set (0.01 sec)    </pre><p>
                To avoid lengthy rebuild times for full-text indexes on large
                tables, you can use the
                <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_num_word_optimize"><code class="literal">innodb_ft_num_word_optimize</code></a>
                option to perform the optimization in stages. The
                <code class="literal">innodb_ft_num_word_optimize</code> option defines
                the number of words that are optimized each time
                <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4&nbsp;OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> is run. The
                default setting is 2000, which means that 2000 words are
                optimized each time <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4&nbsp;OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE
                TABLE</code></a> is run. Subsequent
                <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4&nbsp;OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> operations
                continue from where the preceding
                <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4&nbsp;OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> operation ended.
            </p><p style="color:blue;">为了避免大型表上全文索引的重建时间过长，可以使用innodb_ft_num_word_optimize选项分阶段执行优化。innodb_ft_num_word_optimize选项定义每次运行优化表时优化的字数。默认设置为2000，这意味着每次运行optimize table时都会优化2000个单词。后续的优化表操作从前面的优化表操作结束的位置继续。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="fulltext-rebuild-myisam-indexes"></a>Rebuilding MyISAM Full-Text Indexes</h4>

                        </div>

                    </div>

                </div>
                <p>
                    If you modify full-text variables that affect indexing
                    (<a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a>,
                    <a class="link" href="server-administration.html#sysvar_ft_max_word_len"><code class="literal">ft_max_word_len</code></a>, or
                    <a class="link" href="server-administration.html#sysvar_ft_stopword_file"><code class="literal">ft_stopword_file</code></a>), or if you
                    change the stopword file itself, you must rebuild your
                    <code class="literal">FULLTEXT</code> indexes after making the changes
                    and restarting the server.
                </p><p style="color:blue;">如果修改影响索引的全文变量（FTTMIN WordDyLLN、FTTMax WordDyLin或FTYStWordWord文件），或者如果更改了停止文件本身，则必须在更改和重新启动服务器之后重建全文索引。</p><p>
                To rebuild the <code class="literal">FULLTEXT</code> indexes for a
                <code class="literal">MyISAM</code> table, it is sufficient to do a
                <code class="literal">QUICK</code> repair operation:
            </p><p style="color:blue;">要重新生成myisam表的全文索引，只需执行快速修复操作：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>REPAIR TABLE <em class="replaceable"><code>tbl_name</code></em> QUICK;</code></strong>
</pre><p>
                Alternatively, use <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
                as just described. In some cases, this may be faster than a
                repair operation.
            </p><p style="color:blue;">或者，如前所述使用alter table。在某些情况下，这可能比修复操作更快。</p><p>
                Each table that contains any <code class="literal">FULLTEXT</code> index
                must be repaired as just shown. Otherwise, queries for the
                table may yield incorrect results, and modifications to the
                table will cause the server to see the table as corrupt and in
                need of repair.
            </p><p style="color:blue;">包含任何全文索引的每个表都必须如图所示进行修复。否则，对表的查询可能会产生不正确的结果，对表的修改将导致服务器认为该表已损坏，需要修复。</p><p>
                If you use <a class="link" href="programs.html#myisamchk" title="4.6.3&nbsp;myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> to perform an
                operation that modifies <code class="literal">MyISAM </code> table
                indexes (such as repair or analyze), the
                <code class="literal">FULLTEXT</code> indexes are rebuilt using the
                <span class="emphasis"><em>default</em></span> full-text parameter values for
                minimum word length, maximum word length, and stopword file
                unless you specify otherwise. This can result in queries
                failing.
            </p><p style="color:blue;">如果使用MyISAMCHK来执行修改MyISAM表索引（如修复或分析）的操作，则使用默认的全文参数值重建最小文本长度、最大字长和停止字文件的全文索引，除非您另外指定。这可能导致查询失败。</p><p>
                The problem occurs because these parameters are known only by
                the server. They are not stored in <code class="literal">MyISAM</code>
                index files. To avoid the problem if you have modified the
                minimum or maximum word length or stopword file values used by
                the server, specify the same
                <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a>,
                <a class="link" href="server-administration.html#sysvar_ft_max_word_len"><code class="literal">ft_max_word_len</code></a>, and
                <a class="link" href="server-administration.html#sysvar_ft_stopword_file"><code class="literal">ft_stopword_file</code></a> values for
                <a class="link" href="programs.html#myisamchk" title="4.6.3&nbsp;myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> that you use for
                <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. For example, if you have set the
                minimum word length to 3, you can repair a table with
                <a class="link" href="programs.html#myisamchk" title="4.6.3&nbsp;myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> like this:
            </p><p style="color:blue;">出现此问题的原因是这些参数仅由服务器知道。它们不存储在myisam索引文件中。为了避免问题，如果您修改了服务器所使用的最小或最大字长或停止字文件值，则指定MySqHK的MySAMCHK相同的ftxMyWordDyLLN、ftMax WorddLyn和ftyStudiWordx文件值。例如，如果将最小字长设置为3，则可以使用myisamchk修复表，如下所示：</p><pre data-lang="terminal" class="programlisting">myisamchk --recover --ft_min_word_len=3 <em class="replaceable"><code>tbl_name</code></em>.MYI
</pre><p>
                To ensure that <a class="link" href="programs.html#myisamchk" title="4.6.3&nbsp;myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> and the server use
                the same values for full-text parameters, place each one in
                both the <code class="literal">[mysqld]</code> and
                <code class="literal">[myisamchk]</code> sections of an option file:
            </p><p style="color:blue;">要确保myisamchk和服务器对全文参数使用相同的值，请将每个值放在选项文件的[mysqld]和[myisamchk]部分中：</p><pre data-lang="ini" class="programlisting">[mysqld]
ft_min_word_len=3

[myisamchk]
ft_min_word_len=3
</pre><p>
                An alternative to using <a class="link" href="programs.html#myisamchk" title="4.6.3&nbsp;myisamchk — MyISAM Table-Maintenance Utility"><span class="command"><strong>myisamchk</strong></span></a> for
                <code class="literal">MyISAM</code> table index modification is to use
                the <a class="link" href="sql-syntax.html#repair-table" title="13.7.2.5&nbsp;REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
                <a class="link" href="sql-syntax.html#analyze-table" title="13.7.2.1&nbsp;ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>,
                <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4&nbsp;OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, or
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements. These
                statements are performed by the server, which knows the proper
                full-text parameter values to use.
            </p><p style="color:blue;">使用myisamchk修改myisam表索引的另一种方法是使用repair table、analyze table、optimize table或alter table语句。这些语句由服务器执行，服务器知道要使用的正确全文参数值。</p>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="full-text-adding-collation"></a>12.9.7&nbsp;Adding a Collation for Full-Text Indexing</h3>

                    </div>

                </div>

            </div>
            <p>
                This section describes how to add a new collation for full-text
                searches using the built-in full-text parser. The sample
                collation is like <code class="literal">latin1_swedish_ci</code> but
                treats the <code class="literal">'-'</code> character as a letter rather
                than as a punctuation character so that it can be indexed as a
                word character. General information about adding collations is
                given in <a class="xref" href="charset.html#adding-collation" title="10.14&nbsp;Adding a Collation to a Character Set">Section&nbsp;10.14, “Adding a Collation to a Character Set”</a>; it is assumed that
                you have read it and are familiar with the files involved.
            </p><p style="color:blue;">本节介绍如何使用内置全文分析器为全文搜索添加新的排序规则。示例排序规则类似于拉丁文-瑞典语-ci，但将“-”字符视为字母，而不是标点字符，以便可以将其作为单词字符进行索引。有关添加排序规则的一般信息，请参阅第10.14节“向字符集添加排序规则”；假定您已经阅读过该节，并且熟悉相关文件。</p><p>
            To add a collation for full-text indexing, use the following
            procedure. The instructions here add a collation for a simple
            character set, which as discussed in
            <a class="xref" href="charset.html#adding-collation" title="10.14&nbsp;Adding a Collation to a Character Set">Section&nbsp;10.14, “Adding a Collation to a Character Set”</a>, can be created using a
            configuration file that describes the character set properties.
            For a complex character set such as Unicode, create collations
            using C source files that describe the character set properties.
        </p><p style="color:blue;">若要添加全文索引的排序规则，请使用以下过程。此处的说明为简单字符集添加排序规则，如第10.14节“向字符集添加排序规则”中所述，可以使用描述字符集属性的配置文件创建该排序规则。对于复杂字符集（如Unicode），请使用描述字符集属性的C源文件创建排序规则。</p>
            <div class="orderedlist">
                <ol class="orderedlist" type="1"><li class="listitem"><p>
                    Add a collation to the <code class="filename">Index.xml</code> file.
                    The collation ID must be unused, so choose a value different
                    from 1000 if that ID is already taken on your system.
                </p><p style="color:blue;">向index.xml文件添加排序规则。排序规则ID必须未使用，因此，如果系统上已采用该ID，请选择一个与1000不同的值。</p><pre data-lang="xml" class="programlisting">&lt;charset name="latin1"&gt;
...
&lt;collation name="latin1_fulltext_ci" id="1000"/&gt;
&lt;/charset&gt;
</pre></li><li class="listitem"><p>
                    Declare the sort order for the collation in the
                    <code class="filename">latin1.xml</code> file. In this case, the
                    order can be copied from
                    <code class="literal">latin1_swedish_ci</code>:
                </p><p style="color:blue;">在latin1.xml文件中声明排序规则的排序顺序。在这种情况下，订单可以从Latin1_Swedish_Ci:</p><pre data-lang="xml" class="programlisting">&lt;collation name="latin1_fulltext_ci"&gt;
&lt;map&gt;
00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F
20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F
30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F
40 41 42 43 44 45 46 47 48 49 4A 4B 4C 4D 4E 4F
50 51 52 53 54 55 56 57 58 59 5A 5B 5C 5D 5E 5F
60 41 42 43 44 45 46 47 48 49 4A 4B 4C 4D 4E 4F
50 51 52 53 54 55 56 57 58 59 5A 7B 7C 7D 7E 7F
80 81 82 83 84 85 86 87 88 89 8A 8B 8C 8D 8E 8F
90 91 92 93 94 95 96 97 98 99 9A 9B 9C 9D 9E 9F
A0 A1 A2 A3 A4 A5 A6 A7 A8 A9 AA AB AC AD AE AF
B0 B1 B2 B3 B4 B5 B6 B7 B8 B9 BA BB BC BD BE BF
41 41 41 41 5C 5B 5C 43 45 45 45 45 49 49 49 49
44 4E 4F 4F 4F 4F 5D D7 D8 55 55 55 59 59 DE DF
41 41 41 41 5C 5B 5C 43 45 45 45 45 49 49 49 49
44 4E 4F 4F 4F 4F 5D F7 D8 55 55 55 59 59 DE FF
&lt;/map&gt;
&lt;/collation&gt;
</pre></li><li class="listitem"><p>
                    Modify the <code class="literal">ctype</code> array in
                    <code class="filename">latin1.xml</code>. Change the value
                    corresponding to 0x2D (which is the code for the
                    <code class="literal">'-'</code> character) from 10 (punctuation) to
                    01 (uppercase letter). In the following array, this is the
                    element in the fourth row down, third value from the end.
                </p><p style="color:blue;">修改latin1.xml中的ctype数组。将对应于0x2d（即“-”字符的代码）的值从10（标点）更改为01（大写字母）。在下面的数组中，这是第四行中的元素，是从末尾开始的第三个值。</p><pre data-lang="xml" class="programlisting">&lt;ctype&gt;
&lt;map&gt;
00
20 20 20 20 20 20 20 20 20 28 28 28 28 28 20 20
20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
48 10 10 10 10 10 10 10 10 10 10 10 10 <em class="replaceable"><code>01</code></em> 10 10
84 84 84 84 84 84 84 84 84 84 10 10 10 10 10 10
10 81 81 81 81 81 81 01 01 01 01 01 01 01 01 01
01 01 01 01 01 01 01 01 01 01 01 10 10 10 10 10
10 82 82 82 82 82 82 02 02 02 02 02 02 02 02 02
02 02 02 02 02 02 02 02 02 02 02 10 10 10 10 20
10 00 10 02 10 10 10 10 10 10 01 10 01 00 01 00
00 10 10 10 10 10 10 10 10 10 02 10 02 00 02 01
48 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10
10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10
01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01
01 01 01 01 01 01 01 10 01 01 01 01 01 01 01 02
02 02 02 02 02 02 02 02 02 02 02 02 02 02 02 02
02 02 02 02 02 02 02 10 02 02 02 02 02 02 02 02
&lt;/map&gt;
&lt;/ctype&gt;
</pre></li><li class="listitem"><p>
                    Restart the server.
                </p><p style="color:blue;">重新启动服务器。</p></li><li class="listitem"><p>
                    To employ the new collation, include it in the definition of
                    columns that are to use it:
                </p><p style="color:blue;">要使用新的排序规则，请将其包含在要使用它的列的定义中：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>DROP TABLE IF EXISTS t1;</code></strong>
Query OK, 0 rows affected (0.13 sec)

mysql&gt; <strong class="userinput"><code>CREATE TABLE t1 (</code></strong>
    <strong class="userinput"><code>a TEXT CHARACTER SET latin1 COLLATE latin1_fulltext_ci,</code></strong>
    <strong class="userinput"><code>FULLTEXT INDEX(a)</code></strong>
    <strong class="userinput"><code>) ENGINE=InnoDB;</code></strong>
Query OK, 0 rows affected (0.47 sec)
</pre></li><li class="listitem"><p>
                    Test the collation to verify that hyphen is considered as a
                    word character:
                </p><p style="color:blue;">测试排序规则以验证连字符是否被视为单词字符：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO t1 VALUEs ('----'),('....'),('abcd');</code></strong>
Query OK, 3 rows affected (0.22 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT * FROM t1 WHERE MATCH a AGAINST ('----' IN BOOLEAN MODE);</code></strong>
+------+
| a    |
+------+
| ---- |
+------+
1 row in set (0.00 sec)
</pre></li></ol>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-search-ngram"></a>12.9.8&nbsp;ngram Full-Text Parser</h3>

                    </div>

                </div>

            </div>
            <p>
                The built-in MySQL full-text parser uses the white space between
                words as a delimiter to determine where words begin and end,
                which is a limitation when working with ideographic languages
                that do not use word delimiters. To address this limitation,
                MySQL provides an ngram full-text parser that supports Chinese,
                Japanese, and Korean (CJK). The ngram full-text parser is
                supported for use with <a class="link" href="innodb-storage-engine.html" title="Chapter&nbsp;14&nbsp;The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> and
                <a class="link" href="storage-engines.html#myisam-storage-engine" title="15.2&nbsp;The MyISAM Storage Engine"><code class="literal">MyISAM</code></a>.
            </p><p style="color:blue;">内置的mysql全文解析器使用单词之间的空白作为分隔符来确定单词的开始和结束位置，这是使用不使用单词分隔符的表意文字语言时的一个限制。为了解决这个限制，mysql提供了一个支持中文、日文和韩文（cjk）的ngram全文解析器。支持与innodb和myisam一起使用ngram全文解析器。</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    MySQL also provides a MeCab full-text parser plugin for
                    Japanese, which tokenizes documents into meaningful words. For
                    more information, see <a class="xref" href="functions.html#fulltext-search-mecab" title="12.9.9&nbsp;MeCab Full-Text Parser Plugin">Section&nbsp;12.9.9, “MeCab Full-Text Parser Plugin”</a>.
                </p><p style="color:blue;">mysql还为日语提供了mecab全文解析器插件，它将文档标记为有意义的单词。有关更多信息，请参阅12.9.9节，“mecab全文解析器插件”。</p>
            </div>
            <p>
                An ngram is a contiguous sequence of
                <em class="replaceable"><code>n</code></em> characters from a given sequence of
                text. The ngram parser tokenizes a sequence of text into a
                contiguous sequence of <em class="replaceable"><code>n</code></em> characters.
                For example, you can tokenize <span class="quote">“<span class="quote">abcd</span>”</span> for different
                values of <em class="replaceable"><code>n</code></em> using the ngram full-text
                parser.
            </p><p style="color:blue;">ngram是给定文本序列中n个字符的连续序列。ngram解析器将文本序列标记为n个字符的连续序列。例如，可以使用ngram全文解析器为n的不同值标记“abcd”。</p><pre data-lang="simple" class="programlisting">n=1: 'a', 'b', 'c', 'd'
n=2: 'ab', 'bc', 'cd'
n=3: 'abc', 'bcd'
n=4: 'abcd'</pre><p>
            The ngram full-text parser, introduced in MySQL 5.7.6, is a
            built-in server plugin. As with other built-in server plugins,
            it is automatically loaded when the server is started.
        </p><p style="color:blue;">在mysql 5.7.6中引入的ngram全文解析器是一个内置的服务器插件。与其他内置服务器插件一样，它在服务器启动时自动加载。</p><p>
            The full-text search syntax described in
            <a class="xref" href="functions.html#fulltext-search" title="12.9&nbsp;Full-Text Search Functions">Section&nbsp;12.9, “Full-Text Search Functions”</a> applies to the ngram parser
            plugin. Differences in parsing behavior are described in this
            section. Full-text-related configuration options, except for
            minimum and maximum word length options
            (<a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>,
            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_max_token_size"><code class="literal">innodb_ft_max_token_size</code></a>,
            <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a>,
            <a class="link" href="server-administration.html#sysvar_ft_max_word_len"><code class="literal">ft_max_word_len</code></a>) are also
            applicable.
        </p><p style="color:blue;">第12.9节“全文搜索函数”中描述的全文搜索语法适用于ngram解析器插件。本节将介绍解析行为的差异。全文相关的配置选项，除了最小和最大字长选项（NuiBuff.ftmi-TimoToKeNosig，NudibuftMax MythtoKeNyStand，FtMin MyWorddLyn，ftMax MyWorddLLEN）也是适用的。</p>
            <h4><a name="idm140286850113536"></a>Configuring ngram Token Size</h4>
            <p>
                The ngram parser has a default ngram token size of 2 (bigram).
                For example, with a token size of 2, the ngram parser parses the
                string <span class="quote">“<span class="quote">abc def</span>”</span> into four tokens:
                <span class="quote">“<span class="quote">ab</span>”</span>, <span class="quote">“<span class="quote">bc</span>”</span>, <span class="quote">“<span class="quote">de</span>”</span> and
                <span class="quote">“<span class="quote">ef</span>”</span>.
            </p><p style="color:blue;">ngram解析器的默认ngram令牌大小为2（bigram）。例如，当标记大小为2时，ngram解析器将字符串“a bc def”解析为四个标记：“ab”、“bc”、“de”和“ef”。</p><p>
            ngram token size is configurable using the
            <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> configuration
            option, which has a minimum value of 1 and maximum value of 10.
        </p><p style="color:blue;">NGRAM令牌大小可使用NGracyToKeNoStand配置选项进行配置，该配置选项的最小值为1，最大值为10。</p><p>
            Typically, <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> is
            set to the size of the largest token that you want to search
            for. If you only intend to search for single characters, set
            <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> to 1. A
            smaller token size produces a smaller full-text search index,
            and faster searches. If you need to search for words comprised
            of more than one character, set
            <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> accordingly.
            For example, <span class="quote">“<span class="quote">Happy Birthday</span>”</span> is
            <span class="quote">“<span class="quote"><span lang="zh-cn" class="phrase">生日快乐</span></span>”</span> in
            simplified Chinese, where
            <span class="quote">“<span class="quote"><span lang="zh-cn" class="phrase">生日</span></span>”</span> is
            <span class="quote">“<span class="quote">birthday</span>”</span>, and
            <span class="quote">“<span class="quote"><span lang="zh-cn" class="phrase">快乐</span></span>”</span> translates
            as <span class="quote">“<span class="quote">happy</span>”</span>. To search on two-character words such
            as these, set <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a>
            to a value of 2 or higher.
        </p><p style="color:blue;">通常，ngram_token_size设置为要搜索的最大令牌的大小。如果只想搜索单个字符，请将ngram_token_size设置为1。令牌大小越小，全文搜索索引越小，搜索速度越快。如果需要搜索包含多个字符的单词，请相应地设置ngram_token_size。例如，“生日快乐”在简体中文中是“dayond carporaty”，其中“dayon”是“生日”，“carporaty”翻译为“happy”。要搜索这类两个字符的单词，请将ngram_token_size设置为2或更高的值。</p><p>
            As a read-only variable,
            <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> may only be
            set as part of a startup string or in a configuration file:
        </p><p style="color:blue;">作为只读变量，ngram_token_size只能作为启动字符串的一部分或在配置文件中设置：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Startup string:
                </p><p style="color:blue;">启动字符串：</p><pre data-lang="terminal" class="programlisting">mysqld --ngram_token_size=2</pre></li><li class="listitem"><p>
                    Configuration file:
                </p><p style="color:blue;">配置文件：</p><pre data-lang="ini" class="programlisting">[mysqld]
ngram_token_size=2</pre></li></ul>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <div class="admon-title">
                    Note
                </div>
                <p>
                    The following minimum and maximum word length configuration
                    options are ignored for <code class="literal">FULLTEXT</code> indexes
                    that use the ngram parser:
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>,
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_max_token_size"><code class="literal">innodb_ft_max_token_size</code></a>,
                    <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a>, and
                    <a class="link" href="server-administration.html#sysvar_ft_max_word_len"><code class="literal">ft_max_word_len</code></a>.
                </p><p style="color:blue;">下面的最小和最大字长配置选项对于使用NGRAM解析器的unultExcel索引忽略：NoNdBuffFtMin TyktoKyScript，NuiBuff.FtMax MythtoKeNeLyScript，fttMyWorddLyLn和ftMax WorddLayLin。</p>
            </div>
            <h4><a name="idm140286850086224"></a>Creating a FULLTEXT Index that Uses the ngram Parser</h4>
            <p>
                To create a <code class="literal">FULLTEXT</code> index that uses the
                ngram parser, specify <code class="literal">WITH PARSER ngram</code> with
                <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>,
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>, or
                <a class="link" href="sql-syntax.html#create-index" title="13.1.14&nbsp;CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>.
            </p><p style="color:blue;">若要创建使用NGRAM解析器的FultLeXT索引，请使用解析器Ngram与创建表、ALTE表或创建索引进行指定。</p><p>
            The following example demonstrates creating a table with an
            <code class="literal">ngram</code> <code class="literal">FULLTEXT</code> index,
            inserting sample data (Simplified Chinese text), and viewing
            tokenized data in the
            <a class="link" href="information-schema.html#innodb-ft-index-cache-table" title="24.32.11&nbsp;The INFORMATION_SCHEMA INNODB_FT_INDEX_CACHE Table"><code class="literal">INFORMATION_SCHEMA.INNODB_FT_INDEX_CACHE</code></a>
            table.
        </p><p style="color:blue;">下面的示例演示如何创建具有ngram全文索引的表，插入示例数据（简体中文文本），以及在information schema.innodb_ft_index_cache表中查看标记化数据。</p><pre data-lang="sql" class="programlisting">mysql&gt; USE test;

mysql&gt; CREATE TABLE articles (
      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
      title VARCHAR(200),
      body TEXT,
      FULLTEXT (title,body) WITH PARSER ngram
    ) ENGINE=InnoDB CHARACTER SET utf8mb4;

mysql&gt; SET NAMES utf8mb4;

INSERT INTO articles (title,body) VALUES
    ('数据库管理','在本教程中我将向你展示如何管理数据库'),
    ('数据库应用开发','学习开发数据库应用程序');

mysql&gt; SET GLOBAL innodb_ft_aux_table="test/articles";

mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_INDEX_CACHE ORDER BY doc_id, position;</pre><p>
            To add a <code class="literal">FULLTEXT</code> index to an existing table,
            you can use <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> or
            <a class="link" href="sql-syntax.html#create-index" title="13.1.14&nbsp;CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>. For example:
        </p><p style="color:blue;">若要向现有表添加FultLeXT索引，可以使用ALTER表或CREATED索引。例如：</p><pre data-lang="sql" class="programlisting">CREATE TABLE articles (
      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
      title VARCHAR(200),
      body TEXT
     ) ENGINE=InnoDB CHARACTER SET utf8;

ALTER TABLE articles ADD FULLTEXT INDEX ft_index (title,body) WITH PARSER ngram;

# Or:

CREATE FULLTEXT INDEX ft_index ON articles (title,body) WITH PARSER ngram;
</pre>
            <h4><a name="idm140286850069392"></a>ngram Parser Space Handling</h4>
            <p>
                The ngram parser eliminates spaces when parsing. For example:
            </p><p style="color:blue;">ngram解析器在解析时消除空格。例如：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <span class="quote">“<span class="quote">ab cd</span>”</span> is parsed to <span class="quote">“<span class="quote">ab</span>”</span>,
                    <span class="quote">“<span class="quote">cd</span>”</span>
                </p><p style="color:blue;">“ab cd”被解析为“ab”，“cd”</p></li><li class="listitem"><p>
                    <span class="quote">“<span class="quote">a bc</span>”</span> is parsed to <span class="quote">“<span class="quote">bc</span>”</span>
                </p><p style="color:blue;">“a bc”被解析为“bc”</p></li></ul>
            </div>
            <h4><a name="idm140286850064144"></a>ngram Parser Stopword Handling</h4>
            <p>
                The built-in MySQL full-text parser compares words to entries in
                the stopword list. If a word is equal to an entry in the
                stopword list, the word is excluded from the index. For the
                ngram parser, stopword handling is performed differently.
                Instead of excluding tokens that are equal to entries in the
                stopword list, the ngram parser excludes tokens that
                <span class="emphasis"><em>contain</em></span> stopwords. For example, assuming
                <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size=2</code></a>, a document
                that contains <span class="quote">“<span class="quote">a,b</span>”</span> is parsed to <span class="quote">“<span class="quote">a,</span>”</span>
                and <span class="quote">“<span class="quote">,b</span>”</span>. If a comma (<span class="quote">“<span class="quote">,</span>”</span>) is defined
                as a stopword, both <span class="quote">“<span class="quote">a,</span>”</span> and <span class="quote">“<span class="quote">,b</span>”</span> are
                excluded from the index because they contain a comma.
            </p><p style="color:blue;">内置的mysql全文解析器将单词与stopword列表中的条目进行比较。如果一个单词等于stopword列表中的一个条目，则该单词将从索引中排除。对于ngram解析器，停止字处理的执行方式不同。ngram解析器不排除与stopword列表中的条目相等的标记，而是排除包含stopword的标记。例如，假设ngram_token_size=2，则包含“a，b”的文档将被解析为“a”和“b”。如果逗号（“，”）被定义为停止字，则“a”和“b”都将从索引中排除，因为它们包含逗号。</p><p>
            By default, the ngram parser uses the default stopword list,
            which contains a list of English stopwords. For a stopword list
            applicable to Chinese, Japanese, or Korean, you must create your
            own. For information about creating a stopword list, see
            <a class="xref" href="functions.html#fulltext-stopwords" title="12.9.4&nbsp;Full-Text Stopwords">Section&nbsp;12.9.4, “Full-Text Stopwords”</a>.
        </p><p style="color:blue;">默认情况下，ngram解析器使用默认的stopword列表，其中包含一个英文stopword列表。对于适用于中文、日文或韩文的非索引字表，您必须创建自己的非索引字表。有关创建非索引字表的信息，请参阅第12.9.4节“全文非索引字表”。</p><p>
            Stopwords greater in length than
            <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size</code></a> are ignored.
        </p><p style="color:blue;">将忽略长度大于ngram_token_size的停止字。</p>
            <h4><a name="idm140286850055152"></a>ngram Parser Term Search</h4>
            <p>
                For <span class="emphasis"><em>natural language mode</em></span> search, the
                search term is converted to a union of ngram terms. For example,
                the string <span class="quote">“<span class="quote">abc</span>”</span> (assuming
                <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size=2</code></a>) is
                converted to <span class="quote">“<span class="quote">ab bc</span>”</span>. Given two documents, one
                containing <span class="quote">“<span class="quote">ab</span>”</span> and the other containing
                <span class="quote">“<span class="quote">abc</span>”</span>, the search term <span class="quote">“<span class="quote">ab bc</span>”</span> matches
                both documents.
            </p><p style="color:blue;">对于自然语言模式搜索，搜索项转换为ngram项的并集。例如，字符串“abc”（假设ngram_token_size=2）被转换为“ab bc”。给定两个文档，一个包含“ab”，另一个包含“abc”，搜索词“ab bc”匹配这两个文档。</p><p>
            For <span class="emphasis"><em>boolean mode search</em></span>, the search term is
            converted to an ngram phrase search. For example, the string
            'abc' (assuming
            <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size=2</code></a>) is
            converted to '<span class="quote">“<span class="quote">ab bc</span>”</span>'. Given two documents, one
            containing 'ab' and the other containing 'abc', the search
            phrase '<span class="quote">“<span class="quote">ab bc</span>”</span>' only matches the document
            containing 'abc'.
        </p><p style="color:blue;">对于布尔模式搜索，搜索项将转换为ngram短语搜索。例如，字符串“abc”（假定ngram_token_size=2）转换为“ab bc”。给定两个文档，一个包含“ab”，另一个包含“abc”，搜索短语“ab bc”只与包含“abc”的文档匹配。</p>
            <h4><a name="idm140286850046752"></a>ngram Parser Wildcard Search</h4>
            <p>
                Because an ngram <code class="literal">FULLTEXT</code> index contains only
                ngrams, and does not contain information about the beginning of
                terms, wildcard searches may return unexpected results. The
                following behaviors apply to wildcard searches using ngram
                <code class="literal">FULLTEXT</code> search indexes:
            </p><p style="color:blue;">由于ngram全文索引只包含ngram，并且不包含有关术语开头的信息，通配符搜索可能会返回意外结果。以下行为适用于使用ngram全文搜索索引的通配符搜索：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If the prefix term of a wildcard search is shorter than
                    ngram token size, the query returns all indexed rows that
                    contain ngram tokens starting with the prefix term. For
                    example, assuming
                    <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size=2</code></a>, a
                    search on <span class="quote">“<span class="quote">a*</span>”</span> returns all rows starting with
                    <span class="quote">“<span class="quote">a</span>”</span>.
                </p><p style="color:blue;">如果通配符搜索的前缀项短于ngram标记大小，则查询将返回包含以前缀项开头的ngram标记的所有索引行。例如，假设ngram_token_size=2，搜索“a*”将返回以“a”开头的所有行。</p></li><li class="listitem"><p>
                    If the prefix term of a wildcard search is longer than ngram
                    token size, the prefix term is converted to an ngram phrase
                    and the wildcard operator is ignored. For example, assuming
                    <a class="link" href="server-administration.html#sysvar_ngram_token_size"><code class="literal">ngram_token_size=2</code></a>, an
                    <span class="quote">“<span class="quote">abc*</span>”</span> wildcard search is converted to
                    <span class="quote">“<span class="quote">ab bc</span>”</span>.
                </p><p style="color:blue;">如果通配符搜索的前缀项长于ngram令牌大小，则将前缀项转换为ngram短语，并忽略通配符运算符。例如，假设ngram_token_size=2，则将“abc*”通配符搜索转换为“ab bc”。</p></li></ul>
            </div>
            <h4><a name="idm140286850037232"></a>ngram Parser Phrase Search</h4>
            <p>
                Phrase searches are converted to ngram phrase searches. For
                example, The search phrase <span class="quote">“<span class="quote">abc</span>”</span> is converted to
                <span class="quote">“<span class="quote">ab bc</span>”</span>, which returns documents containing
                <span class="quote">“<span class="quote">abc</span>”</span> and <span class="quote">“<span class="quote">ab bc</span>”</span>.
            </p><p style="color:blue;">短语搜索转换为ngram短语搜索。例如，搜索短语“abc”被转换为“ab bc”，它返回包含“abc”和“abbc”的文档。</p><p>
            The search phrase <span class="quote">“<span class="quote">abc def</span>”</span> is converted to
            <span class="quote">“<span class="quote">ab bc de ef</span>”</span>, which returns documents containing
            <span class="quote">“<span class="quote">abc def</span>”</span> and <span class="quote">“<span class="quote">ab bc de ef</span>”</span>. A
            document that contains <span class="quote">“<span class="quote">abcdef</span>”</span> is not returned.
        </p><p style="color:blue;">搜索短语“abc def”转换为“ab bc de ef”，它返回包含“abc def”和“abbc de ef”的文档。不返回包含“abcdef”的文档。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="fulltext-search-mecab"></a>12.9.9&nbsp;MeCab Full-Text Parser Plugin</h3>

                    </div>

                </div>

            </div>
            <p>
                The built-in MySQL full-text parser uses the white space between
                words as a delimiter to determine where words begin and end,
                which is a limitation when working with ideographic languages
                that do not use word delimiters. To address this limitation for
                Japanese, MySQL provides a MeCab full-text parser plugin. The
                MeCab full-text parser plugin is supported for use with
                <a class="link" href="innodb-storage-engine.html" title="Chapter&nbsp;14&nbsp;The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> and
                <a class="link" href="storage-engines.html#myisam-storage-engine" title="15.2&nbsp;The MyISAM Storage Engine"><code class="literal">MyISAM</code></a>.
            </p><p style="color:blue;">内置的mysql全文解析器使用单词之间的空白作为分隔符来确定单词的开始和结束位置，这是使用不使用单词分隔符的表意文字语言时的一个限制。为了解决日语的这个限制，mysql提供了mecab全文解析器插件。mecab全文解析器插件支持与innodb和myisam一起使用。</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    MySQL also provides an ngram full-text parser plugin that
                    supports Japanese. For more information, see
                    <a class="xref" href="functions.html#fulltext-search-ngram" title="12.9.8&nbsp;ngram Full-Text Parser">Section&nbsp;12.9.8, “ngram Full-Text Parser”</a>.
                </p><p style="color:blue;">mysql还提供了一个支持日语的ngram全文解析器插件。有关更多信息，请参阅第12.9.8节“NGRAM全文分析器”。</p>
            </div>
            <p>
                The MeCab full-text parser plugin, introduced in MySQL 5.7.6, is
                a full-text parser plugin for Japanese that tokenizes a sequence
                of text into meaningful words. For example, MeCab tokenizes
                <span class="quote">“<span class="quote"><span lang="ja" class="phrase">データベース管理</span></span>”</span>
                (<span class="quote">“<span class="quote">Database Management</span>”</span>) into
                <span class="quote">“<span class="quote"><span lang="ja" class="phrase">データベース</span></span>”</span>
                (<span class="quote">“<span class="quote">Database</span>”</span>) and
                <span class="quote">“<span class="quote"><span lang="ja" class="phrase">管理</span></span>”</span>
                (<span class="quote">“<span class="quote">Management</span>”</span>). By comparison, the
                <a class="link" href="functions.html#fulltext-search-ngram" title="12.9.8&nbsp;ngram Full-Text Parser">ngram</a> full-text
                parser tokenizes text into a contiguous sequence of
                <em class="replaceable"><code>n</code></em> characters, where
                <em class="replaceable"><code>n</code></em> represents a number between 1 and
                10.
            </p><p style="color:blue;">mysql 5.7.6中引入的mecab全文解析器插件是日语的全文解析器插件，它将一系列文本标记为有意义的单词。例如，mecab将“database management”（数据库管理）标记为“database”（数据库）和“management”（管理）。相比之下，ngram全文解析器将文本标记为n个字符的连续序列，其中n表示1到10之间的数字。</p><p>
            In addition to tokenizing text into meaningful words, MeCab
            indexes are typically smaller than ngram indexes, and MeCab
            full-text searches are generally faster. One drawback is that it
            may take longer for the MeCab full-text parser to tokenize
            documents, compared to the ngram full-text parser.
        </p><p style="color:blue;">除了将文本标记为有意义的单词之外，mecab索引通常比ngram索引小，mecab全文搜索通常更快。一个缺点是，与ngram全文解析器相比，mecab全文解析器标记文档可能需要更长的时间。</p><p>
            The full-text search syntax described in
            <a class="xref" href="functions.html#fulltext-search" title="12.9&nbsp;Full-Text Search Functions">Section&nbsp;12.9, “Full-Text Search Functions”</a> applies to the MeCab parser
            plugin. Differences in parsing behavior are described in this
            section. Full-text related configuration options are also
            applicable.
        </p><p style="color:blue;">第12.9节“全文搜索函数”中描述的全文搜索语法适用于mecab解析器插件。本节将介绍解析行为的差异。与全文相关的配置选项也适用。</p><p>
            For additional information about the MeCab parser, refer to the
            <a class="ulink" href="http://taku910.github.io/mecab/" target="_top">MeCab: Yet Another
                Part-of-Speech and Morphological Analyzer</a> project on
            Github.
        </p><p style="color:blue;">有关mecab解析器的更多信息，请参阅github上的mecab：语音和形态分析器项目的另一部分。</p>
            <h4><a name="idm140286850015712"></a>Installing the MeCab Parser Plugin</h4>
            <p>
                The MeCab parser plugin requires <code class="filename">mecab</code> and
                <code class="filename">mecab-ipadic</code>.
            </p><p style="color:blue;">mecab解析器插件需要mecab和mecab ipadic。</p><p>
            On supported Fedora, Debian and Ubuntu platforms (except Ubuntu
            12.04 where the system <code class="filename">mecab</code> version is too
            old), MySQL dynamically links to the system
            <code class="filename">mecab</code> installation if it is installed to
            the default location. On other supported Unix-like platforms,
            <code class="filename">libmecab.so</code> is statically linked in
            <code class="filename">libpluginmecab.so</code>, which is located in the
            MySQL plugin directory. <code class="filename">mecab-ipadic</code> is
            included in MySQL binaries and is located in
            <code class="filename"><em class="replaceable"><code>MYSQL_HOME</code></em>\lib\mecab</code>.
        </p><p style="color:blue;">在受支持的fedora、debian和ubuntu平台上（除了ubuntu 12.04，其中system mecab版本太旧），如果安装到默认位置，mysql会动态链接到systemmecab安装。在其他受支持的类unix平台上，libmecab.so在libpluginmecab.so中静态链接，libpluginmecab.so位于mysql插件目录中。mecab ipadic包含在mysql二进制文件中，位于mysql\home\lib\mecab中。</p><p>
            You can install <code class="filename">mecab</code> and
            <code class="filename">mecab-ipadic</code> using a native package
            management utility (on Fedora, Debian, and Ubuntu), or you can
            build <code class="filename">mecab</code> and
            <code class="filename">mecab-ipadic</code> from source. For information
            about installing <code class="filename">mecab</code> and
            <code class="filename">mecab-ipadic</code> using a native package
            management utility, see
            <a class="link" href="functions.html#install-mecab-binary" title="Installing MeCab From a Binary Distribution (Optional)">Installing MeCab From a
                Binary Distribution (Optional)</a>. If you want to build
            <code class="filename">mecab</code> and <code class="literal">mecab-ipadic</code>
            from source, see
            <a class="link" href="functions.html#build-mecab-from-source" title="Installing MeCab From Source (Optional)">Building MeCab From
                Source (Optional)</a>.
        </p><p style="color:blue;">可以使用本机包管理实用程序（在Fedora、Debian和Ubuntu上）安装mecab和mecab ipadic，也可以从源代码构建mecab和mecab ipadic。有关使用本机包管理实用程序安装mecab和mecab ipadic的信息，请参阅从二进制发行版安装mecab（可选）。如果要从源代码构建mecab和mecab ipadic，请参见从源代码构建mecab（可选）。</p><p>
            On Windows, <code class="filename">libmecab.dll</code> is found in the
            MySQL <code class="filename">bin</code> directory.
            <code class="filename">mecab-ipadic</code> is located in
            <code class="filename"><em class="replaceable"><code>MYSQL_HOME</code></em>/lib/mecab</code>.
        </p><p style="color:blue;">在Windows上，libmecab.dll位于mysql bin目录中。mecab ipadic位于mysql_home/lib/mecab。</p><p>
            To install and configure the MeCab parser plugin, perform the
            following steps:
        </p><p style="color:blue;">要安装和配置mecab解析器插件，请执行以下步骤：</p>
            <div class="orderedlist">
                <ol class="orderedlist" type="1"><li class="listitem"><p>
                    In the MySQL configuration file, set the
                    <a class="link" href="server-administration.html#sysvar_mecab_rc_file"><code class="literal">mecab_rc_file</code></a> configuration
                    option to the location of the <code class="literal">mecabrc</code>
                    configuration file, which is the configuration file for
                    MeCab. If you are using the MeCab package distributed with
                    MySQL, the <code class="literal">mecabrc</code> file is located in
                    <code class="filename">MYSQL_HOME/lib/mecab/etc/</code>.
                </p><p style="color:blue;">在mysql配置文件中，将mecab_rc_file配置选项设置为mecabc配置文件的位置，mecabc配置文件是mecab的配置文件。如果您使用的是随mysql发布的mecab包，那么mecabc文件位于mysql_home/lib/mecab/etc/中。</p><pre data-lang="ini" class="programlisting">[mysqld]
loose-mecab-rc-file=MYSQL_HOME/lib/mecab/etc/mecabrc</pre><p>
                    The <code class="literal">loose</code> prefix is an
                    <a class="link" href="programs.html#option-modifiers" title="4.2.2.4&nbsp;Program Option Modifiers">option modifier</a>. The
                    <a class="link" href="server-administration.html#sysvar_mecab_rc_file"><code class="literal">mecab_rc_file</code></a> option is not
                    recognized by MySQL until the MeCaB parser plugin is
                    installed but it must be set before attempting to install
                    the MeCaB parser plugin. The <code class="literal">loose</code> prefix
                    allows you restart MySQL without encountering an error due
                    to an unrecognized variable.
                </p><p style="color:blue;">松散前缀是一个选项修饰符。在安装mecab解析器插件之前，mysql无法识别mecab_rc_file选项，但必须在尝试安装mecab解析器插件之前设置该选项。松散前缀允许您重新启动mysql，而不会遇到由于无法识别的变量而导致的错误。</p><p>
                    If you use your own MeCab installation, or build MeCab from
                    source, the location of the <code class="filename">mecabrc</code>
                    configuration file may differ.
                </p><p style="color:blue;">如果您使用自己的mecab安装，或从源代码构建mecab，mecabc配置文件的位置可能不同。</p><p>
                    For information about the MySQL configuration file and its
                    location, see <a class="xref" href="programs.html#option-files" title="4.2.2.2&nbsp;Using Option Files">Section&nbsp;4.2.2.2, “Using Option Files”</a>.
                </p><p style="color:blue;">有关mysql配置文件及其位置的信息，请参阅4.2.2.2节，“使用选项文件”。</p></li><li class="listitem"><p>
                    Also in the MySQL configuration file, set the minimum token
                    size to 1 or 2, which are the values recommended for use
                    with the MeCab parser. For <code class="literal">InnoDB</code> tables,
                    minimum token size is defined by the
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_ft_min_token_size"><code class="literal">innodb_ft_min_token_size</code></a>
                    configuration option, which has a default value of 3. For
                    <code class="literal">MyISAM</code> tables, minimum token size is
                    defined by <a class="link" href="server-administration.html#sysvar_ft_min_word_len"><code class="literal">ft_min_word_len</code></a>,
                    which has a default value of 4.
                </p><p style="color:blue;">同样在mysql配置文件中，将最小令牌大小设置为1或2，这是mecab解析器推荐使用的值。对于innodb表，最小令牌大小由innodb ft_min_token_size配置选项定义，默认值为3。对于myisam表，最小标记大小由ft_min_word_len定义，其默认值为4。</p><pre data-lang="ini" class="programlisting">[mysqld]
innodb_ft_min_token_size=1</pre></li><li class="listitem"><p>
                    Modify the <code class="filename">mecabrc</code> configuration file
                    to specify the dictionary you want to use. The
                    <code class="filename">mecab-ipadic</code> package distributed with
                    MySQL binaries includes three dictionaries
                    (<code class="literal">ipadic_euc-jp</code>,
                    <code class="literal">ipadic_sjis</code>, and
                    <code class="literal">ipadic_utf-8</code>). The
                    <code class="filename">mecabrc</code> configuration file packaged
                    with MySQL contains and entry similar to the following:
                </p><p style="color:blue;">修改mecabrc配置文件以指定要使用的字典。与mysql二进制文件一起分发的mecab ipadic包包括三个字典（ipadic_euc-jp、ipadic_sjis和ipadic_utf-8）。与mysql一起打包的mecabrc配置文件包含和条目如下：</p><pre data-lang="ini" class="programlisting">dicdir =  /path/to/mysql/lib/mecab/lib/mecab/dic/ipadic_euc-jp</pre><p>
                    To use the <code class="filename">ipadic_utf-8</code> dictionary, for
                    example, modify the entry as follows:
                </p><p style="color:blue;">例如，要使用ipadic_utf-8字典，请按如下方式修改条目：</p><pre data-lang="ini" class="programlisting">dicdir=<em class="replaceable"><code>MYSQL_HOME</code></em>/lib/mecab/dic/ipadic_utf-8</pre><p>
                    If you are using your own MeCab installation or have built
                    MeCab from source, the default <code class="literal">dicdir</code>
                    entry in the <code class="filename">mecabrc</code> file will differ,
                    as will the dictionaries and their location.
                </p><p style="color:blue;">如果您正在使用自己的mecab安装或已从源代码构建mecab，mecabc文件中的默认dicdir条目将有所不同，词典及其位置也会有所不同。</p>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            After the MeCab parser plugin is installed, you can use
                            the <a class="link" href="server-administration.html#statvar_mecab_charset"><code class="literal">mecab_charset</code></a> status
                            variable to view the character set used with MeCab. The
                            three MeCab dictionaries provided with the MySQL binary
                            support the following character sets.
                        </p><p style="color:blue;">安装mecab解析器插件后，可以使用mecab_charset status变量查看与mecab一起使用的字符集。mysql二进制文件提供的三个mecab字典支持以下字符集。</p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                                The <code class="literal">ipadic_euc-jp</code> dictionary
                                supports the <code class="literal">ujis</code> and
                                <code class="literal">eucjpms</code> character sets.
                            </p><p style="color:blue;">ipadic_euc-jp字典支持ujis和eucjpms字符集。</p></li><li class="listitem"><p>
                                The <code class="literal">ipadic_sjis</code> dictionary supports
                                the <code class="literal">sjis</code> and
                                <code class="literal">cp932</code> character sets.
                            </p><p style="color:blue;">ipadic_sjis字典支持sjis和cp932字符集。</p></li><li class="listitem"><p>
                                The <code class="literal">ipadic_utf-8</code> dictionary
                                supports the <code class="literal">utf8</code> and
                                <code class="literal">utf8mb4</code> character sets.
                            </p><p style="color:blue;">ipadic_utf-8字典支持utf8和utf8mb4字符集。</p></li></ul>
                        </div>
                        <p>
                            <a class="link" href="server-administration.html#statvar_mecab_charset"><code class="literal">mecab_charset</code></a> only
                            reports the first supported character set. For example,
                            the <code class="literal">ipadic_utf-8</code> dictionary supports
                            both <code class="literal">utf8</code> and
                            <code class="literal">utf8mb4</code>.
                            <a class="link" href="server-administration.html#statvar_mecab_charset"><code class="literal">mecab_charset</code></a> always
                            reports <code class="literal">utf8</code> when this dictionary is in
                            use.
                        </p><p style="color:blue;">mecab_charset只报告第一个支持的字符集。例如，ipadic_tf-8字典同时支持utf8和utf8mb4。当这个字典在使用时，mecab_字符集总是报告utf8。</p>
                    </div>
                </li><li class="listitem"><p>
                    Restart MySQL.
                </p><p style="color:blue;">重启mysql。</p></li><li class="listitem"><p>
                    Install the MeCab parser plugin:
                </p><p style="color:blue;">安装mecab解析器插件：</p><p>
                    The MeCab parser plugin is installed using
                    <a class="link" href="sql-syntax.html#install-plugin" title="13.7.3.3&nbsp;INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a> syntax. The
                    plugin name is <code class="filename">mecab</code>, and the shared
                    library name is <code class="filename">libpluginmecab.so</code>. For
                    additional information about installing plugins, see
                    <a class="xref" href="server-administration.html#plugin-loading" title="5.5.1&nbsp;Installing and Uninstalling Plugins">Section&nbsp;5.5.1, “Installing and Uninstalling Plugins”</a>.
                </p><p style="color:blue;">mecab解析器插件使用install plugin语法安装。插件名为mecab，共享库名为libpluginmecab.so。有关安装插件的更多信息，请参阅第5.5.1节“安装和卸载插件”。</p><pre data-lang="sql" class="programlisting">INSTALL PLUGIN mecab SONAME 'libpluginmecab.so';
</pre><p>
                    Once installed, the MeCab parser plugin loads at every
                    normal MySQL restart.
                </p><p style="color:blue;">安装后，mecab解析器插件会在每次正常的mysql重启时加载。</p></li><li class="listitem"><p>
                    Verify that the MeCab parser plugin is loaded using the
                    <a class="link" href="sql-syntax.html#show-plugins" title="13.7.5.25&nbsp;SHOW PLUGINS Syntax"><code class="literal">SHOW PLUGINS</code></a> statement.
                </p><p style="color:blue;">验证是否使用show plugins语句加载了mecab解析器插件。</p><pre data-lang="sql" class="programlisting">mysql&gt; SHOW PLUGINS;</pre><p>
                    A <code class="literal">mecab</code> plugin should appear in the list
                    of plugins.
                </p><p style="color:blue;">mecab插件应该出现在插件列表中。</p></li></ol>
            </div>
            <h4><a name="idm140286849936176"></a>Creating a FULLTEXT Index that uses the MeCab Parser</h4>
            <p>
                To create a <code class="literal">FULLTEXT</code> index that uses the
                mecab parser, specify <code class="literal">WITH PARSER ngram</code> with
                <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>,
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>, or
                <a class="link" href="sql-syntax.html#create-index" title="13.1.14&nbsp;CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>.
            </p><p style="color:blue;">若要创建使用MeCAB解析器的FultLeXT索引，请使用解析器NGRAM与CREATE表、ALTE表或创建索引一起指定。</p><p>
            This example demonstrates creating a table with a
            <code class="literal">mecab</code> <code class="literal">FULLTEXT</code> index,
            inserting sample data, and viewing tokenized data in the
            <a class="link" href="information-schema.html#innodb-ft-index-cache-table" title="24.32.11&nbsp;The INFORMATION_SCHEMA INNODB_FT_INDEX_CACHE Table"><code class="literal">INFORMATION_SCHEMA.INNODB_FT_INDEX_CACHE</code></a>
            table:
        </p><p style="color:blue;">此示例演示如何使用mecab全文索引创建表，插入示例数据，并在information schema.innodb_ft_index_cache表中查看标记化数据：</p><pre data-lang="sql" class="programlisting">mysql&gt; USE test;

mysql&gt; CREATE TABLE articles (
      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
      title VARCHAR(200),
      body TEXT,
      FULLTEXT (title,body) WITH PARSER mecab
    ) ENGINE=InnoDB CHARACTER SET utf8;

mysql&gt; SET NAMES utf8;

mysql&gt; INSERT INTO articles (title,body) VALUES
    ('データベース管理','このチュートリアルでは、私はどのようにデータベースを管理する方法を紹介します'),
    ('データベースアプリケーション開発','データベースアプリケーションを開発することを学ぶ');

mysql&gt; SET GLOBAL innodb_ft_aux_table="test/articles";

mysql&gt; SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_INDEX_CACHE ORDER BY doc_id, position;</pre><p>
            To add a <code class="literal">FULLTEXT</code> index to an existing table,
            you can use <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> or
            <a class="link" href="sql-syntax.html#create-index" title="13.1.14&nbsp;CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>. For example:
        </p><p style="color:blue;">若要向现有表添加FultLeXT索引，可以使用ALTER表或CREATED索引。例如：</p><pre data-lang="sql" class="programlisting">CREATE TABLE articles (
      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
      title VARCHAR(200),
      body TEXT
     ) ENGINE=InnoDB CHARACTER SET utf8;

ALTER TABLE articles ADD FULLTEXT INDEX ft_index (title,body) WITH PARSER mecab;

# Or:

CREATE FULLTEXT INDEX ft_index ON articles (title,body) WITH PARSER mecab;</pre>
            <h4><a name="idm140286849919120"></a>MeCab Parser Space Handling</h4>
            <p>
                The MeCab parser uses spaces as separators in query strings. For
                example, the MeCab parser tokenizes
                <span lang="ja" class="phrase">データベース管理</span> as
                <span lang="ja" class="phrase">データベース</span> and
                <span lang="ja" class="phrase">管理</span>.
            </p><p style="color:blue;">mecab解析器在查询字符串中使用空格作为分隔符。例如，mecab解析器将标记为。</p>
            <h4><a name="idm140286849915792"></a>MeCab Parser Stopword Handling</h4>
            <p>
                By default, the MeCab parser uses the default stopword list,
                which contains a short list of English stopwords. For a stopword
                list applicable to Japanese, you must create your own. For
                information about creating stopword lists, see
                <a class="xref" href="functions.html#fulltext-stopwords" title="12.9.4&nbsp;Full-Text Stopwords">Section&nbsp;12.9.4, “Full-Text Stopwords”</a>.
            </p><p style="color:blue;">默认情况下，mecab解析器使用默认的stopword列表，其中包含一个简短的英语stopwords列表。对于适用于日语的停止词列表，必须创建自己的。有关创建stopword列表的信息，请参阅第12.9.4节“全文stopwords”。</p>
            <h4><a name="idm140286849913728"></a>MeCab Parser Term Search</h4>
            <p>
                For natural language mode search, the search term is converted
                to a union of tokens. For example,
                <span lang="ja" class="phrase">データベース管理</span> is converted
                to <span lang="ja" class="phrase">データベース 管理</span>.
            </p><p style="color:blue;">对于自然语言模式搜索，搜索项将转换为标记的并集。例如，转换为。</p><pre data-lang="sql" class="programlisting">SELECT COUNT(*) FROM articles WHERE MATCH(title,body) AGAINST('データベース管理' IN NATURAL LANGUAGE MODE);</pre><p>
            For boolean mode search, the search term is converted to a
            search phrase. For example,
            <span lang="ja" class="phrase">データベース管理</span> is converted
            to <span lang="ja" class="phrase">データベース 管理</span>.
        </p><p style="color:blue;">对于布尔模式搜索，搜索词将转换为搜索短语。例如，转换为。</p><pre data-lang="sql" class="programlisting">SELECT COUNT(*) FROM articles WHERE MATCH(title,body) AGAINST('データベース管理' IN BOOLEAN MODE);</pre>
            <h4><a name="idm140286849906864"></a>MeCab Parser Wildcard Search</h4>
            <p>
                Wildcard search terms are not tokenized. A search on
                <span lang="ja" class="phrase">データベース管理*</span> is
                performed on the prefix,
                <span lang="ja" class="phrase">データベース管理</span>.
            </p><p style="color:blue;">通配符搜索项未标记化。对前缀进行搜索。</p><pre data-lang="sql" class="programlisting">SELECT COUNT(*) FROM articles WHERE MATCH(title,body) AGAINST('データベース*' IN BOOLEAN MODE);</pre>
            <h4><a name="idm140286849903120"></a>MeCab Parser Phrase Search</h4>
            <p>
                Phrases are tokenized. For example,
                <span lang="ja" class="phrase">データベース管理</span> is tokenized
                as <span lang="ja" class="phrase">データベース 管理</span>.
            </p><p style="color:blue;">短语被标记化。例如，标记为。</p><pre data-lang="sql" class="programlisting">SELECT COUNT(*) FROM articles WHERE MATCH(title,body) AGAINST('"データベース管理"' IN BOOLEAN MODE);</pre>
            <h4><a name="install-mecab-binary"></a>Installing MeCab From a Binary Distribution (Optional)</h4>
            <p>
                This section describes how to install <code class="filename">mecab</code>
                and <code class="filename">mecab-ipadic</code> from a binary distribution
                using a native package management utility. For example, on
                Fedora, you can use Yum to perform the installation:
            </p><p style="color:blue;">本节介绍如何使用本机包管理实用程序从二进制发行版安装mecab和mecab ipadic。例如，在Fedora上，可以使用Yum执行安装：</p><pre data-lang="terminal" class="programlisting">yum mecab-devel</pre><p>
            On Debian or Ubuntu, you can perform an APT installation:
        </p><p style="color:blue;">在debian或ubuntu上，您可以执行apt安装：</p><pre data-lang="terminal" class="programlisting">apt-get install mecab
apt-get install mecab-ipadic</pre>
            <h4><a name="build-mecab-from-source"></a>Installing MeCab From Source (Optional)</h4>
            <p>
                If you want to build <code class="filename">mecab</code> and
                <code class="filename">mecab-ipadic</code> from source, basic
                installation steps are provided below. For additional
                information, refer to the MeCab documentation.
            </p><p style="color:blue;">如果要从源代码构建mecab和mecab ipadic，下面提供了基本的安装步骤。有关更多信息，请参阅MECAB文档。</p>
            <div class="orderedlist">
                <ol class="orderedlist" type="1"><li class="listitem"><p>
                    Download the tar.gz packages for <code class="filename">mecab</code>
                    and <code class="filename">mecab-ipadic</code> from
                    <a class="ulink" href="http://taku910.github.io/mecab/#download" target="_top">http://taku910.github.io/mecab/#download</a>. As
                    of February, 2016, the latest available packages are
                    <code class="filename">mecab-0.996.tar.gz</code> and
                    <code class="filename">mecab-ipadic-2.7.0-20070801.tar.gz</code>.
                </p><p style="color:blue;">从http://taku910.github.io/mecab/下载用于mecab和mecab ipadic的tar.gz包。截至2016年2月，最新提供的软件包是mecab-0.996.tar.gz和mecab-ipadic-2.7.0-20070801.tar.gz。</p></li><li class="listitem"><p>
                    Install <code class="filename">mecab</code>:
                </p><p style="color:blue;">安装mecab：</p><pre data-lang="terminal" class="programlisting">tar zxfv mecab-0.996.tar
cd mecab-0.996
./configure
make
make check
su
make install</pre></li><li class="listitem"><p>
                    Install <code class="filename">mecab-ipadic</code>:
                </p><p style="color:blue;">安装Mecab iPadic：</p><pre data-lang="terminal" class="programlisting">tar zxfv mecab-ipadic-2.7.0-20070801.tar
cd mecab-ipadic-2.7.0-20070801
./configure
make
su
make install</pre></li><li class="listitem"><p>
                    Compile MySQL using the
                    <a class="link" href="installing.html#option_cmake_with_mecab"><code class="option">WITH_MECAB</code></a> CMake option. Set
                    the <a class="link" href="installing.html#option_cmake_with_mecab"><code class="option">WITH_MECAB</code></a> option to
                    <code class="literal">system</code> if you have installed
                    <code class="filename">mecab</code> and
                    <code class="filename">mecab-ipadic</code> to the default location.
                </p><p style="color:blue;">使用with_mecab cmake选项编译mysql。如果已将mecab和mecab ipadic安装到默认位置，请将with_mecab选项设置为system。</p><pre data-lang="terminal" class="programlisting">-DWITH_MECAB=system</pre><p>
                    If you defined a custom installation directory, set
                    <a class="link" href="installing.html#option_cmake_with_mecab"><code class="option">WITH_MECAB</code></a> to the custom
                    directory. For example:
                </p><p style="color:blue;">如果定义了自定义安装目录，请使用“mecab”将其设置为自定义目录。例如：</p><pre data-lang="terminal" class="programlisting">-DWITH_MECAB=/path/to/mecab</pre></li></ol>
            </div>

        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="cast-functions"></a>12.10&nbsp;Cast Functions and Operators</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286849870432"></a><a class="indexterm" name="idm140286849869392"></a><a class="indexterm" name="idm140286849868320"></a><a class="indexterm" name="idm140286849866832"></a><a class="indexterm" name="idm140286849865760"></a>
        <div class="table">
            <a name="idm140286849864272"></a><p class="title"><b>Table&nbsp;12.14&nbsp;Cast Functions and Operators</b></p><p style="color:blue;">表12.14 cast函数和运算符</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists cast functions and operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a></td>
                    <td>
                        Cast a string to a binary string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a></td>
                    <td>
                        Cast a value as a certain type
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a></td>
                    <td>
                        Cast a value as a certain type
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break"><p>
        Cast functions and operators enable conversion of values from one
        data type to another.
    </p><p style="color:blue;">强制转换函数和运算符允许将值从一种数据类型转换为另一种数据类型。</p><p>
        <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> with a
        <code class="literal">USING</code> clause provides a way to convert data
        between different character sets:
    </p><p style="color:blue;">convert（）和using子句提供了在不同字符集之间转换数据的方法：</p><pre data-lang="sql" class="programlisting">CONVERT(<em class="replaceable"><code>expr</code></em> USING <em class="replaceable"><code>transcoding_name</code></em>)
</pre><p>
        In MySQL, transcoding names are the same as the corresponding
        character set names.
    </p><p style="color:blue;">在mysql中，转码名与对应的字符集名相同。</p><p>
        Examples:
    </p><p style="color:blue;">示例：</p><pre data-lang="sql" class="programlisting">SELECT CONVERT(_latin1'Müller' USING utf8);
INSERT INTO utf8_table (utf8_column)
    SELECT CONVERT(latin1_column USING utf8) FROM latin1_table;
</pre><p>
        You can also use <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> without
        <code class="literal">USING</code> or <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a>
        to convert strings between different character sets:
    </p><p style="color:blue;">也可以使用convert（）而不使用或cast（）在不同字符集之间转换字符串：</p><pre data-lang="sql" class="programlisting">CONVERT(<em class="replaceable"><code>string</code></em>, CHAR[(<em class="replaceable"><code>N</code></em>)] CHARACTER SET <em class="replaceable"><code>charset_name</code></em>)
CAST(<em class="replaceable"><code>string</code></em> AS CHAR[(<em class="replaceable"><code>N</code></em>)] CHARACTER SET <em class="replaceable"><code>charset_name</code></em>)
</pre><p>
        Examples:
    </p><p style="color:blue;">示例：</p><pre data-lang="sql" class="programlisting">SELECT CONVERT('test', CHAR CHARACTER SET utf8);
SELECT CAST('test' AS CHAR CHARACTER SET utf8);
</pre><p>
        If you specify <code class="literal">CHARACTER SET
        <em class="replaceable"><code>charset_name</code></em></code> as just shown,
        the resulting character set and collation are
        <em class="replaceable"><code>charset_name</code></em> and the default collation
        of <em class="replaceable"><code>charset_name</code></em>. If you omit
        <code class="literal">CHARACTER SET
            <em class="replaceable"><code>charset_name</code></em></code>, the resulting
        character set and collation are defined by the
        <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
        <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> system
        variables that determine the default connection character set and
        collation (see <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>).
    </p><p style="color:blue;">如果如图所示指定字符集字符集名称，则生成的字符集和排序规则是字符集名称和字符集名称的默认排序规则。如果省略字符集字符集名称，则生成的字符集和排序规则由字符集连接和排序规则连接系统变量定义，该系统变量确定默认连接字符集和排序规则（请参阅第10.4节“连接字符集和排序规则”）。</p><p>
        A <code class="literal">COLLATE</code> clause is not permitted within a
        <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> or
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> call, but you can apply it
        to the function result. For example, this is legal:
    </p><p style="color:blue;">convert（）或cast（）调用中不允许使用collate子句，但可以将其应用于函数结果。例如，这是合法的：</p><pre data-lang="sql" class="programlisting">SELECT CAST('test' AS CHAR CHARACTER SET utf8) COLLATE utf8_bin;
</pre><p>
        But this is illegal:
    </p><p style="color:blue;">但这是违法的：</p><pre data-lang="sql" class="programlisting">SELECT CAST('test' AS CHAR CHARACTER SET utf8 COLLATE utf8_bin);
</pre><p>
        Normally, you cannot compare a <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a>
        value or other binary string in case-insensitive fashion because
        binary strings use the <code class="literal">binary</code> character set,
        which has no collation with the concept of lettercase. To perform
        a case-insensitive comparison, use the
        <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> or
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> function to convert the
        value to a nonbinary string. Comparisons of the resulting string
        use its collation. For example, if the conversion result character
        set has a case-insensitive collation, a
        <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> operation is not case-sensitive:
    </p><p style="color:blue;">通常，不能以不区分大小写的方式比较blob值或其他二进制字符串，因为二进制字符串使用二进制字符集，该字符集与字母大小写的概念没有排序规则。要执行不区分大小写的比较，请使用convert（）或cast（）函数将值转换为非二进制字符串。结果字符串的比较使用其排序规则。例如，如果转换结果字符集具有不区分大小写的排序规则，则LIKE操作不区分大小写：</p><pre data-lang="sql" class="programlisting">SELECT 'A' LIKE CONVERT(<em class="replaceable"><code>blob_col</code></em> USING latin1)
  FROM <em class="replaceable"><code>tbl_name</code></em>;
</pre><p>
        To use a different character set, substitute its name for
        <code class="literal">latin1</code> in the preceding statement. To specify a
        particular collation for the converted string, use a
        <code class="literal">COLLATE</code> clause following the
        <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> call:
    </p><p style="color:blue;">若要使用其他字符集，请在前面的语句中将其名称替换为latin1。要为转换的字符串指定特定的排序规则，请在convert（）调用后使用collate子句：</p><pre data-lang="sql" class="programlisting">SELECT 'A' LIKE CONVERT(<em class="replaceable"><code>blob_col</code></em> USING latin1) COLLATE latin1_german1_ci
  FROM <em class="replaceable"><code>tbl_name</code></em>;
</pre><p>
        <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> and
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> can be used more generally
        for comparing strings that are represented in different character
        sets. For example, a comparison of these strings results in an
        error because they have different character sets:
    </p><p style="color:blue;">convert（）和cast（）更常用于比较不同字符集中表示的字符串。例如，比较这些字符串会导致错误，因为它们具有不同的字符集：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @s1 = _latin1 'abc', @s2 = _latin2 'abc';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @s1 = @s2;</code></strong>
ERROR 1267 (HY000): Illegal mix of collations (latin1_swedish_ci,IMPLICIT)
and (latin2_general_ci,IMPLICIT) for operation '='
</pre><p>
        Converting one of the strings to a character set compatible with
        the other enables the comparison to occur without error:
    </p><p style="color:blue;">将其中一个字符串转换为与另一个字符串兼容的字符集，可以进行比较而不会出错：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT @s1 = CONVERT(@s2 USING latin1);</code></strong>
+---------------------------------+
| @s1 = CONVERT(@s2 USING latin1) |
+---------------------------------+
|                               1 |
+---------------------------------+
</pre><p>
        For string literals, another way to specify the character set is
        to use a character set introducer (<code class="literal">_latin1</code> and
        <code class="literal">_latin2</code> in the preceding example are instances
        of introducers). Unlike conversion functions such as
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a>, or
        <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a>, which convert a string
        from one character set to another, an introducer designates a
        string literal as having a particular character set, with no
        conversion involved. For more information, see
        <a class="xref" href="charset.html#charset-introducer" title="10.3.8&nbsp;Character Set Introducers">Section&nbsp;10.3.8, “Character Set Introducers”</a>.
    </p><p style="color:blue;">对于字符串文字，指定字符集的另一种方法是使用字符集介绍人（前例中的拉丁1和拉丁2是介绍人的实例）。与转换函数（如cast（）或convert（）将字符串从一个字符集转换为另一个字符集）不同，介绍人将字符串文字指定为具有特定字符集，而不涉及转换。有关详细信息，请参见第10.3.8节“字符集介绍人”。</p><p>
        Character set conversion is also useful preceding lettercase
        conversion of binary strings.
        <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a> and
        <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a> are ineffective when
        applied directly to binary strings because the concept of
        lettercase does not apply. To perform lettercase conversion of a
        binary string, first convert it to a nonbinary string:
    </p><p style="color:blue;">字符集转换在二进制字符串的字母大小写转换之前也是有用的。直接应用于二进制字符串时，lower（）和upper（）无效，因为字母大小写的概念不适用。要对二进制字符串执行字母大小写转换，请首先将其转换为非二进制字符串：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @str = BINARY 'New York';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT LOWER(@str), LOWER(CONVERT(@str USING latin1));</code></strong>
+-------------+-----------------------------------+
| LOWER(@str) | LOWER(CONVERT(@str USING latin1)) |
+-------------+-----------------------------------+
| New York    | new york                          |
+-------------+-----------------------------------+
</pre><p>
        If you convert an indexed column using
        <a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a>,
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a>, or
        <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a>, MySQL may not be able to
        use the index efficiently.
    </p><p style="color:blue;">如果使用binary、cast（）或convert（）转换索引列，MySQL可能无法有效地使用索引。</p><p>
        The cast functions are useful for creating a column with a
        specific type in a
        <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
            SELECT</code></a> statement:
    </p><p style="color:blue;">cast函数对于在create表中创建具有特定类型的列非常有用…选择语句：</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE TABLE new_table SELECT CAST('2000-01-01' AS DATE) AS c1;</code></strong>
mysql&gt; <strong class="userinput"><code>SHOW CREATE TABLE new_table\G</code></strong>
*************************** 1. row ***************************
       Table: new_table
Create Table: CREATE TABLE `new_table` (
  `c1` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1
</pre><p>
        The cast functions are useful for sorting
        <a class="link" href="data-types.html#enum" title="11.4.4&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> columns in lexical order.
        Normally, sorting of <a class="link" href="data-types.html#enum" title="11.4.4&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> columns
        occurs using the internal numeric values. Casting the values to
        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> results in a lexical sort:
    </p><p style="color:blue;">CAST函数以枚举顺序排序枚举列是有用的。通常，使用内部数值对枚举列进行排序。将值转换为字符，结果为词汇排序：</p><pre data-lang="sql" class="programlisting">SELECT <em class="replaceable"><code>enum_col</code></em> FROM <em class="replaceable"><code>tbl_name</code></em> ORDER BY CAST(<em class="replaceable"><code>enum_col</code></em> AS CHAR);
</pre><p>
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> also changes the result if
        you use it as part of a more complex expression such as
        <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT('Date: ',CAST(NOW() AS
            DATE))</code></a>.
    </p><p style="color:blue;">如果将结果用作更复杂表达式（如concat（'date:'，cast（now（）as date））的一部分，cast（）还会更改结果。</p><p>
        For temporal values, there is little need to use
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> to extract data in different
        formats. Instead, use a function such as
        <a class="link" href="functions.html#function_extract"><code class="literal">EXTRACT()</code></a>,
        <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a>, or
        <a class="link" href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a>. See
        <a class="xref" href="functions.html#date-and-time-functions" title="12.7&nbsp;Date and Time Functions">Section&nbsp;12.7, “Date and Time Functions”</a>.
    </p><p style="color:blue;">对于时态值，不需要使用cast（）来提取不同格式的数据。相反，请使用extract（）、date_format（）或time_format（）等函数。见第12.7节“日期和时间功能”。</p><p>
        To cast a string to a number, you normally need do nothing other
        than use the string value in numeric context:
    </p><p style="color:blue;">要将字符串转换为数字，通常只需在数字上下文中使用字符串值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1+'1';</code></strong>
       -&gt; 2
</pre><p>
        That is also true for hexadecimal and bit literals, which are
        binary strings by default:
    </p><p style="color:blue;">对于十六进制和位文本（默认为二进制字符串）也是如此：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT X'41', X'41'+0;</code></strong>
        -&gt; 'A', 65
mysql&gt; <strong class="userinput"><code>SELECT b'1100001', b'1100001'+0;</code></strong>
        -&gt; 'a', 97
</pre><p>
        A string used in an arithmetic operation is converted to a
        floating-point number during expression evaluation.
    </p><p style="color:blue;">算术运算中使用的字符串在表达式求值期间转换为浮点数。</p><p>
        A number used in string context is converted to a string:
    </p><p style="color:blue;">字符串上下文中使用的数字转换为字符串：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONCAT('hello you ',2);</code></strong>
        -&gt; 'hello you 2'
</pre><p>
        For information about implicit conversion of numbers to strings,
        see <a class="xref" href="functions.html#type-conversion" title="12.2&nbsp;Type Conversion in Expression Evaluation">Section&nbsp;12.2, “Type Conversion in Expression Evaluation”</a>.
    </p><p style="color:blue;">有关将数字隐式转换为字符串的信息，请参见第12.2节“表达式求值中的类型转换”。</p><p>
        MySQL supports arithmetic with both signed and unsigned 64-bit
        values. For numeric operators (such as
        <a class="link" href="functions.html#operator_plus"><code class="literal">+</code></a> or
        <a class="link" href="functions.html#operator_minus"><code class="literal">-</code></a>) where one of the
        operands is an unsigned integer, the result is unsigned by default
        (see <a class="xref" href="functions.html#arithmetic-functions" title="12.6.1&nbsp;Arithmetic Operators">Section&nbsp;12.6.1, “Arithmetic Operators”</a>). To override this,
        use the <code class="literal">SIGNED</code> or <code class="literal">UNSIGNED</code>
        cast operator to cast a value to a signed or unsigned 64-bit
        integer, respectively.
    </p><p style="color:blue;">mysql支持64位有符号和无符号值的算术。对于其中一个操作数是无符号整数的数字运算符（如+或-），默认情况下结果是无符号的（请参阅第12.6.1节“算术运算符”）。要重写此值，请使用有符号或无符号转换运算符将值分别转换为有符号或无符号64位整数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 - 2;</code></strong>
        -&gt; -1
mysql&gt; <strong class="userinput"><code>SELECT CAST(1 - 2 AS UNSIGNED);</code></strong>
        -&gt; 18446744073709551615
mysql&gt; <strong class="userinput"><code>SELECT CAST(CAST(1 - 2 AS UNSIGNED) AS SIGNED);</code></strong>
        -&gt; -1
</pre><p>
        If either operand is a floating-point value, the result is a
        floating-point value and is not affected by the preceding rule.
        (In this context, <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> column
        values are regarded as floating-point values.)
    </p><p style="color:blue;">如果其中一个操作数是浮点值，则结果是浮点值，不受前面规则的影响。（在此上下文中，十进制列值被视为浮点值。）</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CAST(1 AS UNSIGNED) - 2.0;</code></strong>
        -&gt; -1.0
</pre><p>
        The SQL mode affects the result of conversion operations (see
        <a class="xref" href="server-administration.html#sql-mode" title="5.1.10&nbsp;Server SQL Modes">Section&nbsp;5.1.10, “Server SQL Modes”</a>). Examples:
    </p><p style="color:blue;">SQL模式会影响转换操作的结果（请参阅第5.1.10节“服务器SQL模式”）。示例：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                For conversion of a <span class="quote">“<span class="quote">zero</span>”</span> date string to a date,
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> and
                <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> return
                <code class="literal">NULL</code> and produce a warning when the
                <a class="link" href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> SQL mode is
                enabled.
            </p><p style="color:blue;">若要将“零”日期字符串转换为日期，convert（）和cast（）将返回空值，并在启用“无零”日期SQL模式时生成警告。</p></li><li class="listitem"><p>
                For integer subtraction, if the
                <a class="link" href="server-administration.html#sqlmode_no_unsigned_subtraction"><code class="literal">NO_UNSIGNED_SUBTRACTION</code></a> SQL
                mode is enabled, the subtraction result is signed even if any
                operand is unsigned.
            </p><p style="color:blue;">对于整数减法，如果启用了无符号减法SQL模式，则即使任何操作数是无符号的，减法结果也是有符号的。</p></li></ul>
        </div>
        <p>
            The following list describes the available cast functions and
            operators:
        </p><p style="color:blue;">以下列表描述了可用的转换函数和运算符：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_binary"></a><p>
                <a class="indexterm" name="idm140286849729680"></a>

                <a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a>
                <em class="replaceable"><code>expr</code></em>
            </p><p style="color:blue;">二进制表达式</p><p>
                The <a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a> operator converts the
                expression to a binary string. A common use for
                <a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a> is to force a character
                string comparison to be done byte by byte rather than
                character by character, in effect becoming case-sensitive. The
                <a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a> operator also causes
                trailing spaces in comparisons to be significant.
            </p><p style="color:blue;">二进制运算符将表达式转换为二进制字符串。二进制文件的一个常见用法是强制逐字节进行字符串比较，而不是逐字符进行比较，这实际上会变得区分大小写。二元运算符也会导致比较中的尾随空格有意义。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'a' = 'A';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT BINARY 'a' = 'A';</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 'a' = 'a ';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT BINARY 'a' = 'a ';</code></strong>
        -&gt; 0
</pre><p>
                In a comparison, <a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a> affects
                the entire operation; it can be given before either operand
                with the same result.
            </p><p style="color:blue;">在比较中，二进制影响整个操作；它可以在两个操作数之前给定，结果相同。</p><p>
                For purposes of converting a string expression to a binary
                string, these constructs are equivalent:
            </p><p style="color:blue;">为了将字符串表达式转换为二进制字符串，这些构造是等效的：</p><pre data-lang="sql" class="programlisting">BINARY <em class="replaceable"><code>expr</code></em>
CAST(<em class="replaceable"><code>expr</code></em> AS BINARY)
CONVERT(<em class="replaceable"><code>expr</code></em> USING BINARY)
</pre><p>
                If a value is a string literal, it can be designated as a
                binary string without performing any conversion by using the
                <code class="literal">_binary</code> character set introducer:
            </p><p style="color:blue;">如果值是字符串文字，则可以将其指定为二进制字符串，而无需使用二进制字符集导入器执行任何转换：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 'a' = 'A';</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT _binary 'a' = 'A';</code></strong>
        -&gt; 0
</pre><p>
                For information about introducers, see
                <a class="xref" href="charset.html#charset-introducer" title="10.3.8&nbsp;Character Set Introducers">Section&nbsp;10.3.8, “Character Set Introducers”</a>.
            </p><p style="color:blue;">有关介绍人的信息，请参见第10.3.8节“字符集介绍人”。</p><p>
                The <a class="link" href="functions.html#operator_binary"><code class="literal">BINARY</code></a> operator in
                expressions differs in effect from the
                <code class="literal">BINARY</code> attribute in character column
                definitions. A character column defined with the
                <code class="literal">BINARY</code> attribute is assigned table default
                character set and the binary (<code class="literal">_bin</code>)
                collation of that character set. Every nonbinary character set
                has a <code class="literal">_bin</code> collation. For example, the
                binary collation for the <code class="literal">utf8</code> character set
                is <code class="literal">utf8_bin</code>, so if the table default
                character set is <code class="literal">utf8</code>, these two column
                definitions are equivalent:
            </p><p style="color:blue;">表达式中的二进制运算符在效果上与字符列定义中的二进制属性不同。使用binary属性定义的字符列被分配表默认字符集和该字符集的二进制（_bin）排序规则。每个非二进制字符集都有一个二进制排序规则。例如，utf8字符集的二进制排序规则是utf8_bin，因此如果表默认字符集是utf8，则这两个列定义是等效的：</p><pre data-lang="sql" class="programlisting">CHAR(10) BINARY
CHAR(10) CHARACTER SET utf8 COLLATE utf8_bin
</pre><p>
                The use of <code class="literal">CHARACTER SET binary</code> in the
                definition of a <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
                <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, or
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column causes the column
                to be treated as the corresponding binary string data type.
                For example, the following pairs of definitions are
                equivalent:
            </p><p style="color:blue;">在char、varchar或text列的定义中使用字符集binary会将该列视为相应的二进制字符串数据类型。例如，以下定义对是等效的：</p><pre data-lang="sql" class="programlisting">CHAR(10) CHARACTER SET binary
BINARY(10)

VARCHAR(10) CHARACTER SET binary
VARBINARY(10)

TEXT CHARACTER SET binary
BLOB
</pre></li><li class="listitem"><a name="function_cast"></a><p>
                <a class="indexterm" name="idm140286849689968"></a>

                <a class="link" href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>expr</code></em> AS
                    <em class="replaceable"><code>type</code></em>)</code></a>
            </p><p style="color:blue;">转换（expr as type）</p><p>
                The <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> function takes an
                expression of any type and produces a result value of the
                specified type, similar to
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a>. For more
                information, see the description of
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a>.
            </p><p style="color:blue;">函数的作用是：获取任意类型的表达式，并生成指定类型的结果值，与convert（）类似。有关详细信息，请参见convert（）的说明。</p><p>
                <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> is standard SQL syntax.
            </p><p style="color:blue;">cast（）是标准的SQL语法。</p></li><li class="listitem"><a name="function_convert"></a><p>
                <a class="indexterm" name="idm140286849676032"></a>

                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT(<em class="replaceable"><code>expr</code></em>,<em class="replaceable"><code>type</code></em>)</code></a>,
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT(<em class="replaceable"><code>expr</code></em>
                    USING <em class="replaceable"><code>transcoding_name</code></em>)</code></a>
            </p><p style="color:blue;">convert（expr，type），convert（expr使用转码名）</p><p>
                The <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> function takes an
                expression of any type and produces a result value of the
                specified type.
            </p><p style="color:blue;">convert（）函数接受任何类型的表达式，并生成指定类型的结果值。</p><p>
                Discussion of
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT(<em class="replaceable"><code>expr</code></em>,
                    <em class="replaceable"><code>type</code></em>)</code></a> syntax here also
                applies to
                <a class="link" href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>expr</code></em> AS
                    <em class="replaceable"><code>type</code></em>)</code></a>, which is
                equivalent.
            </p><p style="color:blue;">这里对convert（expr，type）语法的讨论也适用于cast（expr as type），它是等价的。</p><p>
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT(... USING ...)</code></a> is
                standard SQL syntax. The non-<code class="literal">USING</code> form of
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> is ODBC syntax.
            </p><p style="color:blue;">转换（…使用…）是标准的SQL语法。convert（）的非使用形式是ODBC语法。</p><p>
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> with
                <code class="literal">USING</code> converts data between different
                character sets. In MySQL, transcoding names are the same as
                the corresponding character set names. For example, this
                statement converts the string <code class="literal">'abc'</code> in the
                default character set to the corresponding string in the
                <code class="literal">utf8</code> character set:
            </p><p style="color:blue;">convert（）使用在不同字符集之间转换数据。在mysql中，转码名与对应的字符集名相同。例如，此语句将默认字符集中的字符串“abc”转换为utf8字符集中的相应字符串：</p><pre data-lang="sql" class="programlisting">SELECT CONVERT('abc' USING utf8);
</pre><p>
                <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> without
                <code class="literal">USING</code> and
                <a class="link" href="functions.html#function_cast"><code class="literal">CAST()</code></a> take an expression and a
                <em class="replaceable"><code>type</code></em> value specifying the result
                type. These <em class="replaceable"><code>type</code></em> values are
                permitted:
            </p><p style="color:blue;">convert（）不使用and cast（）获取一个表达式和一个指定结果类型的类型值。允许这些类型值：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <code class="literal">BINARY[(<em class="replaceable"><code>N</code></em>)]</code>
                    </p><p style="color:blue;">二进制[（n）]</p><p>
                        Produces a string with the
                        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a> data type. See
                        <a class="xref" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types">Section&nbsp;11.4.2, “The BINARY and VARBINARY Types”</a> for a description of
                        how this affects comparisons. If the optional length
                        <em class="replaceable"><code>N</code></em> is given,
                        <code class="literal">BINARY(<em class="replaceable"><code>N</code></em>)</code>
                        causes the cast to use no more than
                        <em class="replaceable"><code>N</code></em> bytes of the argument. Values
                        shorter than <em class="replaceable"><code>N</code></em> bytes are padded
                        with <code class="literal">0x00</code> bytes to a length of
                        <em class="replaceable"><code>N</code></em>.
                    </p><p style="color:blue;">生成具有二进制数据类型的字符串。请参阅11.4.2节“二进制和varbinary类型”以了解这如何影响比较。如果给定了可选长度n，binary（n）将导致转换使用不超过n个字节的参数。小于n字节的值用0x00字节填充，长度为n。</p></li><li class="listitem"><p>
                        <code class="literal">CHAR[(<em class="replaceable"><code>N</code></em>)]
                            [<em class="replaceable"><code>charset_info</code></em>]</code>
                    </p><p style="color:blue;">字符[（n）][字符集信息]</p><p>
                        Produces a string with the
                        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> data type. If the
                        optional length <em class="replaceable"><code>N</code></em> is given,
                        <code class="literal">CHAR(<em class="replaceable"><code>N</code></em>)</code>
                        causes the cast to use no more than
                        <em class="replaceable"><code>N</code></em> characters of the argument.
                        No padding occurs for values shorter than
                        <em class="replaceable"><code>N</code></em> characters.
                    </p><p style="color:blue;">生成具有char数据类型的字符串。如果给定了可选长度n，char（n）将导致强制转换使用不超过n个字符的参数。小于n个字符的值不会出现填充。</p><p>
                        With no <em class="replaceable"><code>charset_info</code></em> clause,
                        <code class="literal">CHAR</code> produces a string with the default
                        character set. To specify the character set explicitly,
                        these <em class="replaceable"><code>charset_info</code></em> values are
                        permitted:
                    </p><p style="color:blue;">如果没有char set_info子句，char将生成具有默认字符集的字符串。要显式指定字符集，允许使用以下字符集信息值：</p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                                <code class="literal">CHARACTER SET
                                    <em class="replaceable"><code>charset_name</code></em></code>:
                                Produces a string with the given character set.
                            </p><p style="color:blue;">字符集字符集名称：生成具有给定字符集的字符串。</p></li><li class="listitem"><p>
                                <code class="literal">ASCII</code>: Shorthand for
                                <code class="literal">CHARACTER SET latin1</code>.
                            </p><p style="color:blue;">ascii：字符集latin1的简写。</p></li><li class="listitem"><p>
                                <code class="literal">UNICODE</code>: Shorthand for
                                <code class="literal">CHARACTER SET ucs2</code>.
                            </p><p style="color:blue;">unicode：字符集ucs2的简写。</p></li></ul>
                        </div>
                        <p>
                            In all cases, the string has the default collation for the
                            character set.
                        </p><p style="color:blue;">在所有情况下，字符串都具有字符集的默认排序规则。</p></li><li class="listitem"><p>
                        <code class="literal">DATE</code>
                    </p><p style="color:blue;">日期</p><p>
                        Produces a <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> value.
                    </p><p style="color:blue;">生成日期值。</p></li><li class="listitem"><p>
                        <code class="literal">DATETIME</code>
                    </p><p style="color:blue;">日期时间</p><p>
                        Produces a <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> value.
                    </p><p style="color:blue;">生成日期时间值。</p></li><li class="listitem"><p>
                        <code class="literal">DECIMAL[(<em class="replaceable"><code>M</code></em>[,<em class="replaceable"><code>D</code></em>])]</code>
                    </p><p style="color:blue;">十进制[（m[，d]）]</p><p>
                        Produces a <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> value.
                        If the optional <em class="replaceable"><code>M</code></em> and
                        <em class="replaceable"><code>D</code></em> values are given, they
                        specify the maximum number of digits (the precision) and
                        the number of digits following the decimal point (the
                        scale).
                    </p><p style="color:blue;">产生十进制值。如果给出了可选的m和d值，则它们指定数字的最大数目（精度）和小数点之后的位数（比例尺）。</p></li><li class="listitem"><p>
                        <code class="literal">JSON</code> (added in MySQL 5.7.8)
                    </p><p style="color:blue;">json（在mysql 5.7.8中添加）</p><p>
                        Produces a <a class="link" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type"><code class="literal">JSON</code></a> value. For
                        details on the rules for conversion of values between
                        <a class="link" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type"><code class="literal">JSON</code></a> and other types, see
                        <a class="xref" href="data-types.html#json-comparison" title="Comparison and Ordering of JSON Values">Comparison and Ordering of JSON Values</a>.
                    </p><p style="color:blue;">生成一个json值。有关json和其他类型之间的值转换规则的详细信息，请参阅json值的比较和排序。</p></li><li class="listitem"><p>
                        <code class="literal">NCHAR[(<em class="replaceable"><code>N</code></em>)]</code>
                    </p><p style="color:blue;">nchar[（n）]</p><p>
                        Like <code class="literal">CHAR</code>, but produces a string with
                        the national character set. See
                        <a class="xref" href="charset.html#charset-national" title="10.3.7&nbsp;The National Character Set">Section&nbsp;10.3.7, “The National Character Set”</a>.
                    </p><p style="color:blue;">与char类似，但生成具有国家字符集的字符串。见第10.3.7节“民族性格集”。</p><p>
                        Unlike <code class="literal">CHAR</code>, <code class="literal">NCHAR</code>
                        does not permit trailing character set information to be
                        specified.
                    </p><p style="color:blue;">与char不同，nchar不允许指定尾部字符集信息。</p></li><li class="listitem"><p>
                        <code class="literal">SIGNED [INTEGER]</code>
                    </p><p style="color:blue;">有符号[整数]</p><p>
                        Produces a signed integer value.
                    </p><p style="color:blue;">生成有符号整数值。</p></li><li class="listitem"><p>
                        <code class="literal">TIME</code>
                    </p><p style="color:blue;">时间</p><p>
                        Produces a <a class="link" href="data-types.html#time" title="11.3.2&nbsp;The TIME Type"><code class="literal">TIME</code></a> value.
                    </p><p style="color:blue;">生成时间值。</p></li><li class="listitem"><p>
                        <code class="literal">UNSIGNED [INTEGER]</code>
                    </p><p style="color:blue;">无符号[整数]</p><p>
                        Produces an unsigned integer value.
                    </p><p style="color:blue;">生成无符号整数值。</p></li></ul>
                </div>
            </li></ul>
        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="xml-functions"></a>12.11&nbsp;XML Functions</h2>

                </div>

            </div>

        </div>

        <div class="table">
            <a name="idm140286849594832"></a><p class="title"><b>Table&nbsp;12.15&nbsp;XML Functions</b></p><p style="color:blue;">表12.15 XML函数</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists XML functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a></td>
                    <td>
                        Extract a value from an XML string using XPath notation
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a></td>
                    <td>
                        Return replaced XML fragment
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break"><p>
        This section discusses XML and related functionality in MySQL.
    </p><p style="color:blue;">本节讨论mysql中的xml和相关功能。</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

            <div class="admon-title">
                Note
            </div>
            <p>
                It is possible to obtain XML-formatted output from MySQL in the
                <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> and <a class="link" href="programs.html#mysqldump" title="4.5.4&nbsp;mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>
                clients by invoking them with the
                <a class="link" href="programs.html#option_mysql_xml"><code class="option">--xml</code></a> option. See
                <a class="xref" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client">Section&nbsp;4.5.1, “<span class="command"><strong>mysql</strong></span> — The MySQL Command-Line Client”</a>, and <a class="xref" href="programs.html#mysqldump" title="4.5.4&nbsp;mysqldump — A Database Backup Program">Section&nbsp;4.5.4, “<span class="command"><strong>mysqldump</strong></span> — A Database Backup Program”</a>.
            </p><p style="color:blue;">通过使用--xml选项调用mysql和mysqldump客户机，可以从mysql获取xml格式的输出。参见第4.5.1节，“mysql-mysql命令行客户机”和第4.5.4节，“mysqldump-数据库备份程序”。</p>
        </div>
        <p>
            Two functions providing basic XPath 1.0 (XML Path Language,
            version 1.0) capabilities are available. Some basic information
            about XPath syntax and usage is provided later in this section;
            however, an in-depth discussion of these topics is beyond the
            scope of this manual, and you should refer to the
            <a class="ulink" href="http://www.w3.org/TR/xpath" target="_top">XML Path Language (XPath)
                1.0 standard</a> for definitive information. A useful resource
            for those new to XPath or who desire a refresher in the basics is
            the <a class="ulink" href="http://www.zvon.org/xxl/XPathTutorial/" target="_top">Zvon.org
            XPath Tutorial</a>, which is available in several languages.
        </p><p style="color:blue;">提供了两个提供基本xpath 1.0（xml路径语言，版本1.0）功能的函数。本节稍后将提供有关xpath语法和用法的一些基本信息；但是，对这些主题的深入讨论超出了本手册的范围，您应该参考xml路径语言（xpath）1.0标准以获得明确的信息。对于那些刚接触xpath或希望重新学习基础知识的人来说，zvon.org xpath教程是一个有用的资源，它有多种语言版本。</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

            <div class="admon-title">
                Note
            </div>
            <p>
                These functions remain under development. We continue to improve
                these and other aspects of XML and XPath functionality in MySQL
                5.7 and onwards. You may discuss these, ask
                questions about them, and obtain help from other users with them
                in the <a class="ulink" href="https://forums.mysql.com/list.php?44" target="_top">MySQL XML User
                Forum</a>.
            </p><p style="color:blue;">这些功能仍在开发中。我们将继续改进mysql 5.7及以后版本中xml和xpath功能的这些方面和其他方面。您可以在mysql xml用户论坛中讨论这些问题，提出有关这些问题的问题，并获得其他用户的帮助。</p>
        </div>
        <p>
            XPath expressions used with these functions support user variables
            and local stored program variables. User variables are weakly
            checked; variables local to stored programs are strongly checked
            (see also Bug #26518):
        </p><p style="color:blue;">与这些函数一起使用的xpath表达式支持用户变量和本地存储的程序变量。弱检查用户变量；强检查存储程序的本地变量（另请参阅错误26518）：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>User variables (weak checking).&nbsp;</b>
                Variables using the syntax
                <code class="literal">$@<em class="replaceable"><code>variable_name</code></em></code>
                (that is, user variables) are not checked. No warnings or
                errors are issued by the server if a variable has the wrong
                type or has previously not been assigned a value. This also
                means the user is fully responsible for any typographical
                errors, since no warnings will be given if (for example)
                <code class="literal">$@myvariable</code> is used where
                <code class="literal">$@myvariable</code> was intended.
            </p><p style="color:blue;">用户变量（弱检查）。不检查使用语法$@variable_name（即用户变量）的变量。如果变量的类型错误或以前没有分配值，则服务器不会发出警告或错误。这也意味着用户对任何印刷错误负有全部责任，因为如果（例如）在$@myvariable的目的地使用$@myvariable，则不会发出警告。</p><p>
                Example:
            </p><p style="color:blue;">例子：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @xml = '&lt;a&gt;&lt;b&gt;X&lt;/b&gt;&lt;b&gt;Y&lt;/b&gt;&lt;/a&gt;';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SET @i =1, @j = 2;</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @i, ExtractValue(@xml, '//b[$@i]');</code></strong>
+------+--------------------------------+
| @i   | ExtractValue(@xml, '//b[$@i]') |
+------+--------------------------------+
|    1 | X                              |
+------+--------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @j, ExtractValue(@xml, '//b[$@j]');</code></strong>
+------+--------------------------------+
| @j   | ExtractValue(@xml, '//b[$@j]') |
+------+--------------------------------+
|    2 | Y                              |
+------+--------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @k, ExtractValue(@xml, '//b[$@k]');</code></strong>
+------+--------------------------------+
| @k   | ExtractValue(@xml, '//b[$@k]') |
+------+--------------------------------+
| NULL |                                |
+------+--------------------------------+
1 row in set (0.00 sec)
</pre></li><li class="listitem"><p><b>Variables in stored programs (strong checking).&nbsp;</b>
                Variables using the syntax
                <code class="literal">$<em class="replaceable"><code>variable_name</code></em></code>
                can be declared and used with these functions when they are
                called inside stored programs. Such variables are local to
                the stored program in which they are defined, and are
                strongly checked for type and value.
            </p><p style="color:blue;">存储程序中的变量（强检查）。当在存储程序中调用使用语法$variable_name的变量时，可以将其声明并与这些函数一起使用。这些变量是在其中定义它们的存储程序的本地变量，并且会对其类型和值进行强检查。</p><p>
                Example:
            </p><p style="color:blue;">例子：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>DELIMITER |</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE PROCEDURE myproc ()</code></strong>
    -&gt; <strong class="userinput"><code>BEGIN</code></strong>
    -&gt;   <strong class="userinput"><code>DECLARE i INT DEFAULT 1;</code></strong>
    -&gt;   <strong class="userinput"><code>DECLARE xml VARCHAR(25) DEFAULT '&lt;a&gt;X&lt;/a&gt;&lt;a&gt;Y&lt;/a&gt;&lt;a&gt;Z&lt;/a&gt;';</code></strong>
    -&gt;
    -&gt;   <strong class="userinput"><code>WHILE i &lt; 4 DO</code></strong>
    -&gt;     <strong class="userinput"><code>SELECT xml, i, ExtractValue(xml, '//a[$i]');</code></strong>
    -&gt;     <strong class="userinput"><code>SET i = i+1;</code></strong>
    -&gt;   <strong class="userinput"><code>END WHILE;</code></strong>
    -&gt; <strong class="userinput"><code>END |</code></strong>
Query OK, 0 rows affected (0.01 sec)

mysql&gt; <strong class="userinput"><code>DELIMITER ;</code></strong>

mysql&gt; <strong class="userinput"><code>CALL myproc();</code></strong>
+--------------------------+---+------------------------------+
| xml                      | i | ExtractValue(xml, '//a[$i]') |
+--------------------------+---+------------------------------+
| &lt;a&gt;X&lt;/a&gt;&lt;a&gt;Y&lt;/a&gt;&lt;a&gt;Z&lt;/a&gt; | 1 | X                            |
+--------------------------+---+------------------------------+
1 row in set (0.00 sec)

+--------------------------+---+------------------------------+
| xml                      | i | ExtractValue(xml, '//a[$i]') |
+--------------------------+---+------------------------------+
| &lt;a&gt;X&lt;/a&gt;&lt;a&gt;Y&lt;/a&gt;&lt;a&gt;Z&lt;/a&gt; | 2 | Y                            |
+--------------------------+---+------------------------------+
1 row in set (0.01 sec)

+--------------------------+---+------------------------------+
| xml                      | i | ExtractValue(xml, '//a[$i]') |
+--------------------------+---+------------------------------+
| &lt;a&gt;X&lt;/a&gt;&lt;a&gt;Y&lt;/a&gt;&lt;a&gt;Z&lt;/a&gt; | 3 | Z                            |
+--------------------------+---+------------------------------+
1 row in set (0.01 sec)
</pre><p><b>Parameters.&nbsp;</b>
                Variables used in XPath expressions inside stored routines
                that are passed in as parameters are also subject to strong
                checking.
            </p><p style="color:blue;">参数。存储例程中的xpath表达式中使用的变量（作为参数传入）也要进行强检查。</p></li></ul>
        </div>
        <p>
            Expressions containing user variables or variables local to stored
            programs must otherwise (except for notation) conform to the rules
            for XPath expressions containing variables as given in the XPath
            1.0 specification.
        </p><p style="color:blue;">包含用户变量或存储程序本地变量的表达式（符号除外）必须符合xpath 1.0规范中给出的包含变量的xpath表达式的规则。</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

            <div class="admon-title">
                Note
            </div>
            <p>
                A user variable used to store an XPath expression is treated as
                an empty string. Because of this, it is not possible to store an
                XPath expression as a user variable. (Bug #32911)
            </p><p style="color:blue;">用于存储xpath表达式的用户变量被视为空字符串。因此，无法将xpath表达式存储为用户变量。（错误32911）</p>
        </div>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_extractvalue"></a><p>
                <a class="indexterm" name="idm140286849539776"></a>

                <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue(<em class="replaceable"><code>xml_frag</code></em>,
                    <em class="replaceable"><code>xpath_expr</code></em>)</code></a>
            </p><p style="color:blue;">extractValue（xml_frag，xpath_expr）</p><p>
                <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> takes two string
                arguments, a fragment of XML markup
                <em class="replaceable"><code>xml_frag</code></em> and an XPath expression
                <em class="replaceable"><code>xpath_expr</code></em> (also known as a
                <span class="firstterm">locator</span>); it returns the
                text (<code class="literal">CDATA</code>) of the first text node which
                is a child of the element or elements matched by the XPath
                expression.
            </p><p style="color:blue;">extractValue（）接受两个字符串参数，一个是XML标记XML片段，另一个是xpath表达式xpath expr（也称为定位符）；它返回第一个文本节点的文本（cdata），该文本节点是与xpath表达式匹配的一个或多个元素的子节点。</p><p>
                Using this function is the equivalent of performing a match
                using the <em class="replaceable"><code>xpath_expr</code></em> after
                appending <code class="literal">/text()</code>. In other words,
                <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue('&lt;a&gt;&lt;b&gt;Sakila&lt;/b&gt;&lt;/a&gt;',
                    '/a/b')</code></a> and
                <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue('&lt;a&gt;&lt;b&gt;Sakila&lt;/b&gt;&lt;/a&gt;',
                    '/a/b/text()')</code></a> produce the same result.
            </p><p style="color:blue;">使用此函数相当于在追加/text（）之后使用xpath_expr执行匹配。换句话说，extractValue（'<a><b>sakila</b></a>'，'/a/b'）和extractValue（'<a><b>sakila</b></a>'，'/a/b/text（）'）产生相同的结果。</p><p>
                If multiple matches are found, the content of the first child
                text node of each matching element is returned (in the order
                matched) as a single, space-delimited string.
            </p><p style="color:blue;">如果找到多个匹配项，则每个匹配元素的第一个子文本节点的内容将作为一个空格分隔的字符串返回（按匹配的顺序）。</p><p>
                If no matching text node is found for the expression
                (including the implicit <code class="literal">/text()</code>)—for
                whatever reason, as long as
                <em class="replaceable"><code>xpath_expr</code></em> is valid, and
                <em class="replaceable"><code>xml_frag</code></em> consists of elements which
                are properly nested and closed—an empty string is
                returned. No distinction is made between a match on an empty
                element and no match at all. This is by design.
            </p><p style="color:blue;">如果找不到表达式的匹配文本节点（包括implicit/text（））—无论出于何种原因，只要xpath_expr有效，并且xml_frag由正确嵌套并关闭的元素组成，就会返回空字符串。空元素上的匹配与完全不匹配之间没有区别。这是故意的。</p><p>
                If you need to determine whether no matching element was found
                in <em class="replaceable"><code>xml_frag</code></em> or such an element was
                found but contained no child text nodes, you should test the
                result of an expression that uses the XPath
                <code class="literal">count()</code> function. For example, both of
                these statements return an empty string, as shown here:
            </p><p style="color:blue;">如果需要确定在XML框架中是否没有找到匹配的元素，或者找到了这样的元素，但没有包含子文本节点，则应测试使用xpath count（）函数的表达式的结果。例如，这两个语句都返回空字符串，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;&lt;b/&gt;&lt;/a&gt;', '/a/b');</code></strong>
+-------------------------------------+
| ExtractValue('&lt;a&gt;&lt;b/&gt;&lt;/a&gt;', '/a/b') |
+-------------------------------------+
|                                     |
+-------------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;&lt;c/&gt;&lt;/a&gt;', '/a/b');</code></strong>
+-------------------------------------+
| ExtractValue('&lt;a&gt;&lt;c/&gt;&lt;/a&gt;', '/a/b') |
+-------------------------------------+
|                                     |
+-------------------------------------+
1 row in set (0.00 sec)
</pre><p>
                However, you can determine whether there was actually a
                matching element using the following:
            </p><p style="color:blue;">但是，您可以使用以下命令确定是否确实存在匹配的元素：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;&lt;b/&gt;&lt;/a&gt;', 'count(/a/b)');</code></strong>
+-------------------------------------+
| ExtractValue('&lt;a&gt;&lt;b/&gt;&lt;/a&gt;', 'count(/a/b)') |
+-------------------------------------+
| 1                                   |
+-------------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;&lt;c/&gt;&lt;/a&gt;', 'count(/a/b)');</code></strong>
+-------------------------------------+
| ExtractValue('&lt;a&gt;&lt;c/&gt;&lt;/a&gt;', 'count(/a/b)') |
+-------------------------------------+
| 0                                   |
+-------------------------------------+
1 row in set (0.01 sec)
</pre>
                <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Important
                    </div>
                    <p>
                        <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> returns only
                        <code class="literal">CDATA</code>, and does not return any tags that
                        might be contained within a matching tag, nor any of their
                        content (see the result returned as <code class="literal">val1</code>
                        in the following example).
                    </p><p style="color:blue;">extractValue（）只返回cdata，不返回可能包含在匹配标记中的任何标记，也不返回其任何内容（请参见以下示例中作为val1返回的结果）。</p>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt; <strong class="userinput"><code>  ExtractValue('&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;', '/a') AS val1,</code></strong>
    -&gt; <strong class="userinput"><code>  ExtractValue('&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;', '/a/b') AS val2,</code></strong>
    -&gt; <strong class="userinput"><code>  ExtractValue('&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;', '//b') AS val3,</code></strong>
    -&gt; <strong class="userinput"><code>  ExtractValue('&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;/a&gt;', '/b') AS val4,</code></strong>
    -&gt; <strong class="userinput"><code>  ExtractValue('&lt;a&gt;ccc&lt;b&gt;ddd&lt;/b&gt;&lt;b&gt;eee&lt;/b&gt;&lt;/a&gt;', '//b') AS val5;</code></strong>

+------+------+------+------+---------+
| val1 | val2 | val3 | val4 | val5    |
+------+------+------+------+---------+
| ccc  | ddd  | ddd  |      | ddd eee |
+------+------+------+------+---------+
</pre><p>
                    This function uses the current SQL collation for making
                    comparisons with <code class="literal">contains()</code>, performing the
                    same collation aggregation as other string functions (such as
                    <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>), in taking into
                    account the collation coercibility of their arguments; see
                    <a class="xref" href="charset.html#charset-collation-coercibility" title="10.8.4&nbsp;Collation Coercibility in Expressions">Section&nbsp;10.8.4, “Collation Coercibility in Expressions”</a>, for an
                    explanation of the rules governing this behavior.
                </p><p style="color:blue;">此函数使用当前的SQL排序规则与contains（）进行比较，执行与其他字符串函数（如concat（））相同的排序规则聚合，同时考虑到它们的参数的排序规则强制性；请参阅第10.8.4节“表达式中的排序规则强制性”，来解释控制这种行为的规则。</p><p>
                    (Previously, binary—that is,
                    case-sensitive—comparison was always used.)
                </p><p style="color:blue;">（以前，总是使用二进制即区分大小写的比较。）</p><p>
                    <code class="literal">NULL</code> is returned if
                    <em class="replaceable"><code>xml_frag</code></em> contains elements which
                    are not properly nested or closed, and a warning is generated,
                    as shown in this example:
                </p><p style="color:blue;">如果xml frag包含未正确嵌套或关闭的元素，则返回null，并生成警告，如以下示例所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b', '//a');</code></strong>
+-----------------------------------+
| ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b', '//a') |
+-----------------------------------+
| NULL                              |
+-----------------------------------+
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1525
Message: Incorrect XML value: 'parse error at line 1 pos 11:
         END-OF-INPUT unexpected ('&gt;' wanted)'
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b/&gt;', '//a');</code></strong>
+-------------------------------------+
| ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b/&gt;', '//a') |
+-------------------------------------+
| c                                   |
+-------------------------------------+
1 row in set (0.00 sec)
</pre></li><li class="listitem"><a name="function_updatexml"></a><p>
                <a class="indexterm" name="idm140286849491008"></a>

                <a class="link" href="functions.html#function_updatexml"><code class="literal">UpdateXML(<em class="replaceable"><code>xml_target</code></em>,
                    <em class="replaceable"><code>xpath_expr</code></em>,
                    <em class="replaceable"><code>new_xml</code></em>)</code></a>
            </p><p style="color:blue;">updatexml（xml_目标、xpath_expr、new_xml）</p><p>
                This function replaces a single portion of a given fragment of
                XML markup <em class="replaceable"><code>xml_target</code></em> with a new
                XML fragment <em class="replaceable"><code>new_xml</code></em>, and then
                returns the changed XML. The portion of
                <em class="replaceable"><code>xml_target</code></em> that is replaced matches
                an XPath expression <em class="replaceable"><code>xpath_expr</code></em>
                supplied by the user.
            </p><p style="color:blue;">此函数将XML标记XML目标的给定片段的单个部分替换为新的XML片段新的XML，然后返回更改后的XML。替换的xml_target部分与用户提供的xpath表达式xpath_expr匹配。</p><p>
                If no expression matching
                <em class="replaceable"><code>xpath_expr</code></em> is found, or if multiple
                matches are found, the function returns the original
                <em class="replaceable"><code>xml_target</code></em> XML fragment. All three
                arguments should be strings.
            </p><p style="color:blue;">如果找不到匹配xpath_expr的表达式，或者找到多个匹配项，则函数返回原始xml_目标xml片段。这三个参数都应该是字符串。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt; <strong class="userinput"><code>  UpdateXML('&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;', '/a', '&lt;e&gt;fff&lt;/e&gt;') AS val1,</code></strong>
    -&gt; <strong class="userinput"><code>  UpdateXML('&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;', '/b', '&lt;e&gt;fff&lt;/e&gt;') AS val2,</code></strong>
    -&gt; <strong class="userinput"><code>  UpdateXML('&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;', '//b', '&lt;e&gt;fff&lt;/e&gt;') AS val3,</code></strong>
    -&gt; <strong class="userinput"><code>  UpdateXML('&lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;', '/a/d', '&lt;e&gt;fff&lt;/e&gt;') AS val4,</code></strong>
    -&gt; <strong class="userinput"><code>  UpdateXML('&lt;a&gt;&lt;d&gt;&lt;/d&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;', '/a/d', '&lt;e&gt;fff&lt;/e&gt;') AS val5</code></strong>
    -&gt; <strong class="userinput"><code>\G</code></strong>

*************************** 1. row ***************************
val1: &lt;e&gt;fff&lt;/e&gt;
val2: &lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;
val3: &lt;a&gt;&lt;e&gt;fff&lt;/e&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;
val4: &lt;a&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;e&gt;fff&lt;/e&gt;&lt;/a&gt;
val5: &lt;a&gt;&lt;d&gt;&lt;/d&gt;&lt;b&gt;ccc&lt;/b&gt;&lt;d&gt;&lt;/d&gt;&lt;/a&gt;
</pre></li></ul>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <div class="admon-title">
                Note
            </div>
            <p>
                A discussion in depth of XPath syntax and usage are beyond the
                scope of this manual. Please see the
                <a class="ulink" href="http://www.w3.org/TR/xpath" target="_top">XML Path Language
                    (XPath) 1.0 specification</a> for definitive information. A
                useful resource for those new to XPath or who are wishing a
                refresher in the basics is the
                <a class="ulink" href="http://www.zvon.org/xxl/XPathTutorial/" target="_top">Zvon.org
                    XPath Tutorial</a>, which is available in several languages.
            </p><p style="color:blue;">深入讨论xpath语法和用法超出了本手册的范围。有关明确信息，请参阅XML路径语言（xpath）1.0规范。对于那些刚接触xpath或希望更新基础知识的人来说，zvon.org xpath教程是一个有用的资源，它有多种语言版本。</p>
        </div>
        <p>
            Descriptions and examples of some basic XPath expressions follow:
        </p><p style="color:blue;">下面是一些基本xpath表达式的描述和示例：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">/<em class="replaceable"><code>tag</code></em></code>
            </p><p style="color:blue;">/标签</p><p>
                Matches
                <code class="literal">&lt;<em class="replaceable"><code>tag</code></em>/&gt;</code> if
                and only if
                <code class="literal">&lt;<em class="replaceable"><code>tag</code></em>/&gt;</code> is
                the root element.
            </p><p style="color:blue;">如果且仅当<tag></tag>是根元素，则匹配<tag></tag>。</p><p>
                Example: <code class="literal">/a</code> has a match in
                <code class="literal">&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</code> because it
                matches the outermost (root) tag. It does not match the inner
                <em class="replaceable"><code>a</code></em> element in
                <code class="literal">&lt;b&gt;&lt;a/&gt;&lt;/b&gt;</code> because in
                this instance it is the child of another element.
            </p><p style="color:blue;">示例：/a在<a><b></b></a>中有一个匹配项，因为它匹配最外层（根）标记。它与<b><a></a></b>中的内部a元素不匹配，因为在此实例中，它是另一个元素的子元素。</p></li><li class="listitem"><p>
                <code class="literal">/<em class="replaceable"><code>tag1</code></em>/<em class="replaceable"><code>tag2</code></em></code>
            </p><p style="color:blue;">/标记1/标记2</p><p>
                Matches
                <code class="literal">&lt;<em class="replaceable"><code>tag2</code></em>/&gt;</code> if
                and only if it is a child of
                <code class="literal">&lt;<em class="replaceable"><code>tag1</code></em>/&gt;</code>,
                and
                <code class="literal">&lt;<em class="replaceable"><code>tag1</code></em>/&gt;</code> is
                the root element.
            </p><p style="color:blue;">匹配<tag2></tag2>如果且仅当它是<tag1></tag1>的子元素，并且<tag1></tag1>是根元素。</p><p>
                Example: <code class="literal">/a/b</code> matches the
                <em class="replaceable"><code>b</code></em> element in the XML fragment
                <code class="literal">&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</code> because it is
                a child of the root element <em class="replaceable"><code>a</code></em>. It
                does not have a match in
                <code class="literal">&lt;b&gt;&lt;a/&gt;&lt;/b&gt;</code> because in
                this case, <em class="replaceable"><code>b</code></em> is the root element
                (and hence the child of no other element). Nor does the XPath
                expression have a match in
                <code class="literal">&lt;a&gt;&lt;c&gt;&lt;b/&gt;&lt;/c&gt;&lt;/a&gt;</code>;
                here, <em class="replaceable"><code>b</code></em> is a descendant of
                <em class="replaceable"><code>a</code></em>, but not actually a child of
                <em class="replaceable"><code>a</code></em>.
            </p><p style="color:blue;">示例：/a/b匹配xml片段中的b元素<a><b></b></a>，因为它是根元素a的子元素。它在<b><a></a></b>中没有匹配，因为在本例中，b是根元素（因此不是其他元素的子元素）。xpath表达式在<a><c><b></b></c></a>中也没有匹配；这里，b是a的后代，但实际上不是a的子代。</p><p>
                This construct is extendable to three or more elements. For
                example, the XPath expression <code class="literal">/a/b/c</code>
                matches the <em class="replaceable"><code>c</code></em> element in the
                fragment
                <code class="literal">&lt;a&gt;&lt;b&gt;&lt;c/&gt;&lt;/b&gt;&lt;/a&gt;</code>.
            </p><p style="color:blue;">此构造可扩展到三个或更多元素。例如，xpath表达式/a/b/c与片段中的c元素匹配。</p></li><li class="listitem"><p>
                <code class="literal">//<em class="replaceable"><code>tag</code></em></code>
            </p><p style="color:blue;">//标记</p><p>
                Matches any instance of
                <code class="literal">&lt;<em class="replaceable"><code>tag</code></em>&gt;</code>.
            </p><p style="color:blue;">匹配<tag>的任何实例。</tag></p><p>
                Example: <code class="literal">//a</code> matches the
                <em class="replaceable"><code>a</code></em> element in any of the following:
                <code class="literal">&lt;a&gt;&lt;b&gt;&lt;c/&gt;&lt;/b&gt;&lt;/a&gt;</code>;
                <code class="literal">&lt;c&gt;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&lt;/b&gt;</code>;
                <code class="literal">&lt;c&gt;&lt;b&gt;&lt;a/&gt;&lt;/b&gt;&lt;/c&gt;</code>.
            </p><p style="color:blue;">示例：//a匹配以下任意一种a元素：<a><b><c></c></b></a>；<c><a><b></b></a>；<c><b><a></a></b></c>。</c></p><p>
                <code class="literal">//</code> can be combined with
                <code class="literal">/</code>. For example, <code class="literal">//a/b</code>
                matches the <em class="replaceable"><code>b</code></em> element in either of
                the fragments <code class="literal">&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</code>
                or
                <code class="literal">&lt;c&gt;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&lt;/c&gt;</code>.
            </p><p style="color:blue;">//可以与/组合。例如，//a/b匹配片段<a><b></b></a>或<c><a><b></b></a></c>中的b元素。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        <code class="literal">//<em class="replaceable"><code>tag</code></em></code> is the
                        equivalent of
                        <code class="literal">/descendant-or-self::*/<em class="replaceable"><code>tag</code></em></code>.
                        A common error is to confuse this with
                        <code class="literal">/descendant-or-self::<em class="replaceable"><code>tag</code></em></code>,
                        although the latter expression can actually lead to very
                        different results, as can be seen here:
                    </p><p style="color:blue;">//tag等同于/descendant或self:：*/tag。一个常见的错误是将其与/descendant或self：：tag混淆，尽管后一个表达式实际上会导致非常不同的结果，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @xml = '&lt;a&gt;&lt;b&gt;&lt;c&gt;w&lt;/c&gt;&lt;b&gt;x&lt;/b&gt;&lt;d&gt;y&lt;/d&gt;z&lt;/b&gt;&lt;/a&gt;';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @xml;</code></strong>
+-----------------------------------------+
| @xml                                    |
+-----------------------------------------+
| &lt;a&gt;&lt;b&gt;&lt;c&gt;w&lt;/c&gt;&lt;b&gt;x&lt;/b&gt;&lt;d&gt;y&lt;/d&gt;z&lt;/b&gt;&lt;/a&gt; |
+-----------------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(@xml, '//b[1]');</code></strong>
+------------------------------+
| ExtractValue(@xml, '//b[1]') |
+------------------------------+
| x z                          |
+------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(@xml, '//b[2]');</code></strong>
+------------------------------+
| ExtractValue(@xml, '//b[2]') |
+------------------------------+
|                              |
+------------------------------+
1 row in set (0.01 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(@xml, '/descendant-or-self::*/b[1]');</code></strong>
+---------------------------------------------------+
| ExtractValue(@xml, '/descendant-or-self::*/b[1]') |
+---------------------------------------------------+
| x z                                               |
+---------------------------------------------------+
1 row in set (0.06 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(@xml, '/descendant-or-self::*/b[2]');</code></strong>
+---------------------------------------------------+
| ExtractValue(@xml, '/descendant-or-self::*/b[2]') |
+---------------------------------------------------+
|                                                   |
+---------------------------------------------------+
1 row in set (0.00 sec)


mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(@xml, '/descendant-or-self::b[1]');</code></strong>
+-------------------------------------------------+
| ExtractValue(@xml, '/descendant-or-self::b[1]') |
+-------------------------------------------------+
| z                                               |
+-------------------------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(@xml, '/descendant-or-self::b[2]');</code></strong>
+-------------------------------------------------+
| ExtractValue(@xml, '/descendant-or-self::b[2]') |
+-------------------------------------------------+
| x                                               |
+-------------------------------------------------+
1 row in set (0.00 sec)
</pre>
                </div>
            </li><li class="listitem"><p>
                The <code class="literal">*</code> operator acts as a
                <span class="quote">“<span class="quote">wildcard</span>”</span> that matches any element. For example,
                the expression <code class="literal">/*/b</code> matches the
                <em class="replaceable"><code>b</code></em> element in either of the XML
                fragments <code class="literal">&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</code> or
                <code class="literal">&lt;c&gt;&lt;b/&gt;&lt;/c&gt;</code>. However, the
                expression does not produce a match in the fragment
                <code class="literal">&lt;b&gt;&lt;a/&gt;&lt;/b&gt;</code> because
                <em class="replaceable"><code>b</code></em> must be a child of some other
                element. The wildcard may be used in any position: The
                expression <code class="literal">/*/b/*</code> will match any child of a
                <em class="replaceable"><code>b</code></em> element that is itself not the
                root element.
            </p><p style="color:blue;">*运算符充当与任何元素匹配的“通配符”。例如，表达式/*/b与xml片段<a><b></b></a>或<c><b></b></c>中的b元素匹配。但是，表达式不会在片段中生成匹配项，因为b必须是其他元素的子元素。通配符可以在任何位置使用：表达式/*/b/*将匹配b元素本身不是根元素的任何子元素。</p></li><li class="listitem"><p>
                You can match any of several locators using the
                <code class="literal">|</code> (<a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a>)
                operator. For example, the expression
                <code class="literal">//b|//c</code> matches all
                <em class="replaceable"><code>b</code></em> and <em class="replaceable"><code>c</code></em>
                elements in the XML target.
            </p><p style="color:blue;">可以使用（union）运算符匹配多个定位器中的任意一个。例如，表达式//b//c匹配xml目标中的所有b和c元素。</p></li><li class="listitem"><p>
                It is also possible to match an element based on the value of
                one or more of its attributes. This done using the syntax
                <code class="literal"><em class="replaceable"><code>tag</code></em>[@<em class="replaceable"><code>attribute</code></em>="<em class="replaceable"><code>value</code></em>"]</code>.
                For example, the expression <code class="literal">//b[@id="idB"]</code>
                matches the second <em class="replaceable"><code>b</code></em> element in the
                fragment <code class="literal">&lt;a&gt;&lt;b id="idA"/&gt;&lt;c/&gt;&lt;b
                id="idB"/&gt;&lt;/a&gt;</code>. To match against
                <span class="emphasis"><em>any</em></span> element having
                <code class="literal"><em class="replaceable"><code>attribute</code></em>="<em class="replaceable"><code>value</code></em>"</code>,
                use the XPath expression
                <code class="literal">//*[<em class="replaceable"><code>attribute</code></em>="<em class="replaceable"><code>value</code></em>"]</code>.
            </p><p style="color:blue;">也可以基于元素的一个或多个属性的值来匹配元素。这是使用语法标记[@attribute=“value”]完成的。例如，表达式//b[@id=“idb”]与片段中的第二个b元素匹配。若要与具有attribute=“value”的任何元素匹配，请使用xpath表达式//*[attribute=“value”]。</p><p>
                To filter multiple attribute values, simply use multiple
                attribute-comparison clauses in succession. For example, the
                expression <code class="literal">//b[@c="x"][@d="y"]</code> matches the
                element <code class="literal">&lt;b c="x" d="y"/&gt;</code> occurring
                anywhere in a given XML fragment.
            </p><p style="color:blue;">要过滤多个属性值，只需连续使用多个属性比较子句。例如，表达式//b[@c=“x”][@d=“y”]匹配给定xml片段中任何位置出现的元素。</p><p>
                To find elements for which the same attribute matches any of
                several values, you can use multiple locators joined by the
                <code class="literal">|</code> operator. For example, to match all
                <em class="replaceable"><code>b</code></em> elements whose
                <em class="replaceable"><code>c</code></em> attributes have either of the
                values 23 or 17, use the expression
                <code class="literal">//b[@c="23"]|//b[@c="17"]</code>. You can also use
                the logical <code class="literal">or</code> operator for this purpose:
                <code class="literal">//b[@c="23" or @c="17"]</code>.
            </p><p style="color:blue;">要查找同一属性与多个值中任何一个值匹配的元素，可以使用由运算符连接的多个定位器。例如，要匹配其c属性具有值23或17之一的所有b元素，请使用表达式//b[@c=“23”]///b[@c=“17”]。您还可以为此目的使用逻辑或运算符：//b[@c=“23”或@c=“17”]。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The difference between <code class="literal">or</code> and
                        <code class="literal">|</code> is that <code class="literal">or</code> joins
                        conditions, while <code class="literal">|</code> joins result sets.
                    </p><p style="color:blue;">or和之间的区别是，or连接条件，而连接结果集。</p>
                </div>
            </li></ul>
        </div>
        <p><b>XPath Limitations.&nbsp;</b>
            The XPath syntax supported by these functions is currently
            subject to the following limitations:
        </p><p style="color:blue;">xpath限制。这些函数支持的xpath语法目前受到以下限制：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Nodeset-to-nodeset comparison (such as
                <code class="literal">'/a/b[@c=@d]'</code>) is not supported.
            </p><p style="color:blue;">不支持节点集到节点集的比较（例如'/a/b[@c=@d]'）。</p></li><li class="listitem"><p>
                All of the standard XPath comparison operators are supported.
                (Bug #22823)
            </p><p style="color:blue;">支持所有标准的xpath比较运算符。（错误22823）</p></li><li class="listitem"><p>
                Relative locator expressions are resolved in the context of
                the root node. For example, consider the following query and
                result:
            </p><p style="color:blue;">相对定位器表达式在根节点的上下文中解析。例如，考虑以下查询和结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(</code></strong>
    -&gt;   <strong class="userinput"><code>'&lt;a&gt;&lt;b c="1"&gt;X&lt;/b&gt;&lt;b c="2"&gt;Y&lt;/b&gt;&lt;/a&gt;',</code></strong>
    -&gt;    <strong class="userinput"><code>'a/b'</code></strong>
    -&gt; <strong class="userinput"><code>) AS result;</code></strong>
+--------+
| result |
+--------+
| X Y    |
+--------+
1 row in set (0.03 sec)
</pre><p>
                In this case, the locator <code class="literal">a/b</code> resolves to
                <code class="literal">/a/b</code>.
            </p><p style="color:blue;">在这种情况下，定位器a/b解析为/a/b。</p><p>
                Relative locators are also supported within predicates. In the
                following example, <code class="literal">d[../@c="1"]</code> is resolved
                as <code class="literal">/a/b[@c="1"]/d</code>:
            </p><p style="color:blue;">谓词中也支持相对定位器。在下面的示例中，d[../@c=“1”]解析为/a/b[@c=“1”]/d：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(</code></strong>
    -&gt;      <strong class="userinput"><code>'&lt;a&gt;</code></strong>
    -&gt;        <strong class="userinput"><code>&lt;b c="1"&gt;&lt;d&gt;X&lt;/d&gt;&lt;/b&gt;</code></strong>
    -&gt;        <strong class="userinput"><code>&lt;b c="2"&gt;&lt;d&gt;X&lt;/d&gt;&lt;/b&gt;</code></strong>
    -&gt;      <strong class="userinput"><code>&lt;/a&gt;',</code></strong>
    -&gt;      <strong class="userinput"><code>'a/b/d[../@c="1"]')</code></strong>
    -&gt; <strong class="userinput"><code>AS result;</code></strong>
+--------+
| result |
+--------+
| X      |
+--------+
1 row in set (0.00 sec)
</pre></li><li class="listitem"><p>
                Locators prefixed with expressions that evaluate as scalar
                values—including variable references, literals, numbers,
                and scalar function calls—are not permitted, and their
                use results in an error.
            </p><p style="color:blue;">不允许使用以表达式为前缀的定位器，这些表达式的计算结果为标量值，包括变量引用、文本、数字和标量函数调用，使用它们会导致错误。</p></li><li class="listitem"><p>
                The <code class="literal">::</code> operator is not supported in
                combination with node types such as the following:
            </p><p style="color:blue;">不支持将：：运算符与以下节点类型结合使用：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <code class="literal"><em class="replaceable"><code>axis</code></em>::comment()</code>
                    </p><p style="color:blue;">轴：：注释（）</p></li><li class="listitem"><p>
                        <code class="literal"><em class="replaceable"><code>axis</code></em>::text()</code>
                    </p><p style="color:blue;">轴：文本（）</p></li><li class="listitem"><p>
                        <code class="literal"><em class="replaceable"><code>axis</code></em>::processing-instructions()</code>
                    </p><p style="color:blue;">轴：：处理-指令（）</p></li><li class="listitem"><p>
                        <code class="literal"><em class="replaceable"><code>axis</code></em>::node()</code>
                    </p><p style="color:blue;">轴：：（）</p></li></ul>
                </div>
                <p>
                    However, name tests (such as
                    <code class="literal"><em class="replaceable"><code>axis</code></em>::<em class="replaceable"><code>name</code></em></code>
                    and <code class="literal"><em class="replaceable"><code>axis</code></em>::*</code>) are
                    supported, as shown in these examples:
                </p><p style="color:blue;">但是，支持名称测试（如：轴：名称和轴：：*），如在这些示例中所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;&lt;b&gt;x&lt;/b&gt;&lt;c&gt;y&lt;/c&gt;&lt;/a&gt;','/a/child::b');</code></strong>
+-------------------------------------------------------+
| ExtractValue('&lt;a&gt;&lt;b&gt;x&lt;/b&gt;&lt;c&gt;y&lt;/c&gt;&lt;/a&gt;','/a/child::b') |
+-------------------------------------------------------+
| x                                                     |
+-------------------------------------------------------+
1 row in set (0.02 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;&lt;b&gt;x&lt;/b&gt;&lt;c&gt;y&lt;/c&gt;&lt;/a&gt;','/a/child::*');</code></strong>
+-------------------------------------------------------+
| ExtractValue('&lt;a&gt;&lt;b&gt;x&lt;/b&gt;&lt;c&gt;y&lt;/c&gt;&lt;/a&gt;','/a/child::*') |
+-------------------------------------------------------+
| x y                                                   |
+-------------------------------------------------------+
1 row in set (0.01 sec)
</pre></li><li class="listitem"><p>
                <span class="quote">“<span class="quote">Up-and-down</span>”</span> navigation is not supported in
                cases where the path would lead <span class="quote">“<span class="quote">above</span>”</span> the root
                element. That is, you cannot use expressions which match on
                descendants of ancestors of a given element, where one or more
                of the ancestors of the current element is also an ancestor of
                the root element (see Bug #16321).
            </p><p style="color:blue;">如果路径将指向根元素的“上方”，则不支持“上下”导航。也就是说，不能使用与给定元素的祖先后代匹配的表达式，其中当前元素的一个或多个祖先也是根元素的祖先（请参见错误16321）。</p></li><li class="listitem"><p>
                The following XPath functions are not supported, or have known
                issues as indicated:
            </p><p style="color:blue;">以下xpath函数不受支持，或存在已知问题，如图所示：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <code class="literal">id()</code>
                    </p><p style="color:blue;">ID（）</p></li><li class="listitem"><p>
                        <code class="literal">lang()</code>
                    </p><p style="color:blue;">语言（）</p></li><li class="listitem"><p>
                        <code class="literal">local-name()</code>
                    </p><p style="color:blue;">本地-名称（）</p></li><li class="listitem"><p>
                        <code class="literal">name()</code>
                    </p><p style="color:blue;">名称（）</p></li><li class="listitem"><p>
                        <code class="literal">namespace-uri()</code>
                    </p><p style="color:blue;">命名空间-uri（）</p></li><li class="listitem"><p>
                        <code class="literal">normalize-space()</code>
                    </p><p style="color:blue;">规范化-space（）</p></li><li class="listitem"><p>
                        <code class="literal">starts-with()</code>
                    </p><p style="color:blue;">开始-用（）</p></li><li class="listitem"><p>
                        <code class="literal">string()</code>
                    </p><p style="color:blue;">字符串（）</p></li><li class="listitem"><p>
                        <code class="literal">substring-after()</code>
                    </p><p style="color:blue;">子字符串-after（）</p></li><li class="listitem"><p>
                        <code class="literal">substring-before()</code>
                    </p><p style="color:blue;">子字符串-before（）</p></li><li class="listitem"><p>
                        <code class="literal">translate()</code>
                    </p><p style="color:blue;">翻译（）</p></li></ul>
                </div>
            </li><li class="listitem"><p>
                The following axes are not supported:
            </p><p style="color:blue;">不支持以下轴：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <code class="literal">following-sibling</code>
                    </p><p style="color:blue;">下一个同级节点</p></li><li class="listitem"><p>
                        <code class="literal">following</code>
                    </p><p style="color:blue;">下列的</p></li><li class="listitem"><p>
                        <code class="literal">preceding-sibling</code>
                    </p><p style="color:blue;">上一个同级节点</p></li><li class="listitem"><p>
                        <code class="literal">preceding</code>
                    </p><p style="color:blue;">前面的</p></li></ul>
                </div>
            </li></ul>
        </div>
        <p>
            XPath expressions passed as arguments to
            <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> and
            <a class="link" href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a> may contain the colon
            character (<code class="literal">:</code>) in element selectors, which
            enables their use with markup employing XML namespaces notation.
            For example:
        </p><p style="color:blue;">作为参数传递给extractValue（）和updateXML（）的xpath表达式可能在元素选择器中包含冒号字符（：），这使它们能够与使用XML命名空间表示法的标记一起使用。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @xml = '&lt;a&gt;111&lt;b:c&gt;222&lt;d&gt;333&lt;/d&gt;&lt;e:f&gt;444&lt;/e:f&gt;&lt;/b:c&gt;&lt;/a&gt;';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(@xml, '//e:f');</code></strong>
+-----------------------------+
| ExtractValue(@xml, '//e:f') |
+-----------------------------+
| 444                         |
+-----------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT UpdateXML(@xml, '//b:c', '&lt;g:h&gt;555&lt;/g:h&gt;');</code></strong>
+--------------------------------------------+
| UpdateXML(@xml, '//b:c', '&lt;g:h&gt;555&lt;/g:h&gt;') |
+--------------------------------------------+
| &lt;a&gt;111&lt;g:h&gt;555&lt;/g:h&gt;&lt;/a&gt;                   |
+--------------------------------------------+
1 row in set (0.00 sec)
</pre><p>
        This is similar in some respects to what is permitted by
        <a class="ulink" href="http://xalan.apache.org/" target="_top">Apache Xalan</a> and
        some other parsers, and is much simpler than requiring namespace
        declarations or the use of the <code class="literal">namespace-uri()</code>
        and <code class="literal">local-name()</code> functions.
    </p><p style="color:blue;">这在某些方面类似于ApacheXalan和其他一些解析器所允许的，并且比要求命名空间声明或使用namespace-uri（）和local-name（）函数简单得多。</p><p><b>Error handling.&nbsp;</b>
        For both <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> and
        <a class="link" href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a>, the XPath locator
        used must be valid and the XML to be searched must consist of
        elements which are properly nested and closed. If the locator is
        invalid, an error is generated:
    </p><p style="color:blue;">错误处理。对于extractValue（）和updateXML（），使用的xpath定位器必须有效，要搜索的XML必须包含正确嵌套和关闭的元素。如果定位器无效，将生成错误：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b/&gt;', '/&amp;a');</code></strong>
<span class="errortext">ERROR 1105 (HY000): XPATH syntax error: '&amp;a'</span>
</pre><p>
        If <em class="replaceable"><code>xml_frag</code></em> does not consist of
        elements which are properly nested and closed,
        <code class="literal">NULL</code> is returned and a warning is generated, as
        shown in this example:
    </p><p style="color:blue;">如果XML框架不包含正确嵌套和关闭的元素，则返回null并生成警告，如本例所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b', '//a');</code></strong>
+-----------------------------------+
| ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b', '//a') |
+-----------------------------------+
| NULL                              |
+-----------------------------------+
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1525
Message: Incorrect XML value: 'parse error at line 1 pos 11:
         END-OF-INPUT unexpected ('&gt;' wanted)'
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b/&gt;', '//a');</code></strong>
+-------------------------------------+
| ExtractValue('&lt;a&gt;c&lt;/a&gt;&lt;b/&gt;', '//a') |
+-------------------------------------+
| c                                   |
+-------------------------------------+
1 row in set (0.00 sec)
</pre>
        <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

            <div class="admon-title">
                Important
            </div>
            <p>
                The replacement XML used as the third argument to
                <a class="link" href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a> is
                <span class="emphasis"><em>not</em></span> checked to determine whether it
                consists solely of elements which are properly nested and
                closed.
            </p><p style="color:blue;">不检查用作updatexml（）的第三个参数的替换xml，以确定它是否仅由正确嵌套和关闭的元素组成。</p>
        </div>
        <p><b>XPath Injection.&nbsp;</b>
            <span class="firstterm">code injection</span> occurs when
            malicious code is introduced into the system to gain
            unauthorized access to privileges and data. It is based on
            exploiting assumptions made by developers about the type and
            content of data input from users. XPath is no exception in this
            regard.
        </p><p style="color:blue;">xpath注入。当恶意代码被引入系统以获得对特权和数据的未经授权的访问时，会发生代码注入。它基于开发人员对用户输入的数据类型和内容所做的假设。xpath在这方面也不例外。</p><p>
        A common scenario in which this can happen is the case of
        application which handles authorization by matching the
        combination of a login name and password with those found in an
        XML file, using an XPath expression like this one:
    </p><p style="color:blue;">出现这种情况的一个常见场景是，应用程序通过使用类似于下面的xpath表达式将登录名和密码的组合与xml文件中的组合匹配来处理授权：</p><pre data-lang="simple" class="programlisting">//user[login/text()='neapolitan' and password/text()='1c3cr34m']/attribute::id
</pre><p>
        This is the XPath equivalent of an SQL statement like this one:
    </p><p style="color:blue;">这是xpath等价的sql语句，如下所示：</p><pre data-lang="sql" class="programlisting">SELECT id FROM users WHERE login='neapolitan' AND password='1c3cr34m';
</pre><p>
        A PHP application employing XPath might handle the login process
        like this:
    </p><p style="color:blue;">使用xpath的php应用程序可能会处理如下登录过程：</p><pre data-lang="php" class="programlisting">&lt;?php

  $file     =   "users.xml";

  $login    =   $POST["login"];
  $password =   $POST["password"];

  $xpath = "//user[login/text()=$login and password/text()=$password]/attribute::id";

  if( file_exists($file) )
  {
    $xml = simplexml_load_file($file);

    if($result = $xml-&gt;xpath($xpath))
      echo "You are now logged in as user $result[0].";
    else
      echo "Invalid login name or password.";
  }
  else
    exit("Failed to open $file.");

?&gt;
</pre><p>
        No checks are performed on the input. This means that a malevolent
        user can <span class="quote">“<span class="quote">short-circuit</span>”</span> the test by entering
        <code class="literal">' or 1=1</code> for both the login name and password,
        resulting in <code class="varname">$xpath</code> being evaluated as shown
        here:
    </p><p style="color:blue;">不检查输入。这意味着恶意用户可以通过为登录名和密码输入'or 1=1来“短路”测试，从而导致$xpath的计算结果如下所示：</p><pre data-lang="simple" class="programlisting">//user[login/text()='' or 1=1 and password/text()='' or 1=1]/attribute::id
</pre><p>
        Since the expression inside the square brackets always evaluates
        as <code class="literal">true</code>, it is effectively the same as this
        one, which matches the <code class="literal">id</code> attribute of every
        <code class="literal">user</code> element in the XML document:
    </p><p style="color:blue;">由于方括号中的表达式的计算结果始终为true，因此它实际上与此表达式相同，后者与xml文档中每个用户元素的id属性匹配：</p><pre data-lang="simple" class="programlisting">//user/attribute::id
</pre><p>
        One way in which this particular attack can be circumvented is
        simply by quoting the variable names to be interpolated in the
        definition of <code class="literal">$xpath</code>, forcing the values passed
        from a Web form to be converted to strings:
    </p><p style="color:blue;">规避此特定攻击的一种方法是引用$xpath定义中要插入的变量名，强制将从web表单传递的值转换为字符串：</p><pre data-lang="simple" class="programlisting">$xpath = "//user[login/text()='$login' and password/text()='$password']/attribute::id";
</pre><p>
        This is the same strategy that is often recommended for preventing
        SQL injection attacks. In general, the practices you should follow
        for preventing XPath injection attacks are the same as for
        preventing SQL injection:
    </p><p style="color:blue;">这与通常建议用于防止sql注入攻击的策略相同。通常，防止xpath注入攻击应遵循的做法与防止sql注入的做法相同：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Never accepted untested data from users in your application.
            </p><p style="color:blue;">从不接受应用程序中用户未经测试的数据。</p></li><li class="listitem"><p>
                Check all user-submitted data for type; reject or convert data
                that is of the wrong type
            </p><p style="color:blue;">检查所有用户提交的数据的类型；拒绝或转换类型错误的数据</p></li><li class="listitem"><p>
                Test numeric data for out of range values; truncate, round, or
                reject values that are out of range. Test strings for illegal
                characters and either strip them out or reject input
                containing them.
            </p><p style="color:blue;">测试数值数据是否超出范围；截断、舍入或拒绝超出范围的值。测试字符串中是否有非法字符，并将其删除或拒绝包含这些字符的输入。</p></li><li class="listitem"><p>
                Do not output explicit error messages that might provide an
                unauthorized user with clues that could be used to compromise
                the system; log these to a file or database table instead.
            </p><p style="color:blue;">不要输出可能为未经授权的用户提供可用于危害系统的线索的显式错误消息；而是将这些消息记录到文件或数据库表中。</p></li></ul>
        </div>
        <p>
            Just as SQL injection attacks can be used to obtain information
            about database schemas, so can XPath injection be used to traverse
            XML files to uncover their structure, as discussed in Amit
            Klein's paper
            <a class="ulink" href="http://www.packetstormsecurity.org/papers/bypass/Blind_XPath_Injection_20040518.pdf" target="_top">Blind
                XPath Injection</a> (PDF file, 46KB).
        </p><p style="color:blue;">正如amit klein的论文blind xpath injection（pdf文件，46kb）中所讨论的，sql注入攻击可以用来获取有关数据库模式的信息，xpath注入也可以用来遍历xml文件以揭示其结构。</p><p>
        It is also important to check the output being sent back to the
        client. Consider what can happen when we use the MySQL
        <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> function:
    </p><p style="color:blue;">检查发送回客户端的输出也很重要。考虑使用mysql extractValue（）函数时可能发生的情况：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ExtractValue(</code></strong>
    -&gt;     <strong class="userinput"><code>LOAD_FILE('users.xml'),</code></strong>
    -&gt;     <strong class="userinput"><code>'//user[login/text()="" or 1=1 and password/text()="" or 1=1]/attribute::id'</code></strong>
    -&gt; <strong class="userinput"><code>) AS id;</code></strong>
+-------------------------------+
| id                            |
+-------------------------------+
| 00327 13579 02403 42354 28570 |
+-------------------------------+
1 row in set (0.01 sec)
</pre><p>
        Because <a class="link" href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> returns
        multiple matches as a single space-delimited string, this
        injection attack provides every valid ID contained within
        <code class="filename">users.xml</code> to the user as a single row of
        output. As an extra safeguard, you should also test output before
        returning it to the user. Here is a simple example:
    </p><p style="color:blue;">由于extractValue（）以单个空格分隔的字符串返回多个匹配项，因此此注入攻击将users.xml中包含的每个有效ID作为一行输出提供给用户。作为额外的保护措施，您还应该在将输出返回给用户之前测试输出。下面是一个简单的例子：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT @id = ExtractValue(</code></strong>
    -&gt;     <strong class="userinput"><code>LOAD_FILE('users.xml'),</code></strong>
    -&gt;     <strong class="userinput"><code>'//user[login/text()="" or 1=1 and password/text()="" or 1=1]/attribute::id'</code></strong>
    -&gt; <strong class="userinput"><code>);</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT IF(</code></strong>
    -&gt;     <strong class="userinput"><code>INSTR(@id, ' ') = 0,</code></strong>
    -&gt;     <strong class="userinput"><code>@id,</code></strong>
    -&gt;     <strong class="userinput"><code>'Unable to retrieve user ID')</code></strong>
    -&gt; <strong class="userinput"><code>AS singleID;</code></strong>
+----------------------------+
| singleID                   |
+----------------------------+
| Unable to retrieve user ID |
+----------------------------+
1 row in set (0.00 sec)
</pre><p>
        In general, the guidelines for returning data to users securely
        are the same as for accepting user input. These can be summed up
        as:
    </p><p style="color:blue;">一般来说，安全地将数据返回给用户的准则与接受用户输入的准则相同。这些可以总结为：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Always test outgoing data for type and permissible values.
            </p><p style="color:blue;">始终测试输出数据的类型和允许值。</p></li><li class="listitem"><p>
                Never permit unauthorized users to view error messages that
                might provide information about the application that could be
                used to exploit it.
            </p><p style="color:blue;">决不要允许未经授权的用户查看可能提供有关可用于攻击该应用程序的信息的错误消息。</p></li></ul>
        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="bit-functions"></a>12.12&nbsp;Bit Functions and Operators</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286849262400"></a><a class="indexterm" name="idm140286849260944"></a><a class="indexterm" name="idm140286849259456"></a><a class="indexterm" name="idm140286849258384"></a><a class="indexterm" name="idm140286849257312"></a><a class="indexterm" name="idm140286849255808"></a><a class="indexterm" name="idm140286849254352"></a><a class="indexterm" name="idm140286849253280"></a>
        <div class="table">
            <a name="idm140286849252208"></a><p class="title"><b>Table&nbsp;12.16&nbsp;Bit Functions and Operators</b></p><p style="color:blue;">表12.16位函数和运算符</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists bit functions and operators."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_bit-count"><code class="literal">BIT_COUNT()</code></a></td>
                    <td>
                        Return the number of bits that are set
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-and"><code class="literal">&amp;</code></a></td>
                    <td>
                        Bitwise AND
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-invert"><code class="literal">~</code></a></td>
                    <td>
                        Bitwise inversion
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-or"><code class="literal">|</code></a></td>
                    <td>
                        Bitwise OR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_bitwise-xor"><code class="literal">^</code></a></td>
                    <td>
                        Bitwise XOR
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_left-shift"><code class="literal">&lt;&lt;</code></a></td>
                    <td>
                        Left shift
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#operator_right-shift"><code class="literal">&gt;&gt;</code></a></td>
                    <td>
                        Right shift
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break"><p>
        Bit functions and operators comprise
        <a class="link" href="functions.html#function_bit-count"><code class="literal">BIT_COUNT()</code></a>,
        <a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a>,
        <a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a>,
        <a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a>,
        <a class="link" href="functions.html#operator_bitwise-and"><code class="literal">&amp;</code></a>,
        <a class="link" href="functions.html#operator_bitwise-or"><code class="literal">|</code></a>,
        <a class="link" href="functions.html#operator_bitwise-xor"><code class="literal">^</code></a>,
        <a class="link" href="functions.html#operator_bitwise-invert"><code class="literal">~</code></a>,
        <a class="link" href="functions.html#operator_left-shift"><code class="literal">&lt;&lt;</code></a>, and
        <a class="link" href="functions.html#operator_right-shift"><code class="literal">&gt;&gt;</code></a>.
        (The <a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a>,
        <a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a>, and
        <a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a> functions are aggregate
        functions described at <a class="xref" href="functions.html#group-by-functions" title="12.20.1&nbsp;Aggregate (GROUP BY) Function Descriptions">Section&nbsp;12.20.1, “Aggregate (GROUP BY) Function Descriptions”</a>.)
        Currently, bit functions and operators require
        <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> (64-bit integer) arguments
        and return <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> values, so they
        have a maximum range of 64 bits. Arguments of other types are
        converted to <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> and truncation
        might occur.
    </p><p style="color:blue;">位函数和运算符包括位计数（）、位和（）、位或（）、位异或（）、&amp;、、^、~、&lt;&lt;和&gt;&gt;。（BITION和（）、BITIOR OR（）和BITXOR（）函数是在第121.20.1节中描述的聚合函数，“聚合（组by）函数描述”）当前，BIT函数和运算符需要BigIt（64位整数）参数并返回BigIt值，因此它们具有64位的最大范围。其他类型的参数转换为bigint，可能会发生截断。</p><p>
        An extension for MySQL 8.0 changes this
        cast-to-<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> behavior: Bit
        functions and operators permit binary string type arguments
        (<a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, and the
        <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> types), enabling them to take
        arguments and produce return values larger than 64 bits.
        Consequently, bit operations on binary arguments in MySQL 5.7
        might produce different results in MySQL 8.0. To provide advance
        notice about this potential change in behavior, the server
        produces warnings as of MySQL 5.7.11 for bit operations for which
        binary arguments are not converted to integer in MySQL 8.0. These
        warnings afford an opportunity to rewrite affected statements. To
        explicitly produce MySQL 5.7 behavior in a way that will not
        change after an upgrade to 8.0, cast bit-operation binary
        arguments to convert them to integer.
    </p><p style="color:blue;">mysql 8.0的扩展将此转换更改为bigint行为：位函数和运算符允许二进制字符串类型参数（binary、varbinary和blob类型），使它们能够接受参数并生成大于64位的返回值。因此，在mysql 5.7中对二进制参数的位操作可能会在mysql 8.0中产生不同的结果。为了提前通知这种行为上的潜在变化，服务器从mysql 5.7.11开始为二进制参数在mysql 8.0中未转换为整数的位操作生成警告。这些警告提供了重写受影响语句的机会。要显式地生成mysql 5.7行为，使其在升级到8.0之后不会改变，请强制转换位操作二进制参数，将其转换为整数。</p><p>
        The five problematic expression types to watch out for are:
    </p><p style="color:blue;">要注意的五种有问题的表达式类型是：</p><pre data-lang="sql" class="programlisting"><em class="replaceable"><code>nonliteral_binary</code></em> { &amp; | ^ } <em class="replaceable"><code>binary</code></em>
<em class="replaceable"><code>binary</code></em>  { &amp; | ^ } <em class="replaceable"><code>nonliteral_binary</code></em>
<em class="replaceable"><code>nonliteral_binary</code></em> { &lt;&lt; &gt;&gt; } <em class="replaceable"><code>anything</code></em>
~ <em class="replaceable"><code>nonliteral_binary</code></em>
<em class="replaceable"><code>AGGR_BIT_FUNC</code></em>(<em class="replaceable"><code>nonliteral_binary</code></em>)
</pre><p>
        Those expressions return <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> in
        MySQL 5.7, binary string in 8.0.
    </p><p style="color:blue;">这些表达式在mysql 5.7中返回bigint，在8.0中返回二进制字符串。</p><p>
        Explanation of notation:
    </p><p style="color:blue;">符号说明：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">{ <em class="replaceable"><code>op1</code></em>
                    <em class="replaceable"><code>op2</code></em> ... }</code>: List of
                operators that apply to the given expression type.
            </p><p style="color:blue;">{op1 op2…}：应用于给定表达式类型的运算符列表。</p></li><li class="listitem"><p>
                <em class="replaceable"><code>binary</code></em>: Any kind of binary string
                argument, including a hexadecimal literal, bit literal, or
                <code class="literal">NULL</code> literal.
            </p><p style="color:blue;">二进制：任何类型的二进制字符串参数，包括十六进制文本、位文本或空文本。</p></li><li class="listitem"><p>
                <em class="replaceable"><code>nonliteral_binary</code></em>: An argument that
                is a binary string value other than a hexadecimal literal, bit
                literal, or <code class="literal">NULL</code> literal.
            </p><p style="color:blue;">非文字二进制：一个不是十六进制文字、位文字或空文字的二进制字符串值的参数。</p></li><li class="listitem"><p>
                <em class="replaceable"><code>AGGR_BIT_FUNC</code></em>: An aggregate
                function that takes bit-value arguments:
                <a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a>,
                <a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a>,
                <a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a>.
            </p><p style="color:blue;">aggr_bit_func：接受位值参数的聚合函数：bit_and（）、bit_or（）、bit_xor（）。</p></li></ul>
        </div>
        <p>
            The server produces a single warning for each problematic
            expression in a statement, not a warning for each row processed.
            Suppose that a statement containing two problematic expressions
            selects three rows from a table. The number of warnings per
            statement execution is two, not six. The following example
            illustrates this.
        </p><p style="color:blue;">服务器为语句中的每个有问题的表达式生成一个警告，而不是为处理的每一行生成一个警告。假设包含两个有问题表达式的语句从表中选择三行。每个语句执行的警告数是2，而不是6。下面的例子说明了这一点。</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>CREATE TABLE t(vbin1 VARBINARY(32), vbin2 VARBINARY(32));</code></strong>
Query OK, 0 rows affected (0.03 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES (3,1), (3,2), (3,3);</code></strong>
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT HEX(vbin1 &amp; vbin2) AS op1,</code></strong>
    -&gt; <strong class="userinput"><code>HEX(vbin1 | vbin2) AS op2</code></strong>
    -&gt; <strong class="userinput"><code>FROM t;</code></strong>
+------+------+
| op1  | op2  |
+------+------+
| 1    | 3    |
| 2    | 3    |
| 3    | 3    |
+------+------+
3 rows in set, 2 warnings (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1287
Message: Bitwise operations on BINARY will change behavior in a future
         version, check the 'Bit functions' section in the manual.
*************************** 2. row ***************************
  Level: Warning
   Code: 1287
Message: Bitwise operations on BINARY will change behavior in a future
         version, check the 'Bit functions' section in the manual.
2 rows in set (0.00 sec)
</pre><p>
        To avoid having an affected statement produce a different result
        after an upgrade to MySQL 8.0, rewrite it so that it generates no
        bit-operation warnings. To do this, cast at least one binary
        argument to <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> with
        <a class="link" href="functions.html#function_cast"><code class="literal">CAST(... AS UNSIGNED)</code></a>. This makes
        the MySQL 5.7 implicit binary-to-integer cast explicit:
    </p><p style="color:blue;">为了避免受影响的语句在升级到mysql 8.0后产生不同的结果，请重写它，使其不会生成任何位操作警告。为此，请使用cast（…未签名）。这使得mysql 5.7隐式二进制到整数强制转换显式：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(CAST(vbin1 AS UNSIGNED) &amp; CAST(vbin2 AS UNSIGNED)) AS op1,</code></strong>
    -&gt; <strong class="userinput"><code>HEX(CAST(vbin1 AS UNSIGNED) | CAST(vbin2 AS UNSIGNED)) AS op2</code></strong>
    -&gt; <strong class="userinput"><code>FROM t;</code></strong>
+------+------+
| op1  | op2  |
+------+------+
| 1    | 3    |
| 2    | 3    |
| 3    | 3    |
+------+------+
3 rows in set (0.01 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
Empty set (0.00 sec)
</pre><p>
        With the statement rewritten as shown, MySQL 8.0 respects the
        intention to treat the binary arguments as integers and produces
        the same result as in 5.7. Also, replicating the statement from
        MySQL 5.7 to 8.0 does not produce different results on different
        servers.
    </p><p style="color:blue;">如图所示重写语句后，mysql 8.0尊重将二进制参数视为整数的意图，并产生与5.7中相同的结果。此外，将语句从mysql 5.7复制到8.0不会在不同的服务器上产生不同的结果。</p><p>
        An affected statement that cannot be rewritten is subject to these
        potential problems with respect to upgrades and replication:
    </p><p style="color:blue;">无法重写的受影响语句在升级和复制方面会遇到以下潜在问题：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                The statement might return a different result after an upgrade
                to MySQL 8.0.
            </p><p style="color:blue;">在升级到mysql 8.0之后，该语句可能返回不同的结果。</p></li><li class="listitem"><p>
                Replication to MySQL 8.0 from older versions might fail for
                statement-based and mixed-format binary logging. This is also
                true for replaying older binary logs on an 8.0 server (for
                example, using <a class="link" href="programs.html#mysqlbinlog" title="4.6.7&nbsp;mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a>). To avoid this,
                switch to row-based binary logging on the older master server.
            </p><p style="color:blue;">对于基于语句和混合格式的二进制日志记录，从旧版本复制到mysql 8.0可能会失败。在8.0服务器上重放旧的二进制日志（例如，使用mysqlbinlog）也是如此。要避免这种情况，请切换到旧主服务器上基于行的二进制日志记录。</p></li></ul>
        </div>
        <p>
            The following list describes available bit functions and
            operators:
        </p><p style="color:blue;">以下列表描述了可用的位函数和运算符：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="operator_bitwise-or"></a><p>
                <a class="indexterm" name="idm140286849153936"></a>

                <a class="indexterm" name="idm140286849152864"></a>

                <a class="link" href="functions.html#operator_bitwise-or"><code class="literal">|</code></a>
            </p><p style="color:blue;">|</p><p>
                Bitwise OR.
            </p><p style="color:blue;">按位或。</p><p>
                The result is an unsigned 64-bit integer.
            </p><p style="color:blue;">结果是一个无符号64位整数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 29 | 15;</code></strong>
        -&gt; 31
</pre></li><li class="listitem"><a name="operator_bitwise-and"></a><p>
                <a class="indexterm" name="idm140286849143056"></a>

                <a class="indexterm" name="idm140286849141968"></a>

                <a class="link" href="functions.html#operator_bitwise-and"><code class="literal">&amp;</code></a>
            </p><p style="color:blue;">&amp;</p><p>
                Bitwise AND.
            </p><p style="color:blue;">按位和。</p><p>
                The result is an unsigned 64-bit integer.
            </p><p style="color:blue;">结果是一个无符号64位整数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 29 &amp; 15;</code></strong>
        -&gt; 13
</pre></li><li class="listitem"><a name="operator_bitwise-xor"></a><p>
                <a class="indexterm" name="idm140286849132224"></a>

                <a class="indexterm" name="idm140286849131152"></a>

                <a class="link" href="functions.html#operator_bitwise-xor"><code class="literal">^</code></a>
            </p><p style="color:blue;">^</p><p>
                Bitwise XOR.
            </p><p style="color:blue;">按位异或。</p><p>
                The result is an unsigned 64-bit integer.
            </p><p style="color:blue;">结果是一个无符号64位整数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 ^ 1;</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT 1 ^ 0;</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT 11 ^ 3;</code></strong>
        -&gt; 8
</pre></li><li class="listitem"><a name="operator_left-shift"></a><p>
                <a class="indexterm" name="idm140286849119904"></a>

                <a class="link" href="functions.html#operator_left-shift"><code class="literal">&lt;&lt;</code></a>
            </p><p style="color:blue;">&lt;&lt;</p><p>
                Shifts a longlong (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>)
                number to the left.
            </p><p style="color:blue;">将longlong（bigint）数字向左移动。</p><p>
                The result is an unsigned 64-bit integer. The value is
                truncated to 64 bits. In particular, if the shift count is
                greater or equal to the width of an unsigned 64-bit number,
                the result is zero.
            </p><p style="color:blue;">结果是一个无符号64位整数。值被截断为64位。特别是，如果移位计数大于或等于无符号64位数字的宽度，则结果为零。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 &lt;&lt; 2;</code></strong>
        -&gt; 4
</pre></li><li class="listitem"><a name="operator_right-shift"></a><p>
                <a class="indexterm" name="idm140286849108992"></a>

                <a class="link" href="functions.html#operator_right-shift"><code class="literal">&gt;&gt;</code></a>
            </p><p style="color:blue;">&gt;&gt;</p><p>
                Shifts a longlong (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>)
                number to the right.
            </p><p style="color:blue;">将longlong（bigint）数字右移。</p><p>
                The result is an unsigned 64-bit integer. The value is
                truncated to 64 bits. In particular, if the shift count is
                greater or equal to the width of an unsigned 64-bit number,
                the result is zero.
            </p><p style="color:blue;">结果是一个无符号64位整数。值被截断为64位。特别是，如果移位计数大于或等于无符号64位数字的宽度，则结果为零。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 4 &gt;&gt; 2;</code></strong>
        -&gt; 1
</pre></li><li class="listitem"><a name="operator_bitwise-invert"></a><p>
                <a class="indexterm" name="idm140286849098112"></a>

                <a class="link" href="functions.html#operator_bitwise-invert"><code class="literal">~</code></a>
            </p><p style="color:blue;">~</p><p>
                Invert all bits.
            </p><p style="color:blue;">反转所有位。</p><p>
                The result is an unsigned 64-bit integer.
            </p><p style="color:blue;">结果是一个无符号64位整数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 5 &amp; ~1;</code></strong>
        -&gt; 4
</pre></li><li class="listitem"><a name="function_bit-count"></a><p>
                <a class="indexterm" name="idm140286849088688"></a>

                <a class="link" href="functions.html#function_bit-count"><code class="literal">BIT_COUNT(<em class="replaceable"><code>N</code></em>)</code></a>
            </p><p style="color:blue;">位计数（N）</p><p>
                Returns the number of bits that are set in the argument
                <em class="replaceable"><code>N</code></em> as an unsigned 64-bit integer, or
                <code class="literal">NULL</code> if the argument is
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">返回参数n中设置为无符号64位整数的位数，如果参数为空，则返回空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT BIT_COUNT(29), BIT_COUNT(b'101010');</code></strong>
        -&gt; 4, 3
</pre></li></ul>
        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="encryption-functions"></a>12.13&nbsp;Encryption and Compression Functions</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286849078192"></a><a class="indexterm" name="idm140286849077152"></a>
        <div class="table">
            <a name="idm140286849075664"></a><p class="title"><b>Table&nbsp;12.17&nbsp;Encryption Functions</b></p><p style="color:blue;">表12.17加密功能</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists encryption functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a></td>
                    <td>
                        Decrypt using AES
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a></td>
                    <td>
                        Encrypt using AES
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-decrypt"><code class="literal">ASYMMETRIC_DECRYPT()</code></a></td>
                    <td>
                        Decrypt ciphertext using private or public key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-derive"><code class="literal">ASYMMETRIC_DERIVE()</code></a></td>
                    <td>
                        Derive symmetric key from asymmetric keys
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a></td>
                    <td>
                        Encrypt cleartext using private or public key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-sign"><code class="literal">ASYMMETRIC_SIGN()</code></a></td>
                    <td>
                        Generate signature from digest
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-verify"><code class="literal">ASYMMETRIC_VERIFY()</code></a></td>
                    <td>
                        Verify that signature matches digest
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a></td>
                    <td>
                        Return result as a binary string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a></td>
                    <td>
                        Create private key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-asymmetric-pub-key"><code class="literal">CREATE_ASYMMETRIC_PUB_KEY()</code></a></td>
                    <td>
                        Create public key
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a></td>
                    <td>
                        Generate shared DH secret
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-digest"><code class="literal">CREATE_DIGEST()</code></a></td>
                    <td>
                        Generate digest from string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_decode"><code class="literal">DECODE()</code></a> (deprecated 5.7.2)</td>
                    <td>
                        Decode a string encrypted using ENCODE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Decrypt a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Encrypt a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_encode"><code class="literal">ENCODE()</code></a> (deprecated 5.7.2)</td>
                    <td>
                        Encode a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Encrypt a string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a></td>
                    <td>
                        Calculate MD5 checksum
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a></td>
                    <td>
                        Return the value of the pre-4.1 implementation of PASSWORD
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> (deprecated 5.7.6)</td>
                    <td>
                        Calculate and return a password string
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_random-bytes"><code class="literal">RANDOM_BYTES()</code></a></td>
                    <td>
                        Return a random byte vector
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code>, <code class="literal">SHA()</code></a></td>
                    <td>
                        Calculate an SHA-1 160-bit checksum
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a></td>
                    <td>
                        Calculate an SHA-2 checksum
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a></td>
                    <td>
                        Uncompress a string compressed
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uncompressed-length"><code class="literal">UNCOMPRESSED_LENGTH()</code></a></td>
                    <td>
                        Return the length of a string before compression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_validate-password-strength"><code class="literal">VALIDATE_PASSWORD_STRENGTH()</code></a></td>
                    <td>
                        Determine strength of password
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break"><p>
        Many encryption and compression functions return strings for which
        the result might contain arbitrary byte values. If you want to
        store these results, use a column with a
        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> or
        <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> binary string data type. This
        will avoid potential problems with trailing space removal or
        character set conversion that would change data values, such as
        may occur if you use a nonbinary string data type
        (<a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>,
        <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a>).
    </p><p style="color:blue;">许多加密和压缩函数返回字符串，其结果可能包含任意字节值。如果要存储这些结果，请使用具有varbinary或blob binary字符串数据类型的列。这将避免后续空格删除或字符集转换可能会更改数据值的潜在问题，例如如果使用非二进制字符串数据类型（char、varchar、text）。</p><p>
        Some encryption functions return strings of ASCII characters:
        <a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a>,
        <a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a>,
        <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a>,
        <a class="link" href="functions.html#function_sha1"><code class="literal">SHA()</code></a>,
        <a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code></a>,
        <a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a>. Their return value is a
        string that has a character set and collation determined by the
        <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
        <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> system
        variables. This is a nonbinary string unless the character set is
        <code class="literal">binary</code>.
    </p><p style="color:blue;">一些加密函数返回ascii字符字符串：md5（）、old_password（）、password（）、sha（）、sha1（）、sha2（）。它们的返回值是一个字符串，该字符串的字符集和排序规则由字符集连接和排序规则连接系统变量确定。这是一个非二进制字符串，除非字符集是二进制的。</p><p>
        If an application stores values from a function such as
        <a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a> or
        <a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code></a> that returns a string of hex
        digits, more efficient storage and comparisons can be obtained by
        converting the hex representation to binary using
        <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> and storing the result in a
        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY(<em class="replaceable"><code>N</code></em>)</code></a>
        column. Each pair of hexadecimal digits requires one byte in
        binary form, so the value of <em class="replaceable"><code>N</code></em> depends
        on the length of the hex string. <em class="replaceable"><code>N</code></em> is
        16 for an <a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a> value and 20 for a
        <a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code></a> value. For
        <a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a>,
        <em class="replaceable"><code>N</code></em> ranges from 28 to 32 depending on the
        argument specifying the desired bit length of the result.
    </p><p style="color:blue;">如果应用程序存储来自返回十六进制数字字符串的md5（）或sha1（）等函数的值，则可以通过使用unhex（）将十六进制表示转换为二进制并将结果存储在二进制（n）列中来获得更有效的存储和比较。每对十六进制数字需要一个二进制字节，因此n的值取决于十六进制字符串的长度。对于md5（）值，n是16；对于sha1（）值，n是20。对于sha2（），n的范围从28到32，具体取决于指定结果所需位长度的参数。</p><p>
        The size penalty for storing the hex string in a
        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> column is at least two times,
        up to eight times if the value is stored in a column that uses the
        <code class="literal">utf8</code> character set (where each character uses 4
        bytes). Storing the string also results in slower comparisons
        because of the larger values and the need to take character set
        collation rules into account.
    </p><p style="color:blue;">在char列中存储十六进制字符串的大小惩罚至少为2倍，如果值存储在使用utf8字符集的列中（每个字符使用4个字节），则最多为8倍。由于值较大，并且需要考虑字符集排序规则，因此存储字符串也会导致比较速度变慢。</p><p>
        Suppose that an application stores
        <a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a> string values in a
        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR(32)</code></a> column:
    </p><p style="color:blue;">假设应用程序将md5（）字符串值存储在char（32）列中：</p><pre data-lang="sql" class="programlisting">CREATE TABLE md5_tbl (md5_val CHAR(32), ...);
INSERT INTO md5_tbl (md5_val, ...) VALUES(MD5('abcdef'), ...);
</pre><p>
        To convert hex strings to more compact form, modify the
        application to use <a class="link" href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> and
        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY(16)</code></a> instead as follows:
    </p><p style="color:blue;">要将十六进制字符串转换为更紧凑的形式，请修改应用程序以使用unhex（）和binary（16），如下所示：</p><pre data-lang="sql" class="programlisting">CREATE TABLE md5_tbl (md5_val BINARY(16), ...);
INSERT INTO md5_tbl (md5_val, ...) VALUES(UNHEX(MD5('abcdef')), ...);
</pre><p>
        Applications should be prepared to handle the very rare case that
        a hashing function produces the same value for two different input
        values. One way to make collisions detectable is to make the hash
        column a primary key.
    </p><p style="color:blue;">应用程序应该准备好处理非常罕见的情况，即哈希函数为两个不同的输入值生成相同的值。检测冲突的一种方法是使哈希列成为主键。</p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

            <div class="admon-title">
                Note
            </div>
            <p>
                Exploits for the MD5 and SHA-1 algorithms have become known. You
                may wish to consider using another one-way encryption function
                described in this section instead, such as
                <a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a>.
            </p><p style="color:blue;">对md5和sha-1算法的利用已经众所周知。您可能希望考虑改用本节中描述的另一个单向加密函数，例如sha2（）。</p>
        </div>
        <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
            <div class="admon-title">
                Caution
            </div>
            <p>
                Passwords or other sensitive values supplied as arguments to
                encryption functions are sent as cleartext to the MySQL server
                unless an SSL connection is used. Also, such values will appear
                in any MySQL logs to which they are written. To avoid these
                types of exposure, applications can encrypt sensitive values on
                the client side before sending them to the server. The same
                considerations apply to encryption keys. To avoid exposing
                these, applications can use stored procedures to encrypt and
                decrypt values on the server side.
            </p><p style="color:blue;">除非使用ssl连接，否则作为加密函数参数提供的密码或其他敏感值将以明文形式发送到mysql服务器。而且，这些值将出现在写入它们的任何mysql日志中。为了避免这些类型的暴露，应用程序可以在将敏感值发送到服务器之前加密客户端上的敏感值。同样的考虑也适用于加密密钥。为了避免暴露这些值，应用程序可以使用存储过程来加密和解密服务器端的值。</p>
        </div>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_aes-decrypt"></a><p>
                <a class="indexterm" name="idm140286848935072"></a>

                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT(<em class="replaceable"><code>crypt_str</code></em>,<em class="replaceable"><code>key_str</code></em>[,<em class="replaceable"><code>init_vector</code></em>])</code></a>
            </p><p style="color:blue;">aes_解密（crypt_str，key_str[，init_vector]）</p><p>
                This function decrypts data using the official AES (Advanced
                Encryption Standard) algorithm. For more information, see the
                description of <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a>.
            </p><p style="color:blue;">此函数使用官方AES（高级加密标准）算法解密数据。有关详细信息，请参阅aes_encrypt（）的说明。</p><p>
                The optional initialization vector argument,
                <em class="replaceable"><code>init_vector</code></em>, is available as of
                MySQL 5.7.4. As of that version, statements that use
                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> are unsafe for
                statement-based replication and cannot be stored in the query
                cache.
            </p><p style="color:blue;">可选的初始化向量参数init_vector从mysql 5.7.4开始提供。在该版本中，使用aes_decrypt（）的语句对于基于语句的复制是不安全的，并且不能存储在查询缓存中。</p></li><li class="listitem"><a name="function_aes-encrypt"></a><p>
                <a class="indexterm" name="idm140286848922608"></a>

                <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>key_str</code></em>[,<em class="replaceable"><code>init_vector</code></em>])</code></a>
            </p><p style="color:blue;">aes_encrypt（str，key_str[，init_vector]）</p><p>
                <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> and
                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> implement
                encryption and decryption of data using the official AES
                (Advanced Encryption Standard) algorithm, previously known as
                <span class="quote">“<span class="quote">Rijndael.</span>”</span> The AES standard permits various key
                lengths. By default these functions implement AES with a
                128-bit key length. As of MySQL 5.7.4, key lengths of 196 or
                256 bits can be used, as described later. The key length is a
                trade off between performance and security.
            </p><p style="color:blue;">AES_encrypt（）和AES_decrypt（）使用官方AES（高级加密标准）算法（以前称为“rijndael”）实现数据的加密和解密。AES标准允许不同的密钥长度。默认情况下，这些函数实现具有128位密钥长度的aes。从mysql 5.7.4开始，可以使用196或256位的密钥长度，如下所述。密钥长度是性能和安全性之间的权衡。</p><p>
                <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> encrypts the
                string <em class="replaceable"><code>str</code></em> using the key string
                <em class="replaceable"><code>key_str</code></em> and returns a binary string
                containing the encrypted output.
                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> decrypts the
                encrypted string <em class="replaceable"><code>crypt_str</code></em> using
                the key string <em class="replaceable"><code>key_str</code></em> and returns
                the original plaintext string. If either function argument is
                <code class="literal">NULL</code>, the function returns
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">aes_encrypt（）使用密钥字符串key_str加密字符串str，并返回包含加密输出的二进制字符串。aes_decrypt（）使用密钥字符串key_str解密加密字符串crypt_str，并返回原始明文字符串。如果任一函数参数为空，则该函数返回空。</p><p>
                The <em class="replaceable"><code>str</code></em> and
                <em class="replaceable"><code>crypt_str</code></em> arguments can be any
                length, and padding is automatically added to
                <em class="replaceable"><code>str</code></em> so it is a multiple of a block
                as required by block-based algorithms such as AES. This
                padding is automatically removed by the
                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> function. The
                length of <em class="replaceable"><code>crypt_str</code></em> can be
                calculated using this formula:
            </p><p style="color:blue;">str和crypt_str参数可以是任意长度，填充会自动添加到str中，因此它是基于块的算法（如aes）所需的块的倍数。AES_decrypt（）函数会自动删除此填充。crypt_str的长度可以使用以下公式计算：</p><pre data-lang="clike" class="programlisting">16 * (trunc(<em class="replaceable"><code>string_length</code></em> / 16) + 1)
</pre><p>
                For a key length of 128 bits, the most secure way to pass a
                key to the <em class="replaceable"><code>key_str</code></em> argument is to
                create a truly random 128-bit value and pass it as a binary
                value. For example:
            </p><p style="color:blue;">对于128位的密钥长度，将密钥传递给密钥参数的最安全方法是创建一个真正随机的128位值，并将其作为二进制值传递。例如：</p><pre data-lang="sql" class="programlisting">INSERT INTO t
VALUES (1,AES_ENCRYPT('text',UNHEX('F3229A0B371ED2D9441B830D21A390C3')));
</pre><p>
                A passphrase can be used to generate an AES key by hashing the
                passphrase. For example:
            </p><p style="color:blue;">密码短语可以通过散列密码短语来生成aes密钥。例如：</p><pre data-lang="sql" class="programlisting">INSERT INTO t
VALUES (1,AES_ENCRYPT('text', UNHEX(SHA2('My secret passphrase',512))));
</pre><p>
                Do not pass a password or passphrase directly to
                <em class="replaceable"><code>crypt_str</code></em>, hash it first. Previous
                versions of this documentation suggested the former approach,
                but it is no longer recommended as the examples shown here are
                more secure.
            </p><p style="color:blue;">不要将密码或密码短语直接传递给crypt_str，请先散列它。本文档的早期版本建议使用前一种方法，但不再建议使用，因为此处显示的示例更安全。</p><p>
                If <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> detects
                invalid data or incorrect padding, it returns
                <code class="literal">NULL</code>. However, it is possible for
                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> to return a
                non-<code class="literal">NULL</code> value (possibly garbage) if the
                input data or the key is invalid.
            </p><p style="color:blue;">如果aes_decrypt（）检测到无效数据或不正确的填充，则返回null。但是，如果输入数据或密钥无效，AES_decrypt（）可能返回非空值（可能是垃圾）。</p><p>
                As of MySQL 5.7.4,
                <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> and
                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> permit control of
                the block encryption mode and take an optional
                <em class="replaceable"><code>init_vector</code></em> initialization vector
                argument:
            </p><p style="color:blue;">从mysql 5.7.4开始，aes_encrypt（）和aes_decrypt（）允许控制块加密模式，并采用可选的init_vector initialization vector参数：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        The <a class="link" href="server-administration.html#sysvar_block_encryption_mode"><code class="literal">block_encryption_mode</code></a>
                        system variable controls the mode for block-based
                        encryption algorithms. Its default value is
                        <code class="literal">aes-128-ecb</code>, which signifies encryption
                        using a key length of 128 bits and ECB mode. For a
                        description of the permitted values of this variable, see
                        <a class="xref" href="server-administration.html#server-system-variables" title="5.1.7&nbsp;Server System Variables">Section&nbsp;5.1.7, “Server System Variables”</a>.
                    </p><p style="color:blue;">块加密模式系统变量控制基于块的加密算法的模式。它的默认值是aes-128-ecb，表示使用128位密钥长度和ecb模式进行加密。有关此变量允许值的说明，请参阅第5.1.7节“服务器系统变量”。</p></li><li class="listitem"><p>
                        The optional <em class="replaceable"><code>init_vector</code></em>
                        argument provides an initialization vector for block
                        encryption modes that require it.
                    </p><p style="color:blue;">可选的init_vector参数为需要它的块加密模式提供初始化向量。</p></li></ul>
                </div>
                <p>
                    For modes that require the optional
                    <em class="replaceable"><code>init_vector</code></em> argument, it must be 16
                    bytes or longer (bytes in excess of 16 are ignored). An error
                    occurs if <em class="replaceable"><code>init_vector</code></em> is missing.
                </p><p style="color:blue;">对于需要可选in it_vector参数的模式，它必须是16字节或更长（超过16字节的字节将被忽略）。如果缺少初始向量，则会发生错误。</p><p>
                    For modes that do not require
                    <em class="replaceable"><code>init_vector</code></em>, it is ignored and a
                    warning is generated if it is specified.
                </p><p style="color:blue;">对于不需要init_vector的模式，它将被忽略，并在指定时生成警告。</p><p>
                    A random string of bytes to use for the initialization vector
                    can be produced by calling
                    <a class="link" href="functions.html#function_random-bytes"><code class="literal">RANDOM_BYTES(16)</code></a>. For
                    encryption modes that require an initialization vector, the
                    same vector must be used for encryption and decryption.
                </p><p style="color:blue;">通过调用random_bytes（16），可以生成用于初始化向量的随机字节字符串。对于需要初始化向量的加密模式，必须使用相同的向量进行加密和解密。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET block_encryption_mode = 'aes-256-cbc';</code></strong>
mysql&gt; <strong class="userinput"><code>SET @key_str = SHA2('My secret passphrase',512);</code></strong>
mysql&gt; <strong class="userinput"><code>SET @init_vector = RANDOM_BYTES(16);</code></strong>
mysql&gt; <strong class="userinput"><code>SET @crypt_str = AES_ENCRYPT('text',@key_str,@init_vector);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT AES_DECRYPT(@crypt_str,@key_str,@init_vector);</code></strong>
+-----------------------------------------------+
| AES_DECRYPT(@crypt_str,@key_str,@init_vector) |
+-----------------------------------------------+
| text                                          |
+-----------------------------------------------+
</pre><p>
                    The following table lists each permitted block encryption
                    mode, the SSL libraries that support it, and whether the
                    initialization vector argument is required.
                </p><p style="color:blue;">下表列出了每个允许的块加密模式、支持它的SSL库以及是否需要初始化向量参数。</p>
                <div class="informaltable">
                    <table summary="The permitted encryption modes, the SSL libraries that support each mode, and whether the initialization vector argument is required for the mode."><colgroup><col width="30%"><col width="35%"><col width="35%"></colgroup><thead><tr>
                        <th scope="col">Block Encryption Mode</th>
                        <th scope="col">SSL Libraries that Support Mode</th>
                        <th scope="col">Initialization Vector Required</th>
                    </tr></thead><tbody><tr>
                        <td scope="row">ECB</td>
                        <td>OpenSSL, yaSSL</td>
                        <td>No</td>
                    </tr><tr>
                        <td scope="row">CBC</td>
                        <td>OpenSSL, yaSSL</td>
                        <td>Yes</td>
                    </tr><tr>
                        <td scope="row">CFB1</td>
                        <td>OpenSSL</td>
                        <td>Yes</td>
                    </tr><tr>
                        <td scope="row">CFB8</td>
                        <td>OpenSSL</td>
                        <td>Yes</td>
                    </tr><tr>
                        <td scope="row">CFB128</td>
                        <td>OpenSSL</td>
                        <td>Yes</td>
                    </tr><tr>
                        <td scope="row">OFB</td>
                        <td>OpenSSL</td>
                        <td>Yes</td>
                    </tr></tbody></table>
                </div>
                <p>
                    As of MySQL 5.7.4, statements that use
                    <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> or
                    <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> are unsafe for
                    statement-based replication and cannot be stored in the query
                    cache.
                </p><p style="color:blue;">从mysql 5.7.4开始，对于基于语句的复制，使用aes_encrypt（）或aes_decrypt（）的语句是不安全的，不能存储在查询缓存中。</p></li><li class="listitem"><a name="function_compress"></a><p>
                <a class="indexterm" name="idm140286848841232"></a>

                <a class="link" href="functions.html#function_compress"><code class="literal">COMPRESS(<em class="replaceable"><code>string_to_compress</code></em>)</code></a>
            </p><p style="color:blue;">压缩（字符串压缩）</p><p>
                Compresses a string and returns the result as a binary string.
                This function requires MySQL to have been compiled with a
                compression library such as <code class="literal">zlib</code>.
                Otherwise, the return value is always <code class="literal">NULL</code>.
                The compressed string can be uncompressed with
                <a class="link" href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a>.
            </p><p style="color:blue;">压缩字符串并将结果作为二进制字符串返回。此函数要求使用压缩库（如zlib）编译mysql。否则，返回值始终为空。压缩字符串可以使用uncompress（）解压缩。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LENGTH(COMPRESS(REPEAT('a',1000)));</code></strong>
        -&gt; 21
mysql&gt; <strong class="userinput"><code>SELECT LENGTH(COMPRESS(''));</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT LENGTH(COMPRESS('a'));</code></strong>
        -&gt; 13
mysql&gt; <strong class="userinput"><code>SELECT LENGTH(COMPRESS(REPEAT('a',16)));</code></strong>
        -&gt; 15
</pre><p>
                The compressed string contents are stored the following way:
            </p><p style="color:blue;">压缩字符串内容的存储方式如下：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        Empty strings are stored as empty strings.
                    </p><p style="color:blue;">空字符串存储为空字符串。</p></li><li class="listitem"><p>
                        Nonempty strings are stored as a 4-byte length of the
                        uncompressed string (low byte first), followed by the
                        compressed string. If the string ends with space, an extra
                        <code class="literal">.</code> character is added to avoid problems
                        with endspace trimming should the result be stored in a
                        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> or
                        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> column. (However,
                        use of nonbinary string data types such as
                        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> or
                        <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> to store compressed
                        strings is not recommended anyway because character set
                        conversion may occur. Use a
                        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> or
                        <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> binary string column
                        instead.)
                    </p><p style="color:blue;">非空字符串存储为未压缩字符串的4字节长度（先是低字节），然后是压缩字符串。如果字符串以空格结尾，则另加一个。添加字符是为了避免在结果存储在char或varchar列中时出现结尾空间修剪问题。（但是，不建议使用非二进制字符串数据类型（如char或varchar）来存储压缩字符串，因为可能会发生字符集转换。请改用varbinary或blob binary string列。）</p></li></ul>
                </div>
            </li><li class="listitem"><a name="function_decode"></a><p>
                <a class="indexterm" name="idm140286848815504"></a>

                <a class="link" href="functions.html#function_decode"><code class="literal">DECODE(<em class="replaceable"><code>crypt_str</code></em>,<em class="replaceable"><code>pass_str</code></em>)</code></a>
            </p><p style="color:blue;">解码（crypt_str，pass_str）</p><p>
                <a class="link" href="functions.html#function_decode"><code class="literal">DECODE()</code></a> decrypts the encrypted
                string <em class="replaceable"><code>crypt_str</code></em> using
                <em class="replaceable"><code>pass_str</code></em> as the password.
                <em class="replaceable"><code>crypt_str</code></em> should be a string
                returned from <a class="link" href="functions.html#function_encode"><code class="literal">ENCODE()</code></a>.
            </p><p style="color:blue;">decode（）使用pass_str作为密码解密加密的字符串crypt_str。crypt_str应该是从encode（）返回的字符串。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The <a class="link" href="functions.html#function_encode"><code class="literal">ENCODE()</code></a> and
                        <a class="link" href="functions.html#function_decode"><code class="literal">DECODE()</code></a> functions are
                        deprecated in MySQL 5.7, will be removed in a
                        future MySQL release, and should no longer be used. Consider
                        using <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> and
                        <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> instead.
                    </p><p style="color:blue;">encode（）和decode（）函数在mysql 5.7中已被弃用，将在以后的mysql版本中删除，并且不再使用。考虑改用aes_encrypt（）和aes_decrypt（）。</p>
                </div>
            </li><li class="listitem"><a name="function_des-decrypt"></a><p>
                <a class="indexterm" name="idm140286848798144"></a>

                <a class="link" href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT(<em class="replaceable"><code>crypt_str</code></em>[,<em class="replaceable"><code>key_str</code></em>])</code></a>
            </p><p style="color:blue;">解密（crypt_str[，key_str]）</p><p>
                Decrypts a string encrypted with
                <a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a>. If an error
                occurs, this function returns <code class="literal">NULL</code>.
            </p><p style="color:blue;">解密使用des_encrypt（）加密的字符串。如果发生错误，此函数将返回空值。</p><p>
                This function works only if MySQL has been configured with SSL
                support. See <a class="xref" href="security.html#encrypted-connections" title="6.3&nbsp;Using Encrypted Connections">Section&nbsp;6.3, “Using Encrypted Connections”</a>.
            </p><p style="color:blue;">只有在mysql配置了ssl支持时，此函数才起作用。参见第6.3节“使用加密连接”。</p><p>
                If no <em class="replaceable"><code>key_str</code></em> argument is given,
                <a class="link" href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT()</code></a> examines the
                first byte of the encrypted string to determine the DES key
                number that was used to encrypt the original string, and then
                reads the key from the DES key file to decrypt the message.
                For this to work, the user must have the
                <a class="link" href="security.html#priv_super"><code class="literal">SUPER</code></a> privilege. The key file
                can be specified with the
                <a class="link" href="server-administration.html#option_mysqld_des-key-file"><code class="option">--des-key-file</code></a> server option.
            </p><p style="color:blue;">如果没有给出key_str参数，des_decrypt（）将检查加密字符串的第一个字节，以确定用于加密原始字符串的des密钥号，然后从des密钥文件中读取密钥以解密消息。要使其工作，用户必须具有超级权限。可以使用--des key file server选项指定密钥文件。</p><p>
                If you pass this function a <em class="replaceable"><code>key_str</code></em>
                argument, that string is used as the key for decrypting the
                message.
            </p><p style="color:blue;">如果向此函数传递一个key_str参数，则该字符串将用作解密消息的密钥。</p><p>
                If the <em class="replaceable"><code>crypt_str</code></em> argument does not
                appear to be an encrypted string, MySQL returns the given
                <em class="replaceable"><code>crypt_str</code></em>.
            </p><p style="color:blue;">如果crypt_str参数看起来不是加密字符串，mysql将返回给定的crypt_str。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The <a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> and
                        <a class="link" href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT()</code></a> functions are
                        deprecated as of MySQL 5.7.6, will be removed in a future
                        MySQL release, and should no longer be used. Consider using
                        <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> and
                        <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，des_encrypt（）和des_decrypt（）函数已被弃用，将在以后的mysql版本中删除，并且不再使用。考虑改用aes_encrypt（）和aes_decrypt（）。</p>
                </div>
            </li><li class="listitem"><a name="function_des-encrypt"></a><p>
                <a class="indexterm" name="idm140286848774416"></a>

                <a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT(<em class="replaceable"><code>str</code></em>[,{<em class="replaceable"><code>key_num</code></em>|<em class="replaceable"><code>key_str</code></em>}])</code></a>
            </p><p style="color:blue;">des_encrypt（str[，{key_num key_str}]）</p><p>
                Encrypts the string with the given key using the Triple-DES
                algorithm.
            </p><p style="color:blue;">使用triple des算法用给定的密钥加密字符串。</p><p>
                This function works only if MySQL has been configured with SSL
                support. See <a class="xref" href="security.html#encrypted-connections" title="6.3&nbsp;Using Encrypted Connections">Section&nbsp;6.3, “Using Encrypted Connections”</a>.
            </p><p style="color:blue;">只有在mysql配置了ssl支持时，此函数才起作用。参见第6.3节“使用加密连接”。</p><p>
                The encryption key to use is chosen based on the second
                argument to <a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a>, if
                one was given. With no argument, the first key from the DES
                key file is used. With a <em class="replaceable"><code>key_num</code></em>
                argument, the given key number (0 to 9) from the DES key file
                is used. With a <em class="replaceable"><code>key_str</code></em> argument,
                the given key string is used to encrypt
                <em class="replaceable"><code>str</code></em>.
            </p><p style="color:blue;">要使用的加密密钥是根据des_encrypt（）的第二个参数（如果已给定）选择的。如果没有参数，则使用des密钥文件中的第一个密钥。对于key-num参数，使用des密钥文件中给定的密钥号（0到9）。对于key_str参数，给定的密钥字符串用于加密str。</p><p>
                The key file can be specified with the
                <a class="link" href="server-administration.html#option_mysqld_des-key-file"><code class="option">--des-key-file</code></a> server option.
            </p><p style="color:blue;">可以使用--des key file server选项指定密钥文件。</p><p>
                The return string is a binary string where the first character
                is <a class="link" href="functions.html#function_char"><code class="literal">CHAR(128 |
                <em class="replaceable"><code>key_num</code></em>)</code></a>. If an error
                occurs, <a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> returns
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">返回字符串是一个二进制字符串，其中第一个字符是char（128 key_num）。如果发生错误，des_encrypt（）将返回空值。</p><p>
                The 128 is added to make it easier to recognize an encrypted
                key. If you use a string key,
                <em class="replaceable"><code>key_num</code></em> is 127.
            </p><p style="color:blue;">添加128是为了更容易识别加密密钥。如果使用字符串键，则key_num为127。</p><p>
                The string length for the result is given by this formula:
            </p><p style="color:blue;">结果的字符串长度由以下公式给出：</p><pre data-lang="clike" class="programlisting"><em class="replaceable"><code>new_len</code></em> = <em class="replaceable"><code>orig_len</code></em> + (8 - (<em class="replaceable"><code>orig_len</code></em> % 8)) + 1
</pre><p>
                Each line in the DES key file has the following format:
            </p><p style="color:blue;">DES密钥文件中的每一行都有以下格式：</p><pre data-lang="ini" class="programlisting"><em class="replaceable"><code>key_num</code></em> <em class="replaceable"><code>des_key_str</code></em>
</pre><p>
                Each <em class="replaceable"><code>key_num</code></em> value must be a number
                in the range from <code class="literal">0</code> to
                <code class="literal">9</code>. Lines in the file may be in any order.
                <em class="replaceable"><code>des_key_str</code></em> is the string that is
                used to encrypt the message. There should be at least one
                space between the number and the key. The first key is the
                default key that is used if you do not specify any key
                argument to <a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a>.
            </p><p style="color:blue;">每个key_num值必须是0到9之间的数字。文件中的行可以是任意顺序的。des_key_str是用于加密消息的字符串。数字和键之间应该至少有一个空格。第一个密钥是默认密钥，如果没有为des_encrypt（）指定任何密钥参数，则使用该密钥。</p><p>
                You can tell MySQL to read new key values from the key file
                with the <a class="link" href="sql-syntax.html#flush-des-key-file"><code class="literal">FLUSH DES_KEY_FILE</code></a>
                statement. This requires the
                <a class="link" href="security.html#priv_reload"><code class="literal">RELOAD</code></a> privilege.
            </p><p style="color:blue;">您可以使用flush des_key_file语句告诉mysql从密钥文件中读取新的密钥值。这需要重新加载权限。</p><p>
                One benefit of having a set of default keys is that it gives
                applications a way to check for the existence of encrypted
                column values, without giving the end user the right to
                decrypt those values.
            </p><p style="color:blue;">拥有一组默认密钥的一个好处是，它给应用程序一种检查加密列值的存在的方法，而不给最终用户解密这些值的权限。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The <a class="link" href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> and
                        <a class="link" href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT()</code></a> functions are
                        deprecated as of MySQL 5.7.6, will be removed in a future
                        MySQL release, and should no longer be used. Consider using
                        <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> and
                        <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，des_encrypt（）和des_decrypt（）函数已被弃用，将在以后的mysql版本中删除，并且不再使用。考虑改用aes_encrypt（）和aes_decrypt（）。</p>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT customer_address FROM customer_table </code></strong>
     &gt; <strong class="userinput"><code>WHERE crypted_credit_card = DES_ENCRYPT('credit_card_number');</code></strong>
</pre></li><li class="listitem"><a name="function_encode"></a><p>
                <a class="indexterm" name="idm140286848733568"></a>

                <a class="link" href="functions.html#function_encode"><code class="literal">ENCODE(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>pass_str</code></em>)</code></a>
            </p><p style="color:blue;">编码（str，pass_str）</p><p>
                <a class="link" href="functions.html#function_encode"><code class="literal">ENCODE()</code></a> encrypts
                <em class="replaceable"><code>str</code></em> using
                <em class="replaceable"><code>pass_str</code></em> as the password. The
                result is a binary string of the same length as
                <em class="replaceable"><code>str</code></em>. To decrypt the result, use
                <a class="link" href="functions.html#function_decode"><code class="literal">DECODE()</code></a>.
            </p><p style="color:blue;">encode（）使用pass_str作为密码加密str。结果是与str长度相同的二进制字符串。若要解密结果，请使用decode（）。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The <a class="link" href="functions.html#function_encode"><code class="literal">ENCODE()</code></a> and
                        <a class="link" href="functions.html#function_decode"><code class="literal">DECODE()</code></a> functions are
                        deprecated in MySQL 5.7, will be removed in a
                        future MySQL release, and should no longer be used.
                    </p><p style="color:blue;">encode（）和decode（）函数在mysql 5.7中已被弃用，将在以后的mysql版本中删除，并且不再使用。</p>
                </div>
                <p>
                    If you still need to use
                    <a class="link" href="functions.html#function_encode"><code class="literal">ENCODE()</code></a>, a salt value must be
                    used with it to reduce risk. For example:
                </p><p style="color:blue;">如果仍然需要使用encode（），则必须使用salt值来降低风险。例如：</p><pre data-lang="sql" class="programlisting">ENCODE('cleartext', CONCAT('my_random_salt','my_secret_password'))
</pre><p>
                    A new random salt value must be used whenever a password is
                    updated.
                </p><p style="color:blue;">每当更新密码时，必须使用新的随机salt值。</p></li><li class="listitem"><a name="function_encrypt"></a><p>
                <a class="indexterm" name="idm140286848715552"></a>

                <a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT(<em class="replaceable"><code>str</code></em>[,<em class="replaceable"><code>salt</code></em>])</code></a>
            </p><p style="color:blue;">加密（str[，salt]）</p><p>
                Encrypts <em class="replaceable"><code>str</code></em> using the Unix
                <code class="function">crypt()</code> system call and returns a binary
                string. The <em class="replaceable"><code>salt</code></em> argument must be a
                string with at least two characters or the result will be
                <code class="literal">NULL</code>. If no <em class="replaceable"><code>salt</code></em>
                argument is given, a random value is used.
            </p><p style="color:blue;">使用unix crypt（）系统调用加密str并返回二进制字符串。salt参数必须是至少包含两个字符的字符串，否则结果将为空。如果没有给出salt参数，则使用随机值。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        The <a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> function is
                        deprecated as of MySQL 5.7.6, will be removed in a future
                        MySQL release, and should no longer be used. For one-way
                        hashing, consider using
                        <a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a> instead.
                    </p><p style="color:blue;">encrypt（）函数从mysql 5.7.6开始就被弃用，将在以后的mysql版本中删除，并且不再使用。对于单向散列，请考虑改用sha2（）。</p>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ENCRYPT('hello');</code></strong>
        -&gt; 'VxuFAJXVARROc'
</pre><p>
                    <a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> ignores all but the
                    first eight characters of <em class="replaceable"><code>str</code></em>, at
                    least on some systems. This behavior is determined by the
                    implementation of the underlying <code class="function">crypt()</code>
                    system call.
                </p><p style="color:blue;">encrypt（）忽略str的前8个字符以外的所有字符，至少在某些系统上是这样。此行为由底层crypt（）系统调用的实现决定。</p><p>
                    The use of <a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> with the
                    <code class="literal">ucs2</code>, <code class="literal">utf16</code>,
                    <code class="literal">utf16le</code>, or <code class="literal">utf32</code>
                    multibyte character sets is not recommended because the system
                    call expects a string terminated by a zero byte.
                </p><p style="color:blue;">不建议将encrypt（）与ucs2、utf16、utf16le或utf32多字节字符集一起使用，因为系统调用需要以零字节结尾的字符串。</p><p>
                    If <code class="function">crypt()</code> is not available on your
                    system (as is the case with Windows),
                    <a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> always returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果crypt（）在您的系统上不可用（与Windows一样），则encrypt（）始终返回空值。</p></li><li class="listitem"><a name="function_md5"></a><p>
                <a class="indexterm" name="idm140286848688640"></a>

                <a class="link" href="functions.html#function_md5"><code class="literal">MD5(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">MD5（街道）</p><p>
                Calculates an MD5 128-bit checksum for the string. The value
                is returned as a string of 32 hexadecimal digits, or
                <code class="literal">NULL</code> if the argument was
                <code class="literal">NULL</code>. The return value can, for example, be
                used as a hash key. See the notes at the beginning of this
                section about storing hash values efficiently.
            </p><p style="color:blue;">计算字符串的MD5 128位校验和。该值以32个十六进制数字的字符串形式返回，如果参数为空，则返回空值。例如，返回值可以用作散列键。请参阅本节开头关于高效存储哈希值的说明。</p><p>
                The return value is a string in the connection character set.
            </p><p style="color:blue;">返回值是连接字符集中的字符串。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MD5('testing');</code></strong>
        -&gt; 'ae2b1fca515949e5d54fb22b8ed95575'
</pre><p>
                This is the <span class="quote">“<span class="quote">RSA Data Security, Inc. MD5 Message-Digest
          Algorithm.</span>”</span>
            </p><p style="color:blue;">这是“RSA数据安全公司MD5消息摘要算法”。</p><p>
                See the note regarding the MD5 algorithm at the beginning this
                section.
            </p><p style="color:blue;">请参阅本节开头关于md5算法的说明。</p></li><li class="listitem"><a name="function_old-password"></a><p>
                <a class="indexterm" name="idm140286848675584"></a>

                <a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">旧密码（str）</p><p>
                <a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a> was added when
                the implementation of
                <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> was changed in MySQL
                4.1 to improve security.
                <a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a> returned the
                value of the pre-4.1 implementation of
                <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> as a string, and was
                intended to permit you to reset passwords for any pre-4.1
                clients that need to connect to your MySQL server without
                locking them out. See <a class="xref" href="security.html#password-hashing" title="6.1.2.4&nbsp;Password Hashing in MySQL">Section&nbsp;6.1.2.4, “Password Hashing in MySQL”</a>.
            </p><p style="color:blue;">在MySQL4.1中修改password（）的实现时添加了old_password（），以提高安全性。old_password（）以字符串形式返回password（）的pre-4.1实现的值，旨在允许您为需要连接到mysql服务器的pre-4.1客户机重置密码，而无需将其锁定。参见第6.1.2.4节“MySQL中的密码散列”。</p><p>
                Passwords that use the pre-4.1 hashing method are less secure
                than passwords that use the native password hashing method.
                Support for pre-4.1 passwords was removed in MySQL 5.7.5, as
                was <a class="link" href="functions.html#function_old-password"><code class="literal">OLD_PASSWORD()</code></a>.
            </p><p style="color:blue;">使用pre-4.1散列方法的密码比使用本机密码散列方法的密码更不安全。MySQL5.7.5中删除了对4.1之前版本密码的支持，与旧的_password（）一样。</p></li><li class="listitem"><a name="function_password"></a><p>
                <a class="indexterm" name="idm140286848660640"></a>

                <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">密码（str）</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        This function is deprecated as of MySQL 5.7.6 and will be
                        removed in a future MySQL release.
                    </p><p style="color:blue;">这个函数从mysql 5.7.6开始就不推荐使用了，以后的mysql版本中将删除它。</p>
                </div>
                <p>
                    Returns a hashed password string calculated from the cleartext
                    password <em class="replaceable"><code>str</code></em>. The return value is a
                    string in the connection character set, or
                    <code class="literal">NULL</code> if the argument is
                    <code class="literal">NULL</code>. This function is the SQL interface to
                    the algorithm used by the server to encrypt MySQL passwords
                    for storage in the <code class="literal">mysql.user</code> grant table.
                </p><p style="color:blue;">返回从明文密码字符串计算的哈希密码字符串。返回值是连接字符集中的字符串，如果参数为空，则返回空。此函数是服务器用于加密mysql密码以存储在mysql.user grant表中的算法的sql接口。</p><p>
                    The <a class="link" href="server-administration.html#sysvar_old_passwords"><code class="literal">old_passwords</code></a> system
                    variable controls the password hashing method used by the
                    <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> function. It also
                    influences password hashing performed by
                    <a class="link" href="sql-syntax.html#create-user" title="13.7.1.2&nbsp;CREATE USER Syntax"><code class="literal">CREATE USER</code></a> and
                    <a class="link" href="sql-syntax.html#grant" title="13.7.1.4&nbsp;GRANT Syntax"><code class="literal">GRANT</code></a> statements that specify a
                    password using an <code class="literal">IDENTIFIED BY</code> clause.
                </p><p style="color:blue;">old_passwords系统变量控制password（）函数使用的密码散列方法。它还影响create user和grant语句执行的密码散列，这些语句使用identified by子句指定密码。</p><p>
                    The following table shows, for each password hashing method,
                    the permitted value of <code class="literal">old_passwords</code> and
                    which authentication plugins use the hashing method.
                </p><p style="color:blue;">下表显示了对于每个密码哈希方法，旧密码的允许值以及哪些身份验证插件使用哈希方法。</p>
                <div class="informaltable">
                    <table summary="For each password hashing method, the permitted value of old_passwords and which authentication plugins use the hashing method"><colgroup><col width="40%"><col width="20%"><col width="40%"></colgroup><thead><tr>
                        <th scope="col">Password Hashing Method</th>
                        <th scope="col">old_passwords Value</th>
                        <th scope="col">Associated Authentication Plugin</th>
                    </tr></thead><tbody><tr>
                        <td scope="row">MySQL 4.1 native hashing</td>
                        <td>0</td>
                        <td><code class="literal">mysql_native_password</code></td>
                    </tr><tr>
                        <td scope="row">SHA-256 hashing</td>
                        <td>2</td>
                        <td><code class="literal">sha256_password</code></td>
                    </tr></tbody></table>
                </div>
                <p>
                    SHA-256 password hashing
                    (<a class="link" href="server-administration.html#sysvar_old_passwords"><code class="literal">old_passwords=2</code></a>) uses a
                    random salt value, which makes the result from
                    <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> nondeterministic.
                    Consequently, statements that use this function are not safe
                    for statement-based replication and cannot be stored in the
                    query cache.
                </p><p style="color:blue;">sha-256密码散列（old_passwords=2）使用随机salt值，这使得password（）的结果不确定。因此，使用此函数的语句对于基于语句的复制是不安全的，并且不能存储在查询缓存中。</p><p>
                    <a class="indexterm" name="idm140286848625376"></a>

                    Encryption performed by
                    <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> is one-way (not
                    reversible), but it is not the same type of encryption used
                    for Unix passwords.
                </p><p style="color:blue;">password（）执行的加密是单向的（不可逆），但它与用于unix密码的加密类型不同。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> is used by the
                        authentication system in MySQL Server; you should
                        <span class="emphasis"><em>not</em></span> use it in your own applications.
                        For that purpose, consider a more secure function such as
                        <a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a> instead. Also see
                        <a class="ulink" href="http://www.faqs.org/rfcs/rfc2195.html" target="_top">RFC 2195,
                            section 2 (Challenge-Response Authentication Mechanism
                            (CRAM))</a>, for more information about handling
                        passwords and authentication securely in your applications.
                    </p><p style="color:blue;">mysql server中的身份验证系统使用password（）；不应在自己的应用程序中使用它。为此，请考虑一个更安全的函数，例如sha2（）。另请参见rfc 2195，第2节（质询-响应身份验证机制（cram）），了解有关在应用程序中安全地处理密码和身份验证的更多信息。</p>
                </div>
                <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
                    <div class="admon-title">
                        Caution
                    </div>
                    <p>
                        Under some circumstances, statements that invoke
                        <a class="link" href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> may be recorded in
                        server logs or on the client side in a history file such as
                        <code class="filename">~/.mysql_history</code>, which means that
                        cleartext passwords may be read by anyone having read access
                        to that information. For information about the conditions
                        under which this occurs for the server logs and how to
                        control it, see <a class="xref" href="security.html#password-logging" title="6.1.2.3&nbsp;Passwords and Logging">Section&nbsp;6.1.2.3, “Passwords and Logging”</a>. For
                        similar information about client-side logging, see
                        <a class="xref" href="programs.html#mysql-logging" title="4.5.1.3&nbsp;mysql Client Logging">Section&nbsp;4.5.1.3, “mysql Client Logging”</a>.
                    </p><p style="color:blue;">在某些情况下，调用password（）的语句可能会记录在服务器日志中，或记录在历史文件（如~/.mysql_history）的客户端，这意味着对该信息具有读取权限的任何人都可以读取明文密码。有关服务器日志发生这种情况的条件以及如何控制它的信息，请参阅第6.1.2.3节“密码和日志记录”。有关客户端日志记录的类似信息，请参阅第4.5.1.3节“MySQL客户端日志记录”。</p>
                </div>
            </li><li class="listitem"><a name="function_random-bytes"></a><p>
                <a class="indexterm" name="idm140286848609920"></a>

                <a class="link" href="functions.html#function_random-bytes"><code class="literal">RANDOM_BYTES(<em class="replaceable"><code>len</code></em>)</code></a>
            </p><p style="color:blue;">随机字节（len）</p><p>
                This function returns a binary string of
                <em class="replaceable"><code>len</code></em> random bytes generated using
                the random number generator of the SSL library. Permitted
                values of <em class="replaceable"><code>len</code></em> range from 1 to 1024.
                For values outside that range,
                <a class="link" href="functions.html#function_random-bytes"><code class="literal">RANDOM_BYTES()</code></a> generates a
                warning and returns <code class="literal">NULL</code>.
            </p><p style="color:blue;">此函数返回使用ssl库的随机数生成器生成的len随机字节的二进制字符串。len的允许值范围是1到1024。对于超出该范围的值，random_bytes（）将生成警告并返回空值。</p><p>
                <a class="link" href="functions.html#function_random-bytes"><code class="literal">RANDOM_BYTES()</code></a> can be used to
                provide the initialization vector for the
                <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a> and
                <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> functions. For
                use in that context, <em class="replaceable"><code>len</code></em> must be at
                least 16. Larger values are permitted, but bytes in excess of
                16 are ignored.
            </p><p style="color:blue;">random_bytes（）可用于为aes_decrypt（）和aes_encrypt（）函数提供初始化向量。要在该上下文中使用，len必须至少为16。允许较大的值，但忽略超过16的字节。</p><p>
                <a class="link" href="functions.html#function_random-bytes"><code class="literal">RANDOM_BYTES()</code></a> generates a
                random value, which makes its result nondeterministic.
                Consequently, statements that use this function are unsafe for
                statement-based replication and cannot be stored in the query
                cache.
            </p><p style="color:blue;">random_bytes（）生成一个随机值，使其结果不确定。因此，使用此函数的语句对于基于语句的复制是不安全的，并且不能存储在查询缓存中。</p><p>
                This function is available as of MySQL 5.7.4.
            </p><p style="color:blue;">此函数从mysql 5.7.4开始提供。</p></li><li class="listitem"><a name="function_sha1"></a><p>
                <a class="indexterm" name="idm140286848592000"></a>

                <a class="indexterm" name="idm140286848590928"></a>

                <a class="link" href="functions.html#function_sha1"><code class="literal">SHA1(<em class="replaceable"><code>str</code></em>)</code></a>,
                <a class="link" href="functions.html#function_sha1"><code class="literal">SHA(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">SHA1（街道）、SHA（街道）</p><p>
                Calculates an SHA-1 160-bit checksum for the string, as
                described in RFC 3174 (Secure Hash Algorithm). The value is
                returned as a string of 40 hexadecimal digits, or
                <code class="literal">NULL</code> if the argument was
                <code class="literal">NULL</code>. One of the possible uses for this
                function is as a hash key. See the notes at the beginning of
                this section about storing hash values efficiently.
                <a class="link" href="functions.html#function_sha1"><code class="literal">SHA()</code></a> is
                synonymous with <a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code></a>.
            </p><p style="color:blue;">计算字符串的sha-1160位校验和，如rfc 3174（安全哈希算法）中所述。该值以40个十六进制数字的字符串形式返回，如果参数为空，则返回空值。此函数的一个可能用途是用作哈希键。请参阅本节开头关于高效存储哈希值的说明。sha（）是sha1（）的同义词。</p><p>
                The return value is a string in the connection character set.
            </p><p style="color:blue;">返回值是连接字符集中的字符串。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SHA1('abc');</code></strong>
        -&gt; 'a9993e364706816aba3e25717850c26c9cd0d89d'
</pre><p>
                <a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code></a> can be considered a
                cryptographically more secure equivalent of
                <a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a>. However, see the note
                regarding the MD5 and SHA-1 algorithms at the beginning this
                section.
            </p><p style="color:blue;">sha1（）可以被认为是一个加密上更安全的md5（）等价物。但是，请参阅本节开头关于md5和sha-1算法的说明。</p></li><li class="listitem"><a name="function_sha2"></a><p>
                <a class="indexterm" name="idm140286848571344"></a>

                <a class="link" href="functions.html#function_sha2"><code class="literal">SHA2(<em class="replaceable"><code>str</code></em>,
                    <em class="replaceable"><code>hash_length</code></em>)</code></a>
            </p><p style="color:blue;">sha2（str，散列长度）</p><p>
                Calculates the SHA-2 family of hash functions (SHA-224,
                SHA-256, SHA-384, and SHA-512). The first argument is the
                plaintext string to be hashed. The second argument indicates
                the desired bit length of the result, which must have a value
                of 224, 256, 384, 512, or 0 (which is equivalent to 256). If
                either argument is <code class="literal">NULL</code> or the hash length
                is not one of the permitted values, the return value is
                <code class="literal">NULL</code>. Otherwise, the function result is a
                hash value containing the desired number of bits. See the
                notes at the beginning of this section about storing hash
                values efficiently.
            </p><p style="color:blue;">计算sha-2系列散列函数（sha-224、sha-256、sha-384和sha-512）。第一个参数是要散列的明文字符串。第二个参数表示结果所需的位长度，其值必须为224、256、384、512或0（相当于256）。如果参数为空或哈希长度不是允许的值之一，则返回值为空。否则，函数结果是包含所需位数的哈希值。请参阅本节开头关于高效存储哈希值的说明。</p><p>
                The return value is a string in the connection character set.
            </p><p style="color:blue;">返回值是连接字符集中的字符串。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SHA2('abc', 224);</code></strong>
        -&gt; '23097d223405d8228642a477bda255b32aadbce4bda0b3f7e36c9da7'
</pre><p>
                This function works only if MySQL has been configured with SSL
                support. See <a class="xref" href="security.html#encrypted-connections" title="6.3&nbsp;Using Encrypted Connections">Section&nbsp;6.3, “Using Encrypted Connections”</a>.
            </p><p style="color:blue;">只有在mysql配置了ssl支持时，此函数才起作用。参见第6.3节“使用加密连接”。</p><p>
                <a class="link" href="functions.html#function_sha2"><code class="literal">SHA2()</code></a> can be considered
                cryptographically more secure than
                <a class="link" href="functions.html#function_md5"><code class="literal">MD5()</code></a> or
                <a class="link" href="functions.html#function_sha1"><code class="literal">SHA1()</code></a>.
            </p><p style="color:blue;">可以认为sha2（）在加密方面比md5（）或sha1（）更安全。</p></li><li class="listitem"><a name="function_uncompress"></a><p>
                <a class="indexterm" name="idm140286848553504"></a>

                <a class="link" href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS(<em class="replaceable"><code>string_to_uncompress</code></em>)</code></a>
            </p><p style="color:blue;">解压缩（字符串到解压缩）</p><p>
                Uncompresses a string compressed by the
                <a class="link" href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> function. If the
                argument is not a compressed value, the result is
                <code class="literal">NULL</code>. This function requires MySQL to have
                been compiled with a compression library such as
                <code class="literal">zlib</code>. Otherwise, the return value is always
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">解压缩由compress（）函数压缩的字符串。如果参数不是压缩值，则结果为空。此函数要求使用压缩库（如zlib）编译mysql。否则，返回值始终为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UNCOMPRESS(COMPRESS('any string'));</code></strong>
        -&gt; 'any string'
mysql&gt; <strong class="userinput"><code>SELECT UNCOMPRESS('any string');</code></strong>
        -&gt; NULL
</pre></li><li class="listitem"><a name="function_uncompressed-length"></a><p>
                <a class="indexterm" name="idm140286848539552"></a>

                <a class="link" href="functions.html#function_uncompressed-length"><code class="literal">UNCOMPRESSED_LENGTH(<em class="replaceable"><code>compressed_string</code></em>)</code></a>
            </p><p style="color:blue;">未压缩长度（压缩字符串）</p><p>
                Returns the length that the compressed string had before being
                compressed.
            </p><p style="color:blue;">返回压缩字符串在被压缩之前的长度。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UNCOMPRESSED_LENGTH(COMPRESS(REPEAT('a',30)));</code></strong>
        -&gt; 30
</pre></li><li class="listitem"><a name="function_validate-password-strength"></a><p>
                <a class="indexterm" name="idm140286848530000"></a>

                <a class="link" href="functions.html#function_validate-password-strength"><code class="literal">VALIDATE_PASSWORD_STRENGTH(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">验证密码强度（str）</p><p>
                Given an argument representing a plaintext password, this
                function returns an integer to indicate how strong the
                password is. The return value ranges from 0 (weak) to 100
                (strong).
            </p><p style="color:blue;">给定一个表示明文密码的参数，此函数返回一个整数以指示密码的强度。返回值从0（弱）到100（强）不等。</p><p>
                Password assessment by
                <a class="link" href="functions.html#function_validate-password-strength"><code class="literal">VALIDATE_PASSWORD_STRENGTH()</code></a> is
                done by the <code class="literal">validate_password</code> plugin. If
                that plugin is not installed, the function always returns 0.
                For information about installing
                <code class="literal">validate_password</code>, see
                <a class="xref" href="security.html#validate-password" title="6.4.3&nbsp;The Password Validation Plugin">Section&nbsp;6.4.3, “The Password Validation Plugin”</a>. To examine or configure
                the parameters that affect password testing, check or set the
                system variables implemented by
                <code class="literal">validate_password</code>. See
                <a class="xref" href="security.html#validate-password-options-variables" title="6.4.3.2&nbsp;Password Validation Plugin Options and Variables">Section&nbsp;6.4.3.2, “Password Validation Plugin Options and Variables”</a>.
            </p><p style="color:blue;">Validate_Password_Strength（）的密码评估由Validate_Password插件完成。如果未安装该插件，则函数始终返回0。有关安装validate_password的信息，请参阅第6.4.3节“密码验证插件”。要检查或配置影响密码测试的参数，请检查或设置由validate_password实现的系统变量。参见第6.4.3.2节“密码验证插件选项和变量”。</p><p>
                The password is subjected to increasingly strict tests and the
                return value reflects which tests were satisfied, as shown in
                the following table. In addition, if the
                <a class="link" href="security.html#sysvar_validate_password_check_user_name"><code class="literal">validate_password_check_user_name</code></a>
                system variable is enabled and the password matches the user
                name,
                <a class="link" href="functions.html#function_validate-password-strength"><code class="literal">VALIDATE_PASSWORD_STRENGTH()</code></a>
                returns 0 regardless of how other
                <code class="literal">validate_password</code> system variables are set.
            </p><p style="color:blue;">密码要经受越来越严格的测试，返回值反映满足哪些测试，如下表所示。此外，如果启用了validate_password_check_user_name系统变量，并且密码与用户名匹配，则无论如何设置其他validate_password系统变量，validate_password_strength（）都将返回0。</p>
                <div class="informaltable">
                    <table summary="Password tests of the VALIDATE_PASSWORD_STRENGTH() function and the values returned by each password test."><colgroup><col width="60%"><col width="20%"></colgroup><thead><tr>
                        <th scope="col">Password Test</th>
                        <th scope="col">Return Value</th>
                    </tr></thead><tbody><tr>
                        <td scope="row">Length &lt; 4</td>
                        <td>0</td>
                    </tr><tr>
                        <td scope="row">Length ≥ 4 and &lt;
                            <a class="link" href="security.html#sysvar_validate_password_length"><code class="literal">validate_password_length</code></a></td>
                        <td>25</td>
                    </tr><tr>
                        <td scope="row">Satisfies policy 1 (<code class="literal">LOW</code>)</td>
                        <td>50</td>
                    </tr><tr>
                        <td scope="row">Satisfies policy 2 (<code class="literal">MEDIUM</code>)</td>
                        <td>75</td>
                    </tr><tr>
                        <td scope="row">Satisfies policy 3 (<code class="literal">STRONG</code>)</td>
                        <td>100</td>
                    </tr></tbody></table>
                </div>
            </li></ul>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="locking-functions"></a>12.14&nbsp;Locking Functions</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286848493168"></a><a class="indexterm" name="idm140286848492096"></a><p>
        This section describes functions used to manipulate user-level
        locks.
    </p><p style="color:blue;">本节介绍用于操作用户级锁的函数。</p>
        <div class="table">
            <a name="idm140286848490128"></a><p class="title"><b>Table&nbsp;12.18&nbsp;Locking Functions</b></p><p style="color:blue;">表12.18锁定功能</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists locking functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a></td>
                    <td>
                        Get a named lock
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-free-lock"><code class="literal">IS_FREE_LOCK()</code></a></td>
                    <td>
                        Whether the named lock is free
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-used-lock"><code class="literal">IS_USED_LOCK()</code></a></td>
                    <td>
                        Whether the named lock is in use; return connection identifier if
                        true
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_release-all-locks"><code class="literal">RELEASE_ALL_LOCKS()</code></a></td>
                    <td>
                        Release all current named locks
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_release-lock"><code class="literal">RELEASE_LOCK()</code></a></td>
                    <td>
                        Release the named lock
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_get-lock"></a><p>
                <a class="indexterm" name="idm140286848464224"></a>

                <a class="indexterm" name="idm140286848463152"></a>

                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK(<em class="replaceable"><code>str</code></em>,<em class="replaceable"><code>timeout</code></em>)</code></a>
            </p><p style="color:blue;">获取锁（str，超时）</p><p>
                Tries to obtain a lock with a name given by the string
                <em class="replaceable"><code>str</code></em>, using a timeout of
                <em class="replaceable"><code>timeout</code></em> seconds. A negative
                <em class="replaceable"><code>timeout</code></em> value means infinite
                timeout. The lock is exclusive. While held by one session,
                other sessions cannot obtain a lock of the same name.
            </p><p style="color:blue;">尝试使用超时秒数获取由字符串str给定名称的锁。负超时值表示无限超时。锁是专用的。由一个会话持有时，其他会话无法获取同名的锁。</p><p>
                Returns <code class="literal">1</code> if the lock was obtained
                successfully, <code class="literal">0</code> if the attempt timed out
                (for example, because another client has previously locked the
                name), or <code class="literal">NULL</code> if an error occurred (such
                as running out of memory or the thread was killed with
                <a class="link" href="programs.html#mysqladmin" title="4.5.2&nbsp;mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin kill</strong></span></a>).
            </p><p style="color:blue;">如果成功获取锁，则返回1；如果尝试超时（例如，因为另一个客户端以前锁定了该名称），则返回0；如果发生错误（例如内存不足或线程被mysqladmin kill杀死），则返回null。</p><p>
                A lock obtained with <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>
                is released explicitly by executing
                <a class="link" href="functions.html#function_release-lock"><code class="literal">RELEASE_LOCK()</code></a> or implicitly
                when your session terminates (either normally or abnormally).
                Locks obtained with <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>
                are not released when transactions commit or roll back.
            </p><p style="color:blue;">使用get_lock（）获得的锁通过执行release_lock（）显式释放，或者在会话终止时隐式释放（正常或异常）。当事务提交或回滚时，使用get_lock（）获得的锁不会被释放。</p><p>
                In MySQL 5.7, <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> was
                reimplemented using the metadata locking (MDL) subsystem and
                its capabilities were extended. Multiple simultaneous locks
                can be acquired and <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>
                does not release any existing locks.
            </p><p style="color:blue;">在mysql 5.7中，使用元数据锁定（mdl）子系统重新实现get_lock（），并扩展其功能。可以同时获取多个并发锁，并且GETYROX（）不释放任何现有锁。</p><p>
                It is even possible for a given session to acquire multiple
                locks for the same name. Other sessions cannot acquire a lock
                with that name until the acquiring session releases all its
                locks for the name.
            </p><p style="color:blue;">一个给定的会话甚至可以为同一个名称获取多个锁。在获取会话释放该名称的所有锁之前，其他会话无法获取具有该名称的锁。</p><p>
                As a result of the MDL reimplementation, uniquely named locks
                acquired with <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> appear
                in the Performance Schema
                <a class="link" href="performance-schema.html#metadata-locks-table" title="25.12.12.1&nbsp;The metadata_locks Table"><code class="literal">metadata_locks</code></a> table. The
                <code class="literal">OBJECT_TYPE</code> column says <code class="literal">USER LEVEL
                LOCK</code> and the <code class="literal">OBJECT_NAME</code> column
                indicates the lock name. In the case that multiple locks are
                acquired for the <span class="emphasis"><em>same</em></span> name, only the
                first lock for the name registers a row in the
                <a class="link" href="performance-schema.html#metadata-locks-table" title="25.12.12.1&nbsp;The metadata_locks Table"><code class="literal">metadata_locks</code></a> table. Subsequent
                locks for the name increment a counter in the lock but do not
                acquire additional metadata locks. The
                <a class="link" href="performance-schema.html#metadata-locks-table" title="25.12.12.1&nbsp;The metadata_locks Table"><code class="literal">metadata_locks</code></a> row for the lock
                is deleted when the last lock instance on the name is
                released.
            </p><p style="color:blue;">作为MDL重新实现的结果，使用get_lock（）获取的唯一命名锁将显示在性能架构元数据锁表中。object_type列表示用户级锁，object_name列表示锁名称。在为同一名称获取多个锁的情况下，只有该名称的第一个锁在metadata_locks表中注册一行。名称的后续锁会增加锁中的计数器，但不会获取其他元数据锁。当名称上的最后一个锁实例被释放时，将删除该锁的元数据锁行。</p><p>
                The capability of acquiring multiple locks means there is the
                possibility of deadlock among clients. When this happens, the
                server chooses a caller and terminates its lock-acquisition
                request with an
                <a class="link" href="error-handling.html#error_er_user_lock_deadlock"><code class="literal">ER_USER_LOCK_DEADLOCK</code></a> error.
                This error does not cause transactions to roll back.
            </p><p style="color:blue;">获取多个锁的能力意味着客户端之间存在死锁的可能性。发生这种情况时，服务器选择调用方，并使用er_user_lock_死锁错误终止其锁获取请求。此错误不会导致事务回滚。</p><p>
                Before MySQL 5.7, only a single simultaneous lock can be
                acquired and <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>
                releases any existing lock. The difference in lock acquisition
                behavior as of MySQL 5.7 can be seen by the following example.
                Suppose that you execute these statements:
            </p><p style="color:blue;">在MySQL 5.7之前，只有一个并发锁可以被获取，并且GETSyLink（）释放任何现有的锁。从下面的例子可以看出mysql 5.7的锁获取行为的不同。假设您执行以下语句：</p><pre data-lang="sql" class="programlisting">SELECT GET_LOCK('lock1',10);
SELECT GET_LOCK('lock2',10);
SELECT RELEASE_LOCK('lock2');
SELECT RELEASE_LOCK('lock1');
</pre><p>
                In MySQL 5.7 or later, the second
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> acquires a second
                lock and both <a class="link" href="functions.html#function_release-lock"><code class="literal">RELEASE_LOCK()</code></a>
                calls return 1 (success). Before MySQL 5.7, the second
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> releases the first
                lock (<code class="literal">'lock1')</code> and the second
                <a class="link" href="functions.html#function_release-lock"><code class="literal">RELEASE_LOCK()</code></a> returns
                <code class="literal">NULL</code> (failure) because there is no
                <code class="literal">'lock1'</code> to release.
            </p><p style="color:blue;">在mysql 5.7或更高版本中，第二个get_lock（）获取第二个锁，两个release_lock（）调用都返回1（成功）。在mysql 5.7之前，第二个get_lock（）释放第一个锁（'lock1'），第二个release_lock（）返回null（失败），因为没有要释放的'lock1'。</p><p>
                MySQL 5.7 and later enforces a maximum length on lock names of
                64 characters. Previously, no limit was enforced.
            </p><p style="color:blue;">MySQL 5.7和以后强制执行64个字符的锁名称的最大长度。以前，没有执行任何限制。</p><p>
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> can be used to
                implement application locks or to simulate record locks. Names
                are locked on a server-wide basis. If a name has been locked
                within one session, <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>
                blocks any request by another session for a lock with the same
                name. This enables clients that agree on a given lock name to
                use the name to perform cooperative advisory locking. But be
                aware that it also enables a client that is not among the set
                of cooperating clients to lock a name, either inadvertently or
                deliberately, and thus prevent any of the cooperating clients
                from locking that name. One way to reduce the likelihood of
                this is to use lock names that are database-specific or
                application-specific. For example, use lock names of the form
                <em class="replaceable"><code>db_name.str</code></em> or
                <em class="replaceable"><code>app_name.str</code></em>.
            </p><p style="color:blue;">get_lock（）可用于实现应用程序锁或模拟记录锁。在服务器范围内锁定名称。如果一个名称在一个会话中被锁定，get_lock（）将阻止另一个会话对同名锁的任何请求。这使同意给定锁名称的客户机能够使用该名称来执行协作咨询锁定。但是请注意，它还允许不属于协作客户端集的客户端无意或故意地锁定名称，从而防止任何协作客户端锁定该名称。降低这种可能性的一种方法是使用特定于数据库或特定于应用程序的锁名称。例如，使用形式为db_name.str或app_name.str的锁名称。</p><p>
                If multiple clients are waiting for a lock, the order in which
                they will acquire it is undefined. Applications should not
                assume that clients will acquire the lock in the same order
                that they issued the lock requests.
            </p><p style="color:blue;">如果多个客户机正在等待锁，则它们获取锁的顺序未定义。应用程序不应假定客户端获取锁的顺序与其发出锁请求的顺序相同。</p><p>
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> is unsafe for
                statement-based replication. A warning is logged if you use
                this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">get_lock（）对于基于语句的复制是不安全的。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p>
                <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Caution
                    </div>
                    <p>
                        With the capability of acquiring multiple named locks in
                        MySQL 5.7, it is possible for a single statement to acquire
                        a large number of locks. For example:
                    </p><p style="color:blue;">在mysql 5.7中，通过获取多个命名锁的能力，单个语句可以获取大量的锁。例如：</p><pre data-lang="sql" class="programlisting">INSERT INTO ... SELECT GET_LOCK(t1.col_name) FROM t1;
</pre><p>
                    These types of statements may have certain adverse effects.
                    For example, if the statement fails part way through and
                    rolls back, locks acquired up to the point of failure will
                    still exist. If the intent is for there to be a
                    correspondence between rows inserted and locks acquired,
                    that intent will not be satisfied. Also, if it is important
                    that locks are granted in a certain order, be aware that
                    result set order may differ depending on which execution
                    plan the optimizer chooses. For these reasons, it may be
                    best to limit applications to a single lock-acquisition call
                    per statement.
                </p><p style="color:blue;">这些类型的陈述可能会产生某些不利影响。例如，如果语句部分失败并回滚，则获取到故障点的锁仍然存在。如果意图是在插入的行和获取的锁之间存在对应关系，则不会满足该意图。此外，如果以特定顺序授予锁很重要，请注意，结果集顺序可能因优化器选择的执行计划而异。出于这些原因，最好将应用程序限制为每个语句一个锁获取调用。</p>
                </div>
                <p>
                    A different locking interface is available as either a plugin
                    service or a set of user-defined functions. This interface
                    provides lock namespaces and distinct read and write locks,
                    unlike the interface provided by
                    <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> and related
                    functions. For details, see <a class="xref" href="extending-mysql.html#locking-service" title="28.3.1&nbsp;The Locking Service">Section&nbsp;28.3.1, “The Locking Service”</a>.
                </p><p style="color:blue;">另一个锁定接口可以作为插件服务或一组用户定义的函数使用。此接口提供锁名称空间和不同的读写锁，与get_lock（）和相关函数提供的接口不同。有关详细信息，请参见第28.3.1节“锁定服务”。</p></li><li class="listitem"><a name="function_is-free-lock"></a><p>
                <a class="indexterm" name="idm140286848405776"></a>

                <a class="link" href="functions.html#function_is-free-lock"><code class="literal">IS_FREE_LOCK(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">是否有锁（str）</p><p>
                Checks whether the lock named <em class="replaceable"><code>str</code></em>
                is free to use (that is, not locked). Returns
                <code class="literal">1</code> if the lock is free (no one is using the
                lock), <code class="literal">0</code> if the lock is in use, and
                <code class="literal">NULL</code> if an error occurs (such as an
                incorrect argument).
            </p><p style="color:blue;">检查名为str的锁是否可以自由使用（即，未锁定）。如果锁空闲（没有人使用锁），则返回1；如果锁正在使用，则返回0；如果发生错误（例如参数不正确），则返回null。</p><p>
                This function is unsafe for statement-based replication. A
                warning is logged if you use this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li><li class="listitem"><a name="function_is-used-lock"></a><p>
                <a class="indexterm" name="idm140286848393392"></a>

                <a class="link" href="functions.html#function_is-used-lock"><code class="literal">IS_USED_LOCK(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">是否使用了锁（str）</p><p>
                Checks whether the lock named <em class="replaceable"><code>str</code></em>
                is in use (that is, locked). If so, it returns the connection
                identifier of the client session that holds the lock.
                Otherwise, it returns <code class="literal">NULL</code>.
            </p><p style="color:blue;">检查名为str的锁是否正在使用（即已锁定）。如果是，则返回持有锁的客户端会话的连接标识符。否则，返回空值。</p><p>
                This function is unsafe for statement-based replication. A
                warning is logged if you use this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li><li class="listitem"><a name="function_release-all-locks"></a><p>
                <a class="indexterm" name="idm140286848382304"></a>

                <a class="link" href="functions.html#function_release-all-locks"><code class="literal">RELEASE_ALL_LOCKS()</code></a>
            </p><p style="color:blue;">释放所有锁（）</p><p>
                Releases all named locks held by the current session and
                returns the number of locks released (0 if there were none)
            </p><p style="color:blue;">释放当前会话持有的所有命名锁，并返回释放的锁数（如果没有，则返回0）</p><p>
                This function is unsafe for statement-based replication. A
                warning is logged if you use this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li><li class="listitem"><a name="function_release-lock"></a><p>
                <a class="indexterm" name="idm140286848372896"></a>

                <a class="link" href="functions.html#function_release-lock"><code class="literal">RELEASE_LOCK(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">释放锁（str）</p><p>
                Releases the lock named by the string
                <em class="replaceable"><code>str</code></em> that was obtained with
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>. Returns
                <code class="literal">1</code> if the lock was released,
                <code class="literal">0</code> if the lock was not established by this
                thread (in which case the lock is not released), and
                <code class="literal">NULL</code> if the named lock did not exist. The
                lock does not exist if it was never obtained by a call to
                <a class="link" href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> or if it has
                previously been released.
            </p><p style="color:blue;">释放用get_lock（）获得的字符串str命名的锁。如果释放了锁，则返回1，如果该线程未建立锁（在这种情况下，锁未被释放），如果命名锁不存在，则为null。如果无法通过调用gETyLoCK（）获得锁，或者如果以前释放了锁，则该锁不存在。</p><p>
                The <a class="link" href="sql-syntax.html#do" title="13.2.3&nbsp;DO Syntax"><code class="literal">DO</code></a> statement is convenient
                to use with <a class="link" href="functions.html#function_release-lock"><code class="literal">RELEASE_LOCK()</code></a>. See
                <a class="xref" href="sql-syntax.html#do" title="13.2.3&nbsp;DO Syntax">Section&nbsp;13.2.3, “DO Syntax”</a>.
            </p><p style="color:blue;">do语句可以方便地与release_lock（）一起使用。见第13.2.3节“do语法”。</p><p>
                This function is unsafe for statement-based replication. A
                warning is logged if you use this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li></ul>
        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="information-functions"></a>12.15&nbsp;Information Functions</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286848355344"></a><a class="indexterm" name="idm140286848354272"></a>
        <div class="table">
            <a name="idm140286848352784"></a><p class="title"><b>Table&nbsp;12.19&nbsp;Information Functions</b></p><p style="color:blue;">表12.19信息功能</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists information functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a></td>
                    <td>
                        Repeatedly execute an expression
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_charset"><code class="literal">CHARSET()</code></a></td>
                    <td>
                        Return the character set of the argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_coercibility"><code class="literal">COERCIBILITY()</code></a></td>
                    <td>
                        Return the collation coercibility value of the string argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_collation"><code class="literal">COLLATION()</code></a></td>
                    <td>
                        Return the collation of the string argument
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a></td>
                    <td>
                        Return the connection ID (thread ID) for the connection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code>, <code class="literal">CURRENT_USER</code></a></td>
                    <td>
                        The authenticated user name and host name
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_database"><code class="literal">DATABASE()</code></a></td>
                    <td>
                        Return the default (current) database name
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a></td>
                    <td>
                        For a SELECT with a LIMIT clause, the number of rows that would be
                        returned were there no LIMIT clause
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a></td>
                    <td>
                        Value of the AUTOINCREMENT column for the last INSERT
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a></td>
                    <td>
                        The number of rows updated
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_schema"><code class="literal">SCHEMA()</code></a></td>
                    <td>
                        Synonym for DATABASE()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a></td>
                    <td>
                        Synonym for USER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a></td>
                    <td>
                        Synonym for USER()
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a></td>
                    <td>
                        The user name and host name provided by the client
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_version"><code class="literal">VERSION()</code></a></td>
                    <td>
                        Return a string that indicates the MySQL server version
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_benchmark"></a><p>
                <a class="indexterm" name="idm140286848293808"></a>

                <a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK(<em class="replaceable"><code>count</code></em>,<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">基准（计数，表达式）</p><p>
                The <a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> function
                executes the expression <em class="replaceable"><code>expr</code></em>
                repeatedly <em class="replaceable"><code>count</code></em> times. It may be
                used to time how quickly MySQL processes the expression. The
                result value is <code class="literal">0</code>, or
                <code class="literal">NULL</code> for inappropriate arguments such as a
                <code class="literal">NULL</code> or negative repeat count.
            </p><p style="color:blue;">函数的作用是：重复执行表达式expr的次数。它可以用来计算mysql处理表达式的速度。结果值为0，或者对于不适当的参数（如null或负重复计数）为null。</p><p>
                The intended use is from within the <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>
                client, which reports query execution times:
            </p><p style="color:blue;">预期用途来自mysql客户端，该客户端报告查询执行时间：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT BENCHMARK(1000000,AES_ENCRYPT('hello','goodbye'));</code></strong>
+---------------------------------------------------+
| BENCHMARK(1000000,AES_ENCRYPT('hello','goodbye')) |
+---------------------------------------------------+
|                                                 0 |
+---------------------------------------------------+
1 row in set (4.74 sec)
</pre><p>
                The time reported is elapsed time on the client end, not CPU
                time on the server end. It is advisable to execute
                <a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> several times, and
                to interpret the result with regard to how heavily loaded the
                server machine is.
            </p><p style="color:blue;">报告的时间是客户端的运行时间，而不是服务器端的CPU时间。建议多次执行benchmark（），并根据服务器计算机的负载情况解释结果。</p><p>
                <a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> is intended for
                measuring the runtime performance of scalar expressions, which
                has some significant implications for the way that you use it
                and interpret the results:
            </p><p style="color:blue;">benchmark（）用于测量标量表达式的运行时性能，这对您使用标量表达式和解释结果的方式有一些重要影响：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        Only scalar expressions can be used. Although the
                        expression can be a subquery, it must return a single
                        column and at most a single row. For example,
                        <a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK(10, (SELECT * FROM
                            t))</code></a> will fail if the table <code class="literal">t</code>
                        has more than one column or more than one row.
                    </p><p style="color:blue;">只能使用标量表达式。尽管表达式可以是子查询，但它必须返回一列，最多只能返回一行。例如，如果表t有多个列或多个行，benchmark（10，（select*fromt））将失败。</p></li><li class="listitem"><p>
                        Executing a <code class="literal">SELECT
                        <em class="replaceable"><code>expr</code></em></code> statement
                        <em class="replaceable"><code>N</code></em> times differs from executing
                        <code class="literal">SELECT BENCHMARK(<em class="replaceable"><code>N</code></em>,
                            <em class="replaceable"><code>expr</code></em>)</code> in terms of the
                        amount of overhead involved. The two have very different
                        execution profiles and you should not expect them to take
                        the same amount of time. The former involves the parser,
                        optimizer, table locking, and runtime evaluation
                        <em class="replaceable"><code>N</code></em> times each. The latter
                        involves only runtime evaluation
                        <em class="replaceable"><code>N</code></em> times, and all the other
                        components just once. Memory structures already allocated
                        are reused, and runtime optimizations such as local
                        caching of results already evaluated for aggregate
                        functions can alter the results. Use of
                        <a class="link" href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> thus measures
                        performance of the runtime component by giving more weight
                        to that component and removing the <span class="quote">“<span class="quote">noise</span>”</span>
                        introduced by the network, parser, optimizer, and so
                        forth.
                    </p><p style="color:blue;">执行select expr语句n次与执行select benchmark（n，expr）在所涉及的开销方面有所不同。两者的执行概要文件非常不同，您不应该期望它们花费相同的时间。前者涉及解析器、优化器、表锁定和运行时计算，每次n次。后者只涉及n次运行时计算，而所有其他组件只涉及一次。已分配的内存结构将被重用，运行时优化（如对已为聚合函数求值的结果进行本地缓存）可以更改结果。因此，benchmark（）的使用通过赋予运行时组件更多的权重并消除网络、解析器、优化器等引入的“噪声”，来衡量运行时组件的性能。</p></li></ul>
                </div>
            </li><li class="listitem"><a name="function_charset"></a><p>
                <a class="indexterm" name="idm140286848263216"></a>

                <a class="link" href="functions.html#function_charset"><code class="literal">CHARSET(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">字符集（str）</p><p>
                Returns the character set of the string argument.
            </p><p style="color:blue;">返回字符串参数的字符集。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CHARSET('abc');</code></strong>
        -&gt; 'latin1'
mysql&gt; <strong class="userinput"><code>SELECT CHARSET(CONVERT('abc' USING utf8));</code></strong>
        -&gt; 'utf8'
mysql&gt; <strong class="userinput"><code>SELECT CHARSET(USER());</code></strong>
        -&gt; 'utf8'
</pre></li><li class="listitem"><a name="function_coercibility"></a><p>
                <a class="indexterm" name="idm140286848252208"></a>

                <a class="link" href="functions.html#function_coercibility"><code class="literal">COERCIBILITY(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">胁迫性</p><p>
                Returns the collation coercibility value of the string
                argument.
            </p><p style="color:blue;">返回字符串参数的排序规则强制值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY('abc' COLLATE latin1_swedish_ci);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(USER());</code></strong>
        -&gt; 3
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY('abc');</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(1000);</code></strong>
        -&gt; 5
</pre><p>
                The return values have the meanings shown in the following
                table. Lower values have higher precedence.
            </p><p style="color:blue;">返回值的含义如下表所示。较低的值具有较高的优先级。</p>
                <div class="informaltable">
                    <table summary="Collation coercibility return values, the meaning of each value, and an example of each."><colgroup><col width="15%"><col width="15%"><col width="70%"></colgroup><thead><tr>
                        <th scope="col">Coercibility</th>
                        <th scope="col">Meaning</th>
                        <th scope="col">Example</th>
                    </tr></thead><tbody><tr>
                        <td scope="row"><code class="literal">0</code></td>
                        <td>Explicit collation</td>
                        <td>Value with <code class="literal">COLLATE</code> clause</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">1</code></td>
                        <td>No collation</td>
                        <td>Concatenation of strings with different collations</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">2</code></td>
                        <td>Implicit collation</td>
                        <td>Column value, stored routine parameter or local variable</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">3</code></td>
                        <td>System constant</td>
                        <td><a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a> return value</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">4</code></td>
                        <td>Coercible</td>
                        <td>Literal string</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">5</code></td>
                        <td>Numeric</td>
                        <td>Numeric or temporal value</td>
                    </tr><tr>
                        <td scope="row"><code class="literal">5</code></td>
                        <td>Ignorable</td>
                        <td><code class="literal">NULL</code> or an expression derived from
                            <code class="literal">NULL</code></td>
                    </tr></tbody></table>
                </div>
                <p>
                    For more information, see
                    <a class="xref" href="charset.html#charset-collation-coercibility" title="10.8.4&nbsp;Collation Coercibility in Expressions">Section&nbsp;10.8.4, “Collation Coercibility in Expressions”</a>.
                </p><p style="color:blue;">有关更多信息，请参见第10.8.4节“表达式中的排序强制性”。</p></li><li class="listitem"><a name="function_collation"></a><p>
                <a class="indexterm" name="idm140286848202496"></a>

                <a class="link" href="functions.html#function_collation"><code class="literal">COLLATION(<em class="replaceable"><code>str</code></em>)</code></a>
            </p><p style="color:blue;">排序规则（str）</p><p>
                Returns the collation of the string argument.
            </p><p style="color:blue;">返回字符串参数的排序规则。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COLLATION('abc');</code></strong>
        -&gt; 'latin1_swedish_ci'
mysql&gt; <strong class="userinput"><code>SELECT COLLATION(_utf8'abc');</code></strong>
        -&gt; 'utf8_general_ci'
</pre></li><li class="listitem"><a name="function_connection-id"></a><p>
                <a class="indexterm" name="idm140286848192240"></a>

                <a class="link" href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a>
            </p><p style="color:blue;">连接ID（）</p><p>
                Returns the connection ID (thread ID) for the connection.
                Every connection has an ID that is unique among the set of
                currently connected clients.
            </p><p style="color:blue;">返回连接的连接ID（线程ID）。每个连接都有一个ID，该ID在当前连接的客户端集中是唯一的。</p><p>
                The value returned by
                <a class="link" href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a> is the same
                type of value as displayed in the <code class="literal">ID</code> column
                of the
                <a class="link" href="information-schema.html#processlist-table" title="24.18&nbsp;The INFORMATION_SCHEMA PROCESSLIST Table"><code class="literal">INFORMATION_SCHEMA.PROCESSLIST</code></a>
                table, the <code class="literal">Id</code> column of
                <a class="link" href="sql-syntax.html#show-processlist" title="13.7.5.29&nbsp;SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a> output, and
                the <code class="literal">PROCESSLIST_ID</code> column of the
                Performance Schema <a class="link" href="performance-schema.html#threads-table" title="25.12.16.3&nbsp;The threads Table"><code class="literal">threads</code></a> table.
            </p><p style="color:blue;">connection_id（）返回的值与information_schema.processlist表的id列、show processlist output的id列和performance schema threads表的processlist_id列中显示的值类型相同。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONNECTION_ID();</code></strong>
        -&gt; 23786
</pre></li><li class="listitem"><a name="function_current-user"></a><p>
                <a class="indexterm" name="idm140286848175488"></a>

                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER</code></a>,
                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>
            </p><p style="color:blue;">当前用户，当前用户（）</p><p>
                Returns the user name and host name combination for the MySQL
                account that the server used to authenticate the current
                client. This account determines your access privileges. The
                return value is a string in the <code class="literal">utf8</code>
                character set.
            </p><p style="color:blue;">返回服务器用于验证当前客户端的mysql帐户的用户名和主机名组合。此帐户决定您的访问权限。返回值是utf8字符集中的一个字符串。</p><p>
                The value of <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> can
                differ from the value of
                <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a>.
            </p><p style="color:blue;">当前用户（）的值可能与用户（）的值不同。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT USER();</code></strong>
        -&gt; 'davida@localhost'
mysql&gt; <strong class="userinput"><code>SELECT * FROM mysql.user;</code></strong>
ERROR 1044: Access denied for user ''@'localhost' to
database 'mysql'
mysql&gt; <strong class="userinput"><code>SELECT CURRENT_USER();</code></strong>
        -&gt; '@localhost'
</pre><p>
                The example illustrates that although the client specified a
                user name of <code class="literal">davida</code> (as indicated by the
                value of the <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a> function),
                the server authenticated the client using an anonymous user
                account (as seen by the empty user name part of the
                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> value). One way
                this might occur is that there is no account listed in the
                grant tables for <code class="literal">davida</code>.
            </p><p style="color:blue;">该示例说明，尽管客户端指定了davida的用户名（如user（）函数的值所示），但服务器使用匿名用户帐户对客户端进行身份验证（如当前用户（）值的空用户名部分所示）。可能出现这种情况的一种方式是，davida的授权表中没有列出任何帐户。</p><p>
                Within a stored program or view,
                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> returns the
                account for the user who defined the object (as given by its
                <code class="literal">DEFINER</code> value) unless defined with the
                <code class="literal">SQL SECURITY INVOKER</code> characteristic. In the
                latter case, <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>
                returns the object's invoker.
            </p><p style="color:blue;">在存储的程序或视图中，current_user（）返回定义对象的用户的帐户（由其定义器值给定），除非使用SQL安全调用器特性定义。在后一种情况下，current_user（）返回对象的调用程序。</p><p>
                Triggers and events have no option to define the <code class="literal">SQL
                SECURITY</code> characteristic, so for these objects,
                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> returns the
                account for the user who defined the object. To return the
                invoker, use <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a> or
                <a class="link" href="functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a>.
            </p><p style="color:blue;">触发器和事件没有定义SQL安全特性的选项，因此对于这些对象，current_user（）返回定义该对象的用户的帐户。要返回调用程序，请使用user（）或session_user（）。</p><p>
                The following statements support use of the
                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> function to take
                the place of the name of (and, possibly, a host for) an
                affected user or a definer; in such cases,
                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> is expanded
                where and as needed:
            </p><p style="color:blue;">以下语句支持使用current_user（）函数代替受影响用户或定义者的名称（可能还有主机的名称）；在这种情况下，current_user（）将根据需要展开：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#drop-user" title="13.7.1.3&nbsp;DROP USER Syntax"><code class="literal">DROP USER</code></a>
                    </p><p style="color:blue;">删除用户</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#rename-user" title="13.7.1.5&nbsp;RENAME USER Syntax"><code class="literal">RENAME USER</code></a>
                    </p><p style="color:blue;">重命名用户</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#grant" title="13.7.1.4&nbsp;GRANT Syntax"><code class="literal">GRANT</code></a>
                    </p><p style="color:blue;">授予</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6&nbsp;REVOKE Syntax"><code class="literal">REVOKE</code></a>
                    </p><p style="color:blue;">撤销</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#create-function" title="13.1.13&nbsp;CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a>
                    </p><p style="color:blue;">创建函数</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#create-procedure" title="13.1.16&nbsp;CREATE PROCEDURE and CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a>
                    </p><p style="color:blue;">创建过程</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#create-trigger" title="13.1.20&nbsp;CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a>
                    </p><p style="color:blue;">创建触发器</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#create-event" title="13.1.12&nbsp;CREATE EVENT Syntax"><code class="literal">CREATE EVENT</code></a>
                    </p><p style="color:blue;">创建事件</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#create-view" title="13.1.21&nbsp;CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a>
                    </p><p style="color:blue;">创建视图</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#alter-event" title="13.1.2&nbsp;ALTER EVENT Syntax"><code class="literal">ALTER EVENT</code></a>
                    </p><p style="color:blue;">更改事件</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#alter-view" title="13.1.10&nbsp;ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a>
                    </p><p style="color:blue;">修改视图</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#set-password" title="13.7.1.7&nbsp;SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a>
                    </p><p style="color:blue;">设置密码</p></li></ul>
                </div>
                <p>
                    For information about the implications that this expansion of
                    <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> has for
                    replication, see
                    <a class="xref" href="replication.html#replication-features-current-user" title="16.4.1.8&nbsp;Replication of CURRENT_USER()">Section&nbsp;16.4.1.8, “Replication of CURRENT_USER()”</a>.
                </p><p style="color:blue;">有关当前用户（）的此扩展对复制的影响的信息，请参阅第16.4.1.8节“当前用户（）的复制”。</p></li><li class="listitem"><a name="function_database"></a><p>
                <a class="indexterm" name="idm140286848115424"></a>

                <a class="link" href="functions.html#function_database"><code class="literal">DATABASE()</code></a>
            </p><p style="color:blue;">数据库（）</p><p>
                Returns the default (current) database name as a string in the
                <code class="literal">utf8</code> character set. If there is no default
                database, <a class="link" href="functions.html#function_database"><code class="literal">DATABASE()</code></a> returns
                <code class="literal">NULL</code>. Within a stored routine, the default
                database is the database that the routine is associated with,
                which is not necessarily the same as the database that is the
                default in the calling context.
            </p><p style="color:blue;">以utf8字符集中的字符串形式返回默认（当前）数据库名称。如果没有默认数据库，database（）将返回空值。在存储例程中，默认数据库是与该例程关联的数据库，它不一定与调用上下文中的默认数据库相同。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT DATABASE();</code></strong>
        -&gt; 'test'
</pre><p>
                If there is no default database,
                <a class="link" href="functions.html#function_database"><code class="literal">DATABASE()</code></a> returns
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">如果没有默认数据库，database（）将返回空值。</p></li><li class="listitem"><a name="function_found-rows"></a><p>
                <a class="indexterm" name="idm140286848101088"></a>

                <a class="indexterm" name="idm140286848100016"></a>

                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a>
            </p><p style="color:blue;">找到行（）</p><p>
                A <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement may include
                a <code class="literal">LIMIT</code> clause to restrict the number of
                rows the server returns to the client. In some cases, it is
                desirable to know how many rows the statement would have
                returned without the <code class="literal">LIMIT</code>, but without
                running the statement again. To obtain this row count, include
                an <code class="literal">SQL_CALC_FOUND_ROWS</code> option in the
                <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement, and then
                invoke <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> afterward:
            </p><p style="color:blue;">select语句可以包含限制子句，以限制服务器返回给客户端的行数。在某些情况下，需要知道该语句在没有限制的情况下返回了多少行，但不需要再次运行该语句。要获取此行计数，请在select语句中包含一个sql_calc_found_rows选项，然后调用found_rows（）：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SQL_CALC_FOUND_ROWS * FROM <em class="replaceable"><code>tbl_name</code></em></code></strong>
    -&gt; <strong class="userinput"><code>WHERE id &gt; 100 LIMIT 10;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT FOUND_ROWS();</code></strong>
</pre><p>
                The second <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> returns a
                number indicating how many rows the first
                <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> would have returned had
                it been written without the <code class="literal">LIMIT</code> clause.
            </p><p style="color:blue;">第二个select返回一个数字，指示如果不使用limit子句编写第一个select，它将返回多少行。</p><p>
                In the absence of the <code class="literal">SQL_CALC_FOUND_ROWS</code>
                option in the most recent successful
                <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement,
                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returns the number
                of rows in the result set returned by that statement. If the
                statement includes a <code class="literal">LIMIT</code> clause,
                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returns the number
                of rows up to the limit. For example,
                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returns 10 or 60,
                respectively, if the statement includes <code class="literal">LIMIT
                10</code> or <code class="literal">LIMIT 50, 10</code>.
            </p><p style="color:blue;">在最近成功的select语句中没有sql_calc_found_rows选项的情况下，found_rows（）返回该语句返回的结果集中的行数。如果语句包含LIMIT子句，found_rows（）将返回达到该限制的行数。例如，如果语句包含limit 10或limit 50，则found_rows（）分别返回10或60。</p><p>
                The row count available through
                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is transient and
                not intended to be available past the statement following the
                <code class="literal">SELECT SQL_CALC_FOUND_ROWS</code> statement. If
                you need to refer to the value later, save it:
            </p><p style="color:blue;">通过found_rows（）可用的行计数是暂时的，不打算在select sql_calc_found_rows语句之后的语句之后可用。如果以后需要引用该值，请保存：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SQL_CALC_FOUND_ROWS * FROM ... ;</code></strong>
mysql&gt; <strong class="userinput"><code>SET @rows = FOUND_ROWS();</code></strong>
</pre><p>
                If you are using <code class="literal">SELECT
                SQL_CALC_FOUND_ROWS</code>, MySQL must calculate how many
                rows are in the full result set. However, this is faster than
                running the query again without <code class="literal">LIMIT</code>,
                because the result set need not be sent to the client.
            </p><p style="color:blue;">如果使用select sql_calc_found_rows，mysql必须计算完整结果集中有多少行。但是，这比无限制地再次运行查询要快，因为不需要将结果集发送到客户端。</p><p>
                <code class="literal">SQL_CALC_FOUND_ROWS</code> and
                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> can be useful in
                situations when you want to restrict the number of rows that a
                query returns, but also determine the number of rows in the
                full result set without running the query again. An example is
                a Web script that presents a paged display containing links to
                the pages that show other sections of a search result. Using
                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> enables you to
                determine how many other pages are needed for the rest of the
                result.
            </p><p style="color:blue;">当您希望限制查询返回的行数，但也可以在不再次运行查询的情况下确定完整结果集中的行数时，sql_calc_found_rows和found_rows（）非常有用。一个例子是一个web脚本，它显示一个页面显示，其中包含指向显示搜索结果其他部分的页面的链接。使用found_rows（）可以确定结果的其余部分需要多少其他页。</p><p>
                The use of <code class="literal">SQL_CALC_FOUND_ROWS</code> and
                <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is more complex
                for <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a> statements than for
                simple <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statements,
                because <code class="literal">LIMIT</code> may occur at multiple places
                in a <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a>. It may be applied
                to individual <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statements
                in the <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a>, or global to the
                <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a> result as a whole.
            </p><p style="color:blue;">对于union语句，sql_calc_found_rows和found_rows（）的使用要比简单的select语句复杂，因为限制可能出现在union中的多个位置。它可以应用于union中的单个select语句，也可以全局应用于union结果。</p><p>
                The intent of <code class="literal">SQL_CALC_FOUND_ROWS</code> for
                <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a> is that it should return
                the row count that would be returned without a global
                <code class="literal">LIMIT</code>. The conditions for use of
                <code class="literal">SQL_CALC_FOUND_ROWS</code> with
                <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a> are:
            </p><p style="color:blue;">sql_calc_found_rows for union的目的是，它应该返回在没有全局限制的情况下返回的行数。使用带有UNION的SQL计算找到的行的条件是：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        The <code class="literal">SQL_CALC_FOUND_ROWS</code> keyword must
                        appear in the first <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>
                        of the <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a>.
                    </p><p style="color:blue;">sql_calc_found_rows关键字必须出现在联合的第一个选择中。</p></li><li class="listitem"><p>
                        The value of <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a>
                        is exact only if
                        <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION ALL</code></a>
                        is used. If <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a> without
                        <code class="literal">ALL</code> is used, duplicate removal occurs
                        and the value of
                        <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is only
                        approximate.
                    </p><p style="color:blue;">只有使用union all时，found_rows（）的值才是精确的。如果使用没有全部的联合，则会发生重复删除，而PrimyRouthSo（）的值仅为近似值。</p></li><li class="listitem"><p>
                        If no <code class="literal">LIMIT</code> is present in the
                        <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a>,
                        <code class="literal">SQL_CALC_FOUND_ROWS</code> is ignored and
                        returns the number of rows in the temporary table that is
                        created to process the
                        <a class="link" href="sql-syntax.html#union" title="13.2.9.3&nbsp;UNION Syntax"><code class="literal">UNION</code></a>.
                    </p><p style="color:blue;">如果联合中不存在限制，则忽略sql_calc_found_行，并返回为处理联合而创建的临时表中的行数。</p></li></ul>
                </div>
                <p>
                    Beyond the cases described here, the behavior of
                    <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is undefined (for
                    example, its value following a
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement that fails
                    with an error).
                </p><p style="color:blue;">除了这里描述的情况外，found_rows（）的行为是未定义的（例如，它的值在select语句之后，该语句因错误而失败）。</p>
                <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Important
                    </div>
                    <p>
                        <a class="link" href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> is not
                        replicated reliably using statement-based replication. This
                        function is automatically replicated using row-based
                        replication.
                    </p><p style="color:blue;">使用基于语句的复制无法可靠地复制找到的\u行（）。此函数使用基于行的复制自动复制。</p>
                </div>
            </li><li class="listitem"><a name="function_last-insert-id"></a><p>
                <a class="indexterm" name="idm140286848023040"></a>

                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>,
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">最后一个插入id（），最后一个插入id（expr）</p><p>
                With no argument,
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> returns a
                <code class="literal">BIGINT UNSIGNED</code> (64-bit) value representing
                the first automatically generated value successfully inserted
                for an <code class="literal">AUTO_INCREMENT</code> column as a result of
                the most recently executed
                <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> statement. The value of
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> remains
                unchanged if no rows are successfully inserted.
            </p><p style="color:blue;">如果没有参数，last_insert_id（）返回一个bigint unsigned（64位）值，表示作为最近执行的insert语句的结果，为自动递增列成功插入的第一个自动生成的值。如果没有成功插入行，则last_insert_id（）的值保持不变。</p><p>
                With an argument,
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> returns an
                unsigned integer.
            </p><p style="color:blue;">对于参数，last_insert_id（）返回无符号整数。</p><p>
                For example, after inserting a row that generates an
                <code class="literal">AUTO_INCREMENT</code> value, you can get the value
                like this:
            </p><p style="color:blue;">例如，在插入生成自动增量值的行之后，可以获得如下值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
        -&gt; 195
</pre><p>
                The currently executing statement does not affect the value of
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>. Suppose that
                you generate an <code class="literal">AUTO_INCREMENT</code> value with
                one statement, and then refer to
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> in a
                multiple-row <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> statement
                that inserts rows into a table with its own
                <code class="literal">AUTO_INCREMENT</code> column. The value of
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> will remain
                stable in the second statement; its value for the second and
                later rows is not affected by the earlier row insertions.
                (However, if you mix references to
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> and
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID(<em class="replaceable"><code>expr</code></em>)</code></a>,
                the effect is undefined.)
            </p><p style="color:blue;">当前执行的语句不影响last_insert_id（）的值。假设您用一个语句生成一个auto_increment值，然后引用多行insert语句中的last_insert_id（），该语句使用自己的auto_increment列将行插入到表中。last_insert_id（）的值将在第二条语句中保持稳定；其第二行和以后行的值不受前面行插入的影响。（但是，如果混合引用last_insert_id（）和last_insert_id（expr），则效果未定义。）</p><p>
                If the previous statement returned an error, the value of
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> is undefined.
                For transactional tables, if the statement is rolled back due
                to an error, the value of
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> is left
                undefined. For manual
                <a class="link" href="sql-syntax.html#commit" title="13.3.1&nbsp;START TRANSACTION, COMMIT, and ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>,
                the value of <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
                is not restored to that before the transaction; it remains as
                it was at the point of the
                <a class="link" href="sql-syntax.html#commit" title="13.3.1&nbsp;START TRANSACTION, COMMIT, and ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>.
            </p><p style="color:blue;">如果上一条语句返回错误，则未定义last_insert_id（）的值。对于事务表，如果语句由于错误而回滚，则last_insert_id（）的值将保持未定义状态。对于手动回滚，last_insert_id（）的值不会还原到事务之前的值；它将保持在回滚时的状态。</p><p>
                Prior to MySQL 5.7.3, this function was not replicated
                correctly if replication filtering rules were in use. (Bug
                #17234370, Bug #69861)
            </p><p style="color:blue;">在mysql 5.7.3之前，如果使用复制筛选规则，则无法正确复制此函数。（错误17234370，错误69861）</p><p>
                Within the body of a stored routine (procedure or function) or
                a trigger, the value of
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> changes the
                same way as for statements executed outside the body of these
                kinds of objects. The effect of a stored routine or trigger
                upon the value of
                <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> that is seen
                by following statements depends on the kind of routine:
            </p><p style="color:blue;">在存储例程（过程或函数）或触发器的主体中，last_insert_id（）的值的更改方式与在此类对象的主体外部执行的语句的更改方式相同。存储例程或触发器对以下语句所看到的最后一个insert_id（）值的影响取决于例程的类型：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        If a stored procedure executes statements that change the
                        value of <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>,
                        the changed value is seen by statements that follow the
                        procedure call.
                    </p><p style="color:blue;">如果存储过程执行的语句更改了last_insert_id（）的值，则过程调用后的语句将看到更改的值。</p></li><li class="listitem"><p>
                        For stored functions and triggers that change the value,
                        the value is restored when the function or trigger ends,
                        so following statements will not see a changed value.
                    </p><p style="color:blue;">对于更改值的存储函数和触发器，当函数或触发器结束时将还原该值，因此以下语句将看不到更改的值。</p></li></ul>
                </div>
                <p>
                    The ID that was generated is maintained in the server on a
                    <span class="emphasis"><em>per-connection basis</em></span>. This means that the
                    value returned by the function to a given client is the first
                    <code class="literal">AUTO_INCREMENT</code> value generated for most
                    recent statement affecting an
                    <code class="literal">AUTO_INCREMENT</code> column <span class="emphasis"><em>by that
          client</em></span>. This value cannot be affected by other
                    clients, even if they generate
                    <code class="literal">AUTO_INCREMENT</code> values of their own. This
                    behavior ensures that each client can retrieve its own ID
                    without concern for the activity of other clients, and without
                    the need for locks or transactions.
                </p><p style="color:blue;">生成的id在服务器中以每个连接为基础进行维护。这意味着函数返回给给定客户机的值是为影响该客户机自动递增列的最新语句生成的第一个自动递增值。此值不受其他客户端的影响，即使它们生成自己的自动增量值。此行为确保每个客户机都可以检索自己的id，而不必关心其他客户机的活动，也不需要锁或事务。</p><p>
                    The value of <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
                    is not changed if you set the
                    <code class="literal">AUTO_INCREMENT</code> column of a row to a
                    non-<span class="quote">“<span class="quote">magic</span>”</span> value (that is, a value that is not
                    <code class="literal">NULL</code> and not <code class="literal">0</code>).
                </p><p style="color:blue;">如果将行的“自动增量”列设置为非“幻数”值（即不为空且不为0的值），则不会更改last_insert_id（）的值。</p>
                <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Important
                    </div>
                    <p>
                        If you insert multiple rows using a single
                        <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> statement,
                        <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> returns the
                        value generated for the <span class="emphasis"><em>first</em></span> inserted
                        row <span class="emphasis"><em>only</em></span>. The reason for this is to
                        make it possible to reproduce easily the same
                        <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> statement against some
                        other server.
                    </p><p style="color:blue;">如果使用单个insert语句插入多行，last_insert_id（）只返回为第一个插入行生成的值。这样做的原因是为了能够在其他服务器上轻松地复制相同的insert语句。</p>
                </div>
                <p>
                    For example:
                </p><p style="color:blue;">例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>USE test;</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE TABLE t (</code></strong>
       <strong class="userinput"><code>id INT AUTO_INCREMENT NOT NULL PRIMARY KEY,</code></strong>
       <strong class="userinput"><code>name VARCHAR(10) NOT NULL</code></strong>
       <strong class="userinput"><code>);</code></strong>

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES (NULL, 'Bob');</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT * FROM t;</code></strong>
+----+------+
| id | name |
+----+------+
|  1 | Bob  |
+----+------+

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                1 |
+------------------+

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES</code></strong>
       <strong class="userinput"><code>(NULL, 'Mary'), (NULL, 'Jane'), (NULL, 'Lisa');</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT * FROM t;</code></strong>
+----+------+
| id | name |
+----+------+
|  1 | Bob  |
|  2 | Mary |
|  3 | Jane |
|  4 | Lisa |
+----+------+

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                2 |
+------------------+
</pre><p>
                    Although the second <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a>
                    statement inserted three new rows into <code class="literal">t</code>,
                    the ID generated for the first of these rows was
                    <code class="literal">2</code>, and it is this value that is returned by
                    <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> for the
                    following <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement.
                </p><p style="color:blue;">尽管第二条insert语句在t中插入了三行新行，但第一行生成的id是2，最后一条insert_id（）为下面的select语句返回的就是这个值。</p><p>
                    If you use <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT
                    IGNORE</code></a> and the row is ignored, the
                    <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> remains
                    unchanged from the current value (or 0 is returned if the
                    connection has not yet performed a successful
                    <code class="literal">INSERT</code>) and, for non-transactional tables,
                    the <code class="literal">AUTO_INCREMENT</code> counter is not
                    incremented. For <code class="literal">InnoDB</code> tables, the
                    <code class="literal">AUTO_INCREMENT</code> counter is incremented if
                    <a class="link" href="innodb-storage-engine.html#sysvar_innodb_autoinc_lock_mode"><code class="literal">innodb_autoinc_lock_mode</code></a> is
                    set to <code class="literal">1</code> or <code class="literal">2</code>, as
                    demonstrated in the following example:
                </p><p style="color:blue;">如果使用INSERT IGNORE并忽略该行，则最后一个插入id（）与当前值保持不变（如果连接尚未成功执行插入，则返回0），并且对于非事务表，自动递增计数器不会递增。对于innodb表，如果innodb_autoinc_lock_mode设置为1或2，则auto_increment计数器将递增，如下例所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>USE test;</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT @@innodb_autoinc_lock_mode;</code></strong>
+----------------------------+
| @@innodb_autoinc_lock_mode |
+----------------------------+
|                          1 |
+----------------------------+

mysql&gt; <strong class="userinput"><code>CREATE TABLE `t` (</code></strong>
       <strong class="userinput"><code>`id` INT(11) NOT NULL AUTO_INCREMENT,</code></strong>
       <strong class="userinput"><code>`val` INT(11) DEFAULT NULL,</code></strong>
       <strong class="userinput"><code>PRIMARY KEY (`id`),</code></strong>
       <strong class="userinput"><code>UNIQUE KEY `i1` (`val`)</code></strong>
       <strong class="userinput"><code>) ENGINE=InnoDB DEFAULT CHARSET=latin1;</code></strong>

# Insert two rows

mysql&gt; <strong class="userinput"><code>INSERT INTO t (val) VALUES (1),(2);</code></strong>

# With auto_increment_offset=1, the inserted rows
# result in an AUTO_INCREMENT value of 3

mysql&gt; <strong class="userinput"><code>SHOW CREATE TABLE t\G</code></strong>
*************************** 1. row ***************************
       Table: t
Create Table: CREATE TABLE `t` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `val` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `i1` (`val`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1

# LAST_INSERT_ID() returns the first automatically generated
# value that is successfully inserted for the AUTO_INCREMENT column

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                1 |
+------------------+

# The attempted insertion of duplicate rows fail but errors are ignored

mysql&gt; <strong class="userinput"><code>INSERT IGNORE INTO t (val) VALUES (1),(2);</code></strong>
Query OK, 0 rows affected (0.00 sec)
Records: 2  Duplicates: 2  Warnings: 0

# With innodb_autoinc_lock_mode=1, the AUTO_INCREMENT counter
# is incremented for the ignored rows

mysql&gt; <strong class="userinput"><code>SHOW CREATE TABLE t\G</code></strong>
*************************** 1. row ***************************
       Table: t
Create Table: CREATE TABLE `t` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `val` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `i1` (`val`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1

# The LAST_INSERT_ID is unchanged because the previous insert was unsuccessful

mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
+------------------+
| LAST_INSERT_ID() |
+------------------+
|                1 |
+------------------+
</pre><p>
                    For more information, see
                    <a class="xref" href="innodb-storage-engine.html#innodb-auto-increment-handling" title="14.6.1.4&nbsp;AUTO_INCREMENT Handling in InnoDB">Section&nbsp;14.6.1.4, “AUTO_INCREMENT Handling in InnoDB”</a>.
                </p><p style="color:blue;">有关更多信息，请参阅第14.6.1.4节“InnoDB中的自动增量处理”。</p><p>
                    <a class="indexterm" name="idm140286847928288"></a>

                    If <em class="replaceable"><code>expr</code></em> is given as an argument to
                    <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>, the value of
                    the argument is returned by the function and is remembered as
                    the next value to be returned by
                    <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>. This can be
                    used to simulate sequences:
                </p><p style="color:blue;">如果将expr作为参数提供给last_insert_id（），则函数将返回该参数的值，并将其记为last_insert_id（）将返回的下一个值。这可用于模拟序列：</p>
                <div class="orderedlist">
                    <ol class="orderedlist" type="1"><li class="listitem"><p>
                        Create a table to hold the sequence counter and initialize
                        it:
                    </p><p style="color:blue;">创建一个表来保存序列计数器并对其进行初始化：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE sequence (id INT NOT NULL);</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO sequence VALUES (0);</code></strong>
</pre></li><li class="listitem"><p>
                        Use the table to generate sequence numbers like this:
                    </p><p style="color:blue;">使用表生成如下序列号：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>UPDATE sequence SET id=LAST_INSERT_ID(id+1);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT LAST_INSERT_ID();</code></strong>
</pre><p>
                        The <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement
                        increments the sequence counter and causes the next call
                        to <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> to
                        return the updated value. The
                        <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement retrieves
                        that value. The
                        <a class="link" href="connectors-apis.html#mysql-insert-id" title="27.8.7.38&nbsp;mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> C API
                        function can also be used to get the value. See
                        <a class="xref" href="connectors-apis.html#mysql-insert-id" title="27.8.7.38&nbsp;mysql_insert_id()">Section&nbsp;27.8.7.38, “mysql_insert_id()”</a>.
                    </p><p style="color:blue;">update语句递增序列计数器，并使下一次调用last_insert_id（）返回更新的值。select语句检索该值。mysql_insert_id（）c api函数也可用于获取该值。见27.8.7.38节，“mysql_insert_id（）”。</p></li></ol>
                </div>
                <p>
                    You can generate sequences without calling
                    <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>, but the
                    utility of using the function this way is that the ID value is
                    maintained in the server as the last automatically generated
                    value. It is multi-user safe because multiple clients can
                    issue the <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statement and
                    get their own sequence value with the
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement (or
                    <a class="link" href="connectors-apis.html#mysql-insert-id" title="27.8.7.38&nbsp;mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a>), without
                    affecting or being affected by other clients that generate
                    their own sequence values.
                </p><p style="color:blue;">不需要调用last_insert_id（），就可以生成序列，但是这样使用函数的实用程序是，id值在服务器中作为最后一个自动生成的值进行维护。这是多用户安全的，因为多个客户端可以发出update语句，并使用select语句（或mysql_insert_id（））获取自己的序列值，而不会影响或受到生成自己序列值的其他客户端的影响。</p><p>
                    Note that <a class="link" href="connectors-apis.html#mysql-insert-id" title="27.8.7.38&nbsp;mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> is
                    only updated after <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> and
                    <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statements, so you
                    cannot use the C API function to retrieve the value for
                    <a class="link" href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID(<em class="replaceable"><code>expr</code></em>)</code></a>
                    after executing other SQL statements like
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> or
                    <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>.
                </p><p style="color:blue;">请注意，mysql_insert_id（）只在insert和update语句之后更新，因此在执行其他sql语句（如select或set）之后，不能使用c api函数检索last_insert_id（expr）的值。</p></li><li class="listitem"><a name="function_row-count"></a><p>
                <a class="indexterm" name="idm140286847893744"></a>

                <a class="link" href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a>
            </p><p style="color:blue;">行计数（）</p><p>
                <code class="literal">ROW_COUNT()</code> returns a value as follows:
            </p><p style="color:blue;">row_count（）返回一个值，如下所示：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        DDL statements: 0. This applies to statements such as
                        <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> or
                        <a class="link" href="sql-syntax.html#drop-table" title="13.1.29&nbsp;DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>.
                    </p><p style="color:blue;">DDL语句：0。这适用于create table或drop table等语句。</p></li><li class="listitem"><p>
                        DML statements other than
                        <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>: The number of
                        affected rows. This applies to statements such as
                        <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a>,
                        <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a>, or
                        <a class="link" href="sql-syntax.html#delete" title="13.2.2&nbsp;DELETE Syntax"><code class="literal">DELETE</code></a> (as before), but now
                        also to statements such as <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER
                        TABLE</code></a> and <a class="link" href="sql-syntax.html#load-data" title="13.2.6&nbsp;LOAD DATA Syntax"><code class="literal">LOAD
                        DATA</code></a>.
                    </p><p style="color:blue;">除select之外的dml语句：受影响的行数。这适用于update、insert或delete等语句（如前所述），但现在也适用于alter table和load data等语句。</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>: -1 if the statement
                        returns a result set, or the number of rows
                        <span class="quote">“<span class="quote">affected</span>”</span> if it does not. For example, for
                        <code class="literal">SELECT * FROM t1</code>,
                        <a class="link" href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> returns -1. For
                        <code class="literal">SELECT * FROM t1 INTO OUTFILE
                            '<em class="replaceable"><code>file_name</code></em>'</code>,
                        <a class="link" href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> returns the
                        number of rows written to the file.
                    </p><p style="color:blue;">如果语句返回结果集，请选择-1；否则，请选择“受影响”的行数。例如，对于select*from t1，row_count（）返回-1。对于select*from t1 into outfile'file_name'，row_count（）返回写入文件的行数。</p></li><li class="listitem"><p>
                        <a class="link" href="sql-syntax.html#signal" title="13.6.7.5&nbsp;SIGNAL Syntax"><code class="literal">SIGNAL</code></a> statements: 0.
                    </p><p style="color:blue;">信号语句：0。</p></li></ul>
                </div>
                <p>
                    For <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> statements, the
                    affected-rows value by default is the number of rows actually
                    changed. If you specify the
                    <code class="literal">CLIENT_FOUND_ROWS</code> flag to
                    <a class="link" href="connectors-apis.html#mysql-real-connect" title="27.8.7.54&nbsp;mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> when
                    connecting to <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, the affected-rows
                    value is the number of rows <span class="quote">“<span class="quote">found</span>”</span>; that is,
                    matched by the <code class="literal">WHERE</code> clause.
                </p><p style="color:blue;">对于UPDATE语句，默认情况下受影响的行值是实际更改的行数。如果在连接mysqld时将client_found_rows标志指定为mysql_real_connect（），则受影响的行值是“found”的行数，即与where子句匹配的行数。</p><p>
                    For <a class="link" href="sql-syntax.html#replace" title="13.2.8&nbsp;REPLACE Syntax"><code class="literal">REPLACE</code></a> statements, the
                    affected-rows value is 2 if the new row replaced an old row,
                    because in this case, one row was inserted after the duplicate
                    was deleted.
                </p><p style="color:blue;">对于replace语句，如果新行替换了旧行，则受影响的行值为2，因为在这种情况下，在删除重复行之后插入了一行。</p><p>
                    For
                    <a class="link" href="sql-syntax.html#insert-on-duplicate" title="13.2.5.2&nbsp;INSERT ... ON DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
                        ... ON DUPLICATE KEY UPDATE</code></a> statements, the
                    affected-rows value per row is 1 if the row is inserted as a
                    new row, 2 if an existing row is updated, and 0 if an existing
                    row is set to its current values. If you specify the
                    <code class="literal">CLIENT_FOUND_ROWS</code> flag, the affected-rows
                    value is 1 (not 0) if an existing row is set to its current
                    values.
                </p><p style="color:blue;">对于插入…在重复的密钥更新语句中，如果行被插入为新行，则行每行的受影响行值为1，如果更新现有行，则为2，如果现有行被设置为当前值，则为0。如果指定CeleTunFuffy行标志，如果现有行被设置为其当前值，受影响的行值为1（不是0）。</p><p>
                    The <a class="link" href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> value is
                    similar to the value from the
                    <a class="link" href="connectors-apis.html#mysql-affected-rows" title="27.8.7.1&nbsp;mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> C API
                    function and the row count that the <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>
                    client displays following statement execution.
                </p><p style="color:blue;">row_count（）值类似于mysql_infected_rows（）c api函数中的值，以及mysql客户端在执行语句后显示的行数。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES(1),(2),(3);</code></strong>
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT ROW_COUNT();</code></strong>
+-------------+
| ROW_COUNT() |
+-------------+
|           3 |
+-------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>DELETE FROM t WHERE i IN(1,2);</code></strong>
Query OK, 2 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT ROW_COUNT();</code></strong>
+-------------+
| ROW_COUNT() |
+-------------+
|           2 |
+-------------+
1 row in set (0.00 sec)
</pre>
                <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Important
                    </div>
                    <p>
                        <a class="link" href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> is not replicated
                        reliably using statement-based replication. This function is
                        automatically replicated using row-based replication.
                    </p><p style="color:blue;">使用基于语句的复制无法可靠地复制行计数（）。此函数使用基于行的复制自动复制。</p>
                </div>
            </li><li class="listitem"><a name="function_schema"></a><p>
                <a class="indexterm" name="idm140286847841744"></a>

                <a class="link" href="functions.html#function_schema"><code class="literal">SCHEMA()</code></a>
            </p><p style="color:blue;">架构（）</p><p>
                This function is a synonym for
                <a class="link" href="functions.html#function_database"><code class="literal">DATABASE()</code></a>.
            </p><p style="color:blue;">此函数是database（）的同义词。</p></li><li class="listitem"><a name="function_session-user"></a><p>
                <a class="indexterm" name="idm140286847833680"></a>

                <a class="link" href="functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a>
            </p><p style="color:blue;">会话用户（）</p><p>
                <a class="link" href="functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a> is a synonym for
                <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a>.
            </p><p style="color:blue;">session_user（）是user（）的同义词。</p></li><li class="listitem"><a name="function_system-user"></a><p>
                <a class="indexterm" name="idm140286847824432"></a>

                <a class="link" href="functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a>
            </p><p style="color:blue;">系统用户（）</p><p>
                <a class="link" href="functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a> is a synonym for
                <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a>.
            </p><p style="color:blue;">system_user（）是user（）的同义词。</p></li><li class="listitem"><a name="function_user"></a><p>
                <a class="indexterm" name="idm140286847815184"></a>

                <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a>
            </p><p style="color:blue;">用户（）</p><p>
                Returns the current MySQL user name and host name as a string
                in the <code class="literal">utf8</code> character set.
            </p><p style="color:blue;">以utf8字符集中的字符串形式返回当前mysql用户名和主机名。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT USER();</code></strong>
        -&gt; 'davida@localhost'
</pre><p>
                The value indicates the user name you specified when
                connecting to the server, and the client host from which you
                connected. The value can be different from that of
                <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>.
            </p><p style="color:blue;">该值指示连接到服务器时指定的用户名，以及从中连接的客户端主机。该值可以不同于当前用户的值。</p></li><li class="listitem"><a name="function_version"></a><p>
                <a class="indexterm" name="idm140286847803488"></a>

                <a class="link" href="functions.html#function_version"><code class="literal">VERSION()</code></a>
            </p><p style="color:blue;">版本（）</p><p>
                Returns a string that indicates the MySQL server version. The
                string uses the <code class="literal">utf8</code> character set. The
                value might have a suffix in addition to the version number.
                See the description of the
                <a class="link" href="server-administration.html#sysvar_version"><code class="literal">version</code></a> system variable in
                <a class="xref" href="server-administration.html#server-system-variables" title="5.1.7&nbsp;Server System Variables">Section&nbsp;5.1.7, “Server System Variables”</a>.
            </p><p style="color:blue;">返回指示MySQL服务器版本的字符串。字符串使用utf8字符集。除了版本号之外，该值可能还有一个后缀。请参阅第5.1.7节“服务器系统变量”中版本系统变量的说明。</p><p>
                This function is unsafe for statement-based replication. A
                warning is logged if you use this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT VERSION();</code></strong>
        -&gt; '5.7.29-standard'
</pre></li></ul>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="spatial-analysis-functions"></a>12.16&nbsp;Spatial Analysis Functions</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#spatial-function-reference">12.16.1 Spatial Function Reference</a></span></dt><dt><span class="section"><a href="functions.html#spatial-function-argument-handling">12.16.2 Argument Handling by Spatial Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-wkt-functions">12.16.3 Functions That Create Geometry Values from WKT Values</a></span></dt><dt><span class="section"><a href="functions.html#gis-wkb-functions">12.16.4 Functions That Create Geometry Values from WKB Values</a></span></dt><dt><span class="section"><a href="functions.html#gis-mysql-specific-functions">12.16.5 MySQL-Specific Functions That Create Geometry Values</a></span></dt><dt><span class="section"><a href="functions.html#gis-format-conversion-functions">12.16.6 Geometry Format Conversion Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-property-functions">12.16.7 Geometry Property Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-operator-functions">12.16.8 Spatial Operator Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-relation-functions">12.16.9 Functions That Test Spatial Relations Between Geometry Objects</a></span></dt><dt><span class="section"><a href="functions.html#spatial-geohash-functions">12.16.10 Spatial Geohash Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-geojson-functions">12.16.11 Spatial GeoJSON Functions</a></span></dt><dt><span class="section"><a href="functions.html#spatial-convenience-functions">12.16.12 Spatial Convenience Functions</a></span></dt></dl>
        </div>
        <p>
            MySQL provides functions to perform various operations on spatial
            data. These functions can be grouped into several major categories
            according to the type of operation they perform:
        </p><p style="color:blue;">mysql提供了对空间数据执行各种操作的功能。这些功能可根据其执行的操作类型分为几个主要类别：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Functions that create geometries in various formats (WKT, WKB,
                internal)
            </p><p style="color:blue;">以各种格式（wkt、wkb、internal）创建几何图形的函数</p></li><li class="listitem"><p>
                Functions that convert geometries between formats
            </p><p style="color:blue;">在格式之间转换几何图形的函数</p></li><li class="listitem"><p>
                Functions that access qualitative or quantitative properties of
                a geometry
            </p><p style="color:blue;">访问几何的定性或定量属性的函数</p></li><li class="listitem"><p>
                Functions that describe relations between two geometries
            </p><p style="color:blue;">描述两个几何图形之间关系的函数</p></li><li class="listitem"><p>
                Functions that create new geometries from existing ones
            </p><p style="color:blue;">从现有的几何体创建新几何体的函数</p></li></ul>
        </div>
        <p>
            For general background about MySQL support for using spatial data,
            see <a class="xref" href="data-types.html#spatial-types" title="11.5&nbsp;Spatial Data Types">Section&nbsp;11.5, “Spatial Data Types”</a>.
        </p><p style="color:blue;">有关mysql支持使用空间数据的一般背景，请参见第11.5节“空间数据类型”。</p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="spatial-function-reference"></a>12.16.1&nbsp;Spatial Function Reference</h3>
                    </div>
                </div>
            </div>
            <a class="indexterm" name="idm140286847781504"></a><p>
            The following table lists each spatial function and provides a
            short description of each one.
        </p><p style="color:blue;">下表列出了每个空间函数，并提供了每个函数的简短说明。</p>
            <div class="table">
                <a name="idm140286847779920"></a><p class="title"><b>Table&nbsp;12.20&nbsp;Spatial Functions</b></p><p style="color:blue;">表12.20空间功能</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists all spatial functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_area"><code class="literal">Area()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return Polygon or MultiPolygon area
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_asbinary"><code class="literal">AsBinary()</code>, <code class="literal">AsWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Convert from internal geometry format to WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_astext"><code class="literal">AsText()</code>, <code class="literal">AsWKT()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Convert from internal geometry format to WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_buffer"><code class="literal">Buffer()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return geometry of points within given distance from geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_centroid"><code class="literal">Centroid()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return centroid as a point
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_contains"><code class="literal">Contains()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether MBR of one geometry contains MBR of another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_convexhull"><code class="literal">ConvexHull()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return convex hull of geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_crosses"><code class="literal">Crosses()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether one geometry crosses another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_dimension"><code class="literal">Dimension()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Dimension of geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_disjoint"><code class="literal">Disjoint()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether MBRs of two geometries are disjoint
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_distance"><code class="literal">Distance()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            The distance of one geometry from another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_endpoint"><code class="literal">EndPoint()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            End Point of LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_envelope"><code class="literal">Envelope()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return MBR of geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_equals"><code class="literal">Equals()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether MBRs of two geometries are equal
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_exteriorring"><code class="literal">ExteriorRing()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return exterior ring of Polygon
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeomCollFromText()</code>, <code class="literal">GeometryCollectionFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return geometry collection from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeomCollFromWKB()</code>, <code class="literal">GeometryCollectionFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return geometry collection from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_geometrycollection"><code class="literal">GeometryCollection()</code></a></td>
                        <td>
                            Construct geometry collection from geometries
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_geometryn"><code class="literal">GeometryN()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return N-th geometry from geometry collection
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_geometrytype"><code class="literal">GeometryType()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return name of geometry type
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code>, <code class="literal">GeometryFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return geometry from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeomFromWKB()</code>, <code class="literal">GeometryFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return geometry from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_glength"><code class="literal">GLength()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return length of LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_interiorringn"><code class="literal">InteriorRingN()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return N-th interior ring of Polygon
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_intersects"><code class="literal">Intersects()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether MBRs of two geometries intersect
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_isclosed"><code class="literal">IsClosed()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether a geometry is closed and simple
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_isempty"><code class="literal">IsEmpty()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Placeholder function
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_issimple"><code class="literal">IsSimple()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether a geometry is simple
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_linefromtext"><code class="literal">LineFromText()</code>, <code class="literal">LineStringFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct LineString from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineFromWKB()</code>, <code class="literal">LineStringFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct LineString from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_linestring"><code class="literal">LineString()</code></a></td>
                        <td>
                            Construct LineString from Point values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains()</code></a></td>
                        <td>
                            Whether MBR of one geometry contains MBR of another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrcoveredby"><code class="literal">MBRCoveredBy()</code></a></td>
                        <td>
                            Whether one MBR is covered by another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrcovers"><code class="literal">MBRCovers()</code></a></td>
                        <td>
                            Whether one MBR covers another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrdisjoint"><code class="literal">MBRDisjoint()</code></a></td>
                        <td>
                            Whether MBRs of two geometries are disjoint
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrequal"><code class="literal">MBREqual()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether MBRs of two geometries are equal
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals()</code></a></td>
                        <td>
                            Whether MBRs of two geometries are equal
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrintersects"><code class="literal">MBRIntersects()</code></a></td>
                        <td>
                            Whether MBRs of two geometries intersect
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbroverlaps"><code class="literal">MBROverlaps()</code></a></td>
                        <td>
                            Whether MBRs of two geometries overlap
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrtouches"><code class="literal">MBRTouches()</code></a></td>
                        <td>
                            Whether MBRs of two geometries touch
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin()</code></a></td>
                        <td>
                            Whether MBR of one geometry is within MBR of another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MLineFromText()</code>, <code class="literal">MultiLineStringFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct MultiLineString from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MLineFromWKB()</code>, <code class="literal">MultiLineStringFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct MultiLineString from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MPointFromText()</code>, <code class="literal">MultiPointFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct MultiPoint from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MPointFromWKB()</code>, <code class="literal">MultiPointFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct MultiPoint from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MPolyFromText()</code>, <code class="literal">MultiPolygonFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct MultiPolygon from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MPolyFromWKB()</code>, <code class="literal">MultiPolygonFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct MultiPolygon from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_multilinestring"><code class="literal">MultiLineString()</code></a></td>
                        <td>
                            Contruct MultiLineString from LineString values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_multipoint"><code class="literal">MultiPoint()</code></a></td>
                        <td>
                            Construct MultiPoint from Point values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_multipolygon"><code class="literal">MultiPolygon()</code></a></td>
                        <td>
                            Construct MultiPolygon from Polygon values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_numgeometries"><code class="literal">NumGeometries()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return number of geometries in geometry collection
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_numinteriorrings"><code class="literal">NumInteriorRings()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return number of interior rings in Polygon
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_numpoints"><code class="literal">NumPoints()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return number of points in LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_overlaps"><code class="literal">Overlaps()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether MBRs of two geometries overlap
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_point"><code class="literal">Point()</code></a></td>
                        <td>
                            Construct Point from coordinates
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_pointfromtext"><code class="literal">PointFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct Point from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_pointfromwkb"><code class="literal">PointFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct Point from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_pointn"><code class="literal">PointN()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return N-th point from LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolyFromText()</code>, <code class="literal">PolygonFromText()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct Polygon from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolyFromWKB()</code>, <code class="literal">PolygonFromWKB()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Construct Polygon from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_polygon"><code class="literal">Polygon()</code></a></td>
                        <td>
                            Construct Polygon from LineString arguments
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_srid"><code class="literal">SRID()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return spatial reference system ID for geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area()</code></a></td>
                        <td>
                            Return Polygon or MultiPolygon area
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsBinary()</code>, <code class="literal">ST_AsWKB()</code></a></td>
                        <td>
                            Convert from internal geometry format to WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-asgeojson"><code class="literal">ST_AsGeoJSON()</code></a></td>
                        <td>
                            Generate GeoJSON object from geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsText()</code>, <code class="literal">ST_AsWKT()</code></a></td>
                        <td>
                            Convert from internal geometry format to WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a></td>
                        <td>
                            Return geometry of points within given distance from geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-buffer-strategy"><code class="literal">ST_Buffer_Strategy()</code></a></td>
                        <td>
                            Produce strategy option for ST_Buffer()
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-centroid"><code class="literal">ST_Centroid()</code></a></td>
                        <td>
                            Return centroid as a point
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-contains"><code class="literal">ST_Contains()</code></a></td>
                        <td>
                            Whether one geometry contains another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-convexhull"><code class="literal">ST_ConvexHull()</code></a></td>
                        <td>
                            Return convex hull of geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-crosses"><code class="literal">ST_Crosses()</code></a></td>
                        <td>
                            Whether one geometry crosses another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-difference"><code class="literal">ST_Difference()</code></a></td>
                        <td>
                            Return point set difference of two geometries
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-dimension"><code class="literal">ST_Dimension()</code></a></td>
                        <td>
                            Dimension of geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-disjoint"><code class="literal">ST_Disjoint()</code></a></td>
                        <td>
                            Whether one geometry is disjoint from another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance()</code></a></td>
                        <td>
                            The distance of one geometry from another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-distance-sphere"><code class="literal">ST_Distance_Sphere()</code></a></td>
                        <td>
                            Minimum distance on earth between two geometries
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a></td>
                        <td>
                            End Point of LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope()</code></a></td>
                        <td>
                            Return MBR of geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-equals"><code class="literal">ST_Equals()</code></a></td>
                        <td>
                            Whether one geometry is equal to another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing()</code></a></td>
                        <td>
                            Return exterior ring of Polygon
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geohash"><code class="literal">ST_GeoHash()</code></a></td>
                        <td>
                            Produce a geohash value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromText()</code>, <code class="literal">ST_GeometryCollectionFromText()</code>, <code class="literal">ST_GeomCollFromTxt()</code></a></td>
                        <td>
                            Return geometry collection from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeomCollFromWKB()</code>, <code class="literal">ST_GeometryCollectionFromWKB()</code></a></td>
                        <td>
                            Return geometry collection from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN()</code></a></td>
                        <td>
                            Return N-th geometry from geometry collection
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geometrytype"><code class="literal">ST_GeometryType()</code></a></td>
                        <td>
                            Return name of geometry type
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomfromgeojson"><code class="literal">ST_GeomFromGeoJSON()</code></a></td>
                        <td>
                            Generate geometry from GeoJSON object
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code>, <code class="literal">ST_GeometryFromText()</code></a></td>
                        <td>
                            Return geometry from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB()</code>, <code class="literal">ST_GeometryFromWKB()</code></a></td>
                        <td>
                            Return geometry from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN()</code></a></td>
                        <td>
                            Return N-th interior ring of Polygon
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-intersection"><code class="literal">ST_Intersection()</code></a></td>
                        <td>
                            Return point set intersection of two geometries
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-intersects"><code class="literal">ST_Intersects()</code></a></td>
                        <td>
                            Whether one geometry intersects another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a></td>
                        <td>
                            Whether a geometry is closed and simple
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-isempty"><code class="literal">ST_IsEmpty()</code></a></td>
                        <td>
                            Placeholder function
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple()</code></a></td>
                        <td>
                            Whether a geometry is simple
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-isvalid"><code class="literal">ST_IsValid()</code></a></td>
                        <td>
                            Whether a geometry is valid
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-latfromgeohash"><code class="literal">ST_LatFromGeoHash()</code></a></td>
                        <td>
                            Return latitude from geohash value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-length"><code class="literal">ST_Length()</code></a></td>
                        <td>
                            Return length of LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineFromText()</code>, <code class="literal">ST_LineStringFromText()</code></a></td>
                        <td>
                            Construct LineString from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineFromWKB()</code>, <code class="literal">ST_LineStringFromWKB()</code></a></td>
                        <td>
                            Construct LineString from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-longfromgeohash"><code class="literal">ST_LongFromGeoHash()</code></a></td>
                        <td>
                            Return longitude from geohash value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-makeenvelope"><code class="literal">ST_MakeEnvelope()</code></a></td>
                        <td>
                            Rectangle around two points
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText()</code>, <code class="literal">ST_MultiLineStringFromText()</code></a></td>
                        <td>
                            Construct MultiLineString from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB()</code>, <code class="literal">ST_MultiLineStringFromWKB()</code></a></td>
                        <td>
                            Construct MultiLineString from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code>, <code class="literal">ST_MultiPointFromText()</code></a></td>
                        <td>
                            Construct MultiPoint from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB()</code>, <code class="literal">ST_MultiPointFromWKB()</code></a></td>
                        <td>
                            Construct MultiPoint from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText()</code>, <code class="literal">ST_MultiPolygonFromText()</code></a></td>
                        <td>
                            Construct MultiPolygon from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB()</code>, <code class="literal">ST_MultiPolygonFromWKB()</code></a></td>
                        <td>
                            Construct MultiPolygon from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-numgeometries"><code class="literal">ST_NumGeometries()</code></a></td>
                        <td>
                            Return number of geometries in geometry collection
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRing()</code>, <code class="literal">ST_NumInteriorRings()</code></a></td>
                        <td>
                            Return number of interior rings in Polygon
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-numpoints"><code class="literal">ST_NumPoints()</code></a></td>
                        <td>
                            Return number of points in LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-overlaps"><code class="literal">ST_Overlaps()</code></a></td>
                        <td>
                            Whether one geometry overlaps another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointfromgeohash"><code class="literal">ST_PointFromGeoHash()</code></a></td>
                        <td>
                            Convert geohash value to POINT value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointfromtext"><code class="literal">ST_PointFromText()</code></a></td>
                        <td>
                            Construct Point from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointfromwkb"><code class="literal">ST_PointFromWKB()</code></a></td>
                        <td>
                            Construct Point from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN()</code></a></td>
                        <td>
                            Return N-th point from LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolyFromText()</code>, <code class="literal">ST_PolygonFromText()</code></a></td>
                        <td>
                            Construct Polygon from WKT
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolyFromWKB()</code>, <code class="literal">ST_PolygonFromWKB()</code></a></td>
                        <td>
                            Construct Polygon from WKB
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-simplify"><code class="literal">ST_Simplify()</code></a></td>
                        <td>
                            Return simplified geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-srid"><code class="literal">ST_SRID()</code></a></td>
                        <td>
                            Return spatial reference system ID for geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a></td>
                        <td>
                            Start Point of LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-symdifference"><code class="literal">ST_SymDifference()</code></a></td>
                        <td>
                            Return point set symmetric difference of two geometries
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-touches"><code class="literal">ST_Touches()</code></a></td>
                        <td>
                            Whether one geometry touches another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-union"><code class="literal">ST_Union()</code></a></td>
                        <td>
                            Return point set union of two geometries
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-validate"><code class="literal">ST_Validate()</code></a></td>
                        <td>
                            Return validated geometry
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-within"><code class="literal">ST_Within()</code></a></td>
                        <td>
                            Whether one geometry is within another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-x"><code class="literal">ST_X()</code></a></td>
                        <td>
                            Return X coordinate of Point
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_st-y"><code class="literal">ST_Y()</code></a></td>
                        <td>
                            Return Y coordinate of Point
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_startpoint"><code class="literal">StartPoint()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Start Point of LineString
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_touches"><code class="literal">Touches()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether one geometry touches another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_within"><code class="literal">Within()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Whether MBR of one geometry is within MBR of another
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_x"><code class="literal">X()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return X coordinate of Point
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_y"><code class="literal">Y()</code></a> (deprecated 5.7.6)</td>
                        <td>
                            Return Y coordinate of Point
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break">
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="spatial-function-argument-handling"></a>12.16.2&nbsp;Argument Handling by Spatial Functions</h3>

                    </div>

                </div>

            </div>
            <p>
                Spatial values, or geometries, have the properties described at
                <a class="xref" href="data-types.html#gis-class-geometry" title="11.5.2.2&nbsp;Geometry Class">Section&nbsp;11.5.2.2, “Geometry Class”</a>. The following discussion
                lists general spatial function argument-handling characteristics.
                Specific functions or groups of functions may have additional
                argument-handling characteristics, as discussed in the sections
                where those function descriptions occur.
            </p><p style="color:blue;">空间值或几何图形具有第11.5.2.2节“几何类”中描述的特性。下面的讨论列出了一般空间函数参数处理特性。特定函数或函数组可能具有附加的参数处理特性，如在出现这些函数描述的部分中所讨论的。</p><p>
            Spatial functions are defined only for valid geometry values.
        </p><p style="color:blue;">仅为有效的几何图形值定义空间函数。</p><a class="indexterm" name="idm140286847307744"></a><p>
            The spatial reference identifier (SRID) of a geometry identifies
            the coordinate space in which the geometry is defined. In MySQL,
            the SRID value is an integer associated with the geometry value.
            The maximum usable SRID value is
            2<sup>32</sup>−1. If a larger value is
            given, only the lower 32 bits are used.
        </p><p style="color:blue;">几何图形的空间参考标识符（srid）标识在其中定义几何图形的坐标空间。在mysql中，srid值是与几何体值关联的整数。最大可用值为232×1。如果给定较大的值，则仅使用较低的32位。</p><p>
            In MySQL, all computations are done assuming SRID 0, regardless of
            the actual SRID value. SRID 0 represents an infinite flat
            Cartesian plane with no units assigned to its axes. In the future,
            computations may use the specified SRID values. To ensure SRID 0
            behavior, create geometry values using SRID 0. SRID 0 is the
            default for new geometry values if no SRID is specified.
        </p><p style="color:blue;">在mysql中，所有计算都是假设srid为0完成的，而不管实际的srid值是多少。srid 0表示无限平面笛卡尔平面，其轴没有指定单位。将来，计算可能会使用指定的srid值。若要确保srid 0的行为，请使用srid 0创建几何体值。如果未指定srid，则srid 0是新几何体值的默认值。</p><p>
            Geometry values produced by any spatial function inherit the SRID
            of the geometry arguments.
        </p><p style="color:blue;">任何空间函数生成的几何体值都继承几何体参数的srid。</p><p>
            Spatial functions that take multiple geometry arguments require
            those arguments to have the same SRID value (that is, same value
            in the lower 32 bits). Assuming equal SRIDs, spatial functions do
            nothing with them after performing the equality check; geometry
            values are implicitly handled using Cartesian coordinates (SRID
            0). If a spatial function returns
            <a class="link" href="error-handling.html#error_er_gis_different_srids"><code class="literal">ER_GIS_DIFFERENT_SRIDS</code></a>, it means
            that the geometry arguments did not all have the same SRID. You
            must modify them to have the same SRID.
        </p><p style="color:blue;">接受多个几何参数的空间函数要求这些参数具有相同的srid值（即，在较低的32位中具有相同的值）。假设srid相等，则空间函数在执行相等检查后不会对它们执行任何操作；几何体值使用笛卡尔坐标（srid 0）隐式处理。如果空间函数返回不同的srid，则表示几何参数并非都具有相同的srid。您必须将它们修改为具有相同的srid。</p><p>
            The <a class="ulink" href="http://www.opengeospatial.org" target="_top">Open Geospatial
            Consortium</a> guidelines require that input polygons already
            be closed, so unclosed polygons are rejected as invalid rather
            than being closed.
        </p><p style="color:blue;">开放地理空间联盟指南要求输入多边形已被关闭，因此未关闭的多边形将被视为无效而不是被关闭。</p><p>
            Empty geometry-collection handling is as follows: An empty WKT
            input geometry collection may be specified as
            <code class="literal">'GEOMETRYCOLLECTION()'</code>. This is also the output
            WKT resulting from a spatial operation that produces an empty
            geometry collection.
        </p><p style="color:blue;">空几何图形集合处理如下：可以将空WKT输入几何图形集合指定为“geometryCollection（）”。这也是生成空几何图形集合的空间操作产生的输出wkt。</p><p>
            During parsing of a nested geometry collection, the collection is
            flattened and its basic components are used in various GIS
            operations to compute results. This provides additional
            flexibility to users because it is unnecessary to be concerned
            about the uniqueness of geometry data. Nested geometry collections
            may be produced from nested GIS function calls without having to
            be explicitly flattened first.
        </p><p style="color:blue;">在分析嵌套几何图形集合时，该集合被展平，其基本组件用于各种gis操作以计算结果。这为用户提供了额外的灵活性，因为不必关心几何数据的唯一性。嵌套的几何图形集合可以从嵌套的gis函数调用中生成，而无需首先显式展平。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="gis-wkt-functions"></a>12.16.3&nbsp;Functions That Create Geometry Values from WKT Values</h3>

                    </div>

                </div>

            </div>
            <p>
                These functions take as arguments a Well-Known Text (WKT)
                representation and, optionally, a spatial reference system
                identifier (SRID). They return the corresponding geometry.
            </p><p style="color:blue;">这些函数以众所周知的文本（wkt）表示和空间参考系统标识符（srid）作为参数。它们返回相应的几何图形。</p><p>
            <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code></a> accepts a WKT
            value of any geometry type as its first argument. Other functions
            provide type-specific construction functions for construction of
            geometry values of each geometry type.
        </p><p style="color:blue;">st_geomfromtext（）接受任何几何类型的wkt值作为其第一个参数。其他函数提供特定于类型的构造函数，用于构造每种几何类型的几何值。</p><p>
            For a description of WKT format, see
            <a class="xref" href="data-types.html#gis-wkt-format" title="Well-Known Text (WKT) Format">Well-Known Text (WKT) Format</a>.
        </p><p style="color:blue;">有关WKT格式的说明，请参见众所周知的文本（WKT）格式。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_geomcollfromtext"></a><p>
                    <a class="indexterm" name="idm140286847288928"></a>

                    <a class="indexterm" name="idm140286847287856"></a>

                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeomCollFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeometryCollectionFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">geometryCollectionFromText（wkt[，srid]），geometryCollectionFromText（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeometryCollectionFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromTxt()</code></a>,
                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeomCollFromText()</code></a>, and
                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeometryCollectionFromText()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromText()</code></a>.
                </p><p style="color:blue;">st_geomcollFromText（）、st_geometryCollectionFromText（）、st_geomcollFromTXT（）、geomcollFromText（）和geometryCollectionFromText（）是同义词。有关详细信息，请参见st_geomcollfromtext（）的说明。</p><p>
                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeomCollFromText()</code></a> and
                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeometryCollectionFromText()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeometryCollectionFromText()</code></a>
                    instead.
                </p><p style="color:blue;">从MySQL 5.7.6开始，geomcollFromText（）和geometryCollectionFromText（）已被弃用，并将在以后的MySQL版本中删除。请改用st_geomcollfromtext（）和st_geometrycollectionfromtext（）。</p></li><li class="listitem"><a name="function_geomfromtext"></a><p>
                    <a class="indexterm" name="idm140286847265152"></a>

                    <a class="indexterm" name="idm140286847264080"></a>

                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeomFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeometryFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">geomfromtext（wkt[，srid]），geometryfromtext（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeometryFromText()</code></a>,
                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a>, and
                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeometryFromText()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code></a>.
                </p><p style="color:blue;">st_geomfromtext（）、st_geometryfromtext（）、geomfromtext（）和geometryfromtext（）是同义词。有关详细信息，请参见st_geomfromtext（）的说明。</p><p>
                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a> and
                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeometryFromText()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeometryFromText()</code></a>
                    instead.
                </p><p style="color:blue;">GeomeFromText（）和GeometryFromText（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用st_geomfromtext（）和st_geometryfromtext（）。</p></li><li class="listitem"><a name="function_linefromtext"></a><p>
                    <a class="indexterm" name="idm140286847242944"></a>

                    <a class="indexterm" name="idm140286847241872"></a>

                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineStringFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">linefromtext（wkt[，srid]），linestringfromtext（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineStringFromText()</code></a>,
                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineFromText()</code></a>, and
                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineStringFromText()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineFromText()</code></a>.
                </p><p style="color:blue;">st_linefromtext（）、st_linestringfromtext（）、linefromtext（）和linestringfromtext（）是同义词。有关详细信息，请参见st_linefromtext（）的说明。</p><p>
                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineFromText()</code></a> and
                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineStringFromText()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineStringFromText()</code></a>
                    instead.
                </p><p style="color:blue;">从mysql 5.7.6开始，linefromtext（）和linestringfromtext（）已被弃用，并将在以后的mysql版本中删除。请改用st_linefromtext（）和st_linestringfromtext（）。</p></li><li class="listitem"><a name="function_mlinefromtext"></a><p>
                    <a class="indexterm" name="idm140286847220720"></a>

                    <a class="indexterm" name="idm140286847219648"></a>

                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MLineFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MultiLineStringFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">mlinefromtext（wkt[，srid]），多行fromtext（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MultiLineStringFromText()</code></a>,
                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MLineFromText()</code></a>, and
                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MultiLineStringFromText()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText()</code></a>.
                </p><p style="color:blue;">st_mlinefromtext（）、st_multilinestringfromtext（）、mlinefromtext（）和multilinestringfromtext（）是同义词。有关详细信息，请参见st_mlinefromtext（）的说明。</p><p>
                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MLineFromText()</code></a> and
                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MultiLineStringFromText()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MultiLineStringFromText()</code></a>
                    instead.
                </p><p style="color:blue;">mlinefromtext（）和multilinestringfromtext（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。请改用st_mlinefromtext（）和st_multilinestringfromtext（）。</p></li><li class="listitem"><a name="function_mpointfromtext"></a><p>
                    <a class="indexterm" name="idm140286847198416"></a>

                    <a class="indexterm" name="idm140286847197344"></a>

                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MPointFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MultiPointFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">mpointfromtext（wkt[，srid]），多点fromtext（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MultiPointFromText()</code></a>,
                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MPointFromText()</code></a>, and
                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MultiPointFromText()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code></a>.
                </p><p style="color:blue;">st mpointfromtext（）、st multipointfromtext（）、mpointfromtext（）和multipointfromtext（）是同义词。有关详细信息，请参见st impointfromtext（）的说明。</p><p>
                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MPointFromText()</code></a> and
                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MultiPointFromText()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MultiPointFromText()</code></a>
                    instead.
                </p><p style="color:blue;">mpointfromtext（）和multipointfromtext（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。请改用st mpointfromtext（）和st multipointfromtext（）。</p></li><li class="listitem"><a name="function_mpolyfromtext"></a><p>
                    <a class="indexterm" name="idm140286847176208"></a>

                    <a class="indexterm" name="idm140286847175136"></a>

                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MPolyFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MultiPolygonFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">mpolyFromText（wkt[，srid]），multipolyGonFromText（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MultiPolygonFromText()</code></a>,
                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MPolyFromText()</code></a>, and
                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MultiPolygonFromText()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText()</code></a>.
                </p><p style="color:blue;">stmpolyFromText（）、stmultipolyGonFromText（）、mpolyFromText（）和multipolyGonFromText（）是同义词。有关详细信息，请参见st_mplyFromText（）的说明。</p><p>
                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MPolyFromText()</code></a> and
                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MultiPolygonFromText()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MultiPolygonFromText()</code></a>
                    instead.
                </p><p style="color:blue;">mpolyFromText（）和multipolyGonFromText（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用stmpolyFromText（）和stmultipolyGonFromText（）。</p></li><li class="listitem"><a name="function_pointfromtext"></a><p>
                    <a class="indexterm" name="idm140286847153984"></a>

                    <a class="link" href="functions.html#function_pointfromtext"><code class="literal">PointFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">pointfromtext（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-pointfromtext"><code class="literal">ST_PointFromText()</code></a> and
                    <a class="link" href="functions.html#function_pointfromtext"><code class="literal">PointFromText()</code></a> are synonyms.
                    For more information, see the description of
                    <a class="link" href="functions.html#function_st-pointfromtext"><code class="literal">ST_PointFromText()</code></a>.
                </p><p style="color:blue;">st_pointfromtext（）和pointfromtext（）是同义词。有关详细信息，请参见st_pointfromtext（）的说明。</p><p>
                    <a class="link" href="functions.html#function_pointfromtext"><code class="literal">PointFromText()</code></a> is deprecated
                    as of MySQL 5.7.6 and will be removed in a future MySQL
                    release. Use <a class="link" href="functions.html#function_st-pointfromtext"><code class="literal">ST_PointFromText()</code></a>
                    instead.
                </p><p style="color:blue;">从mysql 5.7.6开始，pointfromtext（）已被弃用，并将在以后的mysql版本中删除。改为使用st_pointfromtext（）。</p></li><li class="listitem"><a name="function_polyfromtext"></a><p>
                    <a class="indexterm" name="idm140286847139904"></a>

                    <a class="indexterm" name="idm140286847138832"></a>

                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolyFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolygonFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">polyFromText（wkt[，srid]），polygonFromText（wkt[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolyFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolygonFromText()</code></a>,
                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolyFromText()</code></a>, and
                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolygonFromText()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolyFromText()</code></a>.
                </p><p style="color:blue;">st_polyFromText（）、st_polygonFromText（）、polyFromText（）和polygonFromText（）是同义词。有关详细信息，请参见st_polyFromText（）的说明。</p><p>
                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolyFromText()</code></a> and
                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolygonFromText()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolyFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolygonFromText()</code></a>
                    instead.
                </p><p style="color:blue;">PolyFromText（）和PolygonFromText（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用st_polyFromText（）和st_polygonFromText（）。</p></li><li class="listitem"><a name="function_st-geomcollfromtext"></a><p>
                    <a class="indexterm" name="idm140286847117600"></a>

                    <a class="indexterm" name="idm140286847116528"></a>

                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeometryCollectionFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromTxt(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">St_GeomcollFromText（WKT[，SRID]），St_GeometryCollectionFromText（WKT[，SRID]），St_GeomcollFromTXT（WKT[，SRID]）</p><p>
                    Constructs a <code class="literal">GeometryCollection</code> value using
                    its WKT representation and SRID.
                </p><p style="color:blue;">使用其WKT表示形式和SRID构造GeometryCollection值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g = "MULTILINESTRING((10 10, 11 11), (9 9, 10 10))";</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_GeomCollFromText(@g));</code></strong>
+--------------------------------------------+
| ST_AsText(ST_GeomCollFromText(@g))         |
+--------------------------------------------+
| MULTILINESTRING((10 10,11 11),(9 9,10 10)) |
+--------------------------------------------+
</pre><p>
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeometryCollectionFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromTxt()</code></a>,
                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeomCollFromText()</code></a>, and
                    <a class="link" href="functions.html#function_geomcollfromtext"><code class="literal">GeometryCollectionFromText()</code></a>
                    are synonyms.
                    <a class="link" href="functions.html#function_st-geomcollfromtext"><code class="literal">ST_GeomCollFromTxt()</code></a>
                    was added in MySQL 5.7.6.
                </p><p style="color:blue;">st_geomcollFromText（）、st_geometryCollectionFromText（）、st_geomcollFromTXT（）、geomcollFromText（）和geometryCollectionFromText（）是同义词。在mysql 5.7.6中添加了st_geomcollfromtxt（）。</p></li><li class="listitem"><a name="function_st-geomfromtext"></a><p>
                    <a class="indexterm" name="idm140286847089760"></a>

                    <a class="indexterm" name="idm140286847088688"></a>

                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeometryFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">st_geometryfromtext（wkt[，srid]），st_geometryfromtext（wkt[，srid]）</p><p>
                    Constructs a geometry value of any type using its WKT
                    representation and SRID.
                </p><p style="color:blue;">使用WKT表示法和SRID构造任何类型的几何体值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><p>
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeometryFromText()</code></a>,
                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a>, and
                    <a class="link" href="functions.html#function_geomfromtext"><code class="literal">GeometryFromText()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_geomfromtext（）、st_geometryfromtext（）、geomfromtext（）和geometryfromtext（）是同义词。</p></li><li class="listitem"><a name="function_st-linefromtext"></a><p>
                    <a class="indexterm" name="idm140286847071040"></a>

                    <a class="indexterm" name="idm140286847069968"></a>

                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineStringFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">st_linefromtext（wkt[，srid]），st_linestringfromtext（wkt[，srid]）</p><p>
                    Constructs a <code class="literal">LineString</code> value using its WKT
                    representation and SRID.
                </p><p style="color:blue;">使用其wkt表示形式和srid构造一个linestring值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><p>
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-linefromtext"><code class="literal">ST_LineStringFromText()</code></a>,
                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineFromText()</code></a>, and
                    <a class="link" href="functions.html#function_linefromtext"><code class="literal">LineStringFromText()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_linefromtext（）、st_linestringfromtext（）、linefromtext（）和linestringfromtext（）是同义词。</p></li><li class="listitem"><a name="function_st-mlinefromtext"></a><p>
                    <a class="indexterm" name="idm140286847051632"></a>

                    <a class="indexterm" name="idm140286847050560"></a>

                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MultiLineStringFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">st_mlinefromtext（wkt[，srid]），st_multilinestringfromtext（wkt[，srid]）</p><p>
                    Constructs a <code class="literal">MultiLineString</code> value using
                    its WKT representation and SRID.
                </p><p style="color:blue;">使用其wkt表示形式和srid构造多行线值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><p>
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MultiLineStringFromText()</code></a>,
                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MLineFromText()</code></a>, and
                    <a class="link" href="functions.html#function_mlinefromtext"><code class="literal">MultiLineStringFromText()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_mlinefromtext（）、st_multilinestringfromtext（）、mlinefromtext（）和multilinestringfromtext（）是同义词。</p><p>
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MLineFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-mlinefromtext"><code class="literal">ST_MultiLineStringFromText()</code></a>
                    were added in MySQL 5.7.6.
                </p><p style="color:blue;">在mysql 5.7.6中添加了st懔mlinefromtext（）和st懔multilinestringfromtext（）。</p></li><li class="listitem"><a name="function_st-mpointfromtext"></a><p>
                    <a class="indexterm" name="idm140286847029200"></a>

                    <a class="indexterm" name="idm140286847028128"></a>

                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MultiPointFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">st_mpointfromtext（wkt[，srid]），st_multiplointfromtext（wkt[，srid]）</p><p>
                    Constructs a <code class="literal">MultiPoint</code> value using its WKT
                    representation and SRID.
                </p><p style="color:blue;">使用其wkt表示和srid构造多点值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><p>
                    As of MySQL 5.7.9, spatial functions such as
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-geomfromtext"><code class="literal">ST_GeomFromText()</code></a> that accept
                    WKT-format representations of <code class="literal">MultiPoint</code>
                    values permit individual points within values to be surrounded
                    by parentheses. For example, both of the following function
                    calls are valid, whereas before MySQL 5.7.9 the second one
                    produces an error:
                </p><p style="color:blue;">从mysql 5.7.9开始，接受wkt格式的多点值表示的空间函数（如st-mpointfromtext（）和st-geomfromtext（））允许值中的各个点被括号包围。例如，以下两个函数调用都是有效的，而在mysql 5.7.9之前，第二个函数调用会产生错误：</p><pre data-lang="sql" class="programlisting">ST_MPointFromText('MULTIPOINT (1 1, 2 2, 3 3)')
ST_MPointFromText('MULTIPOINT ((1 1), (2 2), (3 3))')
</pre><p>
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MultiPointFromText()</code></a>,
                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MPointFromText()</code></a>, and
                    <a class="link" href="functions.html#function_mpointfromtext"><code class="literal">MultiPointFromText()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st mpointfromtext（）、st multipointfromtext（）、mpointfromtext（）和multipointfromtext（）是同义词。</p><p>
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MPointFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-mpointfromtext"><code class="literal">ST_MultiPointFromText()</code></a>
                    were added in MySQL 5.7.6.
                </p><p style="color:blue;">在MySQL5.7.6中添加了st懔mpointfromtext（）和st懔multipointfromtext（）。</p></li><li class="listitem"><a name="function_st-mpolyfromtext"></a><p>
                    <a class="indexterm" name="idm140286847001920"></a>

                    <a class="indexterm" name="idm140286847000848"></a>

                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MultiPolygonFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">stmpolyFromText（wkt[，srid]），stu multipolyGonFromText（wkt[，srid]）</p><p>
                    Constructs a <code class="literal">MultiPolygon</code> value using its
                    WKT representation and SRID.
                </p><p style="color:blue;">使用其wkt表示和srid构造多多边形值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><p>
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MultiPolygonFromText()</code></a>,
                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MPolyFromText()</code></a>, and
                    <a class="link" href="functions.html#function_mpolyfromtext"><code class="literal">MultiPolygonFromText()</code></a>
                    are synonyms.
                </p><p style="color:blue;">stmpolyFromText（）、stmultipolyGonFromText（）、mpolyFromText（）和multipolyGonFromText（）是同义词。</p><p>
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MPolyFromText()</code></a> and
                    <a class="link" href="functions.html#function_st-mpolyfromtext"><code class="literal">ST_MultiPolygonFromText()</code></a>
                    were added in MySQL 5.7.6.
                </p><p style="color:blue;">在MySQL5.7.6中添加了st砦mpolyFromText（）和st砦multipolyGonFromText（）。</p></li><li class="listitem"><a name="function_st-pointfromtext"></a><p>
                    <a class="indexterm" name="idm140286846979584"></a>

                    <a class="link" href="functions.html#function_st-pointfromtext"><code class="literal">ST_PointFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">St_PointFromText（WKT[，SRID]）</p><p>
                    Constructs a <code class="literal">Point</code> value using its WKT
                    representation and SRID.
                </p><p style="color:blue;">使用其wkt表示和srid构造点值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><p>
                    <a class="link" href="functions.html#function_st-pointfromtext"><code class="literal">ST_PointFromText()</code></a> and
                    <a class="link" href="functions.html#function_pointfromtext"><code class="literal">PointFromText()</code></a> are synonyms.
                </p><p style="color:blue;">st_pointfromtext（）和pointfromtext（）是同义词。</p></li><li class="listitem"><a name="function_st-polyfromtext"></a><p>
                    <a class="indexterm" name="idm140286846965824"></a>

                    <a class="indexterm" name="idm140286846964752"></a>

                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolyFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolygonFromText(<em class="replaceable"><code>wkt</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">st_polyFromText（wkt[，srid]），st_polyFromText（wkt[，srid]）</p><p>
                    Constructs a <code class="literal">Polygon</code> value using its WKT
                    representation and SRID.
                </p><p style="color:blue;">使用其wkt表示和srid构造多边形值。</p><p>
                    If the geometry argument is <code class="literal">NULL</code> or not a
                    syntactically well-formed geometry, or if the SRID argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果geometry参数为空或不是语法良好的几何体，或者如果srid参数为空，则返回值为空。</p><p>
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolyFromText()</code></a>,
                    <a class="link" href="functions.html#function_st-polyfromtext"><code class="literal">ST_PolygonFromText()</code></a>,
                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolyFromText()</code></a>, and
                    <a class="link" href="functions.html#function_polyfromtext"><code class="literal">PolygonFromText()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_polyFromText（）、st_polygonFromText（）、polyFromText（）和polygonFromText（）是同义词。</p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="gis-wkb-functions"></a>12.16.4&nbsp;Functions That Create Geometry Values from WKB Values</h3>

                    </div>

                </div>

            </div>
            <p>
                These functions take as arguments a
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> containing a Well-Known Binary
                (WKB) representation and, optionally, a spatial reference system
                identifier (SRID). They return the corresponding geometry.
            </p><p style="color:blue;">这些函数将包含已知二进制（wkb）表示和（可选）空间参考系统标识符（srid）的blob作为参数。它们返回相应的几何图形。</p><p>
            <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB()</code></a> accepts a WKB
            value of any geometry type as its first argument. Other functions
            provide type-specific construction functions for construction of
            geometry values of each geometry type.
        </p><p style="color:blue;">st_geomfromwkb（）接受任何几何类型的wkb值作为其第一个参数。其他函数提供特定于类型的构造函数，用于构造每种几何类型的几何值。</p><p>
            These functions also accept geometry objects as returned by the
            functions in <a class="xref" href="functions.html#gis-mysql-specific-functions" title="12.16.5&nbsp;MySQL-Specific Functions That Create Geometry Values">Section&nbsp;12.16.5, “MySQL-Specific Functions That Create Geometry Values”</a>. Thus,
            those functions may be used to provide the first argument to the
            functions in this section. However, as of MySQL 5.7.19, use of
            geometry arguments is deprecated and generates a warning. Geometry
            arguments are not accepted in MySQL 8.0. To migrate
            calls from using geometry arguments to using WKB arguments, follow
            these guidelines:
        </p><p style="color:blue;">这些函数还接受由12.16.5节“创建几何值的mysql特定函数”中的函数返回的几何对象。因此，这些函数可用于向本节中的函数提供第一个参数。但是，从mysql 5.7.19开始，不推荐使用几何参数并生成警告。mysql 8.0中不接受几何参数。要将调用从使用几何参数迁移到使用WKB参数，请遵循以下准则：</p><p>
            For a description of WKB format, see
            <a class="xref" href="data-types.html#gis-wkb-format" title="Well-Known Binary (WKB) Format">Well-Known Binary (WKB) Format</a>.
        </p><p style="color:blue;">有关wkb格式的说明，请参见众所周知的二进制（wkb）格式。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Rewrite constructs such as <code class="literal">ST_GeomFromWKB(Point(0,
                    0))</code> as <code class="literal">Point(0, 0)</code>.
                </p><p style="color:blue;">将诸如st_geomfromwkb（点（0，0））之类的构造重写为点（0，0）。</p></li><li class="listitem"><p>
                    Rewrite constructs such as <code class="literal">ST_GeomFromWKB(Point(0,
                    0), 4326)</code> as
                    <code class="literal">ST_GeomFromWKB(ST_AsWKB(Point(0, 0)),
                        4326)</code>. (Alternatively, in MySQL 8.0, you
                    can use <code class="literal">ST_SRID(Point(0, 0), 4326)</code>.)
                </p><p style="color:blue;">重写构造，例如st_geomfromwkb（点（0，0），4326）为st_geomfromwkb（点（0，0）），4326。（或者，在mysql 8.0中，可以使用st_srid（point（0，0），4326）。）</p></li></ul>
            </div>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_geomcollfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846931696"></a>

                    <a class="indexterm" name="idm140286846930624"></a>

                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeomCollFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeometryCollectionFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">GeometryCollectionFromWKB（WKB[，SRID]），GeometryCollectionFromWKB（WKB[，SRID]）</p><p>
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeomCollFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeometryCollectionFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeomCollFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeometryCollectionFromWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeomCollFromWKB()</code></a>.
                </p><p style="color:blue;">st_geometrycollectionfromwkb（）、st_geometrycollectionfromwkb（）、geometrycollectionfromwkb（）和geometrycollectionfromwkb（）是同义词。有关详细信息，请参见st_geomcollfromwkb（）的说明。</p><p>
                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeomCollFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeometryCollectionFromWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeomCollFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeometryCollectionFromWKB()</code></a>
                    instead.
                </p><p style="color:blue;">从mysql 5.7.6开始，geomcollfromwkb（）和geometrycollectionfromwkb（）已被弃用，并将在以后的mysql版本中删除。请改用st_geomcollfromwkb（）和st_geometrycollectionfromwkb（）。</p></li><li class="listitem"><a name="function_geomfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846909200"></a>

                    <a class="indexterm" name="idm140286846908128"></a>

                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeomFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeometryFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">geomfromwkb（wkb[，srid]），geometryfromwkb（wkb[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeometryFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeomFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeometryFromWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB()</code></a>.
                </p><p style="color:blue;">st_geomfromwkb（）、st_geometryfromwkb（）、geomfromwkb（）和geometryfromwkb（）是同义词。有关详细信息，请参见st_geomfromwkb（）的说明。</p><p>
                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeomFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeometryFromWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeometryFromWKB()</code></a>
                    instead.
                </p><p style="color:blue;">从MySQL 5.7.6开始，geomFromWKB（）和geometryFromWKB（）已被弃用，并将在以后的MySQL版本中删除。请改用st_geomfromwkb（）和st_geometryfromwkb（）。</p></li><li class="listitem"><a name="function_linefromwkb"></a><p>
                    <a class="indexterm" name="idm140286846887152"></a>

                    <a class="indexterm" name="idm140286846886080"></a>

                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineStringFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">linefromwkb（wkb[，srid]），linestringfromwkb（wkb[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineStringFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineStringFromWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineFromWKB()</code></a>.
                </p><p style="color:blue;">st_linefromwkb（）、st_linestringfromwkb（）、linefromwkb（）和linestringfromwkb（）是同义词。有关详细信息，请参见stu linefromwkb（）的说明。</p><p>
                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineStringFromWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineStringFromWKB()</code></a>
                    instead.
                </p><p style="color:blue;">从mysql 5.7.6开始，linefromwkb（）和linestringfromwkb（）已被弃用，并将在以后的mysql版本中删除。请改用st_linefromwkb（）和st_linestringfromwkb（）。</p></li><li class="listitem"><a name="function_mlinefromwkb"></a><p>
                    <a class="indexterm" name="idm140286846865104"></a>

                    <a class="indexterm" name="idm140286846864032"></a>

                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MLineFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MultiLineStringFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">mlinefromwkb（wkb[，srid]），多行fromwkb（wkb[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MultiLineStringFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MLineFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MultiLineStringFromWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB()</code></a>.
                </p><p style="color:blue;">st_mlinefromwkb（）、st戆multilinestringfromwkb（）、mlinefromwkb（）和multilinestringfromwkb（）是同义词。有关详细信息，请参见st_mlinefromwkb（）的说明。</p><p>
                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MLineFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MultiLineStringFromWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MultiLineStringFromWKB()</code></a>
                    instead.
                </p><p style="color:blue;">mlinefromwkb（）和multilinestringfromwkb（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。请改用st_mlinefromwkb（）和st_multilinestringfromwkb（）。</p></li><li class="listitem"><a name="function_mpointfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846842816"></a>

                    <a class="indexterm" name="idm140286846841744"></a>

                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MPointFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MultiPointFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">mpointfromwkb（wkb[，srid]），多点fromwkb（wkb[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MultiPointFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MPointFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MultiPointFromWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB()</code></a>.
                </p><p style="color:blue;">st mpointfromwkb（）、st multipointfromwkb（）、mpointfromwkb（）和multipointfromwkb（）是同义词。有关详细信息，请参见st mpointfromwkb（）的说明。</p><p>
                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MPointFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MultiPointFromWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MultiPointFromWKB()</code></a>
                    instead.
                </p><p style="color:blue;">mpointfromwkb（）和multipointfromwkb（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。请改用st mpointfromwkb（）和st multipointfromwkb（）。</p></li><li class="listitem"><a name="function_mpolyfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846820672"></a>

                    <a class="indexterm" name="idm140286846819600"></a>

                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MPolyFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MultiPolygonFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">mpolyFromWKB（wkb[，srid]），多多边形FromWKB（wkb[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MultiPolygonFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MPolyFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MultiPolygonFromWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB()</code></a>.
                </p><p style="color:blue;">st mpolyfromwkb（）、stmpolygonfromwkb（）、mpolyfromwkb（）和multipolygonfromwkb（）是同义词。有关详细信息，请参见st mpolyfromwkb（）的说明。</p><p>
                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MPolyFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MultiPolygonFromWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MultiPolygonFromWKB()</code></a>
                    instead.
                </p><p style="color:blue;">mpolyFromWKB（）和multipolyGonFromWKB（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用stmpolyFromWKB（）和stu multipolyGonFromWKB（）。</p></li><li class="listitem"><a name="function_pointfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846798448"></a>

                    <a class="link" href="functions.html#function_pointfromwkb"><code class="literal">PointFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">点来自wkb（wkb[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-pointfromwkb"><code class="literal">ST_PointFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_pointfromwkb"><code class="literal">PointFromWKB()</code></a> are synonyms.
                    For more information, see the description of
                    <a class="link" href="functions.html#function_st-pointfromwkb"><code class="literal">ST_PointFromWKB()</code></a>.
                </p><p style="color:blue;">st_pointfromwkb（）和pointfromwkb（）是同义词。有关详细信息，请参见stu pointfromwkb（）的说明。</p><p>
                    <a class="link" href="functions.html#function_pointfromwkb"><code class="literal">PointFromWKB()</code></a> is deprecated as
                    of MySQL 5.7.6 and will be removed in a future MySQL release.
                    Use <a class="link" href="functions.html#function_st-pointfromwkb"><code class="literal">ST_PointFromWKB()</code></a> instead.
                </p><p style="color:blue;">从mysql 5.7.6开始，pointfromwkb（）已被弃用，并将在以后的mysql版本中删除。请改用stu pointfromwkb（）。</p></li><li class="listitem"><a name="function_polyfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846784336"></a>

                    <a class="indexterm" name="idm140286846783264"></a>

                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolyFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolygonFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">polyfromwkb（wkb[，srid]），polygonfromwkb（wkb[，srid]）</p><p>
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolyFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolygonFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolyFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolygonFromWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolyFromWKB()</code></a>.
                </p><p style="color:blue;">st_polyfromwkb（）、st_polygonfromwkb（）、polyfromwkb（）和polygonfromwkb（）是同义词。有关详细信息，请参见st_polyFromWKB（）的说明。</p><p>
                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolyFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolygonFromWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolyFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolygonFromWKB()</code></a>
                    instead.
                </p><p style="color:blue;">PolyFromWKB（）和PolygonFromWKB（）从MySQL 5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用st_polyFromWKB（）和st_polyFromWKB（）。</p></li><li class="listitem"><a name="function_st-geomcollfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846762240"></a>

                    <a class="indexterm" name="idm140286846761168"></a>

                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeomCollFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeometryCollectionFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">St_GeometryCollectionFromWKB（WKB[，SRID]），St_GeometryCollectionFromWKB（WKB[，SRID]）</p><p>
                    Constructs a <code class="literal">GeometryCollection</code> value using
                    its WKB representation and SRID.
                </p><p style="color:blue;">使用其wkb表示形式和srid构造geometrycollection值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeomCollFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-geomcollfromwkb"><code class="literal">ST_GeometryCollectionFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeomCollFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_geomcollfromwkb"><code class="literal">GeometryCollectionFromWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_geometrycollectionfromwkb（）、st_geometrycollectionfromwkb（）、geometrycollectionfromwkb（）和geometrycollectionfromwkb（）是同义词。</p></li><li class="listitem"><a name="function_st-geomfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846743584"></a>

                    <a class="indexterm" name="idm140286846742512"></a>

                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeometryFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">St_GeometryFromWKB（WKB[，SRID]），St_GeometryFromWKB（WKB[，SRID]）</p><p>
                    Constructs a geometry value of any type using its WKB
                    representation and SRID.
                </p><p style="color:blue;">使用wkb表示和srid构造任何类型的几何体值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeomFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-geomfromwkb"><code class="literal">ST_GeometryFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeomFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_geomfromwkb"><code class="literal">GeometryFromWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_geomfromwkb（）、st_geometryfromwkb（）、geomfromwkb（）和geometryfromwkb（）是同义词。</p></li><li class="listitem"><a name="function_st-linefromwkb"></a><p>
                    <a class="indexterm" name="idm140286846725824"></a>

                    <a class="indexterm" name="idm140286846724752"></a>

                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineStringFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">从wkb（wkb[，srid]），从wkb（wkb[，srid]），st_linestringfromwkb（wkb[，srid]）</p><p>
                    Constructs a <code class="literal">LineString</code> value using its WKB
                    representation and SRID.
                </p><p style="color:blue;">使用其wkb表示形式和srid构造一个linestring值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-linefromwkb"><code class="literal">ST_LineStringFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_linefromwkb"><code class="literal">LineStringFromWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_linefromwkb（）、st_linestringfromwkb（）、linefromwkb（）和linestringfromwkb（）是同义词。</p></li><li class="listitem"><a name="function_st-mlinefromwkb"></a><p>
                    <a class="indexterm" name="idm140286846707280"></a>

                    <a class="indexterm" name="idm140286846706208"></a>

                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MultiLineStringFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">St_mlinefromwkb（wkb[，srid]），St_multilinestringfromwkb（wkb[，srid]）</p><p>
                    Constructs a <code class="literal">MultiLineString</code> value using
                    its WKB representation and SRID.
                </p><p style="color:blue;">使用其wkb表示形式和srid构造多行字符串值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MultiLineStringFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MLineFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_mlinefromwkb"><code class="literal">MultiLineStringFromWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_mlinefromwkb（）、st戆multilinestringfromwkb（）、mlinefromwkb（）和multilinestringfromwkb（）是同义词。</p><p>
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MLineFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-mlinefromwkb"><code class="literal">ST_MultiLineStringFromWKB()</code></a>
                    were added in MySQL 5.7.6.
                </p><p style="color:blue;">在mysql 5.7.6中添加了st懔mlinefromwkb（）和st懔multilinestringfromwkb（）。</p></li><li class="listitem"><a name="function_st-mpointfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846685632"></a>

                    <a class="indexterm" name="idm140286846684560"></a>

                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MultiPointFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">从wkb导入（wkb[，srid]），从wkb导入多点（wkb[，srid]）</p><p>
                    Constructs a <code class="literal">MultiPoint</code> value using its WKB
                    representation and SRID.
                </p><p style="color:blue;">使用wkb表示和srid构造多点值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MultiPointFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MPointFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_mpointfromwkb"><code class="literal">MultiPointFromWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st mpointfromwkb（）、st multipointfromwkb（）、mpointfromwkb（）和multipointfromwkb（）是同义词。</p><p>
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MPointFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-mpointfromwkb"><code class="literal">ST_MultiPointFromWKB()</code></a>
                    were added in MySQL 5.7.6.
                </p><p style="color:blue;">在MySQL5.7.6中增加了st mpointfromwkb（）和st multipointfromwkb（）。</p></li><li class="listitem"><a name="function_st-mpolyfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846664064"></a>

                    <a class="indexterm" name="idm140286846662992"></a>

                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MultiPolygonFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">从wkb（wkb[，srid]），从wkb（wkb[，srid]），到stu multipolygonfromwkb（wkb[，srid]）</p><p>
                    Constructs a <code class="literal">MultiPolygon</code> value using its
                    WKB representation and SRID.
                </p><p style="color:blue;">使用其wkb表示和srid构造多多边形值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MultiPolygonFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MPolyFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_mpolyfromwkb"><code class="literal">MultiPolygonFromWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st mpolyfromwkb（）、stmpolygonfromwkb（）、mpolyfromwkb（）和multipolygonfromwkb（）是同义词。</p><p>
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MPolyFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_st-mpolyfromwkb"><code class="literal">ST_MultiPolygonFromWKB()</code></a>
                    were added in MySQL 5.7.6.
                </p><p style="color:blue;">在mysql 5.7.6中增加了st mpolyfromwkb（）和st multipolygonfromwkb（）。</p></li><li class="listitem"><a name="function_st-pointfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846642592"></a>

                    <a class="link" href="functions.html#function_st-pointfromwkb"><code class="literal">ST_PointFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">WKB（WKB[，SRID]）中的ST_POINT</p><p>
                    Constructs a <code class="literal">Point</code> value using its WKB
                    representation and SRID.
                </p><p style="color:blue;">使用其wkb表示和srid构造点值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-pointfromwkb"><code class="literal">ST_PointFromWKB()</code></a> and
                    <a class="link" href="functions.html#function_pointfromwkb"><code class="literal">PointFromWKB()</code></a> are synonyms.
                </p><p style="color:blue;">st_pointfromwkb（）和pointfromwkb（）是同义词。</p></li><li class="listitem"><a name="function_st-polyfromwkb"></a><p>
                    <a class="indexterm" name="idm140286846629696"></a>

                    <a class="indexterm" name="idm140286846628624"></a>

                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolyFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>,
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolygonFromWKB(<em class="replaceable"><code>wkb</code></em>[,
                        <em class="replaceable"><code>srid</code></em>])</code></a>
                </p><p style="color:blue;">St_PolyFromWKB（WKB[，SRID]），St_PolyFromWKB（WKB[，SRID]）</p><p>
                    Constructs a <code class="literal">Polygon</code> value using its WKB
                    representation and SRID.
                </p><p style="color:blue;">使用其wkb表示和srid构造多边形值。</p><p>
                    The result is <code class="literal">NULL</code> if the WKB or SRID
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果wkb或srid参数为空，则结果为空。</p><p>
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolyFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_st-polyfromwkb"><code class="literal">ST_PolygonFromWKB()</code></a>,
                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolyFromWKB()</code></a>, and
                    <a class="link" href="functions.html#function_polyfromwkb"><code class="literal">PolygonFromWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_polyfromwkb（）、st_polygonfromwkb（）、polyfromwkb（）和polygonfromwkb（）是同义词。</p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="gis-mysql-specific-functions"></a>12.16.5&nbsp;MySQL-Specific Functions That Create Geometry Values</h3>

                    </div>

                </div>

            </div>
            <p>
                MySQL provides a set of useful nonstandard functions for creating
                geometry values. The functions described in this section are MySQL
                extensions to the OpenGIS specification.
            </p><p style="color:blue;">mysql为创建几何体值提供了一组有用的非标准函数。本节描述的函数是opengis规范的mysql扩展。</p><p>
            These functions produce geometry objects from either WKB values or
            geometry objects as arguments. If any argument is not a proper WKB
            or geometry representation of the proper object type, the return
            value is <code class="literal">NULL</code>.
        </p><p style="color:blue;">这些函数从wkb值或几何对象生成几何对象作为参数。如果任何参数不是正确对象类型的WKB或几何图形表示形式，则返回值为空。</p><p>
            For example, you can insert the geometry return value from
            <a class="link" href="functions.html#function_point"><code class="literal">Point()</code></a> directly into a
            <code class="literal">POINT</code> column:
        </p><p style="color:blue;">例如，可以将point（）中的几何返回值直接插入到点列中：</p><pre data-lang="sql" class="programlisting">INSERT INTO t1 (pt_col) VALUES(Point(1,2));
</pre>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_geometrycollection"></a><p>
                    <a class="link" href="functions.html#function_geometrycollection"><code class="literal">GeometryCollection(<em class="replaceable"><code>g</code></em>
                        [, <em class="replaceable"><code>g</code></em>] ...)</code></a>
                </p><p style="color:blue;">几何集合（g[，g]…）</p><a class="indexterm" name="idm140286846601136"></a><p>
                    Constructs a <code class="literal">GeometryCollection</code> value from
                    the geometry arguments.
                </p><p style="color:blue;">从几何参数构造geometryCollection值。</p><p>
                    <a class="link" href="functions.html#function_geometrycollection"><code class="literal">GeometryCollection()</code></a> returns
                    all the proper geometries contained in the arguments even if a
                    nonsupported geometry is present.
                </p><p style="color:blue;">geometryCollection（）返回参数中包含的所有正确几何图形，即使存在未支持的几何图形。</p><p>
                    <a class="link" href="functions.html#function_geometrycollection"><code class="literal">GeometryCollection()</code></a> with no
                    arguments is permitted as a way to create an empty geometry.
                </p><p style="color:blue;">允许使用不带参数的geometryCollection（）创建空几何体。</p></li><li class="listitem"><a name="function_linestring"></a><p>
                    <a class="link" href="functions.html#function_linestring"><code class="literal">LineString(<em class="replaceable"><code>pt</code></em>
                        [, <em class="replaceable"><code>pt</code></em>] ...)</code></a>
                </p><p style="color:blue;">字符串（pt[，pt]…）</p><a class="indexterm" name="idm140286846589600"></a><p>
                    Constructs a <code class="literal">LineString</code> value from a number
                    of <code class="literal">Point</code> or WKB <code class="literal">Point</code>
                    arguments. If the number of arguments is less than two, the
                    return value is <code class="literal">NULL</code>.
                </p><p style="color:blue;">从多个point或wkb point参数构造linestring值。如果参数数小于2，则返回值为空。</p></li><li class="listitem"><a name="function_multilinestring"></a><p>
                    <a class="link" href="functions.html#function_multilinestring"><code class="literal">MultiLineString(<em class="replaceable"><code>ls</code></em>
                        [, <em class="replaceable"><code>ls</code></em>] ...)</code></a>
                </p><p style="color:blue;">多行线（ls[，ls]…）</p><a class="indexterm" name="idm140286846579216"></a><p>
                    Constructs a <code class="literal">MultiLineString</code> value using
                    <code class="literal">LineString</code> or WKB
                    <code class="literal">LineString</code> arguments.
                </p><p style="color:blue;">使用linestring或wkb linestring参数构造多行字符串值。</p></li><li class="listitem"><a name="function_multipoint"></a><p>
                    <a class="link" href="functions.html#function_multipoint"><code class="literal">MultiPoint(<em class="replaceable"><code>pt</code></em>
                        [, <em class="replaceable"><code>pt2</code></em>] ...)</code></a>
                </p><p style="color:blue;">多点（pt[，pt2]…）</p><a class="indexterm" name="idm140286846569712"></a><p>
                    Constructs a <code class="literal">MultiPoint</code> value using
                    <code class="literal">Point</code> or WKB <code class="literal">Point</code>
                    arguments.
                </p><p style="color:blue;">使用点或wkb点参数构造多点值。</p></li><li class="listitem"><a name="function_multipolygon"></a><p>
                    <a class="link" href="functions.html#function_multipolygon"><code class="literal">MultiPolygon(<em class="replaceable"><code>poly</code></em>
                        [, <em class="replaceable"><code>poly</code></em>] ...)</code></a>
                </p><p style="color:blue;">多多边形（poly[，poly]…）</p><a class="indexterm" name="idm140286846560176"></a><p>
                    Constructs a <code class="literal">MultiPolygon</code> value from a set
                    of <code class="literal">Polygon</code> or WKB
                    <code class="literal">Polygon</code> arguments.
                </p><p style="color:blue;">从一组多边形或wkb多边形参数构造多多边形值。</p></li><li class="listitem"><a name="function_point"></a><p>
                    <a class="link" href="functions.html#function_point"><code class="literal">Point(<em class="replaceable"><code>x</code></em>,
                        <em class="replaceable"><code>y</code></em>)</code></a>
                </p><p style="color:blue;">点（X，Y）</p><a class="indexterm" name="idm140286846550736"></a><p>
                    Constructs a <code class="literal">Point</code> using its coordinates.
                </p><p style="color:blue;">使用点的坐标构造点。</p></li><li class="listitem"><a name="function_polygon"></a><p>
                    <a class="link" href="functions.html#function_polygon"><code class="literal">Polygon(<em class="replaceable"><code>ls</code></em> [,
                        <em class="replaceable"><code>ls</code></em>] ...)</code></a>
                </p><p style="color:blue;">多边形（ls[，ls]…）</p><a class="indexterm" name="idm140286846542768"></a><p>
                    Constructs a <code class="literal">Polygon</code> value from a number of
                    <code class="literal">LineString</code> or WKB
                    <code class="literal">LineString</code> arguments. If any argument does
                    not represent a <code class="literal">LinearRing</code> (that is, not a
                    closed and simple <code class="literal">LineString</code>), the return
                    value is <code class="literal">NULL</code>.
                </p><p style="color:blue;">从多个linestring或wkb linestring参数构造多边形值。如果任何参数不表示linearring（即，不是闭合的简单linestring），则返回值为空。</p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="gis-format-conversion-functions"></a>12.16.6&nbsp;Geometry Format Conversion Functions</h3>

                    </div>

                </div>

            </div>
            <p>
                MySQL supports the functions listed in this section for converting
                geometry values from internal geometry format to WKT or WKB
                format.
            </p><p style="color:blue;">MySQL支持本节中列出的函数，用于将几何图形值从内部几何图形格式转换为WKT或WKB格式。</p><p>
            There are also functions to convert a string from WKT or WKB
            format to internal geometry format. See
            <a class="xref" href="functions.html#gis-wkt-functions" title="12.16.3&nbsp;Functions That Create Geometry Values from WKT Values">Section&nbsp;12.16.3, “Functions That Create Geometry Values from WKT Values”</a>, and
            <a class="xref" href="functions.html#gis-wkb-functions" title="12.16.4&nbsp;Functions That Create Geometry Values from WKB Values">Section&nbsp;12.16.4, “Functions That Create Geometry Values from WKB Values”</a>.
        </p><p style="color:blue;">还有一些函数可以将字符串从wkt或wkb格式转换为内部几何格式。参见第12.16.3节“从wkt值创建几何值的函数”和第12.16.4节“从wkb值创建几何值的函数”。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_asbinary"></a><p>
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsBinary(<em class="replaceable"><code>g</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsWKB(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">asbinary（g），aswkb（g）</p><a class="indexterm" name="idm140286846524832"></a><p>
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsBinary()</code></a>,
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsWKB()</code></a>,
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsBinary()</code></a>, and
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsWKB()</code></a>
                    are synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsBinary()</code></a>.
                </p><p style="color:blue;">st_asbinary（）、st_aswkb（）、asbinary（）和aswkb（）是同义词。有关详细信息，请参见st_asbinary（）的说明。</p><p>
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsBinary()</code></a> and
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsWKB()</code></a>
                    are deprecated as of MySQL 5.7.6 and will be removed in a
                    future MySQL release. Use
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsBinary()</code></a> and
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsWKB()</code></a>
                    instead.
                </p><p style="color:blue;">asbinary（）和aswkb（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。请改用st_asbinary（）和st_aswkb（）。</p></li><li class="listitem"><a name="function_astext"></a><p>
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsText(<em class="replaceable"><code>g</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsWKT(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">astext（g），aswkt（g）</p><a class="indexterm" name="idm140286846504768"></a><p>
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsText()</code></a>,
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsWKT()</code></a>,
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsText()</code></a>, and
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsWKT()</code></a> are
                    synonyms. For more information, see the description of
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsText()</code></a>.
                </p><p style="color:blue;">st_astext（）、st_aswkt（）、astext（）和aswkt（）是同义词。有关详细信息，请参见st_astext（）的说明。</p><p>
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsText()</code></a> and
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsWKT()</code></a> are
                    deprecated as of MySQL 5.7.6 and will be removed in a future
                    MySQL release. Use <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsText()</code></a>
                    and
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsWKT()</code></a>
                    instead.
                </p><p style="color:blue;">AsText（）和Aswkt（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用st_astext（）和st_aswkt（）。</p></li><li class="listitem"><a name="function_st-asbinary"></a><p>
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsBinary(<em class="replaceable"><code>g</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsWKB(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">圣阿斯二进制（G），圣阿斯沃克（G）</p><a class="indexterm" name="idm140286846484672"></a><p>
                    Converts a value in internal geometry format to its WKB
                    representation and returns the binary result.
                </p><p style="color:blue;">将内部几何格式的值转换为其WKB表示形式并返回二进制结果。</p><p>
                    If the argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If the argument is not a
                    syntactically well-formed geometry, an
                    <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a> error
                    occurs.
                </p><p style="color:blue;">如果参数为空，则返回值为空。如果参数不是语法良好的几何体，则会发生er_gis_invalid_data错误。</p><pre data-lang="sql" class="programlisting">SELECT ST_AsBinary(g) FROM geom;
</pre><p>
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsBinary()</code></a>,
                    <a class="link" href="functions.html#function_st-asbinary"><code class="literal">ST_AsWKB()</code></a>,
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsBinary()</code></a>, and
                    <a class="link" href="functions.html#function_asbinary"><code class="literal">AsWKB()</code></a>
                    are synonyms.
                </p><p style="color:blue;">st_asbinary（）、st_aswkb（）、asbinary（）和aswkb（）是同义词。</p></li><li class="listitem"><a name="function_st-astext"></a><p>
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsText(<em class="replaceable"><code>g</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsWKT(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">圣阿斯特文本（g），圣阿斯克文本（g）</p><a class="indexterm" name="idm140286846465952"></a><p>
                    Converts a value in internal geometry format to its WKT
                    representation and returns the string result.
                </p><p style="color:blue;">将内部几何格式的值转换为其WKT表示形式并返回字符串结果。</p><p>
                    If the argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If the argument is not a
                    syntactically well-formed geometry, an
                    <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a> error
                    occurs.
                </p><p style="color:blue;">如果参数为空，则返回值为空。如果参数不是语法良好的几何体，则会发生er_gis_invalid_data错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g = 'LineString(1 1,2 2,3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_GeomFromText(@g));</code></strong>
+--------------------------------+
| ST_AsText(ST_GeomFromText(@g)) |
+--------------------------------+
| LINESTRING(1 1,2 2,3 3)        |
+--------------------------------+
</pre><p>
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsText()</code></a>,
                    <a class="link" href="functions.html#function_st-astext"><code class="literal">ST_AsWKT()</code></a>,
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsText()</code></a>, and
                    <a class="link" href="functions.html#function_astext"><code class="literal">AsWKT()</code></a> are
                    synonyms.
                </p><p style="color:blue;">st_astext（）、st_aswkt（）、astext（）和aswkt（）是同义词。</p><p>
                    As of MySQL 5.7.9, output for <code class="literal">MultiPoint</code>
                    values includes parentheses around each point. For example:
                </p><p style="color:blue;">从mysql 5.7.9开始，多点值的输出在每个点周围都包含括号。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @mp = 'MULTIPOINT(1 1, 2 2, 3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_GeomFromText(@mp));</code></strong>
+---------------------------------+
| ST_AsText(ST_GeomFromText(@mp)) |
+---------------------------------+
| MULTIPOINT((1 1),(2 2),(3 3))   |
+---------------------------------+
</pre><p>
                    Before MySQL 5.7.9, output for the same value does not include
                    parentheses around each point:
                </p><p style="color:blue;">在mysql 5.7.9之前，相同值的输出不包括每个点周围的括号：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @mp = 'MULTIPOINT(1 1, 2 2, 3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_GeomFromText(@mp));</code></strong>
+---------------------------------+
| ST_AsText(ST_GeomFromText(@mp)) |
+---------------------------------+
| MULTIPOINT(1 1,2 2,3 3)         |
+---------------------------------+
</pre></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="gis-property-functions"></a>12.16.7&nbsp;Geometry Property Functions</h3>

                    </div>

                </div>

            </div>
            <div class="toc">
                <dl class="toc"><dt><span class="section"><a href="functions.html#gis-general-property-functions">12.16.7.1 General Geometry Property Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-point-property-functions">12.16.7.2 Point Property Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-linestring-property-functions">12.16.7.3 LineString and MultiLineString Property Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-polygon-property-functions">12.16.7.4 Polygon and MultiPolygon Property Functions</a></span></dt><dt><span class="section"><a href="functions.html#gis-geometrycollection-property-functions">12.16.7.5 GeometryCollection Property Functions</a></span></dt></dl>
            </div>
            <p>
                Each function that belongs to this group takes a geometry value as
                its argument and returns some quantitative or qualitative property
                of the geometry. Some functions restrict their argument type. Such
                functions return <code class="literal">NULL</code> if the argument is of an
                incorrect geometry type. For example, the
                <a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area()</code></a> polygon function returns
                <code class="literal">NULL</code> if the object type is neither
                <code class="literal">Polygon</code> nor <code class="literal">MultiPolygon</code>.
            </p><p style="color:blue;">属于此组的每个函数都以一个几何值作为参数，并返回几何的某些定量或定性属性。有些函数限制其参数类型。如果参数的几何类型不正确，则此类函数返回null。例如，如果对象类型既不是polygon也不是multipolygon，则st_area（）polygon函数返回null。</p>
            <div class="section">

                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="gis-general-property-functions"></a>12.16.7.1&nbsp;General Geometry Property Functions</h4>
                        </div>
                    </div>
                </div>
                <p>
                    The functions listed in this section do not restrict their
                    argument and accept a geometry value of any type.
                </p><p style="color:blue;">本节中列出的函数不限制其参数并接受任何类型的几何体值。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_dimension"></a><p>
                        <a class="link" href="functions.html#function_dimension"><code class="literal">Dimension(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">尺寸（g）</p><a class="indexterm" name="idm140286846431456"></a><p>
                        <a class="link" href="functions.html#function_st-dimension"><code class="literal">ST_Dimension()</code></a> and
                        <a class="link" href="functions.html#function_dimension"><code class="literal">Dimension()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-dimension"><code class="literal">ST_Dimension()</code></a>.
                    </p><p style="color:blue;">st_dimension（）和dimension（）是同义词。有关详细信息，请参见st_dimension（）的说明。</p><p>
                        <a class="link" href="functions.html#function_dimension"><code class="literal">Dimension()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-dimension"><code class="literal">ST_Dimension()</code></a>
                        instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，dimension（）已被弃用，并将在以后的mysql版本中删除。请改用st_dimension（）。</p></li><li class="listitem"><a name="function_envelope"></a><p>
                        <a class="link" href="functions.html#function_envelope"><code class="literal">Envelope(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">信封（G）</p><a class="indexterm" name="idm140286846417936"></a><p>
                        <a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope()</code></a> and
                        <a class="link" href="functions.html#function_envelope"><code class="literal">Envelope()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope()</code></a>.
                    </p><p style="color:blue;">st_envelope（）和envelope（）是同义词。有关详细信息，请参见st_envelope（）的说明。</p><p>
                        <a class="link" href="functions.html#function_envelope"><code class="literal">Envelope()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope()</code></a>
                        instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，envelope（）就不推荐使用了，它将在以后的mysql版本中被删除。请改用st_envelope（）。</p></li><li class="listitem"><a name="function_geometrytype"></a><p>
                        <a class="link" href="functions.html#function_geometrytype"><code class="literal">GeometryType(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">几何类型（G）</p><a class="indexterm" name="idm140286846404416"></a><p>
                        <a class="link" href="functions.html#function_st-geometrytype"><code class="literal">ST_GeometryType()</code></a> and
                        <a class="link" href="functions.html#function_geometrytype"><code class="literal">GeometryType()</code></a> are synonyms.
                        For more information, see the description of
                        <a class="link" href="functions.html#function_st-geometrytype"><code class="literal">ST_GeometryType()</code></a>.
                    </p><p style="color:blue;">st_geometrytype（）和geometrytype（）是同义词。有关详细信息，请参见st_geometrytype（）的说明。</p><p>
                        <a class="link" href="functions.html#function_geometrytype"><code class="literal">GeometryType()</code></a> is deprecated
                        as of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use
                        <a class="link" href="functions.html#function_st-geometrytype"><code class="literal">ST_GeometryType()</code></a> instead.
                    </p><p style="color:blue;">GeometryType（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用st_geometrytype（）。</p></li><li class="listitem"><a name="function_isempty"></a><p>
                        <a class="link" href="functions.html#function_isempty"><code class="literal">IsEmpty(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">空的（g）</p><a class="indexterm" name="idm140286846390864"></a><p>
                        <a class="link" href="functions.html#function_st-isempty"><code class="literal">ST_IsEmpty()</code></a> and
                        <a class="link" href="functions.html#function_isempty"><code class="literal">IsEmpty()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-isempty"><code class="literal">ST_IsEmpty()</code></a>.
                    </p><p style="color:blue;">St_IsEmpty（）和IsEmpty（）是同义词。有关详细信息，请参见st_isempty（）的说明。</p><p>
                        <a class="link" href="functions.html#function_isempty"><code class="literal">IsEmpty()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_st-isempty"><code class="literal">ST_IsEmpty()</code></a> instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，isEmpty（）已被弃用，并将在以后的mysql版本中删除。请改用st_isempty（）。</p></li><li class="listitem"><a name="function_issimple"></a><p>
                        <a class="link" href="functions.html#function_issimple"><code class="literal">IsSimple(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">样本（g）</p><a class="indexterm" name="idm140286846377360"></a><p>
                        <a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple()</code></a> and
                        <a class="link" href="functions.html#function_issimple"><code class="literal">IsSimple()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple()</code></a>.
                    </p><p style="color:blue;">st_issimple（）和issimple（）是同义词。有关详细信息，请参见st_issimple（）的说明。</p><p>
                        <a class="link" href="functions.html#function_issimple"><code class="literal">IsSimple()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple()</code></a>
                        instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，isSample（）已被弃用，并将在以后的mysql版本中删除。请改用st_issimple（）。</p></li><li class="listitem"><a name="function_srid"></a><p>
                        <a class="link" href="functions.html#function_srid"><code class="literal">SRID(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">SRID（克）</p><a class="indexterm" name="idm140286846363840"></a><p>
                        <a class="link" href="functions.html#function_st-srid"><code class="literal">ST_SRID()</code></a> and
                        <a class="link" href="functions.html#function_srid"><code class="literal">SRID()</code></a> are synonyms. For more
                        information, see the description of
                        <a class="link" href="functions.html#function_st-srid"><code class="literal">ST_SRID()</code></a>.
                    </p><p style="color:blue;">st_srid（）和srid（）是同义词。有关详细信息，请参见st_srid（）的说明。</p><p>
                        <a class="link" href="functions.html#function_srid"><code class="literal">SRID()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_st-srid"><code class="literal">ST_SRID()</code></a> instead.
                    </p><p style="color:blue;">srid（）从mysql 5.7.6开始就不推荐使用，它将在以后的mysql版本中被删除。请改用st_srid（）。</p></li><li class="listitem"><a name="function_st-dimension"></a><p>
                        <a class="link" href="functions.html#function_st-dimension"><code class="literal">ST_Dimension(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">ST U尺寸（G）</p><a class="indexterm" name="idm140286846350336"></a><p>
                        Returns the inherent dimension of the geometry value
                        <em class="replaceable"><code>g</code></em>, or <code class="literal">NULL</code> if
                        the argument is <code class="literal">NULL</code>. The dimension can
                        be −1, 0, 1, or 2. The meaning of these values is
                        given in <a class="xref" href="data-types.html#gis-class-geometry" title="11.5.2.2&nbsp;Geometry Class">Section&nbsp;11.5.2.2, “Geometry Class”</a>.
                    </p><p style="color:blue;">返回几何体值g的固有维数，如果参数为空，则返回null。尺寸可以是-1、0、1或2。这些值的含义见第11.5.2.2节“几何类”。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_Dimension(ST_GeomFromText('LineString(1 1,2 2)'));</code></strong>
+------------------------------------------------------+
| ST_Dimension(ST_GeomFromText('LineString(1 1,2 2)')) |
+------------------------------------------------------+
|                                                    1 |
+------------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-dimension"><code class="literal">ST_Dimension()</code></a> and
                        <a class="link" href="functions.html#function_dimension"><code class="literal">Dimension()</code></a> are synonyms.
                    </p><p style="color:blue;">st_dimension（）和dimension（）是同义词。</p></li><li class="listitem"><a name="function_st-envelope"></a><p>
                        <a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">信封（G）</p><a class="indexterm" name="idm140286846335344"></a><p>
                        Returns the minimum bounding rectangle (MBR) for the
                        geometry value <em class="replaceable"><code>g</code></em>, or
                        <code class="literal">NULL</code> if the argument is
                        <code class="literal">NULL</code>. The result is returned as a
                        <code class="literal">Polygon</code> value that is defined by the
                        corner points of the bounding box:
                    </p><p style="color:blue;">返回几何体值g的最小边界矩形（mbr），如果参数为空，则返回空值。结果将作为多边形值返回，该值由边界框的角点定义：</p><pre data-lang="sql" class="programlisting">POLYGON((MINX MINY, MAXX MINY, MAXX MAXY, MINX MAXY, MINX MINY))
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Envelope(ST_GeomFromText('LineString(1 1,2 2)')));</code></strong>
+----------------------------------------------------------------+
| ST_AsText(ST_Envelope(ST_GeomFromText('LineString(1 1,2 2)'))) |
+----------------------------------------------------------------+
| POLYGON((1 1,2 1,2 2,1 2,1 1))                                 |
+----------------------------------------------------------------+
</pre><p>
                        As of MySQL 5.7.6, if the argument is a point or a vertical
                        or horizontal line segment,
                        <a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope()</code></a> returns the
                        point or the line segment as its MBR rather than returning
                        an invalid polygon:
                    </p><p style="color:blue;">从mysql 5.7.6开始，如果参数是一个点、垂直或水平线段，st_envelope（）将该点或线段作为其mbr返回，而不是返回无效的多边形：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Envelope(ST_GeomFromText('LineString(1 1,1 2)')));</code></strong>
+----------------------------------------------------------------+
| ST_AsText(ST_Envelope(ST_GeomFromText('LineString(1 1,1 2)'))) |
+----------------------------------------------------------------+
| LINESTRING(1 1,1 2)                                            |
+----------------------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope()</code></a> and
                        <a class="link" href="functions.html#function_envelope"><code class="literal">Envelope()</code></a> are synonyms.
                    </p><p style="color:blue;">st_envelope（）和envelope（）是同义词。</p></li><li class="listitem"><a name="function_st-geometrytype"></a><p>
                        <a class="link" href="functions.html#function_st-geometrytype"><code class="literal">ST_GeometryType(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">ST U几何类型（G）</p><a class="indexterm" name="idm140286846315616"></a><p>
                        Returns a binary string indicating the name of the geometry
                        type of which the geometry instance
                        <em class="replaceable"><code>g</code></em> is a member, or
                        <code class="literal">NULL</code> if the argument is
                        <code class="literal">NULL</code>. The name corresponds to one of the
                        instantiable <code class="literal">Geometry</code> subclasses.
                    </p><p style="color:blue;">返回一个二进制字符串，指示几何实例g所属的几何类型的名称，如果参数为空，则返回空。该名称对应于一个可实例化的几何体子类。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_GeometryType(ST_GeomFromText('POINT(1 1)'));</code></strong>
+------------------------------------------------+
| ST_GeometryType(ST_GeomFromText('POINT(1 1)')) |
+------------------------------------------------+
| POINT                                          |
+------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-geometrytype"><code class="literal">ST_GeometryType()</code></a> and
                        <a class="link" href="functions.html#function_geometrytype"><code class="literal">GeometryType()</code></a> are synonyms.
                    </p><p style="color:blue;">st_geometrytype（）和geometrytype（）是同义词。</p></li><li class="listitem"><a name="function_st-isempty"></a><p>
                        <a class="link" href="functions.html#function_st-isempty"><code class="literal">ST_IsEmpty(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">圣公会（G）</p><a class="indexterm" name="idm140286846300784"></a><p>
                        This function is a placeholder that returns 0 for any valid
                        geometry value, 1 for any invalid geometry value, or
                        <code class="literal">NULL</code> if the argument is
                        <code class="literal">NULL</code>.
                    </p><p style="color:blue;">此函数是一个占位符，对于任何有效的几何体值，返回0；对于任何无效的几何体值，返回1；如果参数为空，则返回空。</p><p>
                        MySQL does not support GIS <code class="literal">EMPTY</code> values
                        such as <code class="literal">POINT EMPTY</code>.
                    </p><p style="color:blue;">mysql不支持gis空值，例如point empty。</p><p>
                        <a class="link" href="functions.html#function_st-isempty"><code class="literal">ST_IsEmpty()</code></a> and
                        <a class="link" href="functions.html#function_isempty"><code class="literal">IsEmpty()</code></a> are synonyms.
                    </p><p style="color:blue;">St_IsEmpty（）和IsEmpty（）是同义词。</p></li><li class="listitem"><a name="function_st-issimple"></a><p>
                        <a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">圣伊西姆普（G）</p><a class="indexterm" name="idm140286846287600"></a><p>
                        Returns 1 if the geometry value <em class="replaceable"><code>g</code></em>
                        has no anomalous geometric points, such as self-intersection
                        or self-tangency.
                        <a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple()</code></a> returns 0 if
                        the argument is not simple, and <code class="literal">NULL</code> if
                        the argument is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">如果几何值g没有异常几何点（如自相交或自相切），则返回1。如果参数不简单，则返回0；如果参数为空，则返回null。</p><p>
                        The descriptions of the instantiable geometric classes given
                        under <a class="xref" href="data-types.html#opengis-geometry-model" title="11.5.2&nbsp;The OpenGIS Geometry Model">Section&nbsp;11.5.2, “The OpenGIS Geometry Model”</a> includes the
                        specific conditions that cause class instances to be
                        classified as not simple.
                    </p><p style="color:blue;">第11.5.2节“opengis几何模型”中给出的可实例化几何类的描述包括导致类实例被归类为不简单的特定条件。</p><p>
                        <a class="link" href="functions.html#function_st-issimple"><code class="literal">ST_IsSimple()</code></a> and
                        <a class="link" href="functions.html#function_issimple"><code class="literal">IsSimple()</code></a> are synonyms.
                    </p><p style="color:blue;">st_issimple（）和issimple（）是同义词。</p></li><li class="listitem"><a name="function_st-srid"></a><p>
                        <a class="link" href="functions.html#function_st-srid"><code class="literal">ST_SRID(<em class="replaceable"><code>g</code></em>)</code></a>
                    </p><p style="color:blue;">圣斯里德（G）</p><a class="indexterm" name="idm140286846273344"></a><p>
                        Returns an integer indicating the spatial reference system
                        ID associated with the geometry value
                        <em class="replaceable"><code>g</code></em>, or <code class="literal">NULL</code> if
                        the argument is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回一个整数，指示与几何图形值g关联的空间引用系统ID，如果参数为空，则返回空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_SRID(ST_GeomFromText('LineString(1 1,2 2)',101));</code></strong>
+-----------------------------------------------------+
| ST_SRID(ST_GeomFromText('LineString(1 1,2 2)',101)) |
+-----------------------------------------------------+
|                                                 101 |
+-----------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-srid"><code class="literal">ST_SRID()</code></a> and
                        <a class="link" href="functions.html#function_srid"><code class="literal">SRID()</code></a> are synonyms.
                    </p><p style="color:blue;">st_srid（）和srid（）是同义词。</p></li></ul>
                </div>

            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="gis-point-property-functions"></a>12.16.7.2&nbsp;Point Property Functions</h4>

                        </div>

                    </div>

                </div>
                <p>
                    A <code class="literal">Point</code> consists of X and Y coordinates,
                    which may be obtained using the following functions:
                </p><p style="color:blue;">点由x和y坐标组成，可使用以下函数获得：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_st-x"></a><p>
                        <a class="indexterm" name="idm140286846257184"></a>

                        <a class="link" href="functions.html#function_st-x"><code class="literal">ST_X(<em class="replaceable"><code>p</code></em>)</code></a>
                    </p><p style="color:blue;">圣约翰（P）</p><p>
                        Returns the X-coordinate value for the
                        <code class="literal">Point</code> object <em class="replaceable"><code>p</code></em>
                        as a double-precision number.
                    </p><p style="color:blue;">将点对象p的x坐标值作为双精度数字返回。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_X(Point(56.7, 53.34));</code></strong>
+--------------------------+
| ST_X(Point(56.7, 53.34)) |
+--------------------------+
|                     56.7 |
+--------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-x"><code class="literal">ST_X()</code></a> and
                        <a class="link" href="functions.html#function_x"><code class="literal">X()</code></a> are synonyms.
                    </p><p style="color:blue;">st_x（）和x（）是同义词。</p></li><li class="listitem"><a name="function_st-y"></a><p>
                        <a class="indexterm" name="idm140286846243984"></a>

                        <a class="link" href="functions.html#function_st-y"><code class="literal">ST_Y(<em class="replaceable"><code>p</code></em>)</code></a>
                    </p><p style="color:blue;">圣伊（P）</p><p>
                        Returns the Y-coordinate value for the
                        <code class="literal">Point</code> object <em class="replaceable"><code>p</code></em>
                        as a double-precision number.
                    </p><p style="color:blue;">将点对象p的y坐标值作为双精度数字返回。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_Y(Point(56.7, 53.34));</code></strong>
+--------------------------+
| ST_Y(Point(56.7, 53.34)) |
+--------------------------+
|                    53.34 |
+--------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-y"><code class="literal">ST_Y()</code></a> and
                        <a class="link" href="functions.html#function_y"><code class="literal">Y()</code></a> are synonyms.
                    </p><p style="color:blue;">st_y（）和y（）是同义词。</p></li><li class="listitem"><a name="function_x"></a><p>
                        <a class="indexterm" name="idm140286846230880"></a>

                        <a class="link" href="functions.html#function_x"><code class="literal">X(<em class="replaceable"><code>p</code></em>)</code></a>
                    </p><p style="color:blue;">X（P）</p><p>
                        <a class="link" href="functions.html#function_st-x"><code class="literal">ST_X()</code></a> and
                        <a class="link" href="functions.html#function_x"><code class="literal">X()</code></a> are synonyms. For more
                        information, see the description of
                        <a class="link" href="functions.html#function_st-x"><code class="literal">ST_X()</code></a>.
                    </p><p style="color:blue;">st_x（）和x（）是同义词。有关详细信息，请参见st_x（）的说明。</p><p>
                        <a class="link" href="functions.html#function_x"><code class="literal">X()</code></a> is deprecated as of MySQL
                        5.7.6 and will be removed in a future MySQL release. Use
                        <a class="link" href="functions.html#function_st-x"><code class="literal">ST_X()</code></a> instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，x（）就不推荐使用了，它将在以后的mysql版本中被删除。改为使用st_x（）。</p></li><li class="listitem"><a name="function_y"></a><p>
                        <a class="indexterm" name="idm140286846217488"></a>

                        <a class="link" href="functions.html#function_y"><code class="literal">Y(<em class="replaceable"><code>p</code></em>)</code></a>
                    </p><p style="color:blue;">是（P）</p><p>
                        <a class="link" href="functions.html#function_st-y"><code class="literal">ST_Y()</code></a> and
                        <a class="link" href="functions.html#function_y"><code class="literal">Y()</code></a> are synonyms. For more
                        information, see the description of
                        <a class="link" href="functions.html#function_st-y"><code class="literal">ST_Y()</code></a>.
                    </p><p style="color:blue;">st_y（）和y（）是同义词。有关详细信息，请参见st_y（）的说明。</p><p>
                        <a class="link" href="functions.html#function_y"><code class="literal">Y()</code></a> is deprecated as of MySQL
                        5.7.6 and will be removed in a future MySQL release. Use
                        <a class="link" href="functions.html#function_st-y"><code class="literal">ST_Y()</code></a> instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，y（）就不推荐使用了，它将在以后的mysql版本中被删除。改为使用st_y（）。</p></li></ul>
                </div>

            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="gis-linestring-property-functions"></a>12.16.7.3&nbsp;LineString and MultiLineString Property Functions</h4>

                        </div>

                    </div>

                </div>
                <p>
                    A <code class="literal">LineString</code> consists of
                    <code class="literal">Point</code> values. You can extract particular
                    points of a <code class="literal">LineString</code>, count the number of
                    points that it contains, or obtain its length.
                </p><p style="color:blue;">线字符串由点值组成。可以提取线条字符串的特定点，计算其包含的点数或获取其长度。</p><p>
                Some functions in this section also work for
                <code class="literal">MultiLineString</code> values.
            </p><p style="color:blue;">本节中的某些函数也适用于多行线值。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_endpoint"></a><p>
                        <a class="indexterm" name="idm140286846197696"></a>

                        <a class="link" href="functions.html#function_endpoint"><code class="literal">EndPoint(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">端点（ls）</p><p>
                        <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a> and
                        <a class="link" href="functions.html#function_endpoint"><code class="literal">EndPoint()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a>.
                    </p><p style="color:blue;">st_endpoint（）和endpoint（）是同义词。有关详细信息，请参见st_endpoint（）的说明。</p><p>
                        <a class="link" href="functions.html#function_endpoint"><code class="literal">EndPoint()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a>
                        instead.
                    </p><p style="color:blue;">endpoint（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中被删除。请改用st_endpoint（）。</p></li><li class="listitem"><a name="function_glength"></a><p>
                        <a class="indexterm" name="idm140286846184176"></a>

                        <a class="link" href="functions.html#function_glength"><code class="literal">GLength(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">格伦特（LS）</p><p>
                        <a class="link" href="functions.html#function_glength"><code class="literal">GLength()</code></a> is a nonstandard
                        name. It corresponds to the OpenGIS
                        <a class="link" href="functions.html#function_st-length"><code class="literal">ST_Length()</code></a> function. (There
                        is an existing SQL function
                        <a class="link" href="functions.html#function_length"><code class="literal">Length()</code></a> that calculates the
                        length of string values.)
                    </p><p style="color:blue;">glength（）是一个非标准名称。它对应于opengis st_length（）函数。（现有的SQL函数长度（）计算字符串值的长度。）</p><p>
                        <a class="link" href="functions.html#function_glength"><code class="literal">GLength()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_st-length"><code class="literal">ST_Length()</code></a> instead.
                    </p><p style="color:blue;">Glength（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用st_length（）。</p></li><li class="listitem"><a name="function_isclosed"></a><p>
                        <a class="indexterm" name="idm140286846170576"></a>

                        <a class="link" href="functions.html#function_isclosed"><code class="literal">IsClosed(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">已关闭（ls）</p><p>
                        <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a> and
                        <a class="link" href="functions.html#function_isclosed"><code class="literal">IsClosed()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a>.
                    </p><p style="color:blue;">st_isclosed（）和isclosed（）是同义词。有关详细信息，请参见st_isclosed（）的说明。</p><p>
                        <a class="link" href="functions.html#function_isclosed"><code class="literal">IsClosed()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a>
                        instead.
                    </p><p style="color:blue;">isclosed（）从mysql 5.7.6开始就不推荐使用，它将在以后的mysql版本中被删除。请改用st_isclosed（）。</p></li><li class="listitem"><a name="function_numpoints"></a><p>
                        <a class="indexterm" name="idm140286846157056"></a>

                        <a class="link" href="functions.html#function_numpoints"><code class="literal">NumPoints(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">新点（ls）</p><p>
                        <a class="link" href="functions.html#function_st-numpoints"><code class="literal">ST_NumPoints()</code></a> and
                        <a class="link" href="functions.html#function_numpoints"><code class="literal">NumPoints()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-numpoints"><code class="literal">ST_NumPoints()</code></a>.
                    </p><p style="color:blue;">st numpoints（）和numpoints（）是同义词。有关详细信息，请参见st_numpoints（）的说明。</p><p>
                        <a class="link" href="functions.html#function_numpoints"><code class="literal">NumPoints()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-numpoints"><code class="literal">ST_NumPoints()</code></a>
                        instead.
                    </p><p style="color:blue;">numpoints（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。请改用st_numpoints（）。</p></li><li class="listitem"><a name="function_pointn"></a><p>
                        <a class="indexterm" name="idm140286846143536"></a>

                        <a class="link" href="functions.html#function_pointn"><code class="literal">PointN(<em class="replaceable"><code>ls</code></em>,
                            <em class="replaceable"><code>N</code></em>)</code></a>
                    </p><p style="color:blue;">点n（ls，n）</p><p>
                        <a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN()</code></a> and
                        <a class="link" href="functions.html#function_pointn"><code class="literal">PointN()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN()</code></a>.
                    </p><p style="color:blue;">st_pointn（）和pointn（）是同义词。有关详细信息，请参见st_pointn（）的说明。</p><p>
                        <a class="link" href="functions.html#function_pointn"><code class="literal">PointN()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN()</code></a> instead.
                    </p><p style="color:blue;">从MySQL5.7.6开始，pointn（）就被弃用，并将在以后的MySQL版本中删除。请改用st_pointn（）。</p></li><li class="listitem"><a name="function_st-endpoint"></a><p>
                        <a class="indexterm" name="idm140286846129616"></a>

                        <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">ST U端点（ls）</p><p>
                        Returns the <code class="literal">Point</code> that is the endpoint of
                        the <code class="literal">LineString</code> value
                        <em class="replaceable"><code>ls</code></em>. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回作为linestring值ls的端点的点。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls = 'LineString(1 1,2 2,3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_EndPoint(ST_GeomFromText(@ls)));</code></strong>
+----------------------------------------------+
| ST_AsText(ST_EndPoint(ST_GeomFromText(@ls))) |
+----------------------------------------------+
| POINT(3 3)                                   |
+----------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a> and
                        <a class="link" href="functions.html#function_endpoint"><code class="literal">EndPoint()</code></a> are synonyms.
                    </p><p style="color:blue;">st_endpoint（）和endpoint（）是同义词。</p></li><li class="listitem"><a name="function_st-isclosed"></a><p>
                        <a class="indexterm" name="idm140286846113360"></a>

                        <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">已关闭（ls）</p><p>
                        For a <code class="literal">LineString</code> value
                        <em class="replaceable"><code>ls</code></em>,
                        <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a> returns 1 if
                        <em class="replaceable"><code>ls</code></em> is closed (that is, its
                        <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a> and
                        <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a> values are the
                        same). If the argument is <code class="literal">NULL</code> or an
                        empty geometry, the return value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">对于linestring值ls，如果ls是关闭的，则st_is closed（）返回1（即其st_startpoint（）和st_endpoint（）值相同）。如果参数为空或为空几何体，则返回值为空。</p><p>
                        For a <code class="literal">MultiLineString</code> value
                        <em class="replaceable"><code>ls</code></em>,
                        <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a> returns 1 if
                        <em class="replaceable"><code>ls</code></em> is closed (that is, the
                        <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a> and
                        <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint()</code></a> values are the
                        same for each <code class="literal">LineString</code> in
                        <em class="replaceable"><code>ls</code></em>).
                    </p><p style="color:blue;">对于多行字符串值ls，如果ls是关闭的，则st_is closed（）返回1（即，对于ls中的每个行字符串，st_startpoint（）和st_endpoint（）值都是相同的）。</p><p>
                        <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a> returns 0 if
                        <em class="replaceable"><code>ls</code></em> is not closed.
                    </p><p style="color:blue;">如果ls未关闭，则st_is closed（）返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls1 = 'LineString(1 1,2 2,3 3,2 2)';</code></strong>
mysql&gt; <strong class="userinput"><code>SET @ls2 = 'LineString(1 1,2 2,3 3,1 1)';</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT ST_IsClosed(ST_GeomFromText(@ls1));</code></strong>
+------------------------------------+
| ST_IsClosed(ST_GeomFromText(@ls1)) |
+------------------------------------+
|                                  0 |
+------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT ST_IsClosed(ST_GeomFromText(@ls2));</code></strong>
+------------------------------------+
| ST_IsClosed(ST_GeomFromText(@ls2)) |
+------------------------------------+
|                                  1 |
+------------------------------------+

mysql&gt; <strong class="userinput"><code>SET @ls3 = 'MultiLineString((1 1,2 2,3 3),(4 4,5 5))';</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT ST_IsClosed(ST_GeomFromText(@ls3));</code></strong>
+------------------------------------+
| ST_IsClosed(ST_GeomFromText(@ls3)) |
+------------------------------------+
|                                  0 |
+------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-isclosed"><code class="literal">ST_IsClosed()</code></a> and
                        <a class="link" href="functions.html#function_isclosed"><code class="literal">IsClosed()</code></a> are synonyms.
                    </p><p style="color:blue;">st_isclosed（）和isclosed（）是同义词。</p></li><li class="listitem"><a name="function_st-length"></a><p>
                        <a class="indexterm" name="idm140286846081744"></a>

                        <a class="link" href="functions.html#function_st-length"><code class="literal">ST_Length(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">ST U长度（ls）</p><p>
                        Returns a double-precision number indicating the length of
                        the <code class="literal">LineString</code> or
                        <code class="literal">MultiLineString</code> value
                        <em class="replaceable"><code>ls</code></em> in its associated spatial
                        reference system. The length of a
                        <code class="literal">MultiLineString</code> value is equal to the sum
                        of the lengths of its elements. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回一个双精度数字，指示与其关联的空间参照系统中的线条字符串或多线条值ls的长度。多行字符串值的长度等于其元素长度之和。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls = 'LineString(1 1,2 2,3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_Length(ST_GeomFromText(@ls));</code></strong>
+---------------------------------+
| ST_Length(ST_GeomFromText(@ls)) |
+---------------------------------+
|              2.8284271247461903 |
+---------------------------------+

mysql&gt; <strong class="userinput"><code>SET @mls = 'MultiLineString((1 1,2 2,3 3),(4 4,5 5))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_Length(ST_GeomFromText(@mls));</code></strong>
+----------------------------------+
| ST_Length(ST_GeomFromText(@mls)) |
+----------------------------------+
|                4.242640687119286 |
+----------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-length"><code class="literal">ST_Length()</code></a> was added in
                        MySQL 5.7.6. It should be used in preference to
                        <a class="link" href="functions.html#function_glength"><code class="literal">GLength()</code></a>, which has a
                        nonstandard name.
                    </p><p style="color:blue;">在mysql 5.7.6中添加了st_length（）。它应该优先使用glength（），因为它有一个非标准的名称。</p></li><li class="listitem"><a name="function_st-numpoints"></a><p>
                        <a class="indexterm" name="idm140286846062720"></a>

                        <a class="link" href="functions.html#function_st-numpoints"><code class="literal">ST_NumPoints(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">圣努姆皮茨（LS）</p><p>
                        Returns the number of <code class="literal">Point</code> objects in
                        the <code class="literal">LineString</code> value
                        <em class="replaceable"><code>ls</code></em>. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回linestring值ls中的点对象数。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls = 'LineString(1 1,2 2,3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_NumPoints(ST_GeomFromText(@ls));</code></strong>
+------------------------------------+
| ST_NumPoints(ST_GeomFromText(@ls)) |
+------------------------------------+
|                                  3 |
+------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-numpoints"><code class="literal">ST_NumPoints()</code></a> and
                        <a class="link" href="functions.html#function_numpoints"><code class="literal">NumPoints()</code></a> are synonyms.
                    </p><p style="color:blue;">st numpoints（）和numpoints（）是同义词。</p></li><li class="listitem"><a name="function_st-pointn"></a><p>
                        <a class="indexterm" name="idm140286846046528"></a>

                        <a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN(<em class="replaceable"><code>ls</code></em>,
                            <em class="replaceable"><code>N</code></em>)</code></a>
                    </p><p style="color:blue;">圣约点（ls，n）</p><p>
                        Returns the <em class="replaceable"><code>N</code></em>-th
                        <code class="literal">Point</code> in the
                        <code class="literal">Linestring</code> value
                        <em class="replaceable"><code>ls</code></em>. Points are numbered beginning
                        with 1. If any argument is <code class="literal">NULL</code> or the
                        geometry argument is an empty geometry, the return value is
                        <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回linestring值ls中的第n个点。点以1开头编号。如果任何参数为空或几何参数为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls = 'LineString(1 1,2 2,3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_PointN(ST_GeomFromText(@ls),2));</code></strong>
+----------------------------------------------+
| ST_AsText(ST_PointN(ST_GeomFromText(@ls),2)) |
+----------------------------------------------+
| POINT(2 2)                                   |
+----------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN()</code></a> and
                        <a class="link" href="functions.html#function_pointn"><code class="literal">PointN()</code></a> are synonyms.
                    </p><p style="color:blue;">st_pointn（）和pointn（）是同义词。</p></li><li class="listitem"><a name="function_st-startpoint"></a><p>
                        <a class="indexterm" name="idm140286846029392"></a>

                        <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">起点（LS）</p><p>
                        Returns the <code class="literal">Point</code> that is the start point
                        of the <code class="literal">LineString</code> value
                        <em class="replaceable"><code>ls</code></em>. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回LineString值ls的起点。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls = 'LineString(1 1,2 2,3 3)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_StartPoint(ST_GeomFromText(@ls)));</code></strong>
+------------------------------------------------+
| ST_AsText(ST_StartPoint(ST_GeomFromText(@ls))) |
+------------------------------------------------+
| POINT(1 1)                                     |
+------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a> and
                        <a class="link" href="functions.html#function_startpoint"><code class="literal">StartPoint()</code></a> are synonyms.
                    </p><p style="color:blue;">st_startpoint（）和startpoint（）是同义词。</p></li><li class="listitem"><a name="function_startpoint"></a><p>
                        <a class="indexterm" name="idm140286846013120"></a>

                        <a class="link" href="functions.html#function_startpoint"><code class="literal">StartPoint(<em class="replaceable"><code>ls</code></em>)</code></a>
                    </p><p style="color:blue;">起点（LS）</p><p>
                        <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a> and
                        <a class="link" href="functions.html#function_startpoint"><code class="literal">StartPoint()</code></a> are synonyms.
                        For more information, see the description of
                        <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a>.
                    </p><p style="color:blue;">st_startpoint（）和startpoint（）是同义词。有关详细信息，请参见st_startpoint（）的说明。</p><p>
                        <a class="link" href="functions.html#function_startpoint"><code class="literal">StartPoint()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint()</code></a>
                        instead.
                    </p><p style="color:blue;">StartPoint（）从MySQL5.7.6开始就不推荐使用，将在以后的MySQL版本中删除。请改用st_startpoint（）。</p></li></ul>
                </div>

            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="gis-polygon-property-functions"></a>12.16.7.4&nbsp;Polygon and MultiPolygon Property Functions</h4>

                        </div>

                    </div>

                </div>
                <p>
                    Functions in this section return properties of
                    <code class="literal">Polygon</code> or <code class="literal">MultiPolygon</code>
                    values.
                </p><p style="color:blue;">此部分中的函数返回多边形或多多边形值的属性。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_area"></a><p>
                        <a class="indexterm" name="idm140286845995136"></a>

                        <a class="link" href="functions.html#function_area"><code class="literal">Area({<em class="replaceable"><code>poly</code></em>|<em class="replaceable"><code>mpoly</code></em>})</code></a>
                    </p><p style="color:blue;">面积（{poly mpoly}）</p><p>
                        <a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area()</code></a> and
                        <a class="link" href="functions.html#function_area"><code class="literal">Area()</code></a> are synonyms. For more
                        information, see the description of
                        <a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area()</code></a>.
                    </p><p style="color:blue;">st_area（）和area（）是同义词。有关详细信息，请参见st_area（）的说明。</p><p>
                        <a class="link" href="functions.html#function_area"><code class="literal">Area()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area()</code></a> instead.
                    </p><p style="color:blue;">从MySQL5.7.6开始，area（）已被弃用，并将在以后的MySQL版本中删除。改为使用st_area（）。</p></li><li class="listitem"><a name="function_centroid"></a><p>
                        <a class="indexterm" name="idm140286845981136"></a>

                        <a class="link" href="functions.html#function_centroid"><code class="literal">Centroid({<em class="replaceable"><code>poly</code></em>|<em class="replaceable"><code>mpoly</code></em>})</code></a>
                    </p><p style="color:blue;">质心（{poly mpoliy}）</p><p>
                        <a class="link" href="functions.html#function_st-centroid"><code class="literal">ST_Centroid()</code></a> and
                        <a class="link" href="functions.html#function_centroid"><code class="literal">Centroid()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-centroid"><code class="literal">ST_Centroid()</code></a>.
                    </p><p style="color:blue;">st_centroid（）和centroid（）是同义词。有关详细信息，请参见st_centroid（）的说明。</p><p>
                        <a class="link" href="functions.html#function_centroid"><code class="literal">Centroid()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-centroid"><code class="literal">ST_Centroid()</code></a>
                        instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，centroid（）已被弃用，并将在以后的mysql版本中删除。请改用st_centroid（）。</p></li><li class="listitem"><a name="function_exteriorring"></a><p>
                        <a class="indexterm" name="idm140286845967168"></a>

                        <a class="link" href="functions.html#function_exteriorring"><code class="literal">ExteriorRing(<em class="replaceable"><code>poly</code></em>)</code></a>
                    </p><p style="color:blue;">外部装饰（多边形）</p><p>
                        <a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing()</code></a> and
                        <a class="link" href="functions.html#function_exteriorring"><code class="literal">ExteriorRing()</code></a> are synonyms.
                        For more information, see the description of
                        <a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing()</code></a>.
                    </p><p style="color:blue;">st_exteriorring（）和exteriorring（）是同义词。有关详细信息，请参见st_exteriorring（）的说明。</p><p>
                        <a class="link" href="functions.html#function_exteriorring"><code class="literal">ExteriorRing()</code></a> is deprecated
                        as of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use
                        <a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing()</code></a> instead.
                    </p><p style="color:blue;">Exteriorring（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。改为使用st_exteriorring（）。</p></li><li class="listitem"><a name="function_interiorringn"></a><p>
                        <a class="indexterm" name="idm140286845953520"></a>

                        <a class="link" href="functions.html#function_interiorringn"><code class="literal">InteriorRingN(<em class="replaceable"><code>poly</code></em>,
                            <em class="replaceable"><code>N</code></em>)</code></a>
                    </p><p style="color:blue;">内饰N（Poly，N）</p><p>
                        <a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN()</code></a> and
                        <a class="link" href="functions.html#function_interiorringn"><code class="literal">InteriorRingN()</code></a> are synonyms.
                        For more information, see the description of
                        <a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN()</code></a>.
                    </p><p style="color:blue;">st_interiorringn（）和interiorringn（）是同义词。有关详细信息，请参见st_interiorringn（）的说明。</p><p>
                        <a class="link" href="functions.html#function_interiorringn"><code class="literal">InteriorRingN()</code></a> is deprecated
                        as of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use
                        <a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN()</code></a> instead.
                    </p><p style="color:blue;">InteriorRingn（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。改为使用st_interiorringn（）。</p></li><li class="listitem"><a name="function_numinteriorrings"></a><p>
                        <a class="indexterm" name="idm140286845939360"></a>

                        <a class="link" href="functions.html#function_numinteriorrings"><code class="literal">NumInteriorRings(<em class="replaceable"><code>poly</code></em>)</code></a>
                    </p><p style="color:blue;">磨砂（多边形）</p><p>
                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRings()</code></a> and
                        <a class="link" href="functions.html#function_numinteriorrings"><code class="literal">NumInteriorRings()</code></a> are
                        synonyms. For more information, see the description of
                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRings()</code></a>.
                    </p><p style="color:blue;">St_Numinteriorings（）和Numinteriorings（）是同义词。有关详细信息，请参见st_numinteriorings（）的说明。</p><p>
                        <a class="link" href="functions.html#function_numinteriorrings"><code class="literal">NumInteriorRings()</code></a> is
                        deprecated as of MySQL 5.7.6 and will be removed in a future
                        MySQL release. Use
                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRings()</code></a>
                        instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，numteriorrings（）就被弃用，并将在以后的mysql版本中删除。请改用st_numinteriorrings（）。</p></li><li class="listitem"><a name="function_st-area"></a><p>
                        <a class="indexterm" name="idm140286845925648"></a>

                        <a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area({<em class="replaceable"><code>poly</code></em>|<em class="replaceable"><code>mpoly</code></em>})</code></a>
                    </p><p style="color:blue;">圣约翰地区</p><p>
                        Returns a double-precision number indicating the area of the
                        <code class="literal">Polygon</code> or
                        <code class="literal">MultiPolygon</code> argument, as measured in its
                        spatial reference system. For arguments of dimension 0 or 1,
                        the result is 0. If the argument is an empty geometry the
                        return value is 0. If the argument is
                        <code class="literal">NULL</code> the return value is
                        <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回一个双精度数字，指示在其空间参考系中测量的多边形或多多边形参数的面积。对于维度0或1的参数，结果为0。如果参数是空几何体，则返回值为0。如果参数为空，则返回值为空。</p><p>
                        The result is the sum of the area values of all components
                        for a geometry collection. If a geometry collection is
                        empty, its area is returned as 0.
                    </p><p style="color:blue;">结果是几何图形集合所有组件的面积值之和。如果几何图形集合为空，则其区域返回为0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @poly =</code></strong>
       <strong class="userinput"><code>'Polygon((0 0,0 3,3 0,0 0),(1 1,1 2,2 1,1 1))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_Area(ST_GeomFromText(@poly));</code></strong>
+---------------------------------+
| ST_Area(ST_GeomFromText(@poly)) |
+---------------------------------+
|                               4 |
+---------------------------------+

mysql&gt; <strong class="userinput"><code>SET @mpoly =</code></strong>
       <strong class="userinput"><code>'MultiPolygon(((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1)))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_Area(ST_GeomFromText(@mpoly));</code></strong>
+----------------------------------+
| ST_Area(ST_GeomFromText(@mpoly)) |
+----------------------------------+
|                                8 |
+----------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-area"><code class="literal">ST_Area()</code></a> and
                        <a class="link" href="functions.html#function_area"><code class="literal">Area()</code></a> are synonyms.
                    </p><p style="color:blue;">st_area（）和area（）是同义词。</p></li><li class="listitem"><a name="function_st-centroid"></a><p>
                        <a class="indexterm" name="idm140286845904816"></a>

                        <a class="link" href="functions.html#function_st-centroid"><code class="literal">ST_Centroid({<em class="replaceable"><code>poly</code></em>|<em class="replaceable"><code>mpoly</code></em>})</code></a>
                    </p><p style="color:blue;">st_u质心（{poly mpoly}）</p><p>
                        Returns the mathematical centroid for the
                        <code class="literal">Polygon</code> or
                        <code class="literal">MultiPolygon</code> argument as a
                        <code class="literal">Point</code>. The result is not guaranteed to be
                        on the <code class="literal">MultiPolygon</code>. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回作为点的多边形或多多边形参数的数学质心。结果不能保证是多极化的。如果参数为空或为空几何体，则返回值为空。</p><p>
                        This function processes geometry collections by computing
                        the centroid point for components of highest dimension in
                        the collection. Such components are extracted and made into
                        a single <code class="literal">MultiPolygon</code>,
                        <code class="literal">MultiLineString</code>, or
                        <code class="literal">MultiPoint</code> for centroid computation. If
                        the argument is an empty geometry collection, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">此函数通过计算集合中最高维度组件的质心点来处理几何集合。这些组件被提取并制成单个多多边形、多行线或多点以进行质心计算。如果参数是空几何图形集合，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @poly =</code></strong>
       <strong class="userinput"><code>ST_GeomFromText('POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7,5 5))');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_GeometryType(@poly),ST_AsText(ST_Centroid(@poly));</code></strong>
+------------------------+--------------------------------------------+
| ST_GeometryType(@poly) | ST_AsText(ST_Centroid(@poly))              |
+------------------------+--------------------------------------------+
| POLYGON                | POINT(4.958333333333333 4.958333333333333) |
+------------------------+--------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-centroid"><code class="literal">ST_Centroid()</code></a> and
                        <a class="link" href="functions.html#function_centroid"><code class="literal">Centroid()</code></a> are synonyms.
                    </p><p style="color:blue;">st_centroid（）和centroid（）是同义词。</p></li><li class="listitem"><a name="function_st-exteriorring"></a><p>
                        <a class="indexterm" name="idm140286845881952"></a>

                        <a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing(<em class="replaceable"><code>poly</code></em>)</code></a>
                    </p><p style="color:blue;">ST U外部装饰（多边形）</p><p>
                        Returns the exterior ring of the <code class="literal">Polygon</code>
                        value <em class="replaceable"><code>poly</code></em> as a
                        <code class="literal">LineString</code>. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">将多边形值多边形的外环作为线字符串返回。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @poly =</code></strong>
       <strong class="userinput"><code>'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_ExteriorRing(ST_GeomFromText(@poly)));</code></strong>
+----------------------------------------------------+
| ST_AsText(ST_ExteriorRing(ST_GeomFromText(@poly))) |
+----------------------------------------------------+
| LINESTRING(0 0,0 3,3 3,3 0,0 0)                    |
+----------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing()</code></a> and
                        <a class="link" href="functions.html#function_exteriorring"><code class="literal">ExteriorRing()</code></a> are synonyms.
                    </p><p style="color:blue;">st_exteriorring（）和exteriorring（）是同义词。</p></li><li class="listitem"><a name="function_st-interiorringn"></a><p>
                        <a class="indexterm" name="idm140286845864736"></a>

                        <a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN(<em class="replaceable"><code>poly</code></em>,
                            <em class="replaceable"><code>N</code></em>)</code></a>
                    </p><p style="color:blue;">ST_U内饰（Poly，N）</p><p>
                        Returns the <em class="replaceable"><code>N</code></em>-th interior ring
                        for the <code class="literal">Polygon</code> value
                        <em class="replaceable"><code>poly</code></em> as a
                        <code class="literal">LineString</code>. Rings are numbered beginning
                        with 1. If the argument is <code class="literal">NULL</code> or an
                        empty geometry, the return value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">将多边形值poly的第n个内环作为线字符串返回。环的编号从1开始。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @poly =</code></strong>
       <strong class="userinput"><code>'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_InteriorRingN(ST_GeomFromText(@poly),1));</code></strong>
+-------------------------------------------------------+
| ST_AsText(ST_InteriorRingN(ST_GeomFromText(@poly),1)) |
+-------------------------------------------------------+
| LINESTRING(1 1,1 2,2 2,2 1,1 1)                       |
+-------------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN()</code></a> and
                        <a class="link" href="functions.html#function_interiorringn"><code class="literal">InteriorRingN()</code></a> are synonyms.
                    </p><p style="color:blue;">st_interiorringn（）和interiorringn（）是同义词。</p></li><li class="listitem"><a name="function_st-numinteriorrings"></a><p>
                        <a class="indexterm" name="idm140286845846672"></a>

                        <a class="indexterm" name="idm140286845845600"></a>

                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRing(<em class="replaceable"><code>poly</code></em>)</code></a>,
                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRings(<em class="replaceable"><code>poly</code></em>)</code></a>
                    </p><p style="color:blue;">St_numinterioring（poly）、St_numinteriorings（poly）</p><p>
                        Returns the number of interior rings in the
                        <code class="literal">Polygon</code> value
                        <em class="replaceable"><code>poly</code></em>. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回多边形值多边形中的内环数。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @poly =</code></strong>
       <strong class="userinput"><code>'Polygon((0 0,0 3,3 3,3 0,0 0),(1 1,1 2,2 2,2 1,1 1))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_NumInteriorRings(ST_GeomFromText(@poly));</code></strong>
+---------------------------------------------+
| ST_NumInteriorRings(ST_GeomFromText(@poly)) |
+---------------------------------------------+
|                                           1 |
+---------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRing()</code></a>,
                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRings()</code></a>, and
                        <a class="link" href="functions.html#function_numinteriorrings"><code class="literal">NumInteriorRings()</code></a> are
                        synonyms.
                        <a class="link" href="functions.html#function_st-numinteriorrings"><code class="literal">ST_NumInteriorRing()</code></a>
                        was added in MySQL 5.7.8.
                    </p><p style="color:blue;">St_Numinteriorring（）、St_Numinteriorrings（）和Numinteriorrings（）是同义词。在mysql 5.7.8中添加了st_numinteroring（）。</p></li></ul>
                </div>

            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="gis-geometrycollection-property-functions"></a>12.16.7.5&nbsp;GeometryCollection Property Functions</h4>

                        </div>

                    </div>

                </div>
                <p>
                    These functions return properties of
                    <code class="literal">GeometryCollection</code> values.
                </p><p style="color:blue;">这些函数返回geometrycollection值的属性。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_geometryn"></a><p>
                        <a class="indexterm" name="idm140286845821328"></a>

                        <a class="link" href="functions.html#function_geometryn"><code class="literal">GeometryN(<em class="replaceable"><code>gc</code></em>,
                            <em class="replaceable"><code>N</code></em>)</code></a>
                    </p><p style="color:blue;">土工素（GC，N）</p><p>
                        <a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN()</code></a> and
                        <a class="link" href="functions.html#function_geometryn"><code class="literal">GeometryN()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN()</code></a>.
                    </p><p style="color:blue;">st_geometryn（）和geometryn（）是同义词。有关详细信息，请参见st_geometryn（）的说明。</p><p>
                        <a class="link" href="functions.html#function_geometryn"><code class="literal">GeometryN()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN()</code></a>
                        instead.
                    </p><p style="color:blue;">从MySQL5.7.6开始，geometryn（）已被弃用，并将在以后的MySQL版本中删除。请改用st_geometryn（）。</p></li><li class="listitem"><a name="function_numgeometries"></a><p>
                        <a class="indexterm" name="idm140286845807456"></a>

                        <a class="link" href="functions.html#function_numgeometries"><code class="literal">NumGeometries(<em class="replaceable"><code>gc</code></em>)</code></a>
                    </p><p style="color:blue;">核几何（GC）</p><p>
                        <a class="link" href="functions.html#function_st-numgeometries"><code class="literal">ST_NumGeometries()</code></a> and
                        <a class="link" href="functions.html#function_numgeometries"><code class="literal">NumGeometries()</code></a> are synonyms.
                        For more information, see the description of
                        <a class="link" href="functions.html#function_st-numgeometries"><code class="literal">ST_NumGeometries()</code></a>.
                    </p><p style="color:blue;">st_numgeometries（）和numgeometries（）是同义词。有关详细信息，请参见st_numgeometries（）的说明。</p><p>
                        <a class="link" href="functions.html#function_numgeometries"><code class="literal">NumGeometries()</code></a> is deprecated
                        as of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use
                        <a class="link" href="functions.html#function_st-numgeometries"><code class="literal">ST_NumGeometries()</code></a> instead.
                    </p><p style="color:blue;">numgeometries（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。请改用st_numgeometries（）。</p></li><li class="listitem"><a name="function_st-geometryn"></a><p>
                        <a class="indexterm" name="idm140286845793824"></a>

                        <a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN(<em class="replaceable"><code>gc</code></em>,
                            <em class="replaceable"><code>N</code></em>)</code></a>
                    </p><p style="color:blue;">圣地美（GC，N）</p><p>
                        Returns the <em class="replaceable"><code>N</code></em>-th geometry in the
                        <code class="literal">GeometryCollection</code> value
                        <em class="replaceable"><code>gc</code></em>. Geometries are numbered
                        beginning with 1. If any argument is <code class="literal">NULL</code>
                        or the geometry argument is an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回geometrycollection值gc中的第n个几何图形。几何图形以1开头编号。如果任何参数为空或几何参数为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @gc = 'GeometryCollection(Point(1 1),LineString(2 2, 3 3))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_GeometryN(ST_GeomFromText(@gc),1));</code></strong>
+-------------------------------------------------+
| ST_AsText(ST_GeometryN(ST_GeomFromText(@gc),1)) |
+-------------------------------------------------+
| POINT(1 1)                                      |
+-------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN()</code></a> and
                        <a class="link" href="functions.html#function_geometryn"><code class="literal">GeometryN()</code></a> are synonyms.
                    </p><p style="color:blue;">st_geometryn（）和geometryn（）是同义词。</p></li><li class="listitem"><a name="function_st-numgeometries"></a><p>
                        <a class="indexterm" name="idm140286845777232"></a>

                        <a class="link" href="functions.html#function_st-numgeometries"><code class="literal">ST_NumGeometries(<em class="replaceable"><code>gc</code></em>)</code></a>
                    </p><p style="color:blue;">圣母核计量（GC）</p><p>
                        Returns the number of geometries in the
                        <code class="literal">GeometryCollection</code> value
                        <em class="replaceable"><code>gc</code></em>. If the argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回geometryCollection值gc中的几何图形数。如果参数为空或为空几何体，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @gc = 'GeometryCollection(Point(1 1),LineString(2 2, 3 3))';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_NumGeometries(ST_GeomFromText(@gc));</code></strong>
+----------------------------------------+
| ST_NumGeometries(ST_GeomFromText(@gc)) |
+----------------------------------------+
|                                      2 |
+----------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-numgeometries"><code class="literal">ST_NumGeometries()</code></a> and
                        <a class="link" href="functions.html#function_numgeometries"><code class="literal">NumGeometries()</code></a> are synonyms.
                    </p><p style="color:blue;">st_numgeometries（）和numgeometries（）是同义词。</p></li></ul>
                </div>

            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="spatial-operator-functions"></a>12.16.8&nbsp;Spatial Operator Functions</h3>

                    </div>

                </div>

            </div>
            <p>
                OpenGIS proposes a number of functions that can produce
                geometries. They are designed to implement spatial operators.
            </p><p style="color:blue;">opengis提出了许多可以生成几何图形的函数。它们是为实现空间运算符而设计的。</p><p>
            These functions support all argument type combinations except
            those that are inapplicable according to the
            <a class="ulink" href="http://www.opengeospatial.org" target="_top">Open Geospatial
                Consortium</a> specification.
        </p><p style="color:blue;">这些函数支持所有参数类型组合，但根据开放地理空间联盟规范不适用的参数类型组合除外。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_buffer"></a><p>
                    <a class="indexterm" name="idm140286845758016"></a>

                    <a class="link" href="functions.html#function_buffer"><code class="literal">Buffer(<em class="replaceable"><code>g</code></em>,
                        <em class="replaceable"><code>d</code></em>[,
                        <em class="replaceable"><code>strategy1</code></em>[,
                        <em class="replaceable"><code>strategy2</code></em>[,
                        <em class="replaceable"><code>strategy3</code></em>]]])</code></a>
                </p><p style="color:blue;">缓冲区（g，d[，strategy1[，strategy2[，strategy3]]）</p><p>
                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> and
                    <a class="link" href="functions.html#function_buffer"><code class="literal">Buffer()</code></a> are synonyms. For more
                    information, see the description of
                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a>.
                </p><p style="color:blue;">st_buffer（）和buffer（）是同义词。有关详细信息，请参见st_buffer（）的说明。</p><p>
                    <a class="link" href="functions.html#function_buffer"><code class="literal">Buffer()</code></a> is deprecated as of
                    MySQL 5.7.6 and will be removed in a future MySQL release. Use
                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> instead.
                </p><p style="color:blue;">buffer（）从mysql 5.7.6开始就不推荐使用，它将在以后的mysql版本中被删除。请改用st_buffer（）。</p></li><li class="listitem"><a name="function_convexhull"></a><p>
                    <a class="indexterm" name="idm140286845742720"></a>

                    <a class="link" href="functions.html#function_convexhull"><code class="literal">ConvexHull(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">凸耳（G）</p><p>
                    <a class="link" href="functions.html#function_st-convexhull"><code class="literal">ST_ConvexHull()</code></a> and
                    <a class="link" href="functions.html#function_convexhull"><code class="literal">ConvexHull()</code></a> are synonyms. For
                    more information, see the description of
                    <a class="link" href="functions.html#function_st-convexhull"><code class="literal">ST_ConvexHull()</code></a>.
                </p><p style="color:blue;">st_converxhull（）和converxhull（）是同义词。有关详细信息，请参见st_converxhull（）的说明。</p><p>
                    <a class="link" href="functions.html#function_convexhull"><code class="literal">ConvexHull()</code></a> is deprecated and
                    will be removed in a future MySQL release. Use
                    <a class="link" href="functions.html#function_st-convexhull"><code class="literal">ST_ConvexHull()</code></a> instead.
                </p><p style="color:blue;">ConverxHull（）已弃用，将在以后的MySQL版本中删除。请改用st_converxhull（）。</p></li><li class="listitem"><a name="function_st-buffer"></a><p>
                    <a class="indexterm" name="idm140286845729248"></a>

                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer(<em class="replaceable"><code>g</code></em>,
                        <em class="replaceable"><code>d</code></em>[,
                        <em class="replaceable"><code>strategy1</code></em>[,
                        <em class="replaceable"><code>strategy2</code></em>[,
                        <em class="replaceable"><code>strategy3</code></em>]]])</code></a>
                </p><p style="color:blue;">圣约缓冲区（G，D[，战略1[，战略2[，战略3]]）</p><p>
                    Returns a geometry that represents all points whose distance
                    from the geometry value <em class="replaceable"><code>g</code></em> is less
                    than or equal to a distance of <em class="replaceable"><code>d</code></em>,
                    or <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. The SRID of the geometry argument
                    must be 0 because <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a>
                    supports only the Cartesian coordinate system. If any geometry
                    argument is not a syntactically well-formed geometry, an
                    <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a> error
                    occurs.
                </p><p style="color:blue;">返回一个几何体，该几何体表示与几何体值g的距离小于或等于距离d的所有点，如果任何参数为空，则返回空值。几何参数的srid必须为0，因为st_buffer（）仅支持笛卡尔坐标系。如果任何几何参数不是语法良好的几何，则会发生er_gis_invalid_data错误。</p><p>
                    If the geometry argument is empty,
                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> returns an empty
                    geometry.
                </p><p style="color:blue;">如果geometry参数为空，则st_buffer（）返回空的几何体。</p><p>
                    If the distance is 0,
                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> returns the
                    geometry argument unchanged:
                </p><p style="color:blue;">如果距离为0，则st_buffer（）将返回未更改的几何参数：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @pt = ST_GeomFromText('POINT(0 0)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Buffer(@pt, 0));</code></strong>
+------------------------------+
| ST_AsText(ST_Buffer(@pt, 0)) |
+------------------------------+
| POINT(0 0)                   |
+------------------------------+
</pre><p>
                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> supports negative
                    distances for <code class="literal">Polygon</code> and
                    <code class="literal">MultiPolygon</code> values, and for geometry
                    collections containing <code class="literal">Polygon</code> or
                    <code class="literal">MultiPolygon</code> values. The result may be an
                    empty geometry. An
                    <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                    occurs for <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> with a
                    negative distance for <code class="literal">Point</code>,
                    <code class="literal">MultiPoint</code>, <code class="literal">LineString</code>,
                    and <code class="literal">MultiLineString</code> values, and for
                    geometry collections not containing any
                    <code class="literal">Polygon</code> or <code class="literal">MultiPolygon</code>
                    values.
                </p><p style="color:blue;">st_buffer（）支持多边形和多多边形值以及包含多边形或多多边形值的几何体集合的负距离。结果可能是一个空几何体。对于st_buffer（），如果点、多点、线串和多线串值的距离为负，并且对于不包含任何多边形或多多边形值的几何图形集合，则会发生er_error_arguments错误。</p><p>
                    As of MySQL 5.7.7, <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a>
                    permits up to three optional strategy arguments following the
                    distance argument. Strategies influence buffer computation.
                    These arguments are byte string values produced by the
                    <a class="link" href="functions.html#function_st-buffer-strategy"><code class="literal">ST_Buffer_Strategy()</code></a> function,
                    to be used for point, join, and end strategies:
                </p><p style="color:blue;">从mysql 5.7.7开始，st_buffer（）最多允许在distance参数之后使用三个可选策略参数。策略影响缓冲区计算。这些参数是由st_buffer_strategy（）函数生成的字节字符串值，用于点、连接和结束策略：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            Point strategies apply to <code class="literal">Point</code> and
                            <code class="literal">MultiPoint</code> geometries. If no point
                            strategy is specified, the default is
                            <a class="link" href="functions.html#function_st-buffer-strategy"><code class="literal">ST_Buffer_Strategy('point_circle',
                                32)</code></a>.
                        </p><p style="color:blue;">点策略适用于点和多点几何图形。如果未指定点策略，则默认为st_buffer_strategy（'point_circle'，32）。</p></li><li class="listitem"><p>
                            Join strategies apply to <code class="literal">LineString</code>,
                            <code class="literal">MultiLineString</code>,
                            <code class="literal">Polygon</code>, and
                            <code class="literal">MultiPolygon</code> geometries. If no join
                            strategy is specified, the default is
                            <a class="link" href="functions.html#function_st-buffer-strategy"><code class="literal">ST_Buffer_Strategy('join_round',
                                32)</code></a>.
                        </p><p style="color:blue;">连接策略适用于线条、多线条、多边形和多多边形几何图形。如果未指定联接策略，则默认为st_buffer_strategy（'join_round'，32）。</p></li><li class="listitem"><p>
                            End strategies apply to <code class="literal">LineString</code> and
                            <code class="literal">MultiLineString</code> geometries. If no end
                            strategy is specified, the default is
                            <a class="link" href="functions.html#function_st-buffer-strategy"><code class="literal">ST_Buffer_Strategy('end_round',
                                32)</code></a>.
                        </p><p style="color:blue;">结束策略适用于线条和多线条几何图形。如果未指定结束策略，则默认为st_buffer_strategy（'end_round'，32）。</p></li></ul>
                    </div>
                    <p>
                        Up to one strategy of each type may be specified, and they may
                        be given in any order. If multiple strategies of a given type
                        are specified, an
                        <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                        occurs.
                    </p><p style="color:blue;">每种类型最多可以指定一种策略，并且可以按任何顺序给出它们。如果指定了给定类型的多个策略，则会发生er_error_arguments错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @pt = ST_GeomFromText('POINT(0 0)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @pt_strategy = ST_Buffer_Strategy('point_square');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Buffer(@pt, 2, @pt_strategy));</code></strong>
+--------------------------------------------+
| ST_AsText(ST_Buffer(@pt, 2, @pt_strategy)) |
+--------------------------------------------+
| POLYGON((-2 -2,2 -2,2 2,-2 2,-2 -2))       |
+--------------------------------------------+
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls = ST_GeomFromText('LINESTRING(0 0,0 5,5 5)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @end_strategy = ST_Buffer_Strategy('end_flat');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @join_strategy = ST_Buffer_Strategy('join_round', 10);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Buffer(@ls, 5, @end_strategy, @join_strategy))</code></strong>
+---------------------------------------------------------------+
| ST_AsText(ST_Buffer(@ls, 5, @end_strategy, @join_strategy))   |
+---------------------------------------------------------------+
| POLYGON((5 5,5 10,0 10,-3.5355339059327373 8.535533905932738, |
| -5 5,-5 0,0 0,5 0,5 5))                                       |
+---------------------------------------------------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> and
                        <a class="link" href="functions.html#function_buffer"><code class="literal">Buffer()</code></a> are synonyms.
                    </p><p style="color:blue;">st_buffer（）和buffer（）是同义词。</p></li><li class="listitem"><a name="function_st-buffer-strategy"></a><p>
                    <a class="indexterm" name="idm140286845667712"></a>

                    <a class="link" href="functions.html#function_st-buffer-strategy"><code class="literal">ST_Buffer_Strategy(<em class="replaceable"><code>strategy</code></em>[,
                        <em class="replaceable"><code>points_per_circle</code></em>])</code></a>
                </p><p style="color:blue;">St_Buffer_策略（策略[，每_圆点数]）</p><p>
                    This function returns a strategy byte string for use with
                    <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a> to influence buffer
                    computation. If any argument is <code class="literal">NULL</code>, the
                    return value is <code class="literal">NULL</code>. If any argument is
                    invalid, an <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a>
                    error occurs.
                </p><p style="color:blue;">此函数返回一个策略字节字符串，用于st_buffer（）以影响缓冲区计算。如果任何参数为空，则返回值为空。如果任何参数无效，则会发生er_error_arguments错误。</p><p>
                    Information about strategies is available at
                    <a class="ulink" href="http://www.boost.org" target="_top">Boost.org</a>.
                </p><p style="color:blue;">有关战略的信息可以在boost.org上找到。</p><p>
                    The first argument must be a string indicating a strategy
                    option:
                </p><p style="color:blue;">第一个参数必须是表示策略选项的字符串：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            For point strategies, permitted values are
                            <code class="literal">'point_circle'</code> and
                            <code class="literal">'point_square'</code>.
                        </p><p style="color:blue;">对于点策略，允许值为“点圆”和“点平方”。</p></li><li class="listitem"><p>
                            For join strategies, permitted values are
                            <code class="literal">'join_round'</code> and
                            <code class="literal">'join_miter'</code>.
                        </p><p style="color:blue;">对于连接策略，允许的值为“join-round”和“join-miter”。</p></li><li class="listitem"><p>
                            For end strategies, permitted values are
                            <code class="literal">'end_round'</code> and
                            <code class="literal">'end_flat'</code>.
                        </p><p style="color:blue;">对于终端策略，允许的值为“End_Round”和“End_Flat”。</p></li></ul>
                    </div>
                    <p>
                        If the first argument is <code class="literal">'point_circle'</code>,
                        <code class="literal">'join_round'</code>,
                        <code class="literal">'join_miter'</code>, or
                        <code class="literal">'end_round'</code>, the
                        <em class="replaceable"><code>points_per_circle</code></em> argument must be
                        given as a positive numeric value. The maximum
                        <em class="replaceable"><code>points_per_circle</code></em> value is the
                        value of the
                        <a class="link" href="server-administration.html#sysvar_max_points_in_geometry"><code class="literal">max_points_in_geometry</code></a> system
                        variable as of MySQL 5.7.8, 65,536 before that. If the first
                        argument is <code class="literal">'point_square'</code> or
                        <code class="literal">'end_flat'</code>, the
                        <em class="replaceable"><code>points_per_circle</code></em> argument must not
                        be given or an
                        <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                        occurs.
                    </p><p style="color:blue;">如果第一个参数是“point_circle”、“join_round”、“join_miter”或“end_round”，则points_per_circle参数必须以正数形式给出。PosithPosithPosiLoad值是MySQL PosithIn几何系统变量的值，MySQL 5.7.8，65536之前的值。如果第一个参数是“point_square”或“end_flat”，则不能给出points_per_circle参数，否则会发生er_error_arguments错误。</p><p>
                        For examples, see the description of
                        <a class="link" href="functions.html#function_st-buffer"><code class="literal">ST_Buffer()</code></a>.
                    </p><p style="color:blue;">有关示例，请参见st_buffer（）的说明。</p><p>
                        This function was added in MySQL 5.7.7.
                    </p><p style="color:blue;">这个函数是在mysql 5.7.7中添加的。</p></li><li class="listitem"><a name="function_st-convexhull"></a><p>
                    <a class="indexterm" name="idm140286845636288"></a>

                    <a class="link" href="functions.html#function_st-convexhull"><code class="literal">ST_ConvexHull(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">圣康沃尔（G）</p><p>
                    Returns a geometry that represents the convex hull of the
                    geometry value <em class="replaceable"><code>g</code></em>. If the argument
                    is <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">返回表示几何体值g的凸面外壳的几何体。如果参数为空，则返回值为空。</p><p>
                    This function computes a geometry's convex hull by first
                    checking whether its vertex points are colinear. The function
                    returns a linear hull if so, a polygon hull otherwise. This
                    function processes geometry collections by extracting all
                    vertex points of all components of the collection, creating a
                    <code class="literal">MultiPoint</code> value from them, and computing
                    its convex hull. If the argument is an empty geometry
                    collection, the return value is <code class="literal">NULL</code>.
                </p><p style="color:blue;">此函数通过首先检查几何体的顶点是否共线来计算几何体的凸包。如果是，则函数返回线性外壳，否则返回多边形外壳。此函数通过提取集合所有组件的所有顶点、从中创建多点值并计算其凸包来处理几何集合。如果参数是空几何图形集合，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g = 'MULTIPOINT(5 0,25 0,15 10,15 25)';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_ConvexHull(ST_GeomFromText(@g)));</code></strong>
+-----------------------------------------------+
| ST_AsText(ST_ConvexHull(ST_GeomFromText(@g))) |
+-----------------------------------------------+
| POLYGON((5 0,25 0,15 25,5 0))                 |
+-----------------------------------------------+
</pre><p>
                    <a class="link" href="functions.html#function_st-convexhull"><code class="literal">ST_ConvexHull()</code></a> and
                    <a class="link" href="functions.html#function_convexhull"><code class="literal">ConvexHull()</code></a> are synonyms.
                </p><p style="color:blue;">st_converxhull（）和converxhull（）是同义词。</p></li><li class="listitem"><a name="function_st-difference"></a><p>
                    <a class="indexterm" name="idm140286845618640"></a>

                    <a class="link" href="functions.html#function_st-difference"><code class="literal">ST_Difference(<em class="replaceable"><code>g1</code></em>,
                        <em class="replaceable"><code>g2</code></em>)</code></a>
                </p><p style="color:blue;">ST U差异（G1，G2）</p><p>
                    Returns a geometry that represents the point set difference of
                    the geometry values <em class="replaceable"><code>g1</code></em> and
                    <em class="replaceable"><code>g2</code></em>. If any argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">返回表示几何图形值g1和g2的点集差的几何图形。如果任何参数为空，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = Point(1,1), @g2 = Point(2,2);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Difference(@g1, @g2));</code></strong>
+------------------------------------+
| ST_AsText(ST_Difference(@g1, @g2)) |
+------------------------------------+
| POINT(1 1)                         |
+------------------------------------+
</pre></li><li class="listitem"><a name="function_st-intersection"></a><p>
                    <a class="indexterm" name="idm140286845605328"></a>

                    <a class="link" href="functions.html#function_st-intersection"><code class="literal">ST_Intersection(<em class="replaceable"><code>g1</code></em>,
                        <em class="replaceable"><code>g2</code></em>)</code></a>
                </p><p style="color:blue;">St_交叉口（G1、G2）</p><p>
                    Returns a geometry that represents the point set intersection
                    of the geometry values <em class="replaceable"><code>g1</code></em> and
                    <em class="replaceable"><code>g2</code></em>. If any argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">返回表示几何图形值g1和g2的点集交点的几何图形。如果任何参数为空，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = ST_GeomFromText('LineString(1 1, 3 3)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @g2 = ST_GeomFromText('LineString(1 3, 3 1)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Intersection(@g1, @g2));</code></strong>
+--------------------------------------+
| ST_AsText(ST_Intersection(@g1, @g2)) |
+--------------------------------------+
| POINT(2 2)                           |
+--------------------------------------+
</pre></li><li class="listitem"><a name="function_st-symdifference"></a><p>
                    <a class="indexterm" name="idm140286845591184"></a>

                    <a class="link" href="functions.html#function_st-symdifference"><code class="literal">ST_SymDifference(<em class="replaceable"><code>g1</code></em>,
                        <em class="replaceable"><code>g2</code></em>)</code></a>
                </p><p style="color:blue;">ST U符号差异（G1，G2）</p><p>
                    Returns a geometry that represents the point set symmetric
                    difference of the geometry values
                    <em class="replaceable"><code>g1</code></em> and
                    <em class="replaceable"><code>g2</code></em>, which is defined as:
                </p><p style="color:blue;">返回表示几何图形值g1和g2的点集对称差的几何图形，定义为：</p><pre data-lang="clike" class="programlisting"><em class="replaceable"><code>g1</code></em> symdifference <em class="replaceable"><code>g2</code></em> := (<em class="replaceable"><code>g1</code></em> union <em class="replaceable"><code>g2</code></em>) difference (<em class="replaceable"><code>g1</code></em> intersection <em class="replaceable"><code>g2</code></em>)
</pre><p>
                    Or, in function call notation:
                </p><p style="color:blue;">或者，在函数调用符号中：</p><pre data-lang="clike" class="programlisting">ST_SymDifference(<em class="replaceable"><code>g1</code></em>, <em class="replaceable"><code>g2</code></em>) = ST_Difference(ST_Union(<em class="replaceable"><code>g1</code></em>, <em class="replaceable"><code>g2</code></em>), ST_Intersection(<em class="replaceable"><code>g1</code></em>, <em class="replaceable"><code>g2</code></em>))
</pre><p>
                    If any argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果任何参数为空，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = Point(1,1), @g2 = Point(2,2);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_SymDifference(@g1, @g2));</code></strong>
+---------------------------------------+
| ST_AsText(ST_SymDifference(@g1, @g2)) |
+---------------------------------------+
| MULTIPOINT((1 1),(2 2))               |
+---------------------------------------+
</pre></li><li class="listitem"><a name="function_st-union"></a><p>
                    <a class="indexterm" name="idm140286845570208"></a>

                    <a class="link" href="functions.html#function_st-union"><code class="literal">ST_Union(<em class="replaceable"><code>g1</code></em>,
                        <em class="replaceable"><code>g2</code></em>)</code></a>
                </p><p style="color:blue;">圣约翰（G1、G2）</p><p>
                    Returns a geometry that represents the point set union of the
                    geometry values <em class="replaceable"><code>g1</code></em> and
                    <em class="replaceable"><code>g2</code></em>. If any argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">返回表示几何图形值g1和g2的点集并集的几何图形。如果任何参数为空，则返回值为空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = ST_GeomFromText('LineString(1 1, 3 3)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @g2 = ST_GeomFromText('LineString(1 3, 3 1)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Union(@g1, @g2));</code></strong>
+--------------------------------------+
| ST_AsText(ST_Union(@g1, @g2))        |
+--------------------------------------+
| MULTILINESTRING((1 1,3 3),(1 3,3 1)) |
+--------------------------------------+
</pre></li></ul>
            </div>
            <p>
                In addition, <a class="xref" href="functions.html#gis-property-functions" title="12.16.7&nbsp;Geometry Property Functions">Section&nbsp;12.16.7, “Geometry Property Functions”</a>, discusses
                several functions that construct new geometries from existing
                ones. See that section for descriptions of these functions:
            </p><p style="color:blue;">此外，“几何性质函数”第12.16.7节讨论了从现有几何结构中构造新几何的几个函数。有关这些功能的说明，请参见该部分：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="functions.html#function_st-envelope"><code class="literal">ST_Envelope(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">信封（G）</p></li><li class="listitem"><p>
                    <a class="link" href="functions.html#function_st-startpoint"><code class="literal">ST_StartPoint(<em class="replaceable"><code>ls</code></em>)</code></a>
                </p><p style="color:blue;">起点（LS）</p></li><li class="listitem"><p>
                    <a class="link" href="functions.html#function_st-endpoint"><code class="literal">ST_EndPoint(<em class="replaceable"><code>ls</code></em>)</code></a>
                </p><p style="color:blue;">ST U端点（ls）</p></li><li class="listitem"><p>
                    <a class="link" href="functions.html#function_st-pointn"><code class="literal">ST_PointN(<em class="replaceable"><code>ls</code></em>,
                        <em class="replaceable"><code>N</code></em>)</code></a>
                </p><p style="color:blue;">圣约点（ls，n）</p></li><li class="listitem"><p>
                    <a class="link" href="functions.html#function_st-exteriorring"><code class="literal">ST_ExteriorRing(<em class="replaceable"><code>poly</code></em>)</code></a>
                </p><p style="color:blue;">ST U外部装饰（多边形）</p></li><li class="listitem"><p>
                    <a class="link" href="functions.html#function_st-interiorringn"><code class="literal">ST_InteriorRingN(<em class="replaceable"><code>poly</code></em>,
                        <em class="replaceable"><code>N</code></em>)</code></a>
                </p><p style="color:blue;">ST_U内饰（Poly，N）</p></li><li class="listitem"><p>
                    <a class="link" href="functions.html#function_st-geometryn"><code class="literal">ST_GeometryN(<em class="replaceable"><code>gc</code></em>,
                        <em class="replaceable"><code>N</code></em>)</code></a>
                </p><p style="color:blue;">圣地美（GC，N）</p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="spatial-relation-functions"></a>12.16.9&nbsp;Functions That Test Spatial Relations Between Geometry Objects</h3>

                    </div>

                </div>

            </div>
            <div class="toc">
                <dl class="toc"><dt><span class="section"><a href="functions.html#spatial-relation-functions-object-shapes">12.16.9.1 Spatial Relation Functions That Use Object Shapes</a></span></dt><dt><span class="section"><a href="functions.html#spatial-relation-functions-mbr">12.16.9.2 Spatial Relation Functions That Use Minimum Bounding Rectangles</a></span></dt></dl>
            </div>
            <p>
                The functions described in this section take two geometries as
                arguments and return a qualitative or quantitative relation
                between them.
            </p><p style="color:blue;">本节中描述的函数将两个几何图形作为参数，并返回它们之间的定性或定量关系。</p><p>
            MySQL implements two sets of functions using function names
            defined by the OpenGIS specification. One set tests the
            relationship between two geometry values using precise object
            shapes, the other set uses object minimum bounding rectangles
            (MBRs).
        </p><p style="color:blue;">mysql使用opengis规范定义的函数名实现两组函数。一组使用精确的对象形状测试两个几何体值之间的关系，另一组使用对象最小边界矩形（MBR）。</p><p>
            There is also a MySQL-specific set of MBR-based functions
            available to test the relationship between two geometry values.
        </p><p style="color:blue;">还有一组mysql特有的基于mbr的函数可用于测试两个几何值之间的关系。</p>
            <div class="section">

                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="spatial-relation-functions-object-shapes"></a>12.16.9.1&nbsp;Spatial Relation Functions That Use Object Shapes</h4>
                        </div>
                    </div>
                </div>
                <p>
                    The OpenGIS specification defines the following functions to
                    test the relationship between two geometry values
                    <code class="literal">g1</code> and <code class="literal">g2</code>, using precise
                    object shapes. The return values 1 and 0 indicate true and
                    false, respectively, except for
                    <a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance()</code></a> and
                    <a class="link" href="functions.html#function_distance"><code class="literal">Distance()</code></a>, which return distance
                    values.
                </p><p style="color:blue;">opengis规范定义了以下函数，使用精确的对象形状来测试两个几何值g1和g2之间的关系。返回值1和0分别表示true和false，但返回距离值的st_distance（）和distance（）除外。</p><p>
                These functions support all argument type combinations except
                those that are inapplicable according to the Open Geospatial
                Consortium specification.
            </p><p style="color:blue;">这些函数支持所有参数类型组合，但根据开放地理空间联盟规范不适用的参数类型组合除外。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_crosses"></a><p>
                        <a class="indexterm" name="idm140286845525936"></a>

                        <a class="link" href="functions.html#function_crosses"><code class="literal">Crosses(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">十字（G1、G2）</p><p>
                        <a class="link" href="functions.html#function_st-crosses"><code class="literal">ST_Crosses()</code></a> and
                        <a class="link" href="functions.html#function_crosses"><code class="literal">Crosses()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-crosses"><code class="literal">ST_Crosses()</code></a>.
                    </p><p style="color:blue;">st_crosss（）和crosss（）是同义词。有关详细信息，请参见st_crosses（）的说明。</p><p>
                        <a class="link" href="functions.html#function_crosses"><code class="literal">Crosses()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_st-crosses"><code class="literal">ST_Crosses()</code></a> instead.
                    </p><p style="color:blue;">crosss（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中被删除。改为使用st_crosss（）。</p></li><li class="listitem"><a name="function_distance"></a><p>
                        <a class="indexterm" name="idm140286845512016"></a>

                        <a class="link" href="functions.html#function_distance"><code class="literal">Distance(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">距离（g1，g2）</p><p>
                        <a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance()</code></a> and
                        <a class="link" href="functions.html#function_distance"><code class="literal">Distance()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance()</code></a>.
                    </p><p style="color:blue;">st_distance（）和distance（）是同义词。有关详细信息，请参见st_distance（）的说明。</p><p>
                        <a class="link" href="functions.html#function_distance"><code class="literal">Distance()</code></a> is deprecated and
                        will be removed in a future MySQL release. Use
                        <a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance()</code></a> instead.
                    </p><p style="color:blue;">Distance（）已弃用，将在以后的MySQL版本中删除。改为使用st_distance（）。</p></li><li class="listitem"><a name="function_st-contains"></a><p>
                        <a class="indexterm" name="idm140286845498176"></a>

                        <a class="link" href="functions.html#function_st-contains"><code class="literal">ST_Contains(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">ST U包含（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether
                        <em class="replaceable"><code>g1</code></em> completely contains
                        <em class="replaceable"><code>g2</code></em>. This tests the opposite
                        relationship as <a class="link" href="functions.html#function_st-within"><code class="literal">ST_Within()</code></a>.
                    </p><p style="color:blue;">返回1或0以指示g1是否完全包含g2。这将测试与st_within（）相反的关系。</p></li><li class="listitem"><a name="function_st-crosses"></a><p>
                        <a class="indexterm" name="idm140286845488768"></a>

                        <a class="link" href="functions.html#function_st-crosses"><code class="literal">ST_Crosses(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">圣约十字（G1，G2）</p><p>
                        The term <span class="emphasis"><em>spatially crosses</em></span> denotes a
                        spatial relation between two given geometries that has the
                        following properties:
                    </p><p style="color:blue;">术语空间交叉表示具有以下特性的两个给定几何体之间的空间关系：</p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                The two geometries intersect.
                            </p><p style="color:blue;">两个几何图形相交。</p></li><li class="listitem"><p>
                                Their intersection results in a geometry that has a
                                dimension that is one less than the maximum dimension of
                                the two given geometries.
                            </p><p style="color:blue;">它们的相交导致几何尺寸小于两个给定几何形状的最大尺寸。</p></li><li class="listitem"><p>
                                Their intersection is not equal to either of the two
                                given geometries.
                            </p><p style="color:blue;">它们的交集不等于两个给定的几何图形中的任何一个。</p></li></ul>
                        </div>
                        <p>
                            This function returns 1 or 0 to indicate whether
                            <em class="replaceable"><code>g1</code></em> spatially crosses
                            <em class="replaceable"><code>g2</code></em>. If <code class="literal">g1</code> is a
                            <code class="literal">Polygon</code> or a
                            <code class="literal">MultiPolygon</code>, or if
                            <em class="replaceable"><code>g2</code></em> is a <code class="literal">Point</code>
                            or a <code class="literal">MultiPoint</code>, the return value is
                            <code class="literal">NULL</code>.
                        </p><p style="color:blue;">此函数返回1或0以指示g1是否在空间上与g2交叉。如果g1是多边形或多多边形，或者g2是点或多点，则返回值为空。</p><p>
                            This function returns 0 if called with an inapplicable
                            geometry argument type combination. For example, it returns
                            0 if the first argument is a <code class="literal">Polygon</code> or
                            <code class="literal">MultiPolygon</code> and/or the second argument
                            is a <code class="literal">Point</code> or
                            <code class="literal">MultiPoint</code>.
                        </p><p style="color:blue;">如果使用不适用的几何参数类型组合调用此函数，则返回0。例如，如果第一个参数是多边形或多多边形和/或第二个参数是点或多点，则返回0。</p><p>
                            Returns 1 if <em class="replaceable"><code>g1</code></em> spatially crosses
                            <em class="replaceable"><code>g2</code></em>. Returns
                            <code class="literal">NULL</code> if <code class="literal">g1</code> is a
                            <code class="literal">Polygon</code> or a
                            <code class="literal">MultiPolygon</code>, or if
                            <em class="replaceable"><code>g2</code></em> is a <code class="literal">Point</code>
                            or a <code class="literal">MultiPoint</code>. Otherwise, returns 0.
                        </p><p style="color:blue;">如果g1在空间上与g2交叉，则返回1。如果g1是多边形或多多边形，或者g2是点或多点，则返回null。否则，返回0。</p><p>
                            This function returns 0 if called with an inapplicable
                            geometry argument type combination. For example, it returns
                            0 if the first argument is a <code class="literal">Polygon</code> or
                            <code class="literal">MultiPolygon</code> and/or the second argument
                            is a <code class="literal">Point</code> or
                            <code class="literal">MultiPoint</code>.
                        </p><p style="color:blue;">如果使用不适用的几何参数类型组合调用此函数，则返回0。例如，如果第一个参数是多边形或多多边形和/或第二个参数是点或多点，则返回0。</p><p>
                            <a class="link" href="functions.html#function_st-crosses"><code class="literal">ST_Crosses()</code></a> and
                            <a class="link" href="functions.html#function_crosses"><code class="literal">Crosses()</code></a> are synonyms.
                        </p><p style="color:blue;">st_crosss（）和crosss（）是同义词。</p></li><li class="listitem"><a name="function_st-disjoint"></a><p>
                        <a class="indexterm" name="idm140286845456032"></a>

                        <a class="link" href="functions.html#function_st-disjoint"><code class="literal">ST_Disjoint(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">不相交（g1，g2）</p><p>
                        Returns 1 or 0 to indicate whether
                        <em class="replaceable"><code>g1</code></em> is spatially disjoint from
                        (does not intersect) <em class="replaceable"><code>g2</code></em>.
                    </p><p style="color:blue;">返回1或0以指示g1是否在空间上与g2不相交。</p></li><li class="listitem"><a name="function_st-distance"></a><p>
                        <a class="indexterm" name="idm140286845447856"></a>

                        <a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">ST U距离（G1，G2）</p><p>
                        Returns the distance between <em class="replaceable"><code>g1</code></em>
                        and <em class="replaceable"><code>g2</code></em>. If either argument is
                        <code class="literal">NULL</code> or an empty geometry, the return
                        value is <code class="literal">NULL</code>.
                    </p><p style="color:blue;">返回g1和g2之间的距离。如果参数为空或为空几何体，则返回值为空。</p><p>
                        This function processes geometry collections by returning
                        the shortest distance among all combinations of the
                        components of the two geometry arguments.
                    </p><p style="color:blue;">此函数通过返回两个几何参数的所有组件组合之间的最短距离来处理几何集合。</p><p>
                        If an intermediate or final result produces NaN or a
                        negative number, an
                        <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a> error
                        occurs.
                    </p><p style="color:blue;">如果中间结果或最终结果产生NaN或负数，则会发生ER U GIS U INVALID U数据错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = Point(1,1);</code></strong>
mysql&gt; <strong class="userinput"><code>SET @g2 = Point(2,2);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_Distance(@g1, @g2);</code></strong>
+-----------------------+
| ST_Distance(@g1, @g2) |
+-----------------------+
|    1.4142135623730951 |
+-----------------------+
</pre><p>
                        <a class="link" href="functions.html#function_st-distance"><code class="literal">ST_Distance()</code></a> and
                        <a class="link" href="functions.html#function_distance"><code class="literal">Distance()</code></a> are synonyms.
                    </p><p style="color:blue;">st_distance（）和distance（）是同义词。</p></li><li class="listitem"><a name="function_st-equals"></a><p>
                        <a class="indexterm" name="idm140286845428736"></a>

                        <a class="link" href="functions.html#function_st-equals"><code class="literal">ST_Equals(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">St_等于（g1，g2）</p><p>
                        Returns 1 or 0 to indicate whether
                        <em class="replaceable"><code>g1</code></em> is spatially equal to
                        <em class="replaceable"><code>g2</code></em>.
                    </p><p style="color:blue;">返回1或0以指示g1在空间上是否等于g2。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = Point(1,1), @g2 = Point(2,2);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_Equals(@g1, @g1), ST_Equals(@g1, @g2);</code></strong>
+---------------------+---------------------+
| ST_Equals(@g1, @g1) | ST_Equals(@g1, @g2) |
+---------------------+---------------------+
|                   1 |                   0 |
+---------------------+---------------------+
</pre></li><li class="listitem"><a name="function_st-intersects"></a><p>
                        <a class="indexterm" name="idm140286845416912"></a>

                        <a class="link" href="functions.html#function_st-intersects"><code class="literal">ST_Intersects(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">ST U相交（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether
                        <em class="replaceable"><code>g1</code></em> spatially intersects
                        <em class="replaceable"><code>g2</code></em>.
                    </p><p style="color:blue;">返回1或0以指示g1是否在空间上与g2相交。</p></li><li class="listitem"><a name="function_st-overlaps"></a><p>
                        <a class="indexterm" name="idm140286845408768"></a>

                        <a class="link" href="functions.html#function_st-overlaps"><code class="literal">ST_Overlaps(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">ST U重叠（G1，G2）</p><p>
                        Two geometries <span class="emphasis"><em>spatially overlap</em></span> if
                        they intersect and their intersection results in a geometry
                        of the same dimension but not equal to either of the given
                        geometries.
                    </p><p style="color:blue;">两个几何体在空间上重叠，如果它们相交，则它们的相交会导致具有相同尺寸但不等于任一给定几何体的几何体。</p><p>
                        This function returns 1 or 0 to indicate whether
                        <em class="replaceable"><code>g1</code></em> spatially overlaps
                        <em class="replaceable"><code>g2</code></em>.
                    </p><p style="color:blue;">此函数返回1或0以指示g1在空间上是否与g2重叠。</p><p>
                        This function returns 0 if called with an inapplicable
                        geometry argument type combination. For example, it returns
                        0 if called with geometries of different dimensions or any
                        argument is a <code class="literal">Point</code>.
                    </p><p style="color:blue;">如果使用不适用的几何参数类型组合调用此函数，则返回0。例如，如果使用不同维度的几何图形调用或任何参数是点，则返回0。</p></li><li class="listitem"><a name="function_st-touches"></a><p>
                        <a class="indexterm" name="idm140286845398208"></a>

                        <a class="link" href="functions.html#function_st-touches"><code class="literal">ST_Touches(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">圣约接触（G1、G2）</p><p>
                        Two geometries <span class="emphasis"><em>spatially touch</em></span> if their
                        interiors do not intersect, but the boundary of one of the
                        geometries intersects either the boundary or the interior of
                        the other.
                    </p><p style="color:blue;">如果两个几何体的内部不相交，但其中一个几何体的边界与另一个几何体的边界或内部相交，则两个几何体在空间上相互接触。</p><p>
                        This function returns 1 or 0 to indicate whether
                        <em class="replaceable"><code>g1</code></em> spatially touches
                        <em class="replaceable"><code>g2</code></em>.
                    </p><p style="color:blue;">此函数返回1或0以指示g1是否在空间上与g2接触。</p><p>
                        This function returns 0 if called with an inapplicable
                        geometry argument type combination. For example, it returns
                        0 if either of the arguments is a <code class="literal">Point</code>
                        or <code class="literal">MultiPoint</code>.
                    </p><p style="color:blue;">如果使用不适用的几何参数类型组合调用此函数，则返回0。例如，如果其中一个参数是点或多点，则返回0。</p><p>
                        <a class="link" href="functions.html#function_st-touches"><code class="literal">ST_Touches()</code></a> and
                        <a class="link" href="functions.html#function_touches"><code class="literal">Touches()</code></a> are synonyms.
                    </p><p style="color:blue;">St_Touchs（）和Touchs（）是同义词。</p></li><li class="listitem"><a name="function_st-within"></a><p>
                        <a class="indexterm" name="idm140286845384096"></a>

                        <a class="link" href="functions.html#function_st-within"><code class="literal">ST_Within(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">ST U内部（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether
                        <em class="replaceable"><code>g1</code></em> is spatially within
                        <em class="replaceable"><code>g2</code></em>. This tests the opposite
                        relationship as
                        <a class="link" href="functions.html#function_st-contains"><code class="literal">ST_Contains()</code></a>.
                    </p><p style="color:blue;">返回1或0以指示g1在空间上是否在g2内。这将测试与st_contains（）相反的关系。</p></li><li class="listitem"><a name="function_touches"></a><p>
                        <a class="indexterm" name="idm140286845374736"></a>

                        <a class="link" href="functions.html#function_touches"><code class="literal">Touches(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">触摸（G1、G2）</p><p>
                        <a class="link" href="functions.html#function_st-touches"><code class="literal">ST_Touches()</code></a> and
                        <a class="link" href="functions.html#function_touches"><code class="literal">Touches()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_st-touches"><code class="literal">ST_Touches()</code></a>.
                    </p><p style="color:blue;">St_Touchs（）和Touchs（）是同义词。有关详细信息，请参见st_touch（）的说明。</p><p>
                        <a class="link" href="functions.html#function_touches"><code class="literal">Touches()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_st-touches"><code class="literal">ST_Touches()</code></a> instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，touch（）就不推荐使用，它将在以后的mysql版本中被删除。改为使用st_touch（）。</p></li></ul>
                </div>

            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="spatial-relation-functions-mbr"></a>12.16.9.2&nbsp;Spatial Relation Functions That Use Minimum Bounding Rectangles</h4>

                        </div>

                    </div>

                </div>
                <a class="indexterm" name="idm140286845362256"></a><a class="indexterm" name="idm140286845361216"></a><p>
                MySQL provides several MySQL-specific functions that test the
                relationship between minimum bounding rectangles (MBRs) of two
                geometries <code class="literal">g1</code> and <code class="literal">g2</code>. The
                return values 1 and 0 indicate true and false, respectively.
            </p><p style="color:blue;">mysql提供了一些特定于mysql的函数，用于测试两个几何图形g1和g2的最小边界矩形（mbr）之间的关系。返回值1和0分别表示true和false。</p><p>
                A corresponding set of MBR functions defined according to the
                OpenGIS specification is described later in this section.
            </p><p style="color:blue;">本节后面将描述根据opengis规范定义的一组相应的mbr函数。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_mbrcontains"></a><p>
                        <a class="indexterm" name="idm140286845353584"></a>

                        <a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">MBR包含（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangle of <em class="replaceable"><code>g1</code></em> contains the
                        minimum bounding rectangle of <em class="replaceable"><code>g2</code></em>.
                        This tests the opposite relationship as
                        <a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin()</code></a>.
                    </p><p style="color:blue;">返回1或0以指示g1的最小边框是否包含g2的最小边框。这将测试与mbrin（）相反的关系。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = ST_GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @g2 = ST_GeomFromText('Point(1 1)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT MBRContains(@g1,@g2), MBRWithin(@g2,@g1);</code></strong>
+----------------------+--------------------+
| MBRContains(@g1,@g2) | MBRWithin(@g2,@g1) |
+----------------------+--------------------+
|                    1 |                  1 |
+----------------------+--------------------+
</pre><p>
                        <a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains()</code></a> and
                        <a class="link" href="functions.html#function_contains"><code class="literal">Contains()</code></a> are synonyms.
                    </p><p style="color:blue;">mbrcontains（）和contains（）是同义词。</p></li><li class="listitem"><a name="function_mbrcoveredby"></a><p>
                        <a class="indexterm" name="idm140286845338000"></a>

                        <a class="link" href="functions.html#function_mbrcoveredby"><code class="literal">MBRCoveredBy(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">MBR覆盖（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangle of <em class="replaceable"><code>g1</code></em> is covered by the
                        minimum bounding rectangle of <em class="replaceable"><code>g2</code></em>.
                        This tests the opposite relationship as
                        <a class="link" href="functions.html#function_mbrcovers"><code class="literal">MBRCovers()</code></a>.
                    </p><p style="color:blue;">返回1或0以指示g1的最小边界矩形是否被g2的最小边界矩形覆盖。这将测试与mbrcovers（）相反的关系。</p><p>
                        <a class="link" href="functions.html#function_mbrcoveredby"><code class="literal">MBRCoveredBy()</code></a> handles its
                        arguments as follows:
                    </p><p style="color:blue;">mbrcoveredby（）按如下方式处理其参数：</p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                If either argument is <code class="literal">NULL</code> or an
                                empty geometry, the return value is
                                <code class="literal">NULL</code>.
                            </p><p style="color:blue;">如果参数为空或为空几何体，则返回值为空。</p></li><li class="listitem"><p>
                                If either argument is not a syntactically well-formed
                                geometry byte string, an
                                <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a>
                                error occurs.
                            </p><p style="color:blue;">如果任一参数不是语法良好的几何字节字符串，则会发生er_gis_invalid_data错误。</p></li><li class="listitem"><p>
                                Otherwise, the return value is
                                non-<code class="literal">NULL</code>.
                            </p><p style="color:blue;">否则，返回值为非空。</p></li></ul>
                        </div>
                        <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = ST_GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @g2 = ST_GeomFromText('Point(1 1)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT MBRCovers(@g1,@g2), MBRCoveredby(@g1,@g2);</code></strong>
+--------------------+-----------------------+
| MBRCovers(@g1,@g2) | MBRCoveredby(@g1,@g2) |
+--------------------+-----------------------+
|                  1 |                     0 |
+--------------------+-----------------------+
mysql&gt; <strong class="userinput"><code>SELECT MBRCovers(@g2,@g1), MBRCoveredby(@g2,@g1);</code></strong>
+--------------------+-----------------------+
| MBRCovers(@g2,@g1) | MBRCoveredby(@g2,@g1) |
+--------------------+-----------------------+
|                  0 |                     1 |
+--------------------+-----------------------+
</pre></li><li class="listitem"><a name="function_mbrcovers"></a><p>
                        <a class="indexterm" name="idm140286845315920"></a>

                        <a class="link" href="functions.html#function_mbrcovers"><code class="literal">MBRCovers(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">膜生物反应器盖（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangle of <em class="replaceable"><code>g1</code></em> covers the
                        minimum bounding rectangle of <em class="replaceable"><code>g2</code></em>.
                        This tests the opposite relationship as
                        <a class="link" href="functions.html#function_mbrcoveredby"><code class="literal">MBRCoveredBy()</code></a>. See the
                        description of <a class="link" href="functions.html#function_mbrcoveredby"><code class="literal">MBRCoveredBy()</code></a>
                        for examples.
                    </p><p style="color:blue;">返回1或0以指示g1的最小边界矩形是否覆盖g2的最小边界矩形。这将测试与mbrcoveredby（）相反的关系。有关示例，请参见mbrcoveredby（）的说明。</p><p>
                        <a class="link" href="functions.html#function_mbrcovers"><code class="literal">MBRCovers()</code></a> handles its
                        arguments as follows:
                    </p><p style="color:blue;">mbrcovers（）按如下方式处理其参数：</p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                If either argument is <code class="literal">NULL</code> or an
                                empty geometry, the return value is
                                <code class="literal">NULL</code>.
                            </p><p style="color:blue;">如果参数为空或为空几何体，则返回值为空。</p></li><li class="listitem"><p>
                                If either argument is not a syntactically well-formed
                                geometry byte string, an
                                <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a>
                                error occurs.
                            </p><p style="color:blue;">如果任一参数不是语法良好的几何字节字符串，则会发生er_gis_invalid_data错误。</p></li><li class="listitem"><p>
                                Otherwise, the return value is
                                non-<code class="literal">NULL</code>.
                            </p><p style="color:blue;">否则，返回值为非空。</p></li></ul>
                        </div>
                    </li><li class="listitem"><a name="function_mbrdisjoint"></a><p>
                        <a class="indexterm" name="idm140286845297152"></a>

                        <a class="link" href="functions.html#function_mbrdisjoint"><code class="literal">MBRDisjoint(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">mbrdisjoint（g1，g2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangles of the two geometries
                        <em class="replaceable"><code>g1</code></em> and
                        <em class="replaceable"><code>g2</code></em> are disjoint (do not
                        intersect).
                    </p><p style="color:blue;">返回1或0以指示两个几何图形g1和g2的最小边界矩形是否不相交。</p><p>
                        <a class="link" href="functions.html#function_mbrdisjoint"><code class="literal">MBRDisjoint()</code></a> and
                        <a class="link" href="functions.html#function_disjoint"><code class="literal">Disjoint()</code></a> are synonyms.
                    </p><p style="color:blue;">mbrdisjoint（）和disjoint（）是同义词。</p></li><li class="listitem"><a name="function_mbrequal"></a><p>
                        <a class="indexterm" name="idm140286845286112"></a>

                        <a class="link" href="functions.html#function_mbrequal"><code class="literal">MBREqual(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">MBR相等（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangles of the two geometries
                        <em class="replaceable"><code>g1</code></em> and
                        <em class="replaceable"><code>g2</code></em> are the same.
                    </p><p style="color:blue;">返回1或0以指示两个几何图形g1和g2的最小边界矩形是否相同。</p><p>
                        <a class="link" href="functions.html#function_mbrequal"><code class="literal">MBREqual()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals()</code></a>
                        instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，mbretequal（）就不推荐使用，它将在以后的mysql版本中被删除。改为使用mbrequals（）。</p></li><li class="listitem"><a name="function_mbrequals"></a><p>
                        <a class="indexterm" name="idm140286845275648"></a>

                        <a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">MBR等于（G1，G2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangles of the two geometries
                        <em class="replaceable"><code>g1</code></em> and
                        <em class="replaceable"><code>g2</code></em> are the same.
                    </p><p style="color:blue;">返回1或0以指示两个几何图形g1和g2的最小边界矩形是否相同。</p><p>
                        <a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals()</code></a>,
                        <a class="link" href="functions.html#function_mbrequal"><code class="literal">MBREqual()</code></a>, and
                        <a class="link" href="functions.html#function_equals"><code class="literal">Equals()</code></a> are synonyms.
                    </p><p style="color:blue;">mbrequals（）、mbrequal（）和equals（）是同义词。</p><p>
                        This function was added in MySQL 5.7.6.
                    </p><p style="color:blue;">这个函数是在mysql 5.7.6中添加的。</p></li><li class="listitem"><a name="function_mbrintersects"></a><p>
                        <a class="indexterm" name="idm140286845262880"></a>

                        <a class="link" href="functions.html#function_mbrintersects"><code class="literal">MBRIntersects(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">MBR交叉点（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangles of the two geometries
                        <em class="replaceable"><code>g1</code></em> and
                        <em class="replaceable"><code>g2</code></em> intersect.
                    </p><p style="color:blue;">返回1或0以指示两个几何图形g1和g2的最小边界矩形是否相交。</p><p>
                        <a class="link" href="functions.html#function_mbrintersects"><code class="literal">MBRIntersects()</code></a> and
                        <a class="link" href="functions.html#function_intersects"><code class="literal">Intersects()</code></a> are synonyms.
                    </p><p style="color:blue;">mbr intersects（）和intersects（）是同义词。</p></li><li class="listitem"><a name="function_mbroverlaps"></a><p>
                        <a class="indexterm" name="idm140286845251824"></a>

                        <a class="link" href="functions.html#function_mbroverlaps"><code class="literal">MBROverlaps(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">mbr重叠（g1，g2）</p><p>
                        Two geometries <span class="emphasis"><em>spatially overlap</em></span> if
                        they intersect and their intersection results in a geometry
                        of the same dimension but not equal to either of the given
                        geometries.
                    </p><p style="color:blue;">两个几何体在空间上重叠，如果它们相交，则它们的相交会导致具有相同尺寸但不等于任一给定几何体的几何体。</p><p>
                        This function returns 1 or 0 to indicate whether the minimum
                        bounding rectangles of the two geometries
                        <em class="replaceable"><code>g1</code></em> and
                        <em class="replaceable"><code>g2</code></em> overlap.
                    </p><p style="color:blue;">此函数返回1或0以指示两个几何图形g1和g2的最小边界矩形是否重叠。</p><p>
                        <a class="link" href="functions.html#function_mbroverlaps"><code class="literal">MBROverlaps()</code></a> and
                        <a class="link" href="functions.html#function_overlaps"><code class="literal">Overlaps()</code></a> are synonyms.
                    </p><p style="color:blue;">mbr overlaps（）和overlaps（）是同义词。</p></li><li class="listitem"><a name="function_mbrtouches"></a><p>
                        <a class="indexterm" name="idm140286845239712"></a>

                        <a class="link" href="functions.html#function_mbrtouches"><code class="literal">MBRTouches(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">MBR触点（G1、G2）</p><p>
                        Two geometries <span class="emphasis"><em>spatially touch</em></span> if their
                        interiors do not intersect, but the boundary of one of the
                        geometries intersects either the boundary or the interior of
                        the other.
                    </p><p style="color:blue;">如果两个几何体的内部不相交，但其中一个几何体的边界与另一个几何体的边界或内部相交，则两个几何体在空间上相互接触。</p><p>
                        This function returns 1 or 0 to indicate whether the minimum
                        bounding rectangles of the two geometries
                        <em class="replaceable"><code>g1</code></em> and
                        <em class="replaceable"><code>g2</code></em> touch.
                    </p><p style="color:blue;">此函数返回1或0以指示两个几何图形g1和g2的最小边界矩形是否接触。</p></li><li class="listitem"><a name="function_mbrwithin"></a><p>
                        <a class="indexterm" name="idm140286845230448"></a>

                        <a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">MBR内（G1、G2）</p><p>
                        Returns 1 or 0 to indicate whether the minimum bounding
                        rectangle of <em class="replaceable"><code>g1</code></em> is within the
                        minimum bounding rectangle of <em class="replaceable"><code>g2</code></em>.
                        This tests the opposite relationship as
                        <a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains()</code></a>.
                    </p><p style="color:blue;">返回1或0以指示g1的最小边框是否在g2的最小边框内。这将测试与mbrcontains（）相反的关系。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g1 = ST_GeomFromText('Polygon((0 0,0 3,3 3,3 0,0 0))');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @g2 = ST_GeomFromText('Polygon((0 0,0 5,5 5,5 0,0 0))');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT MBRWithin(@g1,@g2), MBRWithin(@g2,@g1);</code></strong>
+--------------------+--------------------+
| MBRWithin(@g1,@g2) | MBRWithin(@g2,@g1) |
+--------------------+--------------------+
|                  1 |                  0 |
+--------------------+--------------------+
</pre><p>
                        <a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin()</code></a> and
                        <a class="link" href="functions.html#function_within"><code class="literal">Within()</code></a> are synonyms.
                    </p><p style="color:blue;">mbrinth（）和within（）是同义词。</p></li></ul>
                </div>
                <p>
                    The OpenGIS specification defines the following functions that
                    test the relationship between two geometry values
                    <code class="literal">g1</code> and <code class="literal">g2</code>. The MySQL
                    implementation uses minimum bounding rectangles, so these
                    functions return the same result as the corresponding MBR-based
                    functions described earlier in this section. The return values 1
                    and 0 indicate true and false, respectively.
                </p><p style="color:blue;">opengis规范定义了以下函数，用于测试两个几何值g1和g2之间的关系。mysql实现使用最小边界矩形，因此这些函数返回的结果与本节前面描述的基于mbr的相应函数相同。返回值1和0分别表示true和false。</p><p>
                These functions support all argument type combinations except
                those that are inapplicable according to the Open Geospatial
                Consortium specification.
            </p><p style="color:blue;">这些函数支持所有参数类型组合，但根据开放地理空间联盟规范不适用的参数类型组合除外。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_contains"></a><p>
                        <a class="indexterm" name="idm140286845211056"></a>

                        <a class="link" href="functions.html#function_contains"><code class="literal">Contains(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">包含（g1、g2）</p><p>
                        <a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains()</code></a> and
                        <a class="link" href="functions.html#function_contains"><code class="literal">Contains()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains()</code></a>.
                    </p><p style="color:blue;">mbrcontains（）和contains（）是同义词。有关详细信息，请参阅mbrcontains（）的说明。</p><p>
                        <a class="link" href="functions.html#function_contains"><code class="literal">Contains()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_mbrcontains"><code class="literal">MBRContains()</code></a>
                        instead.
                    </p><p style="color:blue;">contains（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中删除。改为使用mbrcontains（）。</p></li><li class="listitem"><a name="function_disjoint"></a><p>
                        <a class="indexterm" name="idm140286845197184"></a>

                        <a class="link" href="functions.html#function_disjoint"><code class="literal">Disjoint(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">不相交（g1，g2）</p><p>
                        <a class="link" href="functions.html#function_mbrdisjoint"><code class="literal">MBRDisjoint()</code></a> and
                        <a class="link" href="functions.html#function_disjoint"><code class="literal">Disjoint()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_mbrdisjoint"><code class="literal">MBRDisjoint()</code></a>.
                    </p><p style="color:blue;">mbrdisjoint（）和disjoint（）是同义词。有关详细信息，请参见mbrdisjoint（）的说明。</p><p>
                        <a class="link" href="functions.html#function_disjoint"><code class="literal">Disjoint()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_mbrdisjoint"><code class="literal">MBRDisjoint()</code></a>
                        instead.
                    </p><p style="color:blue;">disjoint（）从MySQL5.7.6开始就被弃用，并将在以后的MySQL版本中删除。请改用mbrdisjoint（）。</p></li><li class="listitem"><a name="function_equals"></a><p>
                        <a class="indexterm" name="idm140286845183248"></a>

                        <a class="link" href="functions.html#function_equals"><code class="literal">Equals(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">等于（g1，g2）</p><p>
                        <a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals()</code></a> and
                        <a class="link" href="functions.html#function_equals"><code class="literal">Equals()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals()</code></a>.
                    </p><p style="color:blue;">mbrequals（）和equals（）是同义词。有关详细信息，请参阅mbrequals（）的说明。</p><p>
                        <a class="link" href="functions.html#function_equals"><code class="literal">Equals()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_mbrequals"><code class="literal">MBREquals()</code></a> instead.
                    </p><p style="color:blue;">equals（）从mysql 5.7.6开始就被弃用，并将在以后的mysql版本中被删除。改为使用mbrequals（）。</p></li><li class="listitem"><a name="function_intersects"></a><p>
                        <a class="indexterm" name="idm140286845169392"></a>

                        <a class="link" href="functions.html#function_intersects"><code class="literal">Intersects(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">相交（g1、g2）</p><p>
                        <a class="link" href="functions.html#function_mbrintersects"><code class="literal">MBRIntersects()</code></a> and
                        <a class="link" href="functions.html#function_intersects"><code class="literal">Intersects()</code></a> are synonyms.
                        For more information, see the description of
                        <a class="link" href="functions.html#function_mbrintersects"><code class="literal">MBRIntersects()</code></a>.
                    </p><p style="color:blue;">mbr intersects（）和intersects（）是同义词。有关详细信息，请参阅mbrcosters（）的说明。</p><p>
                        <a class="link" href="functions.html#function_intersects"><code class="literal">Intersects()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_mbrintersects"><code class="literal">MBRIntersects()</code></a>
                        instead.
                    </p><p style="color:blue;">intersects（）从mysql 5.7.6开始就不推荐使用，它将在以后的mysql版本中被删除。请改用mbr intersects（）。</p></li><li class="listitem"><a name="function_overlaps"></a><p>
                        <a class="indexterm" name="idm140286845155456"></a>

                        <a class="link" href="functions.html#function_overlaps"><code class="literal">Overlaps(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">重叠（G1、G2）</p><p>
                        <a class="link" href="functions.html#function_mbroverlaps"><code class="literal">MBROverlaps()</code></a> and
                        <a class="link" href="functions.html#function_overlaps"><code class="literal">Overlaps()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_mbroverlaps"><code class="literal">MBROverlaps()</code></a>.
                    </p><p style="color:blue;">mbr overlaps（）和overlaps（）是同义词。有关详细信息，请参阅mbrolapps（）的说明。</p><p>
                        <a class="link" href="functions.html#function_overlaps"><code class="literal">Overlaps()</code></a> is deprecated as
                        of MySQL 5.7.6 and will be removed in a future MySQL
                        release. Use <a class="link" href="functions.html#function_mbroverlaps"><code class="literal">MBROverlaps()</code></a>
                        instead.
                    </p><p style="color:blue;">从mysql 5.7.6开始，overlaps（）就不推荐使用了，它将在以后的mysql版本中被删除。改用mbroOverlaps（）。</p></li><li class="listitem"><a name="function_within"></a><p>
                        <a class="indexterm" name="idm140286845141520"></a>

                        <a class="link" href="functions.html#function_within"><code class="literal">Within(<em class="replaceable"><code>g1</code></em>,
                            <em class="replaceable"><code>g2</code></em>)</code></a>
                    </p><p style="color:blue;">内部（G1、G2）</p><p>
                        <a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin()</code></a> and
                        <a class="link" href="functions.html#function_within"><code class="literal">Within()</code></a> are synonyms. For
                        more information, see the description of
                        <a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin()</code></a>.
                    </p><p style="color:blue;">mbrinth（）和within（）是同义词。有关详细信息，请参阅mbrin（）的说明。</p><p>
                        <a class="link" href="functions.html#function_within"><code class="literal">Within()</code></a> is deprecated as of
                        MySQL 5.7.6 and will be removed in a future MySQL release.
                        Use <a class="link" href="functions.html#function_mbrwithin"><code class="literal">MBRWithin()</code></a> instead.
                    </p><p style="color:blue;">within（）从mysql 5.7.6开始就不推荐使用，它将在以后的mysql版本中被删除。改为使用mbrinten（）。</p></li></ul>
                </div>

            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="spatial-geohash-functions"></a>12.16.10&nbsp;Spatial Geohash Functions</h3>

                    </div>

                </div>

            </div>
            <p>
                Geohash is a system for encoding latitude and longitude
                coordinates of arbitrary precision into a text string. Geohash
                values are strings that contain only characters chosen from
                <code class="literal">"0123456789bcdefghjkmnpqrstuvwxyz"</code>.
            </p><p style="color:blue;">geohash是一个将任意精度的经纬度坐标编码成文本字符串的系统。geohash值是只包含从“0123456789bcdefghjkmnpqrstuvwxyz”中选择的字符的字符串。</p><p>
            The functions in this section enable manipulation of geohash
            values, which provides applications the capabilities of importing
            and exporting geohash data, and of indexing and searching geohash
            values.
        </p><p style="color:blue;">本节中的函数允许对GHOHASH值进行操作，这为应用程序提供了导入和导出GeHAHASH数据的能力，以及索引和搜索GeHHASH值。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_st-geohash"></a><p>
                    <a class="indexterm" name="idm140286845123792"></a>

                    <a class="link" href="functions.html#function_st-geohash"><code class="literal">ST_GeoHash(<em class="replaceable"><code>longitude</code></em>,
                        <em class="replaceable"><code>latitude</code></em>,
                        <em class="replaceable"><code>max_length</code></em>)</code></a>,
                    <a class="link" href="functions.html#function_st-geohash"><code class="literal">ST_GeoHash(<em class="replaceable"><code>point</code></em>,
                        <em class="replaceable"><code>max_length</code></em>)</code></a>
                </p><p style="color:blue;">St_u Geohash（经度、纬度、最大长度）、St_u Geohash（点、最大长度）</p><p>
                    Returns a geohash string in the connection character set and
                    collation.
                </p><p style="color:blue;">返回连接字符集和排序规则中的geohash字符串。</p><p>
                    If any argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If any argument is invalid, an
                    error occurs.
                </p><p style="color:blue;">如果任何参数为空，则返回值为空。如果任何参数无效，则会发生错误。</p><p>
                    For the first syntax, the <em class="replaceable"><code>longitude</code></em>
                    must be a number in the range [−180, 180], and the
                    <em class="replaceable"><code>latitude</code></em> must be a number in the
                    range [−90, 90]. For the second syntax, a
                    <code class="literal">POINT</code> value is required, where the X and Y
                    coordinates are in the valid ranges for longitude and
                    latitude, respectively.
                </p><p style="color:blue;">对于第一种语法，经度必须是范围[-180，180]内的数字，纬度必须是范围[-90，90]内的数字。对于第二种语法，需要一个点值，其中x和y坐标分别位于经度和纬度的有效范围内。</p><p>
                    The resulting string is no longer than
                    <em class="replaceable"><code>max_length</code></em> characters, which has an
                    upper limit of 100. The string might be shorter than
                    <em class="replaceable"><code>max_length</code></em> characters because the
                    algorithm that creates the geohash value continues until it
                    has created a string that is either an exact representation of
                    the location or <em class="replaceable"><code>max_length</code></em>
                    characters, whichever comes first.
                </p><p style="color:blue;">结果字符串不超过最大长度字符，其上限为100。字符串可能短于最大长度字符，因为创建geohash值的算法将继续，直到它创建了一个字符串，该字符串要么是位置的精确表示，要么是最大长度字符，以先到者为准。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_GeoHash(180,0,10), ST_GeoHash(-180,-90,15);</code></strong>
+----------------------+-------------------------+
| ST_GeoHash(180,0,10) | ST_GeoHash(-180,-90,15) |
+----------------------+-------------------------+
| xbpbpbpbpb           | 000000000000000         |
+----------------------+-------------------------+
</pre></li><li class="listitem"><a name="function_st-latfromgeohash"></a><p>
                    <a class="indexterm" name="idm140286845104880"></a>

                    <a class="link" href="functions.html#function_st-latfromgeohash"><code class="literal">ST_LatFromGeoHash(<em class="replaceable"><code>geohash_str</code></em>)</code></a>
                </p><p style="color:blue;">St_LatfromGeohash（Geohash_街）</p><p>
                    Returns the latitude from a geohash string value, as a
                    <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> value in the range
                    [−90, 90].
                </p><p style="color:blue;">从geohash字符串值返回纬度，作为范围[-90，90]内的双精度值。</p><p>
                    If the argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If the argument is invalid, an
                    error occurs.
                </p><p style="color:blue;">如果参数为空，则返回值为空。如果参数无效，则会发生错误。</p><p>
                    The <a class="link" href="functions.html#function_st-latfromgeohash"><code class="literal">ST_LatFromGeoHash()</code></a>
                    decoding function reads no more than 433 characters from the
                    <em class="replaceable"><code>geohash_str</code></em> argument. That
                    represents the upper limit on information in the internal
                    representation of coordinate values. Characters past the 433rd
                    are ignored, even if they are otherwise illegal and produce an
                    error.
                </p><p style="color:blue;">st_latfromGeoHash（）解码函数从geoHash_str参数中读取的字符不超过433个。表示坐标值内部表示中信息的上限。超过433的字符将被忽略，即使它们是非法的并产生错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_LatFromGeoHash(ST_GeoHash(45,-20,10));</code></strong>
+------------------------------------------+
| ST_LatFromGeoHash(ST_GeoHash(45,-20,10)) |
+------------------------------------------+
|                                      -20 |
+------------------------------------------+
</pre></li><li class="listitem"><a name="function_st-longfromgeohash"></a><p>
                    <a class="indexterm" name="idm140286845089792"></a>

                    <a class="link" href="functions.html#function_st-longfromgeohash"><code class="literal">ST_LongFromGeoHash(<em class="replaceable"><code>geohash_str</code></em>)</code></a>
                </p><p style="color:blue;">St_LongFromGeohash（Geohash_街）</p><p>
                    Returns the longitude from a geohash string value, as a
                    <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> value in the range
                    [−180, 180].
                </p><p style="color:blue;">从geohash字符串值中返回经度，作为范围[-180，180]内的双精度值。</p><p>
                    If the argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If the argument is invalid, an
                    error occurs.
                </p><p style="color:blue;">如果参数为空，则返回值为空。如果参数无效，则会发生错误。</p><p>
                    The remarks in the description of
                    <a class="link" href="functions.html#function_st-latfromgeohash"><code class="literal">ST_LatFromGeoHash()</code></a> regarding
                    the maximum number of characters processed from the
                    <em class="replaceable"><code>geohash_str</code></em> argument also apply to
                    <a class="link" href="functions.html#function_st-longfromgeohash"><code class="literal">ST_LongFromGeoHash()</code></a>.
                </p><p style="color:blue;">在描述关于最大化的字符数的参数中的注释也适用于。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_LongFromGeoHash(ST_GeoHash(45,-20,10));</code></strong>
+-------------------------------------------+
| ST_LongFromGeoHash(ST_GeoHash(45,-20,10)) |
+-------------------------------------------+
|                                        45 |
+-------------------------------------------+
</pre></li><li class="listitem"><a name="function_st-pointfromgeohash"></a><p>
                    <a class="indexterm" name="idm140286845073616"></a>

                    <a class="link" href="functions.html#function_st-pointfromgeohash"><code class="literal">ST_PointFromGeoHash(<em class="replaceable"><code>geohash_str</code></em>,
                        <em class="replaceable"><code>srid</code></em>)</code></a>
                </p><p style="color:blue;">来自geohash的st_point（geohash_str，srid）</p><p>
                    Returns a <code class="literal">POINT</code> value containing the
                    decoded geohash value, given a geohash string value.
                </p><p style="color:blue;">返回包含解码的geohash值的点值，给定geohash字符串值。</p><p>
                    The X and Y coordinates of the point are the longitude in the
                    range [−180, 180] and the latitude in the range
                    [−90, 90], respectively.
                </p><p style="color:blue;">该点的x和y坐标分别是范围为[-180，180]的经度和范围为[-90，90]的纬度。</p><p>
                    If any argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If any argument is invalid, an
                    error occurs.
                </p><p style="color:blue;">如果任何参数为空，则返回值为空。如果任何参数无效，则会发生错误。</p><p>
                    The <em class="replaceable"><code>srid</code></em> argument is an unsigned
                    32-bit integer.
                </p><p style="color:blue;">srid参数是一个无符号的32位整数。</p><p>
                    The remarks in the description of
                    <a class="link" href="functions.html#function_st-latfromgeohash"><code class="literal">ST_LatFromGeoHash()</code></a> regarding
                    the maximum number of characters processed from the
                    <em class="replaceable"><code>geohash_str</code></em> argument also apply to
                    <a class="link" href="functions.html#function_st-pointfromgeohash"><code class="literal">ST_PointFromGeoHash()</code></a>.
                </p><p style="color:blue;">关于从GeHasHas-STR参数处理的最大字符数的STStLaFieldGeavHASH（）描述中的注释也适用于STYPositFaseGueHASH（）。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @gh = ST_GeoHash(45,-20,10);</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_PointFromGeoHash(@gh,0));</code></strong>
+---------------------------------------+
| ST_AsText(ST_PointFromGeoHash(@gh,0)) |
+---------------------------------------+
| POINT(45 -20)                         |
+---------------------------------------+
</pre></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="spatial-geojson-functions"></a>12.16.11&nbsp;Spatial GeoJSON Functions</h3>

                    </div>

                </div>

            </div>
            <p>
                This section describes functions for converting between GeoJSON
                documents and spatial values. GeoJSON is an open standard for
                encoding geometric/geographical features. For more information,
                see <a class="ulink" href="http://geojson.org" target="_top">http://geojson.org</a>. The functions discussed
                here follow GeoJSON specification revision 1.0.
            </p><p style="color:blue;">本节描述在geojson文档和空间值之间进行转换的函数。geojson是编码几何/地理特征的开放标准。有关更多信息，请参见http://geojson.org。这里讨论的函数遵循geojson规范修订版1.0。</p><p>
            GeoJSON supports the same geometric/geographic data types that
            MySQL supports. Feature and FeatureCollection objects are not
            supported, except that geometry objects are extracted from them.
            CRS support is limited to values that identify an SRID.
        </p><p style="color:blue;">geojson支持与mysql相同的几何/地理数据类型。不支持要素和要素集合对象，只支持从中提取几何体对象。CRS支持仅限于标识SRID的值。</p><p>
            MySQL also supports a native <a class="link" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type"><code class="literal">JSON</code></a>
            data type and a set of SQL functions to enable operations on JSON
            values. For more information, see <a class="xref" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type">Section&nbsp;11.6, “The JSON Data Type”</a>, and
            <a class="xref" href="functions.html#json-functions" title="12.17&nbsp;JSON Functions">Section&nbsp;12.17, “JSON Functions”</a>.
        </p><p style="color:blue;">mysql还支持本地json数据类型和一组sql函数，以启用对json值的操作。有关更多信息，请参阅第11.6节“JSON数据类型”和第12.17节“JSON函数”。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_st-asgeojson"></a><p>
                    <a class="indexterm" name="idm140286845048608"></a>

                    <a class="link" href="functions.html#function_st-asgeojson"><code class="literal">ST_AsGeoJSON(<em class="replaceable"><code>g</code></em>
                        [, <em class="replaceable"><code>max_dec_digits</code></em> [,
                        <em class="replaceable"><code>options</code></em>]])</code></a>
                </p><p style="color:blue;">st_asgeojson（g[，max_dec_digits[，options]]）</p><p>
                    Generates a GeoJSON object from the geometry
                    <em class="replaceable"><code>g</code></em>. The object string has the
                    connection character set and collation.
                </p><p style="color:blue;">从几何图形G生成GeoJSON对象。对象字符串具有连接字符集和排序规则。</p><p>
                    If any argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If any non-<code class="literal">NULL</code>
                    argument is invalid, an error occurs.
                </p><p style="color:blue;">如果任何参数为空，则返回值为空。如果任何非空参数无效，则会发生错误。</p><p>
                    <em class="replaceable"><code>max_dec_digits</code></em>, if specified,
                    limits the number of decimal digits for coordinates and causes
                    rounding of output. If not specified, this argument defaults
                    to its maximum value of 2<sup>32</sup> −
                    1. The minimum is 0.
                </p><p style="color:blue;">如果指定max_dec_digits，则限制坐标的小数位数，并导致输出舍入。如果未指定，则该参数默认为其最大值为232比1。最小值为0。</p><p>
                    <em class="replaceable"><code>options</code></em>, if specified, is a
                    bitmask. The following table shows the permitted flag values.
                    If the geometry argument has an SRID of 0, no CRS object is
                    produced even for those flag values that request one.
                </p><p style="color:blue;">选项（如果指定）是位掩码。下表显示了允许的标志值。如果geometry参数的srid为0，则即使对于请求crs对象的标志值，也不会生成crs对象。</p>
                    <div class="informaltable">
                        <table summary="Option flags for the ST_AsGeoJSON() function."><colgroup><col width="10%"><col width="90%"></colgroup><thead><tr>
                            <th scope="col">Flag Value</th>
                            <th scope="col">Meaning</th>
                        </tr></thead><tbody><tr>
                            <td scope="row">0</td>
                            <td>No options. This is the default if <em class="replaceable"><code>options</code></em> is
                                not specified.</td>
                        </tr><tr>
                            <td scope="row">1</td>
                            <td>Add a bounding box to the output.</td>
                        </tr><tr>
                            <td scope="row">2</td>
                            <td>Add a short-format CRS URN to the output. The default format is a short
                                format
                                (<code class="literal">EPSG:<em class="replaceable"><code>srid</code></em></code>).</td>
                        </tr><tr>
                            <td scope="row">4</td>
                            <td>Add a long-format CRS URN
                                (<code class="literal">urn:ogc:def:crs:EPSG::<em class="replaceable"><code>srid</code></em></code>).
                                This flag overrides flag 2. For example, option values
                                of 5 and 7 mean the same (add a bounding box and a
                                long-format CRS URN).</td>
                        </tr></tbody></table>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ST_AsGeoJSON(ST_GeomFromText('POINT(11.11111 12.22222)'),2);</code></strong>
+-------------------------------------------------------------+
| ST_AsGeoJSON(ST_GeomFromText('POINT(11.11111 12.22222)'),2) |
+-------------------------------------------------------------+
| {"type": "Point", "coordinates": [11.11, 12.22]}            |
+-------------------------------------------------------------+
</pre></li><li class="listitem"><a name="function_st-geomfromgeojson"></a><p>
                    <a class="indexterm" name="idm140286845013920"></a>

                    <a class="link" href="functions.html#function_st-geomfromgeojson"><code class="literal">ST_GeomFromGeoJSON(<em class="replaceable"><code>str</code></em>
                        [, <em class="replaceable"><code>options</code></em> [,
                        <em class="replaceable"><code>srid</code></em>]])</code></a>
                </p><p style="color:blue;">St_GeomFromGeoJSON（str[，options[，srid]]）</p><p>
                    Parses a string <em class="replaceable"><code>str</code></em> representing a
                    GeoJSON object and returns a geometry.
                </p><p style="color:blue;">解析表示geojson对象的字符串str并返回几何体。</p><p>
                    If any argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>. If any non-<code class="literal">NULL</code>
                    argument is invalid, an error occurs.
                </p><p style="color:blue;">如果任何参数为空，则返回值为空。如果任何非空参数无效，则会发生错误。</p><p>
                    <em class="replaceable"><code>options</code></em>, if given, describes how to
                    handle GeoJSON documents that contain geometries with
                    coordinate dimensions higher than 2. The following table shows
                    the permitted <em class="replaceable"><code>options</code></em> values.
                </p><p style="color:blue;">选项（如果给定）描述如何处理包含坐标维度大于2的几何图形的geojson文档。下表显示了允许的选项值。</p>
                    <div class="informaltable">
                        <table summary="Option flags for the ST_GeomFromGeoJSON() function."><colgroup><col width="10%"><col width="90%"></colgroup><thead><tr>
                            <th scope="col">Option Value</th>
                            <th scope="col">Meaning</th>
                        </tr></thead><tbody><tr>
                            <td scope="row">1</td>
                            <td>Reject the document and produce an error. This is the default if
                                <em class="replaceable"><code>options</code></em> is not specified.</td>
                        </tr><tr>
                            <td scope="row">2, 3, 4</td>
                            <td>Accept the document and strip off the coordinates for higher coordinate
                                dimensions.</td>
                        </tr></tbody></table>
                    </div>
                    <p>
                        <em class="replaceable"><code>options</code></em> values of 2, 3, and 4
                        currently produce the same effect. If geometries with
                        coordinate dimensions higher than 2 are supported in the
                        future, these values will produce different effects.
                    </p><p style="color:blue;">选项值2、3和4当前产生相同的效果。如果将来支持坐标尺寸大于2的几何图形，这些值将产生不同的效果。</p><p>
                        The <em class="replaceable"><code>srid</code></em> argument, if given, must
                        be a 32-bit unsigned integer. If not given, the geometry
                        return value has an SRID of 4326.
                    </p><p style="color:blue;">srid参数（如果给定）必须是32位无符号整数。如果未给定，则几何体返回值的srid为4326。</p><p>
                        GeoJSON geometry, feature, and feature collection objects may
                        have a <code class="literal">crs</code> property. The parsing function
                        parses named CRS URNs in the
                        <code class="literal">urn:ogc:def:crs:EPSG::<em class="replaceable"><code>srid</code></em></code>
                        and <code class="literal">EPSG:<em class="replaceable"><code>srid</code></em></code>
                        namespaces, but not CRSs given as link objects. Also,
                        <code class="literal">urn:ogc:def:crs:OGC:1.3:CRS84</code> is recognized
                        as SRID 4326. If an object has a CRS that is not understood,
                        an error occurs, with the exception that if the optional
                        <em class="replaceable"><code>srid</code></em> argument is given, any CRS is
                        ignored even if it is invalid.
                    </p><p style="color:blue;">geojson geometry、feature和feature collection对象可能具有crs属性。解析函数解析urn:ogc:def:crs:epsg：：srid和epsg:srid命名空间中的命名crs urn，但不解析作为链接对象给定的crs。此外，urn:ogc:def:crs:ogc:1.3:crs84被识别为srid 4326。如果一个对象有一个不可理解的crs，则会发生一个错误，但如果给定了可选srid参数，则即使任何crs无效也会被忽略。</p><p>
                        As specified in the GeoJSON specification, parsing is case
                        sensitive for the <code class="literal">type</code> member of the
                        GeoJSON input (<code class="literal">Point</code>,
                        <code class="literal">LineString</code>, and so forth). The
                        specification is silent regarding case sensitivity for other
                        parsing, which in MySQL is not case-sensitive.
                    </p><p style="color:blue;">正如geojson规范中所指定的，解析对于geojson输入的类型成员（point、linestring等）是区分大小写的。规范对其他解析的大小写敏感度没有说明，而在mysql中，这些解析是不区分大小写的。</p><p>
                        This example shows the parsing result for a simple GeoJSON
                        object:
                    </p><p style="color:blue;">此示例显示了一个简单geojson对象的解析结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @json = '{ "type": "Point", "coordinates": [102.0, 0.0]}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_GeomFromGeoJSON(@json));</code></strong>
+--------------------------------------+
| ST_AsText(ST_GeomFromGeoJSON(@json)) |
+--------------------------------------+
| POINT(102 0)                         |
+--------------------------------------+
</pre></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="spatial-convenience-functions"></a>12.16.12&nbsp;Spatial Convenience Functions</h3>

                    </div>

                </div>

            </div>
            <p>
                The functions in this section provide convenience operations on
                geometry values.
            </p><p style="color:blue;">本节中的函数提供了对几何值的方便操作。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_st-distance-sphere"></a><p>
                    <a class="indexterm" name="idm140286844974512"></a>

                    <a class="link" href="functions.html#function_st-distance-sphere"><code class="literal">ST_Distance_Sphere(<em class="replaceable"><code>g1</code></em>,
                        <em class="replaceable"><code>g2</code></em> [,
                        <em class="replaceable"><code>radius</code></em>])</code></a>
                </p><p style="color:blue;">球面距离（g1，g2[，半径]）</p><p>
                    Returns the mimimum spherical distance between two points
                    and/or multipoints on a sphere, in meters, or
                    <code class="literal">NULL</code> if any geometry argument is
                    <code class="literal">NULL</code> or empty.
                </p><p style="color:blue;">返回球体上两点和/或多点之间的最小球面距离（以米为单位），如果任何几何参数为空或为空，则返回空。</p><p>
                    Calculations use a spherical earth and a configurable radius.
                    The optional <em class="replaceable"><code>radius</code></em> argument should
                    be given in meters. If omitted, the default radius is
                    6,370,986 meters. An
                    <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                    occurs if the <em class="replaceable"><code>radius</code></em> argument is
                    present but not positive.
                </p><p style="color:blue;">计算使用球形地球和可配置半径。可选半径参数应以米为单位。如果忽略，默认半径为6370986米。如果radius参数存在但不为正，则会发生er_wrong_arguments错误。</p><p>
                    The geometry arguments should consist of points that specify
                    (longitude, latitude) coordinate values:
                </p><p style="color:blue;">几何参数应包含指定（经度、纬度）坐标值的点：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            Longitude and latitude are the first and second
                            coordinates of the point, respectively.
                        </p><p style="color:blue;">经度和纬度分别是点的第一和第二坐标。</p></li><li class="listitem"><p>
                            Both coordinates are in degrees.
                        </p><p style="color:blue;">两个坐标都以度为单位。</p></li><li class="listitem"><p>
                            Longitude values must be in the range (-180, 180].
                            Positive values are east of the prime meridian.
                        </p><p style="color:blue;">经度值必须在范围（-180，180）内。正值位于本初子午线以东。</p></li><li class="listitem"><p>
                            Latitude values must be in the range [-90, 90]. Positive
                            values are north of the equator.
                        </p><p style="color:blue;">纬度值必须在范围[-90，90]内。正值位于赤道以北。</p></li></ul>
                    </div>
                    <p>
                        Supported argument combinations are (<code class="literal">Point</code>,
                        <code class="literal">Point</code>), (<code class="literal">Point</code>,
                        <code class="literal">MultiPoint</code>), and
                        (<code class="literal">MultiPoint</code>, <code class="literal">Point</code>). An
                        <a class="link" href="error-handling.html#error_er_gis_unsupported_argument"><code class="literal">ER_GIS_UNSUPPORTED_ARGUMENT</code></a>
                        error occurs for other combinations.
                    </p><p style="color:blue;">支持的参数组合是（点，点），（点，多点）和（多点，点）。对于其他组合，出现不支持的参数错误。</p><p>
                        If any geometry argument is not a syntactically well-formed
                        geometry byte string, an
                        <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a> error
                        occurs.
                    </p><p style="color:blue;">如果任何几何参数不是语法上格式良好的几何字节字符串，则会发生er_gis_invalid_data错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @pt1 = ST_GeomFromText('POINT(0 0)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @pt2 = ST_GeomFromText('POINT(180 0)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_Distance_Sphere(@pt1, @pt2);</code></strong>
+--------------------------------+
| ST_Distance_Sphere(@pt1, @pt2) |
+--------------------------------+
|             20015042.813723423 |
+--------------------------------+
</pre><p>
                        This function was added in MySQL 5.7.6.
                    </p><p style="color:blue;">这个函数是在mysql 5.7.6中添加的。</p></li><li class="listitem"><a name="function_st-isvalid"></a><p>
                    <a class="indexterm" name="idm140286844944992"></a>

                    <a class="link" href="functions.html#function_st-isvalid"><code class="literal">ST_IsValid(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">St_有效（g）</p><p>
                    Returns 1 if the argument is syntactically well-formed and is
                    geometrically valid, 0 if the argument is not syntactically
                    well-formed or is not geometrically valid. If the argument is
                    <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>. Geometry validity is defined by the
                    OGC specification.
                </p><p style="color:blue;">如果参数的语法格式正确且几何有效，则返回1；如果参数的语法格式错误或几何无效，则返回0。如果参数为空，则返回值为空。几何有效性由ogc规范定义。</p><p>
                    The only valid empty geometry is represented in the form of an
                    empty geometry collection value.
                    <a class="link" href="functions.html#function_st-isvalid"><code class="literal">ST_IsValid()</code></a> returns 1 in this
                    case.
                </p><p style="color:blue;">唯一有效的空几何图形以空几何图形集合值的形式表示。在这种情况下，st_isvalid（）返回1。</p><p>
                    <a class="link" href="functions.html#function_st-isvalid"><code class="literal">ST_IsValid()</code></a> works only for the
                    Cartesian coordinate system and requires a geometry argument
                    with an SRID of 0. An
                    <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                    occurs otherwise.
                </p><p style="color:blue;">st_isvalid（）仅适用于笛卡尔坐标系，需要srid为0的几何参数。否则会发生er_wrong_arguments错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls1 = ST_GeomFromText('LINESTRING(0 0,-0.00 0,0.0 0)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @ls2 = ST_GeomFromText('LINESTRING(0 0, 1 1)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_IsValid(@ls1);</code></strong>
+------------------+
| ST_IsValid(@ls1) |
+------------------+
|                0 |
+------------------+
mysql&gt; <strong class="userinput"><code>SELECT ST_IsValid(@ls2);</code></strong>
+------------------+
| ST_IsValid(@ls2) |
+------------------+
|                1 |
+------------------+
</pre><p>
                    This function was added in MySQL 5.7.6.
                </p><p style="color:blue;">这个函数是在mysql 5.7.6中添加的。</p></li><li class="listitem"><a name="function_st-makeenvelope"></a><p>
                    <a class="indexterm" name="idm140286844925840"></a>

                    <a class="link" href="functions.html#function_st-makeenvelope"><code class="literal">ST_MakeEnvelope(<em class="replaceable"><code>pt1</code></em>,
                        <em class="replaceable"><code>pt2</code></em>)</code></a>
                </p><p style="color:blue;">圣马可信封（PT1、PT2）</p><p>
                    Returns the rectangle that forms the envelope around two
                    points, as a <code class="literal">Point</code>,
                    <code class="literal">LineString</code>, or <code class="literal">Polygon</code>.
                    If any argument is <code class="literal">NULL</code>, the return value
                    is <code class="literal">NULL</code>.
                </p><p style="color:blue;">返回围绕两点形成信封的矩形，如点、线串或多边形。如果任何参数为空，则返回值为空。</p><p>
                    Calculations are done using the Cartesian coordinate system
                    rather than on a sphere, spheroid, or on earth.
                </p><p style="color:blue;">计算是使用笛卡尔坐标系而不是在球体、球体或地球上进行的。</p><p>
                    Given two points <em class="replaceable"><code>pt1</code></em> and
                    <em class="replaceable"><code>pt2</code></em>,
                    <a class="link" href="functions.html#function_st-makeenvelope"><code class="literal">ST_MakeEnvelope()</code></a> creates the
                    result geometry on an abstract plane like this:
                </p><p style="color:blue;">给定两点pt1和pt2，st_makeenvelope（）在抽象平面上创建结果几何体，如下所示：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            If <em class="replaceable"><code>pt1</code></em> and
                            <em class="replaceable"><code>pt2</code></em> are equal, the result is
                            the point <em class="replaceable"><code>pt1</code></em>.
                        </p><p style="color:blue;">如果pt1和pt2相等，则结果为点pt1。</p></li><li class="listitem"><p>
                            Otherwise, if <code class="literal">(<em class="replaceable"><code>pt1</code></em>,
                            <em class="replaceable"><code>pt2</code></em>)</code> is a vertical or
                            horizontal line segment, the result is the line segment
                            <code class="literal">(<em class="replaceable"><code>pt1</code></em>,
                                <em class="replaceable"><code>pt2</code></em>)</code>.
                        </p><p style="color:blue;">否则，如果（pt1，pt2）是垂直或水平线段，则结果是线段（pt1，pt2）。</p></li><li class="listitem"><p>
                            Otherwise, the result is a polygon using
                            <em class="replaceable"><code>pt1</code></em> and
                            <em class="replaceable"><code>pt2</code></em> as diagonal points.
                        </p><p style="color:blue;">否则，结果是使用pt1和pt2作为对角点的多边形。</p></li></ul>
                    </div>
                    <p>
                        The result geometry has an SRID of 0.
                    </p><p style="color:blue;">结果几何体的srid为0。</p><p>
                        <a class="link" href="functions.html#function_st-makeenvelope"><code class="literal">ST_MakeEnvelope()</code></a> requires
                        <code class="literal">Point</code> geometry arguments with an SRID of 0.
                        An <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                        occurs otherwise.
                    </p><p style="color:blue;">st_makeenvelope（）需要srid为0的点几何参数。否则会发生er_wrong_arguments错误。</p><p>
                        If any argument is not a syntactically well-formed geometry
                        byte string, or if any coordinate value of the two points is
                        infinite or <code class="literal">NaN</code>, an
                        <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a> error
                        occurs.
                    </p><p style="color:blue;">如果任何参数不是语法良好的几何字节字符串，或者两点的任何坐标值是无穷大或NaN，则会发生ER U GIS U INVALID U数据错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @pt1 = ST_GeomFromText('POINT(0 0)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @pt2 = ST_GeomFromText('POINT(1 1)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_MakeEnvelope(@pt1, @pt2));</code></strong>
+----------------------------------------+
| ST_AsText(ST_MakeEnvelope(@pt1, @pt2)) |
+----------------------------------------+
| POLYGON((0 0,1 0,1 1,0 1,0 0))         |
+----------------------------------------+
</pre><p>
                        This function was added in MySQL 5.7.6.
                    </p><p style="color:blue;">这个函数是在mysql 5.7.6中添加的。</p></li><li class="listitem"><a name="function_st-simplify"></a><p>
                    <a class="indexterm" name="idm140286844892032"></a>

                    <a class="link" href="functions.html#function_st-simplify"><code class="literal">ST_Simplify(<em class="replaceable"><code>g</code></em>,
                        <em class="replaceable"><code>max_distance</code></em>)</code></a>
                </p><p style="color:blue;">简化（g，最大距离）</p><p>
                    Simplifies a geometry using the Douglas-Peucker algorithm and
                    returns a simplified value of the same type. If any argument
                    is <code class="literal">NULL</code>, the return value is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用Douglas Peucker算法简化几何体并返回相同类型的简化值。如果任何参数为空，则返回值为空。</p><p>
                    The geometry may be any geometry type, although the
                    Douglas-Peucker algorithm may not actually process every type.
                    A geometry collection is processed by giving its components
                    one by one to the simplification algorithm, and the returned
                    geometries are put into a geometry collection as result.
                </p><p style="color:blue;">几何体可以是任何类型的几何体，尽管douglas-peucker算法可能并不实际处理每种类型。通过将一个几何集合的各个组件逐个提供给简化算法来处理该集合，并将返回的几何图形作为结果放入几何集合中。</p><p>
                    The <em class="replaceable"><code>max_distance</code></em> argument is the
                    distance (in units of the input coordinates) of a vertex to
                    other segments to be removed. Vertices within this distance of
                    the simplified linestring are removed. If the
                    <em class="replaceable"><code>max_distance</code></em> argument is not
                    positive, or is <code class="literal">NaN</code>, an
                    <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                    occurs.
                </p><p style="color:blue;">max_distance参数是顶点到要删除的其他线段的距离（单位为输入坐标）。将删除简化线串此距离内的顶点。如果max_distance参数不是正的，或者是NaN，则会发生er_wrong_arguments错误。</p><p>
                    According to Boost.Geometry, geometries might become invalid
                    as a result of the simplification process, and the process
                    might create self-intersections. To check the validity of the
                    result, pass it to
                    <a class="link" href="functions.html#function_st-isvalid"><code class="literal">ST_IsValid()</code></a>.
                </p><p style="color:blue;">根据Boost.Geometry的说法，由于简化过程，几何图形可能会变得无效，并且该过程可能会创建自相交。要检查结果的有效性，请将其传递给st_isvalid（）。</p><p>
                    If the geometry argument is not a syntactically well-formed
                    geometry byte string, an
                    <a class="link" href="error-handling.html#error_er_gis_invalid_data"><code class="literal">ER_GIS_INVALID_DATA</code></a> error
                    occurs.
                </p><p style="color:blue;">如果几何参数不是语法上格式良好的几何字节字符串，则会发生er_gis_invalid_data错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @g = ST_GeomFromText('LINESTRING(0 0,0 1,1 1,1 2,2 2,2 3,3 3)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Simplify(@g, 0.5));</code></strong>
+---------------------------------+
| ST_AsText(ST_Simplify(@g, 0.5)) |
+---------------------------------+
| LINESTRING(0 0,0 1,1 1,2 3,3 3) |
+---------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Simplify(@g, 1.0));</code></strong>
+---------------------------------+
| ST_AsText(ST_Simplify(@g, 1.0)) |
+---------------------------------+
| LINESTRING(0 0,3 3)             |
+---------------------------------+
</pre><p>
                    This function was added in MySQL 5.7.6.
                </p><p style="color:blue;">这个函数是在mysql 5.7.6中添加的。</p></li><li class="listitem"><a name="function_st-validate"></a><p>
                    <a class="indexterm" name="idm140286844870000"></a>

                    <a class="link" href="functions.html#function_st-validate"><code class="literal">ST_Validate(<em class="replaceable"><code>g</code></em>)</code></a>
                </p><p style="color:blue;">验证（G）</p><p>
                    Validates a geometry according to the OGC specification. A
                    geometry can be syntactically well-formed (WKB value plus
                    SRID) but geometrically invalid. For example, this polygon is
                    geometrically invalid: <code class="literal">POLYGON((0 0, 0 0, 0 0, 0 0, 0
                    0))</code>
                </p><p style="color:blue;">根据ogc规范验证几何图形。几何图形可以在语法上形成良好（wkb值加上srid），但在几何上无效。例如，此多边形在几何上无效：多边形（（0 0，0 0，0 0，0 0，0 0，0 0）</p><p>
                    <a class="link" href="functions.html#function_st-validate"><code class="literal">ST_Validate()</code></a> returns the
                    geometry if it is syntactically well-formed and is
                    geometrically valid, <code class="literal">NULL</code> if the argument
                    is not syntactically well-formed or is not geometrically valid
                    or is <code class="literal">NULL</code>.
                </p><p style="color:blue;">st_validate（）返回语法良好且几何有效的几何体，如果参数语法不正确或几何无效或为空，则返回空。</p><p>
                    <a class="link" href="functions.html#function_st-validate"><code class="literal">ST_Validate()</code></a> can be used to
                    filter out invalid geometry data, although at a cost. For
                    applications that require more precise results not tainted by
                    invalid data, this penalty may be worthwhile.
                </p><p style="color:blue;">st_validate（）可用于筛选无效的几何数据，但需要付出一定代价。对于需要更精确结果而不受无效数据影响的应用程序，这种惩罚可能是值得的。</p><p>
                    If the geometry argument is valid, it is returned as is,
                    except that if an input <code class="literal">Polygon</code> or
                    <code class="literal">MultiPolygon</code> has clockwise rings, those
                    rings are reversed before checking for validity. If the
                    geometry is valid, the value with the reversed rings is
                    returned.
                </p><p style="color:blue;">如果geometry参数有效，则按原样返回，但如果输入多边形或多多边形具有顺时针环，则在检查有效性之前会反转这些环。如果几何体有效，则返回具有反转环的值。</p><p>
                    The only valid empty geometry is represented in the form of an
                    empty geometry collection value.
                    <a class="link" href="functions.html#function_st-validate"><code class="literal">ST_Validate()</code></a> returns it
                    directly without further checks in this case.
                </p><p style="color:blue;">唯一有效的空几何图形以空几何图形集合值的形式表示。在这种情况下，st_validate（）直接返回它，而无需进一步检查。</p><p>
                    <a class="link" href="functions.html#function_st-validate"><code class="literal">ST_Validate()</code></a> works only for
                    the Cartesian coordinate system and requires a geometry
                    argument with an SRID of 0. An
                    <a class="link" href="error-handling.html#error_er_wrong_arguments"><code class="literal">ER_WRONG_ARGUMENTS</code></a> error
                    occurs otherwise.
                </p><p style="color:blue;">st_validate（）仅适用于笛卡尔坐标系，需要srid为0的几何参数。否则会发生er_wrong_arguments错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @ls1 = ST_GeomFromText('LINESTRING(0 0)');</code></strong>
mysql&gt; <strong class="userinput"><code>SET @ls2 = ST_GeomFromText('LINESTRING(0 0, 1 1)');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Validate(@ls1));</code></strong>
+------------------------------+
| ST_AsText(ST_Validate(@ls1)) |
+------------------------------+
| NULL                         |
+------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT ST_AsText(ST_Validate(@ls2));</code></strong>
+------------------------------+
| ST_AsText(ST_Validate(@ls2)) |
+------------------------------+
| LINESTRING(0 0,1 1)          |
+------------------------------+
</pre><p>
                    This function was added in MySQL 5.7.6.
                </p><p style="color:blue;">这个函数是在mysql 5.7.6中添加的。</p></li></ul>
            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="json-functions"></a>12.17&nbsp;JSON Functions</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#json-function-reference">12.17.1 JSON Function Reference</a></span></dt><dt><span class="section"><a href="functions.html#json-creation-functions">12.17.2 Functions That Create JSON Values</a></span></dt><dt><span class="section"><a href="functions.html#json-search-functions">12.17.3 Functions That Search JSON Values</a></span></dt><dt><span class="section"><a href="functions.html#json-modification-functions">12.17.4 Functions That Modify JSON Values</a></span></dt><dt><span class="section"><a href="functions.html#json-attribute-functions">12.17.5 Functions That Return JSON Value Attributes</a></span></dt><dt><span class="section"><a href="functions.html#json-utility-functions">12.17.6 JSON Utility Functions</a></span></dt></dl>
        </div>
        <a class="indexterm" name="idm140286844845824"></a><p>
        The functions described in this section perform operations on JSON
        values. For discussion of the <a class="link" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type"><code class="literal">JSON</code></a>
        data type and additional examples showing how to use these
        functions, see <a class="xref" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type">Section&nbsp;11.6, “The JSON Data Type”</a>.
    </p><p style="color:blue;">本节中描述的函数对json值执行操作。有关json数据类型的讨论和显示如何使用这些函数的其他示例，请参见第11.6节“json数据类型”。</p><p>
        For functions that take a JSON argument, an error occurs if the
        argument is not a valid JSON value. Arguments parsed as JSON are
        indicated by <em class="replaceable"><code>json_doc</code></em>; arguments
        indicated by <em class="replaceable"><code>val</code></em> are not parsed.
    </p><p style="color:blue;">对于接受json参数的函数，如果参数不是有效的json值，则会发生错误。解析为json的参数由json-doc指示；而val指示的参数则不被解析。</p><p>
        Unless otherwise indicated, the JSON functions were added in MySQL
        5.7.8.
    </p><p style="color:blue;">除非另有说明，json函数是在mysql 5.7.8中添加的。</p><p>
        A set of spatial functions for operating on GeoJSON values is also
        available. See <a class="xref" href="functions.html#spatial-geojson-functions" title="12.16.11&nbsp;Spatial GeoJSON Functions">Section&nbsp;12.16.11, “Spatial GeoJSON Functions”</a>.
    </p><p style="color:blue;">还提供了一组用于操作geojson值的空间函数。见第12.16.11节“空间geojson函数”。</p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="json-function-reference"></a>12.17.1&nbsp;JSON Function Reference</h3>
                    </div>
                </div>
            </div>
            <a class="indexterm" name="idm140286844838000"></a>
            <div class="table">
                <a name="idm140286844836928"></a><p class="title"><b>Table&nbsp;12.21&nbsp;JSON Functions</b></p><p style="color:blue;">表12.21 JSON函数</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists all JSON functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_json-append"><code class="literal">JSON_APPEND()</code></a> (deprecated 5.7.9)</td>
                        <td>
                            Append data to JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-array"><code class="literal">JSON_ARRAY()</code></a></td>
                        <td>
                            Create JSON array
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-array-append"><code class="literal">JSON_ARRAY_APPEND()</code></a></td>
                        <td>
                            Append data to JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-array-insert"><code class="literal">JSON_ARRAY_INSERT()</code></a></td>
                        <td>
                            Insert into JSON array
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a></td>
                        <td>
                            Return value from JSON column after evaluating path; equivalent to
                            JSON_EXTRACT().
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-contains"><code class="literal">JSON_CONTAINS()</code></a></td>
                        <td>
                            Whether JSON document contains specific object at path
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-contains-path"><code class="literal">JSON_CONTAINS_PATH()</code></a></td>
                        <td>
                            Whether JSON document contains any data at path
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-depth"><code class="literal">JSON_DEPTH()</code></a></td>
                        <td>
                            Maximum depth of JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-extract"><code class="literal">JSON_EXTRACT()</code></a></td>
                        <td>
                            Return data from JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#operator_json-inline-path"><code class="literal">-&gt;&gt;</code></a></td>
                        <td>
                            Return value from JSON column after evaluating path and unquoting
                            the result; equivalent to JSON_UNQUOTE(JSON_EXTRACT()).
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a></td>
                        <td>
                            Insert data into JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-keys"><code class="literal">JSON_KEYS()</code></a></td>
                        <td>
                            Array of keys from JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-length"><code class="literal">JSON_LENGTH()</code></a></td>
                        <td>
                            Number of elements in JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-merge"><code class="literal">JSON_MERGE()</code></a> (deprecated 5.7.22)</td>
                        <td>
                            Merge JSON documents, preserving duplicate keys. Deprecated
                            synonym for JSON_MERGE_PRESERVE()
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-merge-patch"><code class="literal">JSON_MERGE_PATCH()</code></a></td>
                        <td>
                            Merge JSON documents, replacing values of duplicate keys
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE()</code></a></td>
                        <td>
                            Merge JSON documents, preserving duplicate keys
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-object"><code class="literal">JSON_OBJECT()</code></a></td>
                        <td>
                            Create JSON object
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-pretty"><code class="literal">JSON_PRETTY()</code></a></td>
                        <td>
                            Print a JSON document in human-readable format
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-quote"><code class="literal">JSON_QUOTE()</code></a></td>
                        <td>
                            Quote JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-remove"><code class="literal">JSON_REMOVE()</code></a></td>
                        <td>
                            Remove data from JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a></td>
                        <td>
                            Replace values in JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-search"><code class="literal">JSON_SEARCH()</code></a></td>
                        <td>
                            Path to value within JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a></td>
                        <td>
                            Insert data into JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-storage-size"><code class="literal">JSON_STORAGE_SIZE()</code></a></td>
                        <td>
                            Space used for storage of binary representation of a JSON document
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-type"><code class="literal">JSON_TYPE()</code></a></td>
                        <td>
                            Type of JSON value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-unquote"><code class="literal">JSON_UNQUOTE()</code></a></td>
                        <td>
                            Unquote JSON value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-valid"><code class="literal">JSON_VALID()</code></a></td>
                        <td>
                            Whether JSON value is valid
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            MySQL 5.7.22 and later supports two aggregate JSON functions
            <a class="link" href="functions.html#function_json-arrayagg"><code class="literal">JSON_ARRAYAGG()</code></a> and
            <a class="link" href="functions.html#function_json-objectagg"><code class="literal">JSON_OBJECTAGG()</code></a>. See
            <a class="xref" href="functions.html#group-by-functions-and-modifiers" title="12.20&nbsp;Aggregate (GROUP BY) Functions">Section&nbsp;12.20, “Aggregate (GROUP BY) Functions”</a>, for
            descriptions of these.
        </p><p style="color:blue;">mysql 5.7.22及更高版本支持两个聚合json函数json_arrayagg（）和json_objectagg（）。有关这些函数的说明，请参见第12.20节“聚合（分组）函数”。</p><p>
            Also beginning with MySQL 5.7.22:
        </p><p style="color:blue;">同样从mysql 5.7.22开始：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <span class="quote">“<span class="quote">pretty-printing</span>”</span> of JSON values in an
                    easy-to-read format can be obtained using the
                    <a class="link" href="functions.html#function_json-pretty"><code class="literal">JSON_PRETTY()</code></a> function.
                </p><p style="color:blue;">可以使用json_pretty（）函数以易于阅读的格式获得json值的“漂亮打印”。</p></li><li class="listitem"><p>
                    You can see how much storage space a given JSON value takes up
                    using <a class="link" href="functions.html#function_json-storage-size"><code class="literal">JSON_STORAGE_SIZE()</code></a>.
                </p><p style="color:blue;">使用json-storage-size（）可以看到给定的json值占用了多少存储空间。</p></li></ul>
            </div>
            <p>
                For complete descriptions of these two functions, see
                <a class="xref" href="functions.html#json-utility-functions" title="12.17.6&nbsp;JSON Utility Functions">Section&nbsp;12.17.6, “JSON Utility Functions”</a>.
            </p><p style="color:blue;">有关这两个函数的完整描述，请参见第12.17.6节“JSON实用函数”。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="json-creation-functions"></a>12.17.2&nbsp;Functions That Create JSON Values</h3>

                    </div>

                </div>

            </div>
            <p>
                The functions listed in this section compose JSON values from
                component elements.
            </p><p style="color:blue;">本节中列出的函数从组件元素组成json值。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_json-array"></a><p>
                    <a class="indexterm" name="idm140286844727248"></a>

                    <a class="link" href="functions.html#function_json-array"><code class="literal">JSON_ARRAY([<em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>val</code></em>] ...])</code></a>
                </p><p style="color:blue;">json_数组（[val[，val]…]）</p><p>
                    Evaluates a (possibly empty) list of values and returns a JSON
                    array containing those values.
                </p><p style="color:blue;">计算值（可能为空）列表并返回包含这些值的json数组。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY(1, "abc", NULL, TRUE, CURTIME());</code></strong>
+---------------------------------------------+
| JSON_ARRAY(1, "abc", NULL, TRUE, CURTIME()) |
+---------------------------------------------+
| [1, "abc", null, true, "11:30:24.000000"]   |
+---------------------------------------------+
</pre></li><li class="listitem"><a name="function_json-object"></a><p>
                    <a class="indexterm" name="idm140286844715840"></a>

                    <a class="link" href="functions.html#function_json-object"><code class="literal">JSON_OBJECT([<em class="replaceable"><code>key</code></em>,
                        <em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>key</code></em>,
                        <em class="replaceable"><code>val</code></em>] ...])</code></a>
                </p><p style="color:blue;">json_对象（[key，val[，key，val]…]）</p><p>
                    Evaluates a (possibly empty) list of key-value pairs and
                    returns a JSON object containing those pairs. An error occurs
                    if any key name is <code class="literal">NULL</code> or the number of
                    arguments is odd.
                </p><p style="color:blue;">计算键值对的列表（可能为空），并返回包含这些对的json对象。如果任何键名为空或参数数为奇数，则会发生错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECT('id', 87, 'name', 'carrot');</code></strong>
+-----------------------------------------+
| JSON_OBJECT('id', 87, 'name', 'carrot') |
+-----------------------------------------+
| {"id": 87, "name": "carrot"}            |
+-----------------------------------------+
</pre></li><li class="listitem"><a name="function_json-quote"></a><p>
                    <a class="indexterm" name="idm140286844702880"></a>

                    <a class="link" href="functions.html#function_json-quote"><code class="literal">JSON_QUOTE(<em class="replaceable"><code>string</code></em>)</code></a>
                </p><p style="color:blue;">JSON引号（字符串）</p><p>
                    Quotes a string as a JSON value by wrapping it with double
                    quote characters and escaping interior quote and other
                    characters, then returning the result as a
                    <code class="literal">utf8mb4</code> string. Returns
                    <code class="literal">NULL</code> if the argument is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用双引号字符将字符串括起来，并转义内部引号和其他字符，然后将结果作为utf8mb4字符串返回，从而将字符串作为json值进行引号括起。如果参数为空，则返回空。</p><p>
                    This function is typically used to produce a valid JSON string
                    literal for inclusion within a JSON document.
                </p><p style="color:blue;">此函数通常用于生成有效的json字符串文本，以便包含在json文档中。</p><p>
                    Certain special characters are escaped with backslashes per
                    the escape sequences shown in
                    <a class="xref" href="functions.html#json-unquote-character-escape-sequences" title="Table&nbsp;12.22&nbsp;JSON_UNQUOTE() Special Character Escape Sequences">Table&nbsp;12.22, “JSON_UNQUOTE() Special Character Escape Sequences”</a>.
                </p><p style="color:blue;">根据表12.22“json_nquote（）特殊字符转义序列”中所示的转义序列，某些特殊字符用反斜杠转义。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_QUOTE('null'), JSON_QUOTE('"null"');</code></strong>
+--------------------+----------------------+
| JSON_QUOTE('null') | JSON_QUOTE('"null"') |
+--------------------+----------------------+
| "null"             | "\"null\""           |
+--------------------+----------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_QUOTE('[1, 2, 3]');</code></strong>
+-------------------------+
| JSON_QUOTE('[1, 2, 3]') |
+-------------------------+
| "[1, 2, 3]"             |
+-------------------------+
</pre></li></ul>
            </div>
            <p>
                You can also obtain JSON values by casting values of other types
                to the <code class="literal">JSON</code> type using
                <a class="link" href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>value</code></em> AS
                    JSON)</code></a>; see
                <a class="xref" href="data-types.html#json-converting-between-types" title="Converting between JSON and non-JSON values">Converting between JSON and non-JSON values</a>, for more
                information.
            </p><p style="color:blue;">您还可以通过使用cast（值为json）将其他类型的值转换为json类型来获取json值；有关更多信息，请参见在json值和非json值之间进行转换。</p><p>
            Two aggregate functions generating JSON values are available
            (MySQL 5.7.22 and later).
            <a class="link" href="functions.html#function_json-arrayagg"><code class="literal">JSON_ARRAYAGG()</code></a> returns a result
            set as a single JSON array, and
            <a class="link" href="functions.html#function_json-objectagg"><code class="literal">JSON_OBJECTAGG()</code></a> returns a result
            set as a single JSON object. For more information, see
            <a class="xref" href="functions.html#group-by-functions-and-modifiers" title="12.20&nbsp;Aggregate (GROUP BY) Functions">Section&nbsp;12.20, “Aggregate (GROUP BY) Functions”</a>.
        </p><p style="color:blue;">提供两个生成json值的聚合函数（mysql 5.7.22及更高版本）。json_arrayagg（）将结果集作为单个json数组返回，json_objectagg（）将结果集作为单个json对象返回。有关更多信息，请参见第12.20节“聚合（分组）函数”。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="json-search-functions"></a>12.17.3&nbsp;Functions That Search JSON Values</h3>

                    </div>

                </div>

            </div>
            <p>
                The functions in this section perform search operations on JSON
                values to extract data from them, report whether data exists at a
                location within them, or report the path to data within them.
            </p><p style="color:blue;">本节中的函数对JSON值执行搜索操作，以从它们中提取数据，报告数据是否存在于它们的位置，或向它们内的数据报告路径。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_json-contains"></a><p>
                    <a class="indexterm" name="idm140286844677008"></a>

                    <a class="link" href="functions.html#function_json-contains"><code class="literal">JSON_CONTAINS(<em class="replaceable"><code>target</code></em>,
                        <em class="replaceable"><code>candidate</code></em>[,
                        <em class="replaceable"><code>path</code></em>])</code></a>
                </p><p style="color:blue;">json_包含（目标，候选[，路径]）</p><p>
                    Indicates by returning 1 or 0 whether a given
                    <em class="replaceable"><code>candidate</code></em> JSON document is
                    contained within a <em class="replaceable"><code>target</code></em> JSON
                    document, or—if a <em class="replaceable"><code>path</code></em>
                    argument was supplied—whether the candidate is found at
                    a specific path within the target. Returns
                    <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>, or if the path argument does not
                    identify a section of the target document. An error occurs if
                    <em class="replaceable"><code>target</code></em> or
                    <em class="replaceable"><code>candidate</code></em> is not a valid JSON
                    document, or if the <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or contains a
                    <code class="literal">*</code> or <code class="literal">**</code> wildcard.
                </p><p style="color:blue;">通过返回1或0指示给定的候选json文档是否包含在目标json文档中，或者是否提供了路径参数指示是否在目标中的特定路径中找到该候选json文档。如果任何参数为空，或者path参数未标识目标文档的某个部分，则返回null。如果目标或候选项不是有效的json文档，或者path参数不是有效的路径表达式或包含*或**通配符，则会发生错误。</p><p>
                    To check only whether any data exists at the path, use
                    <a class="link" href="functions.html#function_json-contains-path"><code class="literal">JSON_CONTAINS_PATH()</code></a> instead.
                </p><p style="color:blue;">若要检查路径中是否存在任何数据，请使用JSON-CulassPATH（）。</p><p>
                    The following rules define containment:
                </p><p style="color:blue;">以下规则定义了包含：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            A candidate scalar is contained in a target scalar if and
                            only if they are comparable and are equal. Two scalar
                            values are comparable if they have the same
                            <a class="link" href="functions.html#function_json-type"><code class="literal">JSON_TYPE()</code></a> types, with the
                            exception that values of types <code class="literal">INTEGER</code>
                            and <code class="literal">DECIMAL</code> are also comparable to each
                            other.
                        </p><p style="color:blue;">当且仅当候选标量可比且相等时，候选标量才包含在目标标量中。如果两个标量值具有相同的json_type（）类型，则它们是可比较的，但integer和decimal类型的值也是可比较的。</p></li><li class="listitem"><p>
                            A candidate array is contained in a target array if and
                            only if every element in the candidate is contained in
                            some element of the target.
                        </p><p style="color:blue;">当且仅当候选数组中的每个元素都包含在目标数组的某个元素中时，候选数组才包含在目标数组中。</p></li><li class="listitem"><p>
                            A candidate nonarray is contained in a target array if and
                            only if the candidate is contained in some element of the
                            target.
                        </p><p style="color:blue;">当且仅当候选包含在目标的某个元素中时，候选非数组才包含在目标数组中。</p></li><li class="listitem"><p>
                            A candidate object is contained in a target object if and
                            only if for each key in the candidate there is a key with
                            the same name in the target and the value associated with
                            the candidate key is contained in the value associated
                            with the target key.
                        </p><p style="color:blue;">候选对象包含在目标对象中，前提是且仅当候选中的每个键在目标中有一个同名的键，并且与候选键关联的值包含在与目标键关联的值中。</p></li></ul>
                    </div>
                    <p>
                        Otherwise, the candidate value is not contained in the target
                        document.
                    </p><p style="color:blue;">否则，候选值不包含在目标文档中。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '{"a": 1, "b": 2, "c": {"d": 4}}';</code></strong>
mysql&gt; <strong class="userinput"><code>SET @j2 = '1';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS(@j, @j2, '$.a');</code></strong>
+-------------------------------+
| JSON_CONTAINS(@j, @j2, '$.a') |
+-------------------------------+
|                             1 |
+-------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS(@j, @j2, '$.b');</code></strong>
+-------------------------------+
| JSON_CONTAINS(@j, @j2, '$.b') |
+-------------------------------+
|                             0 |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SET @j2 = '{"d": 4}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS(@j, @j2, '$.a');</code></strong>
+-------------------------------+
| JSON_CONTAINS(@j, @j2, '$.a') |
+-------------------------------+
|                             0 |
+-------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS(@j, @j2, '$.c');</code></strong>
+-------------------------------+
| JSON_CONTAINS(@j, @j2, '$.c') |
+-------------------------------+
|                             1 |
+-------------------------------+
</pre></li><li class="listitem"><a name="function_json-contains-path"></a><p>
                    <a class="indexterm" name="idm140286844643856"></a>

                    <a class="link" href="functions.html#function_json-contains-path"><code class="literal">JSON_CONTAINS_PATH(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>one_or_all</code></em>,
                        <em class="replaceable"><code>path</code></em>[,
                        <em class="replaceable"><code>path</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_包含路径（json_doc，one_or_all，path[，path]…）</p><p>
                    Returns 0 or 1 to indicate whether a JSON document contains
                    data at a given path or paths. Returns <code class="literal">NULL</code>
                    if any argument is <code class="literal">NULL</code>. An error occurs if
                    the <em class="replaceable"><code>json_doc</code></em> argument is not a
                    valid JSON document, any <em class="replaceable"><code>path</code></em>
                    argument is not a valid path expression, or
                    <em class="replaceable"><code>one_or_all</code></em> is not
                    <code class="literal">'one'</code> or <code class="literal">'all'</code>.
                </p><p style="color:blue;">返回0或1以指示json文档是否在给定的路径中包含数据。如果任何参数为空，则返回空。如果json_doc参数不是有效的json文档，任何path参数不是有效的path表达式，或者one_或_all不是“one”或“all”，则会发生错误。</p><p>
                    To check for a specific value at a path, use
                    <a class="link" href="functions.html#function_json-contains"><code class="literal">JSON_CONTAINS()</code></a> instead.
                </p><p style="color:blue;">要检查路径上的特定值，请改用json_contains（）。</p><p>
                    The return value is 0 if no specified path exists within the
                    document. Otherwise, the return value depends on the
                    <em class="replaceable"><code>one_or_all</code></em> argument:
                </p><p style="color:blue;">如果文档中没有指定的路径，返回值为0。否则，返回值取决于one_或_all参数：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">'one'</code>: 1 if at least one path exists
                            within the document, 0 otherwise.
                        </p><p style="color:blue;">“1”：如果文档中至少存在一条路径，则为1，否则为0。</p></li><li class="listitem"><p>
                            <code class="literal">'all'</code>: 1 if all paths exist within the
                            document, 0 otherwise.
                        </p><p style="color:blue;">“全部”：1，如果所有的路径存在于文档中，则为0。</p></li></ul>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '{"a": 1, "b": 2, "c": {"d": 4}}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e');</code></strong>
+---------------------------------------------+
| JSON_CONTAINS_PATH(@j, 'one', '$.a', '$.e') |
+---------------------------------------------+
|                                           1 |
+---------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e');</code></strong>
+---------------------------------------------+
| JSON_CONTAINS_PATH(@j, 'all', '$.a', '$.e') |
+---------------------------------------------+
|                                           0 |
+---------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS_PATH(@j, 'one', '$.c.d');</code></strong>
+----------------------------------------+
| JSON_CONTAINS_PATH(@j, 'one', '$.c.d') |
+----------------------------------------+
|                                      1 |
+----------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_CONTAINS_PATH(@j, 'one', '$.a.d');</code></strong>
+----------------------------------------+
| JSON_CONTAINS_PATH(@j, 'one', '$.a.d') |
+----------------------------------------+
|                                      0 |
+----------------------------------------+
</pre></li><li class="listitem"><a name="function_json-extract"></a><p>
                    <a class="indexterm" name="idm140286844616608"></a>

                    <a class="link" href="functions.html#function_json-extract"><code class="literal">JSON_EXTRACT(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>[,
                        <em class="replaceable"><code>path</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_extract（json_doc，路径[，路径]…）</p><p>
                    Returns data from a JSON document, selected from the parts of
                    the document matched by the <em class="replaceable"><code>path</code></em>
                    arguments. Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code> or no paths locate a value in the
                    document. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or any <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression.
                </p><p style="color:blue;">返回json文档中的数据，这些数据是从与路径参数匹配的文档部分中选择的。如果任何参数为空或没有路径在文档中找到值，则返回空。如果json_doc参数不是有效的json文档或任何路径参数不是有效的路径表达式，则会发生错误。</p><p>
                    The return value consists of all values matched by the
                    <em class="replaceable"><code>path</code></em> arguments. If it is possible
                    that those arguments could return multiple values, the matched
                    values are autowrapped as an array, in the order corresponding
                    to the paths that produced them. Otherwise, the return value
                    is the single matched value.
                </p><p style="color:blue;">返回值由路径参数匹配的所有值组成。如果这些参数可能返回多个值，则匹配的值将自动包装为数组，其顺序与生成它们的路径对应。否则，返回值是单个匹配的值。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_EXTRACT('[10, 20, [30, 40]]', '$[1]');</code></strong>
+--------------------------------------------+
| JSON_EXTRACT('[10, 20, [30, 40]]', '$[1]') |
+--------------------------------------------+
| 20                                         |
+--------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_EXTRACT('[10, 20, [30, 40]]', '$[1]', '$[0]');</code></strong>
+----------------------------------------------------+
| JSON_EXTRACT('[10, 20, [30, 40]]', '$[1]', '$[0]') |
+----------------------------------------------------+
| [20, 10]                                           |
+----------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_EXTRACT('[10, 20, [30, 40]]', '$[2][*]');</code></strong>
+-----------------------------------------------+
| JSON_EXTRACT('[10, 20, [30, 40]]', '$[2][*]') |
+-----------------------------------------------+
| [30, 40]                                      |
+-----------------------------------------------+
</pre><p>
                    MySQL 5.7.9 and later supports the
                    <a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a>
                    operator as shorthand for this function as used with 2
                    arguments where the left hand side is a
                    <a class="link" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type"><code class="literal">JSON</code></a> column identifier (not an
                    expression) and the right hand side is the JSON path to be
                    matched within the column.
                </p><p style="color:blue;">mysql 5.7.9及更高版本支持-&gt;运算符作为此函数的简写，与2个参数一起使用，其中左侧是json列标识符（不是表达式），右侧是要在列中匹配的json路径。</p></li><li class="listitem"><a name="operator_json-column-path"></a><p>
                    <a class="indexterm" name="idm140286844594608"></a>

                    <a class="link" href="functions.html#operator_json-column-path"><code class="literal"><em class="replaceable"><code>column</code></em>-&gt;<em class="replaceable"><code>path</code></em></code></a>
                </p><p style="color:blue;">列-&gt;路径</p><p>
                    In MySQL 5.7.9 and later, the
                    <a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a>
                    operator serves as an alias for the
                    <a class="link" href="functions.html#function_json-extract"><code class="literal">JSON_EXTRACT()</code></a> function when
                    used with two arguments, a column identifier on the left and a
                    JSON path on the right that is evaluated against the JSON
                    document (the column value). You can use such expressions in
                    place of column identifiers wherever they occur in SQL
                    statements.
                </p><p style="color:blue;">在mysql 5.7.9及更高版本中，当与两个参数（左边的列标识符和右边的json路径，根据json文档（列值）计算）一起使用时，&gt;运算符充当json_extract（）函数的别名。无论列标识符出现在sql语句中的何处，都可以使用此类表达式代替它们。</p><p>
                    The two <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statements shown
                    here produce the same output:
                </p><p style="color:blue;">此处显示的两个select语句产生相同的输出：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT c, JSON_EXTRACT(c, "$.id"), g</code></strong>
     &gt; <strong class="userinput"><code>FROM jemp</code></strong>
     &gt; <strong class="userinput"><code>WHERE JSON_EXTRACT(c, "$.id") &gt; 1</code></strong>
     &gt; <strong class="userinput"><code>ORDER BY JSON_EXTRACT(c, "$.name");</code></strong>
+-------------------------------+-----------+------+
| c                             | c-&gt;"$.id" | g    |
+-------------------------------+-----------+------+
| {"id": "3", "name": "Barney"} | "3"       |    3 |
| {"id": "4", "name": "Betty"}  | "4"       |    4 |
| {"id": "2", "name": "Wilma"}  | "2"       |    2 |
+-------------------------------+-----------+------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT c, c-&gt;"$.id", g</code></strong>
     &gt; <strong class="userinput"><code>FROM jemp</code></strong>
     &gt; <strong class="userinput"><code>WHERE c-&gt;"$.id" &gt; 1</code></strong>
     &gt; <strong class="userinput"><code>ORDER BY c-&gt;"$.name";</code></strong>
+-------------------------------+-----------+------+
| c                             | c-&gt;"$.id" | g    |
+-------------------------------+-----------+------+
| {"id": "3", "name": "Barney"} | "3"       |    3 |
| {"id": "4", "name": "Betty"}  | "4"       |    4 |
| {"id": "2", "name": "Wilma"}  | "2"       |    2 |
+-------------------------------+-----------+------+
3 rows in set (0.00 sec)
</pre><p>
                    This functionality is not limited to
                    <code class="literal">SELECT</code>, as shown here:
                </p><p style="color:blue;">此功能不限于选择，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>ALTER TABLE jemp ADD COLUMN n INT;</code></strong>
Query OK, 0 rows affected (0.68 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>UPDATE jemp SET n=1 WHERE c-&gt;"$.id" = "4";</code></strong>
Query OK, 1 row affected (0.04 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c, c-&gt;"$.id", g, n</code></strong>
     &gt; <strong class="userinput"><code>FROM jemp</code></strong>
     &gt; <strong class="userinput"><code>WHERE JSON_EXTRACT(c, "$.id") &gt; 1</code></strong>
     &gt; <strong class="userinput"><code>ORDER BY c-&gt;"$.name";</code></strong>
+-------------------------------+-----------+------+------+
| c                             | c-&gt;"$.id" | g    | n    |
+-------------------------------+-----------+------+------+
| {"id": "3", "name": "Barney"} | "3"       |    3 | NULL |
| {"id": "4", "name": "Betty"}  | "4"       |    4 |    1 |
| {"id": "2", "name": "Wilma"}  | "2"       |    2 | NULL |
+-------------------------------+-----------+------+------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>DELETE FROM jemp WHERE c-&gt;"$.id" = "4";</code></strong>
Query OK, 1 row affected (0.04 sec)

mysql&gt; <strong class="userinput"><code>SELECT c, c-&gt;"$.id", g, n</code></strong>
     &gt; <strong class="userinput"><code>FROM jemp</code></strong>
     &gt; <strong class="userinput"><code>WHERE JSON_EXTRACT(c, "$.id") &gt; 1</code></strong>
     &gt; <strong class="userinput"><code>ORDER BY c-&gt;"$.name";</code></strong>
+-------------------------------+-----------+------+------+
| c                             | c-&gt;"$.id" | g    | n    |
+-------------------------------+-----------+------+------+
| {"id": "3", "name": "Barney"} | "3"       |    3 | NULL |
| {"id": "2", "name": "Wilma"}  | "2"       |    2 | NULL |
+-------------------------------+-----------+------+------+
2 rows in set (0.00 sec)
</pre><p>
                    (See <a class="xref" href="sql-syntax.html#json-column-indirect-index" title="Indexing a Generated Column to Provide a JSON Column Index">Indexing a Generated Column to Provide a JSON Column Index</a>, for the
                    statements used to create and populate the table just shown.)
                </p><p style="color:blue;">（请参阅索引生成的列以提供JSON列索引，用于创建和填充刚才显示的表）。</p><p>
                    This also works with JSON array values, as shown here:
                </p><p style="color:blue;">这也适用于json数组值，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE tj10 (a JSON, b INT);</code></strong>
Query OK, 0 rows affected (0.26 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO tj10</code></strong>
     &gt; <strong class="userinput"><code>VALUES ("[3,10,5,17,44]", 33), ("[3,10,5,17,[22,44,66]]", 0);</code></strong>
Query OK, 1 row affected (0.04 sec)

mysql&gt; <strong class="userinput"><code>SELECT a-&gt;"$[4]" FROM tj10;</code></strong>
+--------------+
| a-&gt;"$[4]"    |
+--------------+
| 44           |
| [22, 44, 66] |
+--------------+
2 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM tj10 WHERE a-&gt;"$[0]" = 3;</code></strong>
+------------------------------+------+
| a                            | b    |
+------------------------------+------+
| [3, 10, 5, 17, 44]           |   33 |
| [3, 10, 5, 17, [22, 44, 66]] |    0 |
+------------------------------+------+
2 rows in set (0.00 sec)
</pre><p>
                    Nested arrays are supported. An expression using
                    <code class="literal">-&gt;</code> evaluates as <code class="literal">NULL</code>
                    if no matching key is found in the target JSON document, as
                    shown here:
                </p><p style="color:blue;">支持嵌套数组。如果在目标json文档中找不到匹配的键，则使用-&gt;的表达式的计算结果为空，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM tj10 WHERE a-&gt;"$[4][1]" IS NOT NULL;</code></strong>
+------------------------------+------+
| a                            | b    |
+------------------------------+------+
| [3, 10, 5, 17, [22, 44, 66]] |    0 |
+------------------------------+------+

mysql&gt; <strong class="userinput"><code>SELECT a-&gt;"$[4][1]" FROM tj10;</code></strong>
+--------------+
| a-&gt;"$[4][1]" |
+--------------+
| NULL         |
| 44           |
+--------------+
2 rows in set (0.00 sec)
</pre><p>
                    This is the same behavior as seen in such cases when using
                    <code class="literal">JSON_EXTRACT()</code>:
                </p><p style="color:blue;">这与使用json_extract（）时在这种情况下看到的行为相同：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_EXTRACT(a, "$[4][1]") FROM tj10;</code></strong>
+----------------------------+
| JSON_EXTRACT(a, "$[4][1]") |
+----------------------------+
| NULL                       |
| 44                         |
+----------------------------+
2 rows in set (0.00 sec)
</pre></li><li class="listitem"><a name="operator_json-inline-path"></a><p>
                    <a class="indexterm" name="idm140286844544000"></a>

                    <a class="link" href="functions.html#operator_json-inline-path"><code class="literal"><em class="replaceable"><code>column</code></em>-&gt;&gt;<em class="replaceable"><code>path</code></em></code></a>
                </p><p style="color:blue;">列-&gt;&gt;路径</p><p>
                    This is an improved, unquoting extraction operator available
                    in MySQL 5.7.13 and later. Whereas the
                    <code class="literal">-&gt;</code> operator simply extracts a value, the
                    <code class="literal">-&gt;&gt;</code> operator in addition unquotes the
                    extracted result. In other words, given a
                    <a class="link" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type"><code class="literal">JSON</code></a> column value
                    <em class="replaceable"><code>column</code></em> and a path expression
                    <em class="replaceable"><code>path</code></em>, the following three
                    expressions return the same value:
                </p><p style="color:blue;">这是mysql 5.7.13及更高版本中提供的一个改进的、未引用的提取运算符。而-&gt;运算符只提取一个值，而-&gt;&gt;运算符则另外取消对提取结果的引号。换句话说，给定一个json列值列和一个路径表达式路径，以下三个表达式返回相同的值：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <a class="link" href="functions.html#function_json-unquote"><code class="literal">JSON_UNQUOTE(</code></a>
                            <a class="link" href="functions.html#function_json-extract"><code class="literal">JSON_EXTRACT(<em class="replaceable"><code>column</code></em>,
                                <em class="replaceable"><code>path</code></em>) )</code></a>
                        </p><p style="color:blue;">json_unquote（json_extract（column，path））</p></li><li class="listitem"><p>
                            <code class="literal">JSON_UNQUOTE(<em class="replaceable"><code>column</code></em></code>
                            <a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a>
                            <code class="literal"><em class="replaceable"><code>path</code></em>)</code>
                        </p><p style="color:blue;">json_unquote（列-&gt;路径）</p></li><li class="listitem"><p>
                            <code class="literal"><em class="replaceable"><code>column</code></em>-&gt;&gt;<em class="replaceable"><code>path</code></em></code>
                        </p><p style="color:blue;">列-&gt;&gt;路径</p></li></ul>
                    </div>
                    <p>
                        The <code class="literal">-&gt;&gt;</code> operator can be used wherever
                        <code class="literal">JSON_UNQUOTE(JSON_EXTRACT())</code> would be
                        allowed. This includes (but is not limited to)
                        <code class="literal">SELECT</code> lists, <code class="literal">WHERE</code> and
                        <code class="literal">HAVING</code> clauses, and <code class="literal">ORDER
                        BY</code> and <code class="literal">GROUP BY</code> clauses.
                    </p><p style="color:blue;">-&gt;&gt;运算符可用于任何允许使用json-unquote（json-extract（））的地方。这包括（但不限于）select列表、where和having子句、order by和group by子句。</p><p>
                        The next few statements demonstrate some
                        <code class="literal">-&gt;&gt;</code> operator equivalences with other
                        expressions in the <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client:
                    </p><p style="color:blue;">接下来的几条语句演示了一些-&gt;&gt;与MySQL客户端中其他表达式的运算符等价性：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM jemp WHERE g &gt; 2;</code></strong>
+-------------------------------+------+
| c                             | g    |
+-------------------------------+------+
| {"id": "3", "name": "Barney"} |    3 |
| {"id": "4", "name": "Betty"}  |    4 |
+-------------------------------+------+
2 rows in set (0.01 sec)

mysql&gt; <strong class="userinput"><code>SELECT c-&gt;'$.name' AS name</code></strong>
    -&gt;     <strong class="userinput"><code>FROM jemp WHERE g &gt; 2;</code></strong>
+----------+
| name     |
+----------+
| "Barney" |
| "Betty"  |
+----------+
2 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT JSON_UNQUOTE(c-&gt;'$.name') AS name</code></strong>
    -&gt;     <strong class="userinput"><code>FROM jemp WHERE g &gt; 2;</code></strong>
+--------+
| name   |
+--------+
| Barney |
| Betty  |
+--------+
2 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT c-&gt;&gt;'$.name' AS name</code></strong>
    -&gt;     <strong class="userinput"><code>FROM jemp WHERE g &gt; 2;</code></strong>
+--------+
| name   |
+--------+
| Barney |
| Betty  |
+--------+
2 rows in set (0.00 sec)
</pre><p>
                        See <a class="xref" href="sql-syntax.html#json-column-indirect-index" title="Indexing a Generated Column to Provide a JSON Column Index">Indexing a Generated Column to Provide a JSON Column Index</a>, for the SQL
                        statements used to create and populate the
                        <code class="literal">jemp</code> table in the set of examples just
                        shown.
                    </p><p style="color:blue;">请参阅索引生成的列以提供JSON列索引，用于在刚才显示的示例集合中创建和填充JEMP表的SQL语句。</p><p>
                        This operator can also be used with JSON arrays, as shown
                        here:
                    </p><p style="color:blue;">此运算符还可以与json数组一起使用，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE tj10 (a JSON, b INT);</code></strong>
Query OK, 0 rows affected (0.26 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO tj10 VALUES</code></strong>
    -&gt;     <strong class="userinput"><code>('[3,10,5,"x",44]', 33),</code></strong>
    -&gt;     <strong class="userinput"><code>('[3,10,5,17,[22,"y",66]]', 0);</code></strong>
Query OK, 2 rows affected (0.04 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT a-&gt;"$[3]", a-&gt;"$[4][1]" FROM tj10;</code></strong>
+-----------+--------------+
| a-&gt;"$[3]" | a-&gt;"$[4][1]" |
+-----------+--------------+
| "x"       | NULL         |
| 17        | "y"          |
+-----------+--------------+
2 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT a-&gt;&gt;"$[3]", a-&gt;&gt;"$[4][1]" FROM tj10;</code></strong>
+------------+---------------+
| a-&gt;&gt;"$[3]" | a-&gt;&gt;"$[4][1]" |
+------------+---------------+
| x          | NULL          |
| 17         | y             |
+------------+---------------+
2 rows in set (0.00 sec)
</pre><p>
                        As with
                        <a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a>,
                        the <code class="literal">-&gt;&gt;</code> operator is always expanded
                        in the output of <a class="link" href="sql-syntax.html#explain" title="13.8.2&nbsp;EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a>, as
                        the following example demonstrates:
                    </p><p style="color:blue;">与-&gt;一样，始终在explain的输出中展开-&gt;&gt;运算符，如下例所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>EXPLAIN SELECT c-&gt;&gt;'$.name' AS name</code></strong>
    -&gt;     <strong class="userinput"><code>FROM jemp WHERE g &gt; 2\G</code></strong>
*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: jemp
   partitions: NULL
         type: range
possible_keys: i
          key: i
      key_len: 5
          ref: NULL
         rows: 2
     filtered: 100.00
        Extra: Using where
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Note
   Code: 1003
Message: /* select#1 */ select
json_unquote(json_extract(`jtest`.`jemp`.`c`,'$.name')) AS `name` from
`jtest`.`jemp` where (`jtest`.`jemp`.`g` &gt; 2)
1 row in set (0.00 sec)
</pre><p>
                        This is similar to how MySQL expands the
                        <a class="link" href="functions.html#operator_json-column-path"><code class="literal">-&gt;</code></a>
                        operator in the same circumstances.
                    </p><p style="color:blue;">这类似于mysql在相同情况下如何扩展-&gt;操作符。</p><p>
                        The <code class="literal">-&gt;&gt;</code> operator was added in MySQL
                        5.7.13.
                    </p><p style="color:blue;">在mysql 5.7.13中添加了-&gt;&gt;运算符。</p></li><li class="listitem"><a name="function_json-keys"></a><p>
                    <a class="indexterm" name="idm140286844485440"></a>

                    <a class="link" href="functions.html#function_json-keys"><code class="literal">JSON_KEYS(<em class="replaceable"><code>json_doc</code></em>[,
                        <em class="replaceable"><code>path</code></em>])</code></a>
                </p><p style="color:blue;">json_键（json_doc[，path]）</p><p>
                    Returns the keys from the top-level value of a JSON object as
                    a JSON array, or, if a <em class="replaceable"><code>path</code></em>
                    argument is given, the top-level keys from the selected path.
                    Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>, the
                    <em class="replaceable"><code>json_doc</code></em> argument is not an object,
                    or <em class="replaceable"><code>path</code></em>, if given, does not locate
                    an object. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or the <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or contains a
                    <code class="literal">*</code> or <code class="literal">**</code> wildcard.
                </p><p style="color:blue;">将json对象的顶级值中的键作为json数组返回，如果给定了path参数，则返回所选路径中的顶级键。如果任何参数为空、json_doc参数不是对象或路径（如果给定）没有定位对象，则返回空。如果json_doc参数不是有效的json文档，或者path参数不是有效的路径表达式，或者包含*或**通配符，则会发生错误。</p><p>
                    The result array is empty if the selected object is empty. If
                    the top-level value has nested subobjects, the return value
                    does not include keys from those subobjects.
                </p><p style="color:blue;">如果选定对象为空，则结果数组为空。如果顶级值具有嵌套的子对象，则返回值不包括来自这些子对象的键。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_KEYS('{"a": 1, "b": {"c": 30}}');</code></strong>
+---------------------------------------+
| JSON_KEYS('{"a": 1, "b": {"c": 30}}') |
+---------------------------------------+
| ["a", "b"]                            |
+---------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_KEYS('{"a": 1, "b": {"c": 30}}', '$.b');</code></strong>
+----------------------------------------------+
| JSON_KEYS('{"a": 1, "b": {"c": 30}}', '$.b') |
+----------------------------------------------+
| ["c"]                                        |
+----------------------------------------------+
</pre></li><li class="listitem"><a name="function_json-search"></a><p>
                    <a class="indexterm" name="idm140286844466880"></a>

                    <a class="link" href="functions.html#function_json-search"><code class="literal">JSON_SEARCH(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>one_or_all</code></em>,
                        <em class="replaceable"><code>search_str</code></em>[,
                        <em class="replaceable"><code>escape_char</code></em>[,
                        <em class="replaceable"><code>path</code></em>] ...])</code></a>
                </p><p style="color:blue;">json_search（json_doc，one_or_all，search_str[，escape_char[，path]…]）</p><p>
                    Returns the path to the given string within a JSON document.
                    Returns <code class="literal">NULL</code> if any of the
                    <em class="replaceable"><code>json_doc</code></em>,
                    <em class="replaceable"><code>search_str</code></em>, or
                    <em class="replaceable"><code>path</code></em> arguments are
                    <code class="literal">NULL</code>; no <em class="replaceable"><code>path</code></em>
                    exists within the document; or
                    <em class="replaceable"><code>search_str</code></em> is not found. An error
                    occurs if the <em class="replaceable"><code>json_doc</code></em> argument is
                    not a valid JSON document, any <em class="replaceable"><code>path</code></em>
                    argument is not a valid path expression,
                    <em class="replaceable"><code>one_or_all</code></em> is not
                    <code class="literal">'one'</code> or <code class="literal">'all'</code>, or
                    <em class="replaceable"><code>escape_char</code></em> is not a constant
                    expression.
                </p><p style="color:blue;">返回json文档中给定字符串的路径。如果JSON-DOC、SHILCHYSTR或PATH参数中的任何一个都为NULL，则返回NULL；文档中不存在路径；或者没有找到SexCHySTR。如果json_doc参数不是有效的json文档，任何path参数不是有效的path表达式，one_或_all不是'one'或'all'，或者escape_char不是常量表达式，则会发生错误。</p><p>
                    The <em class="replaceable"><code>one_or_all</code></em> argument affects the
                    search as follows:
                </p><p style="color:blue;">one_或_all参数影响搜索，如下所示：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">'one'</code>: The search terminates after the
                            first match and returns one path string. It is undefined
                            which match is considered first.
                        </p><p style="color:blue;">“one”：搜索在第一个匹配后终止并返回一个路径字符串。未定义首先考虑哪个匹配。</p></li><li class="listitem"><p>
                            <code class="literal">'all'</code>: The search returns all matching
                            path strings such that no duplicate paths are included. If
                            there are multiple strings, they are autowrapped as an
                            array. The order of the array elements is undefined.
                        </p><p style="color:blue;">“all”：搜索返回所有匹配的路径字符串，以便不包含重复的路径。如果有多个字符串，它们将自动包装为数组。数组元素的顺序未定义。</p></li></ul>
                    </div>
                    <p>
                        Within the <em class="replaceable"><code>search_str</code></em> search string
                        argument, the <code class="literal">%</code> and <code class="literal">_</code>
                        characters work as for the <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a>
                        operator: <code class="literal">%</code> matches any number of
                        characters (including zero characters), and
                        <code class="literal">_</code> matches exactly one character.
                    </p><p style="color:blue;">在search_str search string参数中，%和u字符的作用与like运算符相同：%匹配任意数量的字符（包括零个字符），并且u只匹配一个字符。</p><p>
                        To specify a literal <code class="literal">%</code> or
                        <code class="literal">_</code> character in the search string, precede
                        it by the escape character. The default is
                        <code class="literal">\</code> if the
                        <em class="replaceable"><code>escape_char</code></em> argument is missing or
                        <code class="literal">NULL</code>. Otherwise,
                        <em class="replaceable"><code>escape_char</code></em> must be a constant that
                        is empty or one character.
                    </p><p style="color:blue;">若要在搜索字符串中指定文本%或\字符，请在其前面加转义符。如果escape-char参数丢失或为空，则默认值为。否则，escape_char必须是空的常量或一个字符。</p><p>
                        For more information about matching and escape character
                        behavior, see the description of
                        <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> in
                        <a class="xref" href="functions.html#string-comparison-functions" title="12.5.1&nbsp;String Comparison Functions and Operators">Section&nbsp;12.5.1, “String Comparison Functions and Operators”</a>. For escape
                        character handling, a difference from the
                        <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> behavior is that the escape
                        character for <a class="link" href="functions.html#function_json-search"><code class="literal">JSON_SEARCH()</code></a>
                        must evaluate to a constant at compile time, not just at
                        execution time. For example, if
                        <a class="link" href="functions.html#function_json-search"><code class="literal">JSON_SEARCH()</code></a> is used in a
                        prepared statement and the
                        <em class="replaceable"><code>escape_char</code></em> argument is supplied
                        using a <code class="literal">?</code> parameter, the parameter value
                        might be constant at execution time, but is not at compile
                        time.
                    </p><p style="color:blue;">有关匹配和转义字符行为的详细信息，请参阅第12.5.1节“字符串比较函数和运算符”中的like描述。对于转义字符处理，与类似行为不同的是，json_search（）的转义字符必须在编译时计算为常量，而不仅仅是在执行时。例如，如果在准备好的语句中使用json_search（），并且使用？参数，参数值在执行时可能是常量，但在编译时不是。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '["abc", [{"k": "10"}, "def"], {"x":"abc"}, {"y":"bcd"}]';</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'one', 'abc');</code></strong>
+-------------------------------+
| JSON_SEARCH(@j, 'one', 'abc') |
+-------------------------------+
| "$[0]"                        |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', 'abc');</code></strong>
+-------------------------------+
| JSON_SEARCH(@j, 'all', 'abc') |
+-------------------------------+
| ["$[0]", "$[2].x"]            |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', 'ghi');</code></strong>
+-------------------------------+
| JSON_SEARCH(@j, 'all', 'ghi') |
+-------------------------------+
| NULL                          |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '10');</code></strong>
+------------------------------+
| JSON_SEARCH(@j, 'all', '10') |
+------------------------------+
| "$[1][0].k"                  |
+------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '10', NULL, '$');</code></strong>
+-----------------------------------------+
| JSON_SEARCH(@j, 'all', '10', NULL, '$') |
+-----------------------------------------+
| "$[1][0].k"                             |
+-----------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '10', NULL, '$[*]');</code></strong>
+--------------------------------------------+
| JSON_SEARCH(@j, 'all', '10', NULL, '$[*]') |
+--------------------------------------------+
| "$[1][0].k"                                |
+--------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '10', NULL, '$**.k');</code></strong>
+---------------------------------------------+
| JSON_SEARCH(@j, 'all', '10', NULL, '$**.k') |
+---------------------------------------------+
| "$[1][0].k"                                 |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '10', NULL, '$[*][0].k');</code></strong>
+-------------------------------------------------+
| JSON_SEARCH(@j, 'all', '10', NULL, '$[*][0].k') |
+-------------------------------------------------+
| "$[1][0].k"                                     |
+-------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '10', NULL, '$[1]');</code></strong>
+--------------------------------------------+
| JSON_SEARCH(@j, 'all', '10', NULL, '$[1]') |
+--------------------------------------------+
| "$[1][0].k"                                |
+--------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '10', NULL, '$[1][0]');</code></strong>
+-----------------------------------------------+
| JSON_SEARCH(@j, 'all', '10', NULL, '$[1][0]') |
+-----------------------------------------------+
| "$[1][0].k"                                   |
+-----------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', 'abc', NULL, '$[2]');</code></strong>
+---------------------------------------------+
| JSON_SEARCH(@j, 'all', 'abc', NULL, '$[2]') |
+---------------------------------------------+
| "$[2].x"                                    |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '%a%');</code></strong>
+-------------------------------+
| JSON_SEARCH(@j, 'all', '%a%') |
+-------------------------------+
| ["$[0]", "$[2].x"]            |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '%b%');</code></strong>
+-------------------------------+
| JSON_SEARCH(@j, 'all', '%b%') |
+-------------------------------+
| ["$[0]", "$[2].x", "$[3].y"]  |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '%b%', NULL, '$[0]');</code></strong>
+---------------------------------------------+
| JSON_SEARCH(@j, 'all', '%b%', NULL, '$[0]') |
+---------------------------------------------+
| "$[0]"                                      |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '%b%', NULL, '$[2]');</code></strong>
+---------------------------------------------+
| JSON_SEARCH(@j, 'all', '%b%', NULL, '$[2]') |
+---------------------------------------------+
| "$[2].x"                                    |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '%b%', NULL, '$[1]');</code></strong>
+---------------------------------------------+
| JSON_SEARCH(@j, 'all', '%b%', NULL, '$[1]') |
+---------------------------------------------+
| NULL                                        |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '%b%', '', '$[1]');</code></strong>
+-------------------------------------------+
| JSON_SEARCH(@j, 'all', '%b%', '', '$[1]') |
+-------------------------------------------+
| NULL                                      |
+-------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_SEARCH(@j, 'all', '%b%', '', '$[3]');</code></strong>
+-------------------------------------------+
| JSON_SEARCH(@j, 'all', '%b%', '', '$[3]') |
+-------------------------------------------+
| "$[3].y"                                  |
+-------------------------------------------+
</pre><p>
                        For more information about the JSON path syntax supported by
                        MySQL, including rules governing the wildcard operators
                        <code class="literal">*</code> and <code class="literal">**</code>, see
                        <a class="xref" href="data-types.html#json-path-syntax" title="JSON Path Syntax">JSON Path Syntax</a>.
                    </p><p style="color:blue;">有关mysql支持的json路径语法的更多信息，包括控制通配符*和**的规则，请参阅json路径语法。</p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="json-modification-functions"></a>12.17.4&nbsp;Functions That Modify JSON Values</h3>

                    </div>

                </div>

            </div>
            <p>
                The functions in this section modify JSON values and return the
                result.
            </p><p style="color:blue;">本节中的函数修改json值并返回结果。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_json-append"></a><p>
                    <a class="indexterm" name="idm140286844399968"></a>

                    <a class="link" href="functions.html#function_json-append"><code class="literal">JSON_APPEND(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_append（json_doc，path，val[，path，val]…）</p><p>
                    Appends values to the end of the indicated arrays within a
                    JSON document and returns the result. This function was
                    renamed to <a class="link" href="functions.html#function_json-array-append"><code class="literal">JSON_ARRAY_APPEND()</code></a>
                    in MySQL 5.7.9; the alias <code class="literal">JSON_APPEND()</code> is
                    now deprecated in MySQL 5.7, and is removed in MySQL 8.0.
                </p><p style="color:blue;">将值追加到json文档中指定数组的末尾并返回结果。在mysql 5.7.9中，此函数被重命名为json_array_append（）；别名json_append（）现在在mysql 5.7中已被弃用，在mysql 8.0中已被删除。</p></li><li class="listitem"><a name="function_json-array-append"></a><p>
                    <a class="indexterm" name="idm140286844388048"></a>

                    <a class="link" href="functions.html#function_json-array-append"><code class="literal">JSON_ARRAY_APPEND(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_array_append（json_doc，path，val[，path，val]…）</p><p>
                    Appends values to the end of the indicated arrays within a
                    JSON document and returns the result. Returns
                    <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or any <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or contains a
                    <code class="literal">*</code> or <code class="literal">**</code> wildcard.
                </p><p style="color:blue;">将值追加到json文档中指定数组的末尾并返回结果。如果任何参数为空，则返回空。如果json_doc参数不是有效的json文档，或者任何路径参数不是有效的路径表达式，或者包含*或**通配符，则会发生错误。</p><p>
                    The path-value pairs are evaluated left to right. The document
                    produced by evaluating one pair becomes the new value against
                    which the next pair is evaluated.
                </p><p style="color:blue;">从左到右计算路径值对。对一对进行求值生成的文档将成为对下一对进行求值的新值。</p><p>
                    If a path selects a scalar or object value, that value is
                    autowrapped within an array and the new value is added to that
                    array. Pairs for which the path does not identify any value in
                    the JSON document are ignored.
                </p><p style="color:blue;">如果路径选择标量或对象值，则该值将自动包装在数组中，并将新值添加到该数组中。忽略路径未标识json文档中任何值的对。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '["a", ["b", "c"], "d"]';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, '$[1]', 1);</code></strong>
+----------------------------------+
| JSON_ARRAY_APPEND(@j, '$[1]', 1) |
+----------------------------------+
| ["a", ["b", "c", 1], "d"]        |
+----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, '$[0]', 2);</code></strong>
+----------------------------------+
| JSON_ARRAY_APPEND(@j, '$[0]', 2) |
+----------------------------------+
| [["a", 2], ["b", "c"], "d"]      |
+----------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, '$[1][0]', 3);</code></strong>
+-------------------------------------+
| JSON_ARRAY_APPEND(@j, '$[1][0]', 3) |
+-------------------------------------+
| ["a", [["b", 3], "c"], "d"]         |
+-------------------------------------+

mysql&gt; <strong class="userinput"><code>SET @j = '{"a": 1, "b": [2, 3], "c": 4}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, '$.b', 'x');</code></strong>
+------------------------------------+
| JSON_ARRAY_APPEND(@j, '$.b', 'x')  |
+------------------------------------+
| {"a": 1, "b": [2, 3, "x"], "c": 4} |
+------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, '$.c', 'y');</code></strong>
+--------------------------------------+
| JSON_ARRAY_APPEND(@j, '$.c', 'y')    |
+--------------------------------------+
| {"a": 1, "b": [2, 3], "c": [4, "y"]} |
+--------------------------------------+

mysql&gt; <strong class="userinput"><code>SET @j = '{"a": 1}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_APPEND(@j, '$', 'z');</code></strong>
+---------------------------------+
| JSON_ARRAY_APPEND(@j, '$', 'z') |
+---------------------------------+
| [{"a": 1}, "z"]                 |
+---------------------------------+
</pre></li><li class="listitem"><a name="function_json-array-insert"></a><p>
                    <a class="indexterm" name="idm140286844362272"></a>

                    <a class="link" href="functions.html#function_json-array-insert"><code class="literal">JSON_ARRAY_INSERT(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_array_insert（json_doc，path，val[，path，val]…）</p><p>
                    Updates a JSON document, inserting into an array within the
                    document and returning the modified document. Returns
                    <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or any <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or contains a
                    <code class="literal">*</code> or <code class="literal">**</code> wildcard or does
                    not end with an array element identifier.
                </p><p style="color:blue;">更新json文档，插入文档中的数组并返回修改后的文档。如果任何参数为空，则返回空。如果json_doc参数不是有效的json文档，或者任何路径参数不是有效的路径表达式，或者包含*或**通配符，或者没有以数组元素标识符结尾，则会发生错误。</p><p>
                    The path-value pairs are evaluated left to right. The document
                    produced by evaluating one pair becomes the new value against
                    which the next pair is evaluated.
                </p><p style="color:blue;">从左到右计算路径值对。对一对进行求值生成的文档将成为对下一对进行求值的新值。</p><p>
                    Pairs for which the path does not identify any array in the
                    JSON document are ignored. If a path identifies an array
                    element, the corresponding value is inserted at that element
                    position, shifting any following values to the right. If a
                    path identifies an array position past the end of an array,
                    the value is inserted at the end of the array.
                </p><p style="color:blue;">忽略路径不标识json文档中任何数组的对。如果路径标识数组元素，则在该元素位置插入相应的值，并将以下任何值向右移动。如果路径标识超过数组末尾的数组位置，则该值将插入数组末尾。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '["a", {"b": [1, 2]}, [3, 4]]';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, '$[1]', 'x');</code></strong>
+------------------------------------+
| JSON_ARRAY_INSERT(@j, '$[1]', 'x') |
+------------------------------------+
| ["a", "x", {"b": [1, 2]}, [3, 4]]  |
+------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, '$[100]', 'x');</code></strong>
+--------------------------------------+
| JSON_ARRAY_INSERT(@j, '$[100]', 'x') |
+--------------------------------------+
| ["a", {"b": [1, 2]}, [3, 4], "x"]    |
+--------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, '$[1].b[0]', 'x');</code></strong>
+-----------------------------------------+
| JSON_ARRAY_INSERT(@j, '$[1].b[0]', 'x') |
+-----------------------------------------+
| ["a", {"b": ["x", 1, 2]}, [3, 4]]       |
+-----------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, '$[2][1]', 'y');</code></strong>
+---------------------------------------+
| JSON_ARRAY_INSERT(@j, '$[2][1]', 'y') |
+---------------------------------------+
| ["a", {"b": [1, 2]}, [3, "y", 4]]     |
+---------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_ARRAY_INSERT(@j, '$[0]', 'x', '$[2][1]', 'y');</code></strong>
+----------------------------------------------------+
| JSON_ARRAY_INSERT(@j, '$[0]', 'x', '$[2][1]', 'y') |
+----------------------------------------------------+
| ["x", "a", {"b": [1, 2]}, [3, 4]]                  |
+----------------------------------------------------+
</pre><p>
                    Earlier modifications affect the positions of the following
                    elements in the array, so subsequent paths in the same
                    <a class="link" href="functions.html#function_json-array-insert"><code class="literal">JSON_ARRAY_INSERT()</code></a> call should
                    take this into account. In the final example, the second path
                    inserts nothing because the path no longer matches anything
                    after the first insert.
                </p><p style="color:blue;">先前的修改会影响数组中以下元素的位置，因此同一个json_array_insert（）调用中的后续路径应该考虑到这一点。在最后一个示例中，第二个路径不插入任何内容，因为该路径不再匹配第一个插入之后的任何内容。</p></li><li class="listitem"><a name="function_json-insert"></a><p>
                    <a class="indexterm" name="idm140286844336768"></a>

                    <a class="link" href="functions.html#function_json-insert"><code class="literal">JSON_INSERT(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_insert（json_doc，path，val[，path，val]…）</p><p>
                    Inserts data into a JSON document and returns the result.
                    Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or any <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or contains a
                    <code class="literal">*</code> or <code class="literal">**</code> wildcard.
                </p><p style="color:blue;">将数据插入json文档并返回结果。如果任何参数为空，则返回空。如果json_doc参数不是有效的json文档，或者任何路径参数不是有效的路径表达式，或者包含*或**通配符，则会发生错误。</p><p>
                    The path-value pairs are evaluated left to right. The document
                    produced by evaluating one pair becomes the new value against
                    which the next pair is evaluated.
                </p><p style="color:blue;">从左到右计算路径值对。对一对进行求值生成的文档将成为对下一对进行求值的新值。</p><p>
                    A path-value pair for an existing path in the document is
                    ignored and does not overwrite the existing document value. A
                    path-value pair for a nonexisting path in the document adds
                    the value to the document if the path identifies one of these
                    types of values:
                </p><p style="color:blue;">忽略文档中现有路径的路径值对，并且不覆盖现有文档值。如果路径标识了这些类型的值中的一个，则文档中的不存在路径的路径值对将值添加到文档中：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            A member not present in an existing object. The member is
                            added to the object and associated with the new value.
                        </p><p style="color:blue;">不存在于现有对象中的成员。成员将添加到对象并与新值关联。</p></li><li class="listitem"><p>
                            A position past the end of an existing array. The array is
                            extended with the new value. If the existing value is not
                            an array, it is autowrapped as an array, then extended
                            with the new value.
                        </p><p style="color:blue;">超过现有数组末尾的位置。数组使用新值扩展。如果现有值不是数组，则将其作为数组自动读取，然后用新值扩展。</p></li></ul>
                    </div>
                    <p>
                        Otherwise, a path-value pair for a nonexisting path in the
                        document is ignored and has no effect.
                    </p><p style="color:blue;">否则，将忽略文档中不存在路径的路径值对，并且没有影响。</p><p>
                        For a comparison of
                        <a class="link" href="functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a>,
                        <a class="link" href="functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a>, and
                        <a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>, see the discussion
                        of <a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>.
                    </p><p style="color:blue;">有关json_insert（）、json_replace（）和json_set（）的比较，请参见json_set（）的讨论。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '{ "a": 1, "b": [2, 3]}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]');</code></strong>
+----------------------------------------------------+
| JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]') |
+----------------------------------------------------+
| {"a": 1, "b": [2, 3], "c": "[true, false]"}        |
+----------------------------------------------------+
</pre><p>
                        The third and final value listed in the result is a quoted
                        string and not an array like the second one (which is not
                        quoted in the output); no casting of values to the JSON type
                        is performed. To insert the array as an array, you must
                        perform such casts explicitly, as shown here:
                    </p><p style="color:blue;">结果中列出的第三个也是最后一个值是一个带引号的字符串，而不是像第二个那样的数组（在输出中不带引号）；不执行值到json类型的强制转换。要将数组作为数组插入，必须显式执行此类强制转换，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_INSERT(@j, '$.a', 10, '$.c', CAST('[true, false]' AS JSON));</code></strong>
+------------------------------------------------------------------+
| JSON_INSERT(@j, '$.a', 10, '$.c', CAST('[true, false]' AS JSON)) |
+------------------------------------------------------------------+
| {"a": 1, "b": [2, 3], "c": [true, false]}                        |
+------------------------------------------------------------------+
1 row in set (0.00 sec)
</pre></li><li class="listitem"><a name="function_json-merge"></a><p>
                    <a class="indexterm" name="idm140286844307024"></a>

                    <a class="link" href="functions.html#function_json-merge"><code class="literal">JSON_MERGE(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>json_doc</code></em>[,
                        <em class="replaceable"><code>json_doc</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_merge（json_doc，json_doc[，json_doc]…）</p><p>
                    Merges two or more JSON documents. Synonym for
                    <code class="literal">JSON_MERGE_PRESERVE()</code>; deprecated in MySQL
                    5.7.22 and subject to removal in a future release.
                </p><p style="color:blue;">合并两个或多个json文档。json_merge_preserve（）的同义词；在mysql 5.7.22中已弃用，在以后的版本中将删除。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE('[1, 2]', '[true, false]');</code></strong>
+---------------------------------------+
| JSON_MERGE('[1, 2]', '[true, false]') |
+---------------------------------------+
| [1, 2, true, false]                   |
+---------------------------------------+
1 row in set, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS\G</code></strong>
*************************** 1. row ***************************
  Level: Warning
   Code: 1287
Message: 'JSON_MERGE' is deprecated and will be removed in a future release. \
 Please use JSON_MERGE_PRESERVE/JSON_MERGE_PATCH instead
1 row in set (0.00 sec)
</pre><p>
                    For additional examples, see the entry for
                    <a class="link" href="functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE()</code></a>.
                </p><p style="color:blue;">有关其他示例，请参见json_merge_preserve（）的条目。</p></li><li class="listitem"><a name="function_json-merge-patch"></a><p>
                    <a class="indexterm" name="idm140286844291376"></a>

                    <a class="link" href="functions.html#function_json-merge-patch"><code class="literal">JSON_MERGE_PATCH(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>json_doc</code></em>[,
                        <em class="replaceable"><code>json_doc</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_merge_补丁（json_doc，json_doc[，json_doc]…）</p><p>
                    Performs an
                    <a class="ulink" href="https://tools.ietf.org/html/rfc7396" target="_top">RFC
                        7396</a> compliant merge of two or more JSON documents and
                    returns the merged result, without preserving members having
                    duplicate keys. Raises an error if at least one of the
                    documents passed as arguments to this function is not valid.
                </p><p style="color:blue;">对两个或多个json文档执行符合rfc 7396的合并，并返回合并结果，而不保留具有重复键的成员。如果作为参数传递给此函数的文档中至少有一个无效，则引发错误。</p>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            For an explanation and example of the differences between
                            this function and <code class="literal">JSON_MERGE_PRESERVE()</code>,
                            see
                            <a class="xref" href="functions.html#json-merge-patch-json-merge-preserve-compared" title="JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()">JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()</a>.
                        </p><p style="color:blue;">有关此函数与json_merge_preserve（）之间差异的说明和示例，请参见json_merge_patch（）与json_merge_preserve（）的比较。</p>
                    </div>
                    <p>
                        <code class="literal">JSON_MERGE_PATCH()</code> performs a merge as
                        follows:
                    </p><p style="color:blue;">json_merge_patch（）执行如下合并：</p>
                    <div class="orderedlist">
                        <ol class="orderedlist" type="1"><li class="listitem"><p>
                            If the first argument is not an object, the result of the
                            merge is the same as if an empty object had been merged
                            with the second argument.
                        </p><p style="color:blue;">如果第一个参数不是对象，则合并的结果与空对象与第二个参数合并的结果相同。</p></li><li class="listitem"><p>
                            If the second argument is not an object, the result of the
                            merge is the second argument.
                        </p><p style="color:blue;">如果第二个参数不是对象，则合并的结果是第二个参数。</p></li><li class="listitem"><p>
                            If both arguments are objects, the result of the merge is
                            an object with the following members:
                        </p><p style="color:blue;">如果两个参数都是对象，则合并的结果是具有以下成员的对象：</p>
                            <div class="itemizedlist">
                                <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                    All members of the first object which do not have a
                                    corresponding member with the same key in the second
                                    object.
                                </p><p style="color:blue;">第一个对象的所有成员，这些成员在第二个对象中没有具有相同键的对应成员。</p></li><li class="listitem"><p>
                                    All members of the second object which do not have a
                                    corresponding key in the first object, and whose value
                                    is not the JSON <code class="literal">null</code> literal.
                                </p><p style="color:blue;">第二个对象的所有成员，这些成员在第一个对象中没有对应的键，并且其值不是json空文本。</p></li><li class="listitem"><p>
                                    All members with a key that exists in both the first
                                    and the second object, and whose value in the second
                                    object is not the JSON <code class="literal">null</code>
                                    literal. The values of these members are the results
                                    of recursively merging the value in the first object
                                    with the value in the second object.
                                </p><p style="color:blue;">所有成员都存在于第一个和第二个对象中，并且其在第二个对象中的值不是JSON null文字。这些成员的值是第一个对象中的值与第二个对象中的值递归合并的结果。</p></li></ul>
                            </div>
                        </li></ol>
                    </div>
                    <p>
                        For additional information, see
                        <a class="xref" href="data-types.html#json-normalization" title="Normalization, Merging, and Autowrapping of JSON Values">Normalization, Merging, and Autowrapping of JSON Values</a>.
                    </p><p style="color:blue;">有关其他信息，请参见json值的规范化、合并和自动包装。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('[1, 2]', '[true, false]');</code></strong>
+---------------------------------------------+
| JSON_MERGE_PATCH('[1, 2]', '[true, false]') |
+---------------------------------------------+
| [true, false]                               |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('{"name": "x"}', '{"id": 47}');</code></strong>
+-------------------------------------------------+
| JSON_MERGE_PATCH('{"name": "x"}', '{"id": 47}') |
+-------------------------------------------------+
| {"id": 47, "name": "x"}                         |
+-------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('1', 'true');</code></strong>
+-------------------------------+
| JSON_MERGE_PATCH('1', 'true') |
+-------------------------------+
| true                          |
+-------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('[1, 2]', '{"id": 47}');</code></strong>
+------------------------------------------+
| JSON_MERGE_PATCH('[1, 2]', '{"id": 47}') |
+------------------------------------------+
| {"id": 47}                               |
+------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('{ "a": 1, "b":2 }',</code></strong>
     &gt;     <strong class="userinput"><code>'{ "a": 3, "c":4 }');</code></strong>
+-----------------------------------------------------------+
| JSON_MERGE_PATCH('{ "a": 1, "b":2 }','{ "a": 3, "c":4 }') |
+-----------------------------------------------------------+
| {"a": 3, "b": 2, "c": 4}                                  |
+-----------------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('{ "a": 1, "b":2 }','{ "a": 3, "c":4 }',</code></strong>
     &gt;     <strong class="userinput"><code>'{ "a": 5, "d":6 }');</code></strong>
+-------------------------------------------------------------------------------+
| JSON_MERGE_PATCH('{ "a": 1, "b":2 }','{ "a": 3, "c":4 }','{ "a": 5, "d":6 }') |
+-------------------------------------------------------------------------------+
| {"a": 5, "b": 2, "c": 4, "d": 6}                                              |
+-------------------------------------------------------------------------------+
</pre><p>
                        You can use this function to remove a member by specifying
                        <code class="literal">null</code> as the value of the same member in the
                        seond argument, as shown here:
                    </p><p style="color:blue;">通过在seond参数中将null指定为同一成员的值，可以使用此函数删除成员，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('{"a":1, "b":2}', '{"b":null}');</code></strong>
+--------------------------------------------------+
| JSON_MERGE_PATCH('{"a":1, "b":2}', '{"b":null}') |
+--------------------------------------------------+
| {"a": 1}                                         |
+--------------------------------------------------+
</pre><p>
                        This example shows that the function operates in a recursive
                        fashion; that is, values of members are not limited to
                        scalars, but rather can themselves be JSON documents:
                    </p><p style="color:blue;">此示例显示该函数以递归方式运行；即，成员的值不限于标量，而可以是json文档：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PATCH('{"a":{"x":1}}', '{"a":{"y":2}}');</code></strong>
+----------------------------------------------------+
| JSON_MERGE_PATCH('{"a":{"x":1}}', '{"a":{"y":2}}') |
+----------------------------------------------------+
| {"a": {"x": 1, "y": 2}}                            |
+----------------------------------------------------+
</pre><p>
                        <code class="literal">JSON_MERGE_PATCH()</code> is supported in MySQL
                        5.7.22 and later.
                    </p><p style="color:blue;">MySQL 5.7.22及更高版本支持json_merge_patch（）。</p><p><a name="json-merge-patch-json-merge-preserve-compared"></a><b>JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE().&nbsp;</b>
                        The behavior of <code class="literal">JSON_MERGE_PATCH()</code> is the
                        same as that of
                        <a class="link" href="functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE()</code></a>, with
                        the following two exceptions:
                    </p><p style="color:blue;">json_merge_patch（）与json_merge_preserve（）相比。json_merge_patch（）的行为与json_merge_preserve（）的行为相同，但有以下两个例外：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">JSON_MERGE_PATCH()</code> removes any member
                            in the first object with a matching key in the second
                            object, provided that the value associated with the key in
                            the second object is not JSON <code class="literal">null</code>.
                        </p><p style="color:blue;">json_merge_patch（）删除第一个对象中具有第二个对象中匹配键的任何成员，前提是与第二个对象中键关联的值不是json null。</p></li><li class="listitem"><p>
                            If the second object has a member with a key matching a
                            member in the first object,
                            <code class="literal">JSON_MERGE_PATCH()</code>
                            <span class="emphasis"><em>replaces</em></span> the value in the first
                            object with the value in the second object, whereas
                            <code class="literal">JSON_MERGE_PRESERVE()</code>
                            <span class="emphasis"><em>appends</em></span> the second value to the first
                            value.
                        </p><p style="color:blue;">如果第二个对象具有与第一个对象中的成员匹配的键的成员，json_merge_patch（）将第一个对象中的值替换为第二个对象中的值，而json_merge_preserve（）将第二个值附加到第一个值。</p></li></ul>
                    </div>
                    <p>
                        This example compares the results of merging the same 3 JSON
                        objects, each having a matching key <code class="literal">"a"</code>,
                        with each of these two functions:
                    </p><p style="color:blue;">此示例将合并相同的3个json对象（每个对象都有一个匹配的键“a”）的结果与这两个函数的结果进行比较：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @x = '{ "a": 1, "b": 2 }',</code></strong>
     &gt;     <strong class="userinput"><code>@y = '{ "a": 3, "c": 4 }',</code></strong>
     &gt;     <strong class="userinput"><code>@z = '{ "a": 5, "d": 6 }';</code></strong>

mysql&gt; <strong class="userinput"><code>SELECT  JSON_MERGE_PATCH(@x, @y, @z)    AS Patch,</code></strong>
    -&gt;         <strong class="userinput"><code>JSON_MERGE_PRESERVE(@x, @y, @z) AS Preserve\G</code></strong>
*************************** 1. row ***************************
   Patch: {"a": 5, "b": 2, "c": 4, "d": 6}
Preserve: {"a": [1, 3, 5], "b": 2, "c": 4, "d": 6}
</pre></li><li class="listitem"><a name="function_json-merge-preserve"></a><p>
                    <a class="indexterm" name="idm140286844234304"></a>

                    <a class="link" href="functions.html#function_json-merge-preserve"><code class="literal">JSON_MERGE_PRESERVE(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>json_doc</code></em>[,
                        <em class="replaceable"><code>json_doc</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_merge_preserve（json_doc，json_doc[，json_doc]…）</p><p>
                    Merges two or more JSON documents and returns the merged
                    result. Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. An error occurs if any argument is
                    not a valid JSON document.
                </p><p style="color:blue;">合并两个或多个json文档并返回合并结果。如果任何参数为空，则返回空。如果任何参数不是有效的json文档，则会发生错误。</p><p>
                    Merging takes place according to the following rules. For
                    additional information, see
                    <a class="xref" href="data-types.html#json-normalization" title="Normalization, Merging, and Autowrapping of JSON Values">Normalization, Merging, and Autowrapping of JSON Values</a>.
                </p><p style="color:blue;">合并按以下规则进行。有关其他信息，请参见json值的规范化、合并和自动包装。</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            Adjacent arrays are merged to a single array.
                        </p><p style="color:blue;">相邻数组合并为单个数组。</p></li><li class="listitem"><p>
                            Adjacent objects are merged to a single object.
                        </p><p style="color:blue;">相邻对象合并为单个对象。</p></li><li class="listitem"><p>
                            A scalar value is autowrapped as an array and merged as an
                            array.
                        </p><p style="color:blue;">标量值自动包装为数组并合并为数组。</p></li><li class="listitem"><p>
                            An adjacent array and object are merged by autowrapping
                            the object as an array and merging the two arrays.
                        </p><p style="color:blue;">通过将对象自动包装为数组并合并两个数组，可以合并相邻数组和对象。</p></li></ul>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE('[1, 2]', '[true, false]');</code></strong>
+------------------------------------------------+
| JSON_MERGE_PRESERVE('[1, 2]', '[true, false]') |
+------------------------------------------------+
| [1, 2, true, false]                            |
+------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE('{"name": "x"}', '{"id": 47}');</code></strong>
+----------------------------------------------------+
| JSON_MERGE_PRESERVE('{"name": "x"}', '{"id": 47}') |
+----------------------------------------------------+
| {"id": 47, "name": "x"}                            |
+----------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE('1', 'true');</code></strong>
+----------------------------------+
| JSON_MERGE_PRESERVE('1', 'true') |
+----------------------------------+
| [1, true]                        |
+----------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE('[1, 2]', '{"id": 47}');</code></strong>
+---------------------------------------------+
| JSON_MERGE_PRESERVE('[1, 2]', '{"id": 47}') |
+---------------------------------------------+
| [1, 2, {"id": 47}]                          |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE('{ "a": 1, "b": 2 }',</code></strong>
     &gt;    <strong class="userinput"><code>'{ "a": 3, "c": 4 }');</code></strong>
+--------------------------------------------------------------+
| JSON_MERGE_PRESERVE('{ "a": 1, "b": 2 }','{ "a": 3, "c":4 }') |
+--------------------------------------------------------------+
| {"a": [1, 3], "b": 2, "c": 4}                                |
+--------------------------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_MERGE_PRESERVE('{ "a": 1, "b": 2 }','{ "a": 3, "c": 4 }',</code></strong>
     &gt;    <strong class="userinput"><code>'{ "a": 5, "d": 6 }');</code></strong>
+----------------------------------------------------------------------------------+
| JSON_MERGE_PRESERVE('{ "a": 1, "b": 2 }','{ "a": 3, "c": 4 }','{ "a": 5, "d": 6 }') |
+----------------------------------------------------------------------------------+
| {"a": [1, 3, 5], "b": 2, "c": 4, "d": 6}                                         |
+----------------------------------------------------------------------------------+
</pre><p>
                        This function was added in MySQL 5.7.22 as a synonym for
                        <a class="link" href="functions.html#function_json-merge"><code class="literal">JSON_MERGE()</code></a>. The
                        <code class="literal">JSON_MERGE()</code> function is now deprecated,
                        and is subject to removal in a future release of MySQL.
                    </p><p style="color:blue;">这个函数是在mysql 5.7.22中作为json_merge（）的同义词添加的。json_merge（）函数现在已被弃用，并将在mysql的未来版本中被删除。</p><p>
                        This function is similar to but differs from
                        <a class="link" href="functions.html#function_json-merge-patch"><code class="literal">JSON_MERGE_PATCH()</code></a> in
                        significant respects; see
                        <a class="xref" href="functions.html#json-merge-patch-json-merge-preserve-compared" title="JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()">JSON_MERGE_PATCH() compared with JSON_MERGE_PRESERVE()</a>,
                        for more information.
                    </p><p style="color:blue;">此函数与json_merge_patch（）相似，但在重要方面有所不同；有关详细信息，请参见json_merge_patch（）与json_merge_preserve（）的比较。</p></li><li class="listitem"><a name="function_json-remove"></a><p>
                    <a class="indexterm" name="idm140286844202720"></a>

                    <a class="link" href="functions.html#function_json-remove"><code class="literal">JSON_REMOVE(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>[,
                        <em class="replaceable"><code>path</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_remove（json_doc，路径[，路径]…）</p><p>
                    Removes data from a JSON document and returns the result.
                    Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or any <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or is <code class="literal">$</code> or
                    contains a <code class="literal">*</code> or <code class="literal">**</code>
                    wildcard.
                </p><p style="color:blue;">从json文档中移除数据并返回结果。如果任何参数为空，则返回空。如果json_doc参数不是有效的json文档，或者任何path参数不是有效的path表达式，或者是$，或者包含*或**通配符，则会发生错误。</p><p>
                    The <em class="replaceable"><code>path</code></em> arguments are evaluated
                    left to right. The document produced by evaluating one path
                    becomes the new value against which the next path is
                    evaluated.
                </p><p style="color:blue;">从左到右计算路径参数。对一条路径求值生成的文档将成为对下一条路径求值的新值。</p><p>
                    It is not an error if the element to be removed does not exist
                    in the document; in that case, the path does not affect the
                    document.
                </p><p style="color:blue;">如果要删除的元素不存在于文档中，则不是错误；在这种情况下，路径不影响文档。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '["a", ["b", "c"], "d"]';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_REMOVE(@j, '$[1]');</code></strong>
+-------------------------+
| JSON_REMOVE(@j, '$[1]') |
+-------------------------+
| ["a", "d"]              |
+-------------------------+
</pre></li><li class="listitem"><a name="function_json-replace"></a><p>
                    <a class="indexterm" name="idm140286844184048"></a>

                    <a class="link" href="functions.html#function_json-replace"><code class="literal">JSON_REPLACE(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_replace（json_doc，path，val[，path，val]…）</p><p>
                    Replaces existing values in a JSON document and returns the
                    result. Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code>. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or any <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or contains a
                    <code class="literal">*</code> or <code class="literal">**</code> wildcard.
                </p><p style="color:blue;">替换JSON文档中的现有值并返回结果。如果任何参数为空，则返回空。如果json_doc参数不是有效的json文档，或者任何路径参数不是有效的路径表达式，或者包含*或**通配符，则会发生错误。</p><p>
                    The path-value pairs are evaluated left to right. The document
                    produced by evaluating one pair becomes the new value against
                    which the next pair is evaluated.
                </p><p style="color:blue;">从左到右计算路径值对。对一对进行求值生成的文档将成为对下一对进行求值的新值。</p><p>
                    A path-value pair for an existing path in the document
                    overwrites the existing document value with the new value. A
                    path-value pair for a nonexisting path in the document is
                    ignored and has no effect.
                </p><p style="color:blue;">文档中现有路径的路径值对以新值覆盖现有文档值。文档中一条路径的路径值对被忽略并且没有作用。</p><p>
                    For a comparison of
                    <a class="link" href="functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a>,
                    <a class="link" href="functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a>, and
                    <a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>, see the discussion
                    of <a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>.
                </p><p style="color:blue;">有关json_insert（）、json_replace（）和json_set（）的比较，请参见json_set（）的讨论。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '{ "a": 1, "b": [2, 3]}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]');</code></strong>
+-----------------------------------------------------+
| JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]') |
+-----------------------------------------------------+
| {"a": 10, "b": [2, 3]}                              |
+-----------------------------------------------------+
</pre></li><li class="listitem"><a name="function_json-set"></a><p>
                    <a class="indexterm" name="idm140286844160032"></a>

                    <a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET(<em class="replaceable"><code>json_doc</code></em>,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>[,
                        <em class="replaceable"><code>path</code></em>,
                        <em class="replaceable"><code>val</code></em>] ...)</code></a>
                </p><p style="color:blue;">json_集（json_doc，path，val[，path，val]…）</p><p>
                    Inserts or updates data in a JSON document and returns the
                    result. Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code> or <em class="replaceable"><code>path</code></em>, if
                    given, does not locate an object. An error occurs if the
                    <em class="replaceable"><code>json_doc</code></em> argument is not a valid
                    JSON document or any <em class="replaceable"><code>path</code></em> argument
                    is not a valid path expression or contains a
                    <code class="literal">*</code> or <code class="literal">**</code> wildcard.
                </p><p style="color:blue;">在json文档中插入或更新数据并返回结果。如果任何参数为空或路径（如果给定）未定位对象，则返回空。如果json_doc参数不是有效的json文档，或者任何路径参数不是有效的路径表达式，或者包含*或**通配符，则会发生错误。</p><p>
                    The path-value pairs are evaluated left to right. The document
                    produced by evaluating one pair becomes the new value against
                    which the next pair is evaluated.
                </p><p style="color:blue;">从左到右计算路径值对。对一对进行求值生成的文档将成为对下一对进行求值的新值。</p><p>
                    A path-value pair for an existing path in the document
                    overwrites the existing document value with the new value. A
                    path-value pair for a nonexisting path in the document adds
                    the value to the document if the path identifies one of these
                    types of values:
                </p><p style="color:blue;">文档中现有路径的路径值对以新值覆盖现有文档值。如果路径标识了这些类型的值中的一个，则文档中的不存在路径的路径值对将值添加到文档中：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            A member not present in an existing object. The member is
                            added to the object and associated with the new value.
                        </p><p style="color:blue;">不存在于现有对象中的成员。成员将添加到对象并与新值关联。</p></li><li class="listitem"><p>
                            A position past the end of an existing array. The array is
                            extended with the new value. If the existing value is not
                            an array, it is autowrapped as an array, then extended
                            with the new value.
                        </p><p style="color:blue;">超过现有数组末尾的位置。数组使用新值扩展。如果现有值不是数组，则将其作为数组自动读取，然后用新值扩展。</p></li></ul>
                    </div>
                    <p>
                        Otherwise, a path-value pair for a nonexisting path in the
                        document is ignored and has no effect.
                    </p><p style="color:blue;">否则，将忽略文档中不存在路径的路径值对，并且没有影响。</p><p>
                        The <a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a>,
                        <a class="link" href="functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a>, and
                        <a class="link" href="functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a> functions are
                        related:
                    </p><p style="color:blue;">json_set（）、json_insert（）和json_replace（）函数是相关的：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <a class="link" href="functions.html#function_json-set"><code class="literal">JSON_SET()</code></a> replaces
                            existing values and adds nonexisting values.
                        </p><p style="color:blue;">JSONSOSET（）替换现有的值并添加不存在的值。</p></li><li class="listitem"><p>
                            <a class="link" href="functions.html#function_json-insert"><code class="literal">JSON_INSERT()</code></a> inserts
                            values without replacing existing values.
                        </p><p style="color:blue;">在不替换现有值的情况下插入值。</p></li><li class="listitem"><p>
                            <a class="link" href="functions.html#function_json-replace"><code class="literal">JSON_REPLACE()</code></a> replaces
                            <span class="emphasis"><em>only</em></span> existing values.
                        </p><p style="color:blue;">JSONReRePoT（）只替换现有的值。</p></li></ul>
                    </div>
                    <p>
                        The following examples illustrate these differences, using one
                        path that does exist in the document (<code class="literal">$.a</code>)
                        and another that does not exist (<code class="literal">$.c</code>):
                    </p><p style="color:blue;">下面的示例使用文档中存在的一条路径（$.a）和不存在的另一条路径（$.c）来说明这些差异：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '{ "a": 1, "b": [2, 3]}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_SET(@j, '$.a', 10, '$.c', '[true, false]');</code></strong>
+-------------------------------------------------+
| JSON_SET(@j, '$.a', 10, '$.c', '[true, false]') |
+-------------------------------------------------+
| {"a": 10, "b": [2, 3], "c": "[true, false]"}    |
+-------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]');</code></strong>
+----------------------------------------------------+
| JSON_INSERT(@j, '$.a', 10, '$.c', '[true, false]') |
+----------------------------------------------------+
| {"a": 1, "b": [2, 3], "c": "[true, false]"}        |
+----------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]');</code></strong>
+-----------------------------------------------------+
| JSON_REPLACE(@j, '$.a', 10, '$.c', '[true, false]') |
+-----------------------------------------------------+
| {"a": 10, "b": [2, 3]}                              |
+-----------------------------------------------------+
</pre></li><li class="listitem"><a name="function_json-unquote"></a><p>
                    <a class="indexterm" name="idm140286844122208"></a>

                    <a class="link" href="functions.html#function_json-unquote"><code class="literal">JSON_UNQUOTE(<em class="replaceable"><code>json_val</code></em>)</code></a>
                </p><p style="color:blue;">json（json值）</p><p>
                    Unquotes JSON value and returns the result as a
                    <code class="literal">utf8mb4</code> string. Returns
                    <code class="literal">NULL</code> if the argument is
                    <code class="literal">NULL</code>. An error occurs if the value starts
                    and ends with double quotes but is not a valid JSON string
                    literal.
                </p><p style="color:blue;">取消对json值的引号，并将结果作为utf8mb4字符串返回。如果参数为空，则返回空。如果值以双引号开头和结尾，但不是有效的json字符串文本，则会发生错误。</p><p>
                    Within a string, certain sequences have special meaning unless
                    the <a class="link" href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
                    mode is enabled. Each of these sequences begins with a
                    backslash (<code class="literal">\</code>), known as the
                    <span class="emphasis"><em>escape character</em></span>. MySQL recognizes the
                    escape sequences shown in
                    <a class="xref" href="functions.html#json-unquote-character-escape-sequences" title="Table&nbsp;12.22&nbsp;JSON_UNQUOTE() Special Character Escape Sequences">Table&nbsp;12.22, “JSON_UNQUOTE() Special Character Escape Sequences”</a>. For
                    all other escape sequences, backslash is ignored. That is, the
                    escaped character is interpreted as if it was not escaped. For
                    example, <code class="literal">\x</code> is just <code class="literal">x</code>.
                    These sequences are case-sensitive. For example,
                    <code class="literal">\b</code> is interpreted as a backspace, but
                    <code class="literal">\B</code> is interpreted as <code class="literal">B</code>.
                </p><p style="color:blue;">在字符串中，除非启用了无反斜杠转义SQL模式，否则某些序列具有特殊意义。每个序列都以反斜杠（\）开头，称为转义字符。mysql可以识别表12.22“json_unquote（）特殊字符转义序列”中所示的转义序列。对于所有其他转义序列，将忽略反斜杠。也就是说，转义字符被解释为它没有转义。例如，x只是x。这些序列区分大小写。例如，“，”被解释为退格，但“，”被解释为B。</p>
                    <div class="table">
                        <a name="json-unquote-character-escape-sequences"></a><p class="title"><b>Table&nbsp;12.22&nbsp;JSON_UNQUOTE() Special Character Escape Sequences</b></p><p style="color:blue;">表12.22 json unquote（）特殊字符转义序列</p>
                        <div class="table-contents">
                            <table><colgroup><col width="15%"><col width="85%"></colgroup><thead><tr>
                                <th scope="col">Escape Sequence</th>
                                <th scope="col">Character Represented by Sequence</th>
                            </tr></thead><tbody><tr>
                                <td scope="row"><code class="literal">\"</code><a class="indexterm" name="idm140286844100096"></a><a class="indexterm" name="idm140286844099152"></a></td>
                                <td>A double quote (<code class="literal">"</code>) character</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">\b</code><a class="indexterm" name="idm140286844094736"></a><a class="indexterm" name="idm140286844093792"></a></td>
                                <td>A backspace character</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">\f</code><a class="indexterm" name="idm140286844090064"></a><a class="indexterm" name="idm140286844089120"></a></td>
                                <td>A formfeed character</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">\n</code><a class="indexterm" name="idm140286844085392"></a><a class="indexterm" name="idm140286844084448"></a><a class="indexterm" name="idm140286844083504"></a><a class="indexterm" name="idm140286844082560"></a></td>
                                <td>A newline (linefeed) character</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">\r</code><a class="indexterm" name="idm140286844078816"></a><a class="indexterm" name="idm140286844077872"></a><a class="indexterm" name="idm140286844076928"></a></td>
                                <td>A carriage return character</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">\t</code><a class="indexterm" name="idm140286844073184"></a><a class="indexterm" name="idm140286844072240"></a></td>
                                <td>A tab character</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">\\</code><a class="indexterm" name="idm140286844068512"></a><a class="indexterm" name="idm140286844067568"></a></td>
                                <td>A backslash (<code class="literal">\</code>) character</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">\u<em class="replaceable"><code>XXXX</code></em></code><a class="indexterm" name="idm140286844062864"></a><a class="indexterm" name="idm140286844061920"></a></td>
                                <td>UTF-8 bytes for Unicode value <em class="replaceable"><code>XXXX</code></em></td>
                            </tr></tbody></table>
                        </div>

                    </div>
                    <br class="table-break"><p>
                        Two simple examples of the use of this function are shown
                        here:
                    </p><p style="color:blue;">下面给出了使用此函数的两个简单示例：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '"abc"';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @j, JSON_UNQUOTE(@j);</code></strong>
+-------+------------------+
| @j    | JSON_UNQUOTE(@j) |
+-------+------------------+
| "abc" | abc              |
+-------+------------------+
mysql&gt; <strong class="userinput"><code>SET @j = '[1, 2, 3]';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT @j, JSON_UNQUOTE(@j);</code></strong>
+-----------+------------------+
| @j        | JSON_UNQUOTE(@j) |
+-----------+------------------+
| [1, 2, 3] | [1, 2, 3]        |
+-----------+------------------+
</pre><p>
                        The following set of examples shows how
                        <code class="literal">JSON_UNQUOTE</code> handles escapes with
                        <a class="link" href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a>
                        disabled and enabled:
                    </p><p style="color:blue;">下面的一组示例显示了json_unquote如何在禁用和启用无反斜杠的情况下处理转义：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT @@sql_mode;</code></strong>
+------------+
| @@sql_mode |
+------------+
|            |
+------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_UNQUOTE('"\\t\\u0032"');</code></strong>
+------------------------------+
| JSON_UNQUOTE('"\\t\\u0032"') |
+------------------------------+
|       2                           |
+------------------------------+

mysql&gt; <strong class="userinput"><code>SET @@sql_mode = 'NO_BACKSLASH_ESCAPES';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_UNQUOTE('"\\t\\u0032"');</code></strong>
+------------------------------+
| JSON_UNQUOTE('"\\t\\u0032"') |
+------------------------------+
| \t\u0032                     |
+------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_UNQUOTE('"\t\u0032"');</code></strong>
+----------------------------+
| JSON_UNQUOTE('"\t\u0032"') |
+----------------------------+
|       2                         |
+----------------------------+
</pre></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="json-attribute-functions"></a>12.17.5&nbsp;Functions That Return JSON Value Attributes</h3>

                    </div>

                </div>

            </div>
            <p>
                The functions in this section return attributes of JSON values.
            </p><p style="color:blue;">本节中的函数返回json值的属性。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_json-depth"></a><p>
                    <a class="indexterm" name="idm140286844040160"></a>

                    <a class="link" href="functions.html#function_json-depth"><code class="literal">JSON_DEPTH(<em class="replaceable"><code>json_doc</code></em>)</code></a>
                </p><p style="color:blue;">json_深度（json_doc）</p><p>
                    Returns the maximum depth of a JSON document. Returns
                    <code class="literal">NULL</code> if the argument is
                    <code class="literal">NULL</code>. An error occurs if the argument is
                    not a valid JSON document.
                </p><p style="color:blue;">返回JSON文档的最大深度。如果参数为空，则返回空。如果参数不是有效的json文档，则会发生错误。</p><p>
                    An empty array, empty object, or scalar value has depth 1. A
                    nonempty array containing only elements of depth 1 or nonempty
                    object containing only member values of depth 1 has depth 2.
                    Otherwise, a JSON document has depth greater than 2.
                </p><p style="color:blue;">空数组、空对象或标量值的深度为1。仅包含深度1的元素的非空数组或仅包含深度1的成员值的非空对象具有深度2。否则，json文档的深度大于2。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_DEPTH('{}'), JSON_DEPTH('[]'), JSON_DEPTH('true');</code></strong>
+------------------+------------------+--------------------+
| JSON_DEPTH('{}') | JSON_DEPTH('[]') | JSON_DEPTH('true') |
+------------------+------------------+--------------------+
|                1 |                1 |                  1 |
+------------------+------------------+--------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_DEPTH('[10, 20]'), JSON_DEPTH('[[], {}]');</code></strong>
+------------------------+------------------------+
| JSON_DEPTH('[10, 20]') | JSON_DEPTH('[[], {}]') |
+------------------------+------------------------+
|                      2 |                      2 |
+------------------------+------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_DEPTH('[10, {"a": 20}]');</code></strong>
+-------------------------------+
| JSON_DEPTH('[10, {"a": 20}]') |
+-------------------------------+
|                             3 |
+-------------------------------+
</pre></li><li class="listitem"><a name="function_json-length"></a><p>
                    <a class="indexterm" name="idm140286844024448"></a>

                    <a class="link" href="functions.html#function_json-length"><code class="literal">JSON_LENGTH(<em class="replaceable"><code>json_doc</code></em>[,
                        <em class="replaceable"><code>path</code></em>])</code></a>
                </p><p style="color:blue;">json_长度（json_doc[，path]）</p><p>
                    Returns the length of a JSON document, or, if a
                    <em class="replaceable"><code>path</code></em> argument is given, the length
                    of the value within the document identified by the path.
                    Returns <code class="literal">NULL</code> if any argument is
                    <code class="literal">NULL</code> or the <em class="replaceable"><code>path</code></em>
                    argument does not identify a value in the document. An error
                    occurs if the <em class="replaceable"><code>json_doc</code></em> argument is
                    not a valid JSON document or the
                    <em class="replaceable"><code>path</code></em> argument is not a valid path
                    expression or contains a <code class="literal">*</code> or
                    <code class="literal">**</code> wildcard.
                </p><p style="color:blue;">返回json文档的长度，或者，如果给定path参数，则返回由路径标识的文档中的值的长度。如果任何参数为空或路径参数未标识文档中的值，则返回空。如果json_doc参数不是有效的json文档，或者path参数不是有效的路径表达式，或者包含*或**通配符，则会发生错误。</p><p>
                    The length of a document is determined as follows:
                </p><p style="color:blue;">文件的长度确定如下：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            The length of a scalar is 1.
                        </p><p style="color:blue;">标量的长度是1。</p></li><li class="listitem"><p>
                            The length of an array is the number of array elements.
                        </p><p style="color:blue;">数组的长度是数组元素的数目。</p></li><li class="listitem"><p>
                            The length of an object is the number of object members.
                        </p><p style="color:blue;">对象的长度是对象成员的数目。</p></li><li class="listitem"><p>
                            The length does not count the length of nested arrays or
                            objects.
                        </p><p style="color:blue;">长度不计算嵌套数组或对象的长度。</p></li></ul>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_LENGTH('[1, 2, {"a": 3}]');</code></strong>
+---------------------------------+
| JSON_LENGTH('[1, 2, {"a": 3}]') |
+---------------------------------+
|                               3 |
+---------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_LENGTH('{"a": 1, "b": {"c": 30}}');</code></strong>
+-----------------------------------------+
| JSON_LENGTH('{"a": 1, "b": {"c": 30}}') |
+-----------------------------------------+
|                                       2 |
+-----------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_LENGTH('{"a": 1, "b": {"c": 30}}', '$.b');</code></strong>
+------------------------------------------------+
| JSON_LENGTH('{"a": 1, "b": {"c": 30}}', '$.b') |
+------------------------------------------------+
|                                              1 |
+------------------------------------------------+
</pre></li><li class="listitem"><a name="function_json-type"></a><p>
                    <a class="indexterm" name="idm140286844001568"></a>

                    <a class="link" href="functions.html#function_json-type"><code class="literal">JSON_TYPE(<em class="replaceable"><code>json_val</code></em>)</code></a>
                </p><p style="color:blue;">json_类型（json_val）</p><p>
                    Returns a <code class="literal">utf8mb4</code> string indicating the
                    type of a JSON value. This can be an object, an array, or a
                    scalar type, as shown here:
                </p><p style="color:blue;">返回指示json值类型的utf8mb4字符串。这可以是对象、数组或标量类型，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '{"a": [10, true]}';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT JSON_TYPE(@j);</code></strong>
+---------------+
| JSON_TYPE(@j) |
+---------------+
| OBJECT        |
+---------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_TYPE(JSON_EXTRACT(@j, '$.a'));</code></strong>
+------------------------------------+
| JSON_TYPE(JSON_EXTRACT(@j, '$.a')) |
+------------------------------------+
| ARRAY                              |
+------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_TYPE(JSON_EXTRACT(@j, '$.a[0]'));</code></strong>
+---------------------------------------+
| JSON_TYPE(JSON_EXTRACT(@j, '$.a[0]')) |
+---------------------------------------+
| INTEGER                               |
+---------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_TYPE(JSON_EXTRACT(@j, '$.a[1]'));</code></strong>
+---------------------------------------+
| JSON_TYPE(JSON_EXTRACT(@j, '$.a[1]')) |
+---------------------------------------+
| BOOLEAN                               |
+---------------------------------------+
</pre><p>
                    <a class="link" href="functions.html#function_json-type"><code class="literal">JSON_TYPE()</code></a> returns
                    <code class="literal">NULL</code> if the argument is
                    <code class="literal">NULL</code>:
                </p><p style="color:blue;">如果参数为空，json_type（）返回空：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_TYPE(NULL);</code></strong>
+-----------------+
| JSON_TYPE(NULL) |
+-----------------+
| NULL            |
+-----------------+
</pre><p>
                    An error occurs if the argument is not a valid JSON value:
                </p><p style="color:blue;">如果参数不是有效的json值，则会发生错误：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_TYPE(1);</code></strong>
ERROR 3146 (22032): Invalid data type for JSON data in argument 1
to function json_type; a JSON string or JSON type is required.
</pre><p>
                    For a non-<code class="literal">NULL</code>, non-error result, the
                    following list describes the possible
                    <a class="link" href="functions.html#function_json-type"><code class="literal">JSON_TYPE()</code></a> return values:
                </p><p style="color:blue;">对于非空的非错误结果，以下列表描述了可能的json_type（）返回值：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            Purely JSON types:
                        </p><p style="color:blue;">纯json类型：</p>
                            <div class="itemizedlist">
                                <ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                                    <code class="literal">OBJECT</code>: JSON objects
                                </p><p style="color:blue;">对象：json对象</p></li><li class="listitem"><p>
                                    <code class="literal">ARRAY</code>: JSON arrays
                                </p><p style="color:blue;">数组：json数组</p></li><li class="listitem"><p>
                                    <code class="literal">BOOLEAN</code>: The JSON true and false
                                    literals
                                </p><p style="color:blue;">boolean:json的true和false文本</p></li><li class="listitem"><p>
                                    <code class="literal">NULL</code>: The JSON null literal
                                </p><p style="color:blue;">null:json空文本</p></li></ul>
                            </div>
                        </li><li class="listitem"><p>
                            Numeric types:
                        </p><p style="color:blue;">数字类型：</p>
                            <div class="itemizedlist">
                                <ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                                    <code class="literal">INTEGER</code>: MySQL
                                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">TINYINT</code></a>,
                                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">SMALLINT</code></a>,
                                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">MEDIUMINT</code></a> and
                                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a> and
                                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> scalars
                                </p><p style="color:blue;">整数：mysql tinyint、smallint、mediumint以及int和bigint标量</p></li><li class="listitem"><p>
                                    <code class="literal">DOUBLE</code>: MySQL
                                    <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a>
                                    <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">FLOAT</code></a> scalars
                                </p><p style="color:blue;">double:mysql双浮点标量</p></li><li class="listitem"><p>
                                    <code class="literal">DECIMAL</code>: MySQL
                                    <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> and
                                    <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">NUMERIC</code></a> scalars
                                </p><p style="color:blue;">十进制：mysql十进制和数字标量</p></li></ul>
                            </div>
                        </li><li class="listitem"><p>
                            Temporal types:
                        </p><p style="color:blue;">时间类型：</p>
                            <div class="itemizedlist">
                                <ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                                    <code class="literal">DATETIME</code>: MySQL
                                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATETIME</code></a> and
                                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> scalars
                                </p><p style="color:blue;">datetime:mysql日期时间和时间戳标量</p></li><li class="listitem"><p>
                                    <code class="literal">DATE</code>: MySQL
                                    <a class="link" href="data-types.html#datetime" title="11.3.1&nbsp;The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">DATE</code></a> scalars
                                </p><p style="color:blue;">日期：mysql日期标量</p></li><li class="listitem"><p>
                                    <code class="literal">TIME</code>: MySQL
                                    <a class="link" href="data-types.html#time" title="11.3.2&nbsp;The TIME Type"><code class="literal">TIME</code></a> scalars
                                </p><p style="color:blue;">时间：mysql时间标量</p></li></ul>
                            </div>
                        </li><li class="listitem"><p>
                            String types:
                        </p><p style="color:blue;">字符串类型：</p>
                            <div class="itemizedlist">
                                <ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                                    <code class="literal">STRING</code>: MySQL
                                    <code class="literal">utf8</code> character type scalars:
                                    <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
                                    <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>,
                                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a>,
                                    <a class="link" href="data-types.html#enum" title="11.4.4&nbsp;The ENUM Type"><code class="literal">ENUM</code></a>, and
                                    <a class="link" href="data-types.html#set" title="11.4.5&nbsp;The SET Type"><code class="literal">SET</code></a>
                                </p><p style="color:blue;">字符串：mysql utf8字符类型标量：char、varchar、text、enum和set</p></li></ul>
                            </div>
                        </li><li class="listitem"><p>
                            Binary types:
                        </p><p style="color:blue;">二进制类型：</p>
                            <div class="itemizedlist">
                                <ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                                    <code class="literal">BLOB</code>: MySQL binary type scalars:
                                    <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
                                    <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>,
                                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a>
                                </p><p style="color:blue;">blob:mysql二进制类型标量：binary、varbinary、blob</p></li><li class="listitem"><p>
                                    <code class="literal">BIT</code>: MySQL
                                    <a class="link" href="data-types.html#bit-type" title="11.2.4&nbsp;Bit-Value Type - BIT"><code class="literal">BIT</code></a> scalars
                                </p><p style="color:blue;">位：mysql位标量</p></li></ul>
                            </div>
                        </li><li class="listitem"><p>
                            All other types:
                        </p><p style="color:blue;">所有其他类型：</p>
                            <div class="itemizedlist">
                                <ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                                    <code class="literal">OPAQUE</code> (raw bits)
                                </p><p style="color:blue;">不透明（原始位）</p></li></ul>
                            </div>
                        </li></ul>
                    </div>
                </li><li class="listitem"><a name="function_json-valid"></a><p>
                    <a class="indexterm" name="idm140286843920224"></a>

                    <a class="link" href="functions.html#function_json-valid"><code class="literal">JSON_VALID(<em class="replaceable"><code>val</code></em>)</code></a>
                </p><p style="color:blue;">JSON有效（VAL）</p><p>
                    Returns 0 or 1 to indicate whether a value is valid JSON.
                    Returns <code class="literal">NULL</code> if the argument is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">返回0或1以指示值是否为有效的JSON。如果参数为空，则返回空。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_VALID('{"a": 1}');</code></strong>
+------------------------+
| JSON_VALID('{"a": 1}') |
+------------------------+
|                      1 |
+------------------------+
mysql&gt; <strong class="userinput"><code>SELECT JSON_VALID('hello'), JSON_VALID('"hello"');</code></strong>
+---------------------+-----------------------+
| JSON_VALID('hello') | JSON_VALID('"hello"') |
+---------------------+-----------------------+
|                   0 |                     1 |
+---------------------+-----------------------+
</pre></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="json-utility-functions"></a>12.17.6&nbsp;JSON Utility Functions</h3>

                    </div>

                </div>

            </div>
            <p>
                This section documents utility functions that act on JSON values,
                or strings that can be parsed as JSON values.
                <a class="link" href="functions.html#function_json-pretty"><code class="literal">JSON_PRETTY()</code></a> prints out a JSON
                value in a format that is easy to read.
                <a class="link" href="functions.html#function_json-storage-size"><code class="literal">JSON_STORAGE_SIZE()</code></a> shows the
                amount of storage space used by a given JSON value.
            </p><p style="color:blue;">本节记录作用于json值的实用程序函数，或可以解析为json值的字符串。json_pretty（）以易于阅读的格式打印出一个json值。json_storage_size（）显示给定json值使用的存储空间量。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_json-pretty"></a><p>
                    <a class="indexterm" name="idm140286843902160"></a>

                    <a class="link" href="functions.html#function_json-pretty"><code class="literal">JSON_PRETTY(<em class="replaceable"><code>json_val</code></em>)</code></a>
                </p><p style="color:blue;">JSON_漂亮（JSON_val）</p><p>
                    Provides pretty-printing of JSON values similar to that
                    implemented in PHP and by other languages and database
                    systems. The value supplied must be a JSON value or a valid
                    string representation of a JSON value. Extraneous whitespaces
                    and newlines present in this value have no effect on the
                    output. For a <code class="literal">NULL</code> value, the function
                    returns <code class="literal">NULL</code>. If the value is not a JSON
                    document, or if it cannot be parsed as one, the function fails
                    with an error.
                </p><p style="color:blue;">提供类似于php以及其他语言和数据库系统实现的json值的漂亮打印。提供的值必须是json值或json值的有效字符串表示形式。此值中存在的无关空格和换行符对输出没有影响。对于空值，函数返回空值。如果该值不是json文档，或者无法将其解析为json文档，则函数将失败并返回错误。</p><p>
                    Formatting of the output from this function adheres to the
                    following rules:
                </p><p style="color:blue;">此函数输出的格式遵循以下规则：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            Each array element or object member appears on a separate
                            line, indented by one additional level as compared to its
                            parent.
                        </p><p style="color:blue;">每个数组元素或对象成员都显示在单独的行上，与其父级相比缩进一个额外的级别。</p></li><li class="listitem"><p>
                            Each level of indentation adds two leading spaces.
                        </p><p style="color:blue;">每一级缩进都会添加两个前导空格。</p></li><li class="listitem"><p>
                            A comma separating individual array elements or object
                            members is printed before the newline that separates the
                            two elements or members.
                        </p><p style="color:blue;">分隔单个数组元素或对象成员的逗号将打印在分隔这两个元素或成员的换行符之前。</p></li><li class="listitem"><p>
                            The key and the value of an object member are separated by
                            a colon followed by a space ('<code class="literal">: </code>').
                        </p><p style="color:blue;">对象成员的键和值由冒号后跟空格（“：”）分隔。</p></li><li class="listitem"><p>
                            An empty object or array is printed on a single line. No
                            space is printed between the opening and closing brace.
                        </p><p style="color:blue;">空对象或数组打印在一行上。左大括号和右大括号之间没有空格。</p></li><li class="listitem"><p>
                            Special characters in string scalars and key names are
                            escaped employing the same rules used by the
                            <a class="link" href="functions.html#function_json-quote"><code class="literal">JSON_QUOTE()</code></a> function.
                        </p><p style="color:blue;">字符串标量和键名中的特殊字符使用json_quote（）函数使用的相同规则进行转义。</p></li></ul>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT JSON_PRETTY('123'); # scalar</code></strong>
+--------------------+
| JSON_PRETTY('123') |
+--------------------+
| 123                |
+--------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_PRETTY("[1,3,5]"); # array</code></strong>
+------------------------+
| JSON_PRETTY("[1,3,5]") |
+------------------------+
| [
  1,
  3,
  5
]      |
+------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_PRETTY('{"a":"10","b":"15","x":"25"}'); # object</code></strong>
+---------------------------------------------+
| JSON_PRETTY('{"a":"10","b":"15","x":"25"}') |
+---------------------------------------------+
| {
  "a": "10",
  "b": "15",
  "x": "25"
}   |
+---------------------------------------------+

mysql&gt; <strong class="userinput"><code>SELECT JSON_PRETTY('["a",1,{"key1":</code></strong>
     &gt;    <strong class="userinput"><code>"value1"},"5",     "77" ,</code></strong>
     &gt;       <strong class="userinput"><code>{"key2":["value3","valueX",</code></strong>
     &gt; <strong class="userinput"><code>"valueY"]},"j", "2"   ]')\G  # nested arrays and objects</code></strong>
*************************** 1. row ***************************
JSON_PRETTY('["a",1,{"key1":
             "value1"},"5",     "77" ,
                {"key2":["value3","valuex",
          "valuey"]},"j", "2"   ]'): [
  "a",
  1,
  {
    "key1": "value1"
  },
  "5",
  "77",
  {
    "key2": [
      "value3",
      "valuex",
      "valuey"
    ]
  },
  "j",
  "2"
]
</pre><p>
                        Added in MySQL 5.7.22.
                    </p><p style="color:blue;">在mysql 5.7.22中添加。</p></li><li class="listitem"><a name="function_json-storage-size"></a><p>
                    <a class="indexterm" name="idm140286843875984"></a>

                    <a class="link" href="functions.html#function_json-storage-size"><code class="literal">JSON_STORAGE_SIZE(<em class="replaceable"><code>json_val</code></em>)</code></a>
                </p><p style="color:blue;">json_存储空间大小（json_val）</p><p>
                    This function returns the number of bytes used to store the
                    binary representation of a JSON document. When the argument is
                    a <code class="literal">JSON</code> column, this is the space used to
                    store the JSON document. <em class="replaceable"><code>json_val</code></em>
                    must be a valid JSON document or a string which can be parsed
                    as one. In the case where it is string, the function returns
                    the amount of storage space in the JSON binary representation
                    that is created by parsing the string as JSON and converting
                    it to binary. It returns <code class="literal">NULL</code> if the
                    argument is <code class="literal">NULL</code>.
                </p><p style="color:blue;">此函数返回用于存储json文档的二进制表示形式的字节数。当参数是json列时，这是用于存储json文档的空间。json_val必须是有效的json文档或可以解析为一个的字符串。在字符串的情况下，函数返回json二进制表示中的存储空间量，该表示是通过将字符串解析为json并将其转换为二进制来创建的。如果参数为空，则返回空。</p><p>
                    An error results when <em class="replaceable"><code>json_val</code></em> is
                    not <code class="literal">NULL</code>, and is not—or cannot be
                    successfully parsed as—a JSON document.
                </p><p style="color:blue;">如果json_val不为空，并且不是或无法成功解析为json文档，则会产生错误。</p><p>
                    To illustrate this function's behavior when used with a
                    <code class="literal">JSON</code> column as its argument, we create a
                    table named <code class="literal">jtable</code> containing a
                    <code class="literal">JSON</code> column <code class="literal">jcol</code>, insert
                    a JSON value into the table, then obtain the storage space
                    used by this column with
                    <code class="literal">JSON_STORAGE_SIZE()</code>, as shown here:
                </p><p style="color:blue;">为了说明此函数在使用json列作为参数时的行为，我们创建了一个名为jtable的表，其中包含一个json列jcol，在表中插入一个json值，然后使用json_storage_size（）获取此列使用的存储空间，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE jtable (jcol JSON);</code></strong>
Query OK, 0 rows affected (0.42 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO jtable VALUES</code></strong>
    -&gt;     <strong class="userinput"><code>('{"a": 1000, "b": "wxyz", "c": "[1, 3, 5, 7]"}');</code></strong>
Query OK, 1 row affected (0.04 sec)

mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt;     <strong class="userinput"><code>jcol,</code></strong>
    -&gt;     <strong class="userinput"><code>JSON_STORAGE_SIZE(jcol) AS Size</code></strong>
    -&gt; <strong class="userinput"><code>FROM jtable;</code></strong>
+-----------------------------------------------+------+
| jcol                                          | Size |
+-----------------------------------------------+------+
| {"a": 1000, "b": "wxyz", "c": "[1, 3, 5, 7]"} |   47 |
+-----------------------------------------------+------+
1 row in set (0.00 sec)
</pre><p>
                    According to the output of
                    <code class="literal">JSON_STORAGE_SIZE()</code>, the JSON document
                    inserted into the column takes up 47 bytes. Following an
                    update, the function shows the storage used for the newly-set
                    value:
                </p><p style="color:blue;">根据json_storage_size（）的输出，插入列中的json文档占用47个字节。更新后，函数将显示用于新设置值的存储：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>UPDATE jtable</code></strong>
mysql&gt;     <strong class="userinput"><code>SET jcol = '{"a": 4.55, "b": "wxyz", "c": "[true, false]"}';</code></strong>
Query OK, 1 row affected (0.04 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt;     <strong class="userinput"><code>jcol,</code></strong>
    -&gt;     <strong class="userinput"><code>JSON_STORAGE_SIZE(jcol) AS Size</code></strong>
    -&gt; <strong class="userinput"><code>FROM jtable;</code></strong>
+------------------------------------------------+------+
| jcol                                           | Size |
+------------------------------------------------+------+
| {"a": 4.55, "b": "wxyz", "c": "[true, false]"} |   56 |
+------------------------------------------------+------+
1 row in set (0.00 sec)
</pre><p>
                    This function also shows the space currently used to store a
                    JSON document in a user variable:
                </p><p style="color:blue;">此函数还显示当前用于在用户变量中存储json文档的空间：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET @j = '[100, "sakila", [1, 3, 5], 425.05]';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @j, JSON_STORAGE_SIZE(@j) AS Size;</code></strong>
+------------------------------------+------+
| @j                                 | Size |
+------------------------------------+------+
| [100, "sakila", [1, 3, 5], 425.05] |   45 |
+------------------------------------+------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SET @j = JSON_SET(@j, '$[1]', "json");</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @j, JSON_STORAGE_SIZE(@j) AS Size;</code></strong>
+----------------------------------+------+
| @j                               | Size |
+----------------------------------+------+
| [100, "json", [1, 3, 5], 425.05] |   43 |
+----------------------------------+------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SET @j = JSON_SET(@j, '$[2][0]', JSON_ARRAY(10, 20, 30));</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @j, JSON_STORAGE_SIZE(@j) AS Size;</code></strong>
+---------------------------------------------+------+
| @j                                          | Size |
+---------------------------------------------+------+
| [100, "json", [[10, 20, 30], 3, 5], 425.05] |   56 |
+---------------------------------------------+------+
1 row in set (0.00 sec)
</pre><p>
                    For a JSON literal, this function also returns the current
                    storage space used, as shown here:
                </p><p style="color:blue;">对于json文本，此函数还返回当前使用的存储空间，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt;     <strong class="userinput"><code>JSON_STORAGE_SIZE('[100, "sakila", [1, 3, 5], 425.05]') AS A,</code></strong>
    -&gt;     <strong class="userinput"><code>JSON_STORAGE_SIZE('{"a": 1000, "b": "a", "c": "[1, 3, 5, 7]"}') AS B,</code></strong>
    -&gt;     <strong class="userinput"><code>JSON_STORAGE_SIZE('{"a": 1000, "b": "wxyz", "c": "[1, 3, 5, 7]"}') AS C,</code></strong>
    -&gt;     <strong class="userinput"><code>JSON_STORAGE_SIZE('[100, "json", [[10, 20, 30], 3, 5], 425.05]') AS D;</code></strong>
+----+----+----+----+
| A  | B  | C  | D  |
+----+----+----+----+
| 45 | 44 | 47 | 56 |
+----+----+----+----+
1 row in set (0.00 sec)
</pre><p>
                    This function was added in MySQL 5.7.22.
                </p><p style="color:blue;">这个函数是在mysql 5.7.22中添加的。</p></li></ul>
            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="gtid-functions"></a>12.18&nbsp;Functions Used with Global Transaction Identifiers (GTIDs)</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286843832976"></a><a class="indexterm" name="idm140286843831936"></a><p>
        The functions described in this section are used with GTID-based
        replication. It is important to keep in mind that all of these
        functions take string representations of GTID sets as arguments.
        As such, the GTID sets must always be quoted when used with them.
        See <a class="xref" href="replication.html#replication-gtids-concepts-gtid-sets" title="GTID Sets">GTID Sets</a> for
        more information.
    </p><p style="color:blue;">本节中描述的功能用于基于gtid的复制。必须记住，所有这些函数都将gtid集的字符串表示作为参数。因此，gtid集在与它们一起使用时必须始终被引用。有关详细信息，请参见gtid集合。</p><p>
        The union of two GTID sets is simply their representations as
        strings, joined together with an interposed comma. In other words,
        you can define a very simple function for obtaining the union of
        two GTID sets, similar to that created here:
    </p><p style="color:blue;">两个gtid集的并集只是它们作为字符串的表示，并用插入逗号连接在一起。换句话说，您可以定义一个非常简单的函数来获得两个gtid集的并集，类似于在这里创建的：</p><pre data-lang="sql" class="programlisting">CREATE FUNCTION GTID_UNION(g1 TEXT, g2 TEXT)
    RETURNS TEXT DETERMINISTIC
    RETURN CONCAT(g1,',',g2);
</pre><p>
        For more information about GTIDs and how these GTID functions are
        used in practice, see <a class="xref" href="replication.html#replication-gtids" title="16.1.3&nbsp;Replication with Global Transaction Identifiers">Section&nbsp;16.1.3, “Replication with Global Transaction Identifiers”</a>.
    </p><p style="color:blue;">有关gtid以及这些gtid函数在实际中的使用方式的更多信息，请参阅16.1.3节“使用全局事务标识符复制”。</p>
        <div class="table">
            <a name="idm140286843826000"></a><p class="title"><b>Table&nbsp;12.23&nbsp;GTID Functions</b></p><p style="color:blue;">表12.23 GTID功能</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists functions used with global transaction identifiers (GTIDs)."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_gtid-subset"><code class="literal">GTID_SUBSET()</code></a></td>
                    <td>
                        Return true if all GTIDs in subset are also in set; otherwise
                        false.
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_gtid-subtract"><code class="literal">GTID_SUBTRACT()</code></a></td>
                    <td>
                        Return all GTIDs in set that are not in subset.
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_wait-for-executed-gtid-set"><code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code></a></td>
                    <td>
                        Wait until the given GTIDs have executed on the slave.
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_wait-until-sql-thread-after-gtids"><code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code></a></td>
                    <td>
                        Deprecated. Use <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code>.
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_gtid-subset"></a><p>
                <a class="indexterm" name="idm140286843803264"></a>

                <a class="link" href="functions.html#function_gtid-subset"><code class="literal">GTID_SUBSET(<em class="replaceable"><code>set1</code></em>,<em class="replaceable"><code>set2</code></em>)</code></a>
            </p><p style="color:blue;">gtid_子集（set1，set2）</p><p>
                Given two sets of global transaction IDs
                <em class="replaceable"><code>set1</code></em> and
                <em class="replaceable"><code>set2</code></em>, returns true if all GTIDs in
                <em class="replaceable"><code>set1</code></em> are also in
                <em class="replaceable"><code>set2</code></em>. Returns false otherwise.
            </p><p style="color:blue;">给定两组全局事务id set1和set2，如果set1中的所有gtid也在set2中，则返回true。否则返回false。</p><p>
                The GTID sets used with this function are represented as
                strings, as shown in the following examples:
            </p><p style="color:blue;">此函数使用的gtid集表示为字符串，如下例所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT GTID_SUBSET('3E11FA47-71CA-11E1-9E33-C80AA9429562:23',</code></strong>
    -&gt;     <strong class="userinput"><code>'3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57')\G</code></strong>
*************************** 1. row ***************************
GTID_SUBSET('3E11FA47-71CA-11E1-9E33-C80AA9429562:23',
    '3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57'): 1
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT GTID_SUBSET('3E11FA47-71CA-11E1-9E33-C80AA9429562:23-25',</code></strong>
    -&gt;     <strong class="userinput"><code>'3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57')\G</code></strong>
*************************** 1. row ***************************
GTID_SUBSET('3E11FA47-71CA-11E1-9E33-C80AA9429562:23-25',
    '3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57'): 1
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT GTID_SUBSET('3E11FA47-71CA-11E1-9E33-C80AA9429562:20-25',</code></strong>
    -&gt;     <strong class="userinput"><code>'3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57')\G</code></strong>
*************************** 1. row ***************************
GTID_SUBSET('3E11FA47-71CA-11E1-9E33-C80AA9429562:20-25',
    '3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57'): 0
1 row in set (0.00 sec)
</pre></li><li class="listitem"><a name="function_gtid-subtract"></a><p>
                <a class="indexterm" name="idm140286843786240"></a>

                <a class="link" href="functions.html#function_gtid-subtract"><code class="literal">GTID_SUBTRACT(<em class="replaceable"><code>set1</code></em>,<em class="replaceable"><code>set2</code></em>)</code></a>
            </p><p style="color:blue;">gtid_减法（set1，set2）</p><p>
                Given two sets of global transaction IDs
                <em class="replaceable"><code>set1</code></em> and
                <em class="replaceable"><code>set2</code></em>, returns only those GTIDs from
                <em class="replaceable"><code>set1</code></em> that are not in
                <em class="replaceable"><code>set2</code></em>.
            </p><p style="color:blue;">给定两组全局事务id set1和set2，只返回set1中不在set2中的那些gtid。</p><p>
                All GTID sets used with this function are represented as
                strings and must be quoted, as shown in these examples:
            </p><p style="color:blue;">与此函数一起使用的所有gtid集都表示为字符串，必须引用，如以下示例所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT GTID_SUBTRACT('3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57',</code></strong>
    -&gt;     <strong class="userinput"><code>'3E11FA47-71CA-11E1-9E33-C80AA9429562:21')\G</code></strong>
*************************** 1. row ***************************
GTID_SUBTRACT('3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57',
    '3E11FA47-71CA-11E1-9E33-C80AA9429562:21'): 3e11fa47-71ca-11e1-9e33-c80aa9429562:22-57
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT GTID_SUBTRACT('3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57',</code></strong>
    -&gt;     <strong class="userinput"><code>'3E11FA47-71CA-11E1-9E33-C80AA9429562:20-25')\G</code></strong>
*************************** 1. row ***************************
GTID_SUBTRACT('3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57',
    '3E11FA47-71CA-11E1-9E33-C80AA9429562:20-25'): 3e11fa47-71ca-11e1-9e33-c80aa9429562:26-57
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT GTID_SUBTRACT('3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57',</code></strong>
    -&gt;     <strong class="userinput"><code>'3E11FA47-71CA-11E1-9E33-C80AA9429562:23-24')\G</code></strong>
*************************** 1. row ***************************
GTID_SUBTRACT('3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57',
    '3E11FA47-71CA-11E1-9E33-C80AA9429562:23-24'): 3e11fa47-71ca-11e1-9e33-c80aa9429562:21-22:25-57
1 row in set (0.01 sec)
</pre></li><li class="listitem"><a name="function_wait-for-executed-gtid-set"></a><p>
                <a class="indexterm" name="idm140286843768912"></a>

                <a class="link" href="functions.html#function_wait-for-executed-gtid-set"><code class="literal">WAIT_FOR_EXECUTED_GTID_SET(<em class="replaceable"><code>gtid_set</code></em>[,
                    <em class="replaceable"><code>timeout</code></em>])</code></a>
            </p><p style="color:blue;">等待已执行的GTID集合（GTID集合[，超时]）</p><p>
                Wait until the server has applied all of the transactions
                whose global transaction identifiers are contained in
                <em class="replaceable"><code>gtid_set</code></em>; that is, until the
                condition GTID_SUBSET(<em class="replaceable"><code>gtid_subset</code></em>,
                <code class="literal">@@GLOBAL.gtid_executed</code>) holds. See
                <a class="xref" href="replication.html#replication-gtids-concepts" title="16.1.3.1&nbsp;GTID Format and Storage">Section&nbsp;16.1.3.1, “GTID Format and Storage”</a> for a definition
                of GTID sets.
            </p><p style="color:blue;">等待服务器应用其全局事务标识符包含在gtid_set中的所有事务；也就是说，直到条件gtid_subset（gtid_subset，@@global.gtid_executed）保持不变。有关GTID集的定义，请参见第16.1.3.1节“GTID格式和存储”。</p><p>
                If a timeout is specified, and
                <em class="replaceable"><code>timeout</code></em> seconds elapse before all
                of the transactions in the GTID set have been applied, the
                function stops waiting. <em class="replaceable"><code>timeout</code></em> is
                optional, and the default timeout is 0 seconds, in which case
                the function always waits until all of the transactions in the
                GTID set have been applied.
            </p><p style="color:blue;">如果指定了超时，并且在应用gtid集中的所有事务之前超时秒数已过，则函数停止等待。超时是可选的，默认超时为0秒，在这种情况下，函数始终等待，直到gtid集中的所有事务都应用完毕。</p><p>
                <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code> monitors all
                the GTIDs that are applied on the server, including
                transactions that arrive from all replication channels and
                user clients. It does not take into account whether
                replication channels have been started or stopped.
            </p><p style="color:blue;">wait_for_executed_gtid_set（）监视服务器上应用的所有gtid，包括来自所有复制通道和用户客户端的事务。它不考虑复制通道是否已启动或停止。</p><p>
                For more information, see <a class="xref" href="replication.html#replication-gtids" title="16.1.3&nbsp;Replication with Global Transaction Identifiers">Section&nbsp;16.1.3, “Replication with Global Transaction Identifiers”</a>.
            </p><p style="color:blue;">有关更多信息，请参阅第16.1.3节“使用全局事务标识符复制”。</p><p>
                GTID sets used with this function are represented as strings
                and so must be quoted as shown in the following example:
            </p><p style="color:blue;">与此函数一起使用的gtid集表示为字符串，因此必须按以下示例引用：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT WAIT_FOR_EXECUTED_GTID_SET('3E11FA47-71CA-11E1-9E33-C80AA9429562:1-5');</code></strong>
        -&gt; 0
</pre><p>
                For a syntax description for GTID sets, see
                <a class="xref" href="replication.html#replication-gtids-concepts" title="16.1.3.1&nbsp;GTID Format and Storage">Section&nbsp;16.1.3.1, “GTID Format and Storage”</a>.
            </p><p style="color:blue;">有关gtid集的语法描述，请参见第16.1.3.1节“gtid格式和存储”。</p><p>
                For <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code>, the
                return value is the state of the query, where 0 represents
                success, and 1 represents timeout. Any other failures generate
                an error.
            </p><p style="color:blue;">for wait_for_executed_gtid_set（），返回值是查询的状态，其中0表示成功，1表示超时。任何其他失败都会产生错误。</p><p>
                <a class="link" href="replication.html#sysvar_gtid_mode"><code class="literal">gtid_mode</code></a> cannot be changed
                to OFF while any client is using this function to wait for
                GTIDs to be applied.
            </p><p style="color:blue;">当任何客户端使用此函数等待应用gtid时，gtid_模式不能更改为关闭。</p></li><li class="listitem"><a name="function_wait-until-sql-thread-after-gtids"></a><p>
                <a class="indexterm" name="idm140286843747248"></a>

                <a class="link" href="functions.html#function_wait-until-sql-thread-after-gtids"><code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS(<em class="replaceable"><code>gtid_set</code></em>[,
                    <em class="replaceable"><code>timeout</code></em>][,<em class="replaceable"><code>channel</code></em>])</code></a>
            </p><p style="color:blue;">在gtids之后等待直到sql线程（gtid设置[，超时][，通道]）</p><p>
                <code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code> is
                similar to <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code> in
                that it waits until all of the transactions whose global
                transaction identifiers are contained in
                <em class="replaceable"><code>gtid_set</code></em> have been applied, or
                until <em class="replaceable"><code>timeout</code></em> seconds have elapsed,
                whichever occurs first. However,
                <code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code> applies
                to a specific replication channel, and stops only after the
                transactions have been applied on the specified channel, for
                which the applier must be running. In contrast,
                <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code> stops after
                the transactions have been applied, regardless of where they
                were applied (on any replication channel or any user client),
                and whether or not any replication channels are running.
            </p><p style="color:blue;">wait_until_sql_thread_after_gtids（）类似于wait_for_executed_gtid_set（），它等待所有全局事务标识符包含在gtid_set中的事务都已应用，或等待超时秒数已过，以先发生的为准。但是，请等到_sql_thread_after_gtids（）应用于特定复制通道，并且仅在事务已应用于指定通道（必须运行applier）后停止。相反，在应用事务之后，wait_for_executed_gtid_set（）停止，而不管它们应用于何处（在任何复制通道或任何用户客户端上），也不管是否有任何复制通道正在运行。</p><p>
                The <em class="replaceable"><code>channel</code></em> option names which
                replication channel the function applies to. If no channel is
                named and no channels other than the default replication
                channel exist, the function applies to the default replication
                channel. If multiple replication channels exist, you must
                specify a channel as otherwise it is not known which
                replication channel the function applies to. See
                <a class="xref" href="replication.html#replication-channels" title="16.2.3&nbsp;Replication Channels">Section&nbsp;16.2.3, “Replication Channels”</a> for more
                information on replication channels.
            </p><p style="color:blue;">channel选项命名应用该函数的复制通道。如果没有命名信道，并且除了默认复制信道之外没有信道，则该函数应用于默认复制信道。如果存在多个复制通道，则必须指定一个通道，否则不知道该函数应用哪个复制通道。有关复制通道的详细信息，请参阅第16.2.3节“复制通道”。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        Because
                        <code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code>
                        applies to a specific replication channel, if an expected
                        transaction arrives on a different replication channel or
                        from a user client, for example in a failover or manual
                        recovery situation, the function can hang indefinitely if no
                        timeout is set. Use
                        <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code> instead to
                        ensure correct handling of transactions in these situations.
                    </p><p style="color:blue;">因为在特定复制通道上应用了“gtids（）之后的SQL线程”之前，如果预期的事务到达另一个复制通道或来自用户客户端（例如在故障转移或手动恢复情况下），则如果未设置超时，函数可以无限期挂起。使用wait_for_executed_gtid_set（）来确保在这些情况下正确处理事务。</p>
                </div>
                <p>
                    GTID sets used with
                    <code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code> are
                    represented as strings and must be quoted in the same way as
                    for <code class="literal">WAIT_FOR_EXECUTED_GTID_SET()</code>. For
                    <code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code>, the
                    return value for the function is an arbitrary positive number.
                    If GTID-based replication is not active (that is, if the value
                    of the <a class="link" href="replication.html#sysvar_gtid_mode"><code class="literal">gtid_mode</code></a> variable is
                    OFF), then this value is undefined and
                    <code class="literal">WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS()</code> returns
                    NULL. If the slave is not running then the function also
                    returns NULL.
                </p><p style="color:blue;">用于wait_until_sql_thread_after_gtids（）的gtid集被表示为字符串，并且必须以与for wait_for_executed_gtid_set（）相同的方式引用。对于wait_until_sql_thread_after_gtids（），函数的返回值是任意正数。如果基于gtid的复制未处于活动状态（即，如果gtid_mode变量的值为off），则该值未定义，并等待_sql_thread_after_gtids（）返回空值。如果从机未运行，则函数也返回空值。</p><p>
                    <a class="link" href="replication.html#sysvar_gtid_mode"><code class="literal">gtid_mode</code></a> cannot be changed
                    to OFF while any client is using this function to wait for
                    GTIDs to be applied.
                </p><p style="color:blue;">当任何客户端使用此函数等待应用gtid时，gtid_模式不能更改为关闭。</p></li></ul>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="enterprise-encryption"></a>12.19&nbsp;MySQL Enterprise Encryption Functions</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#enterprise-encryption-installation">12.19.1 MySQL Enterprise Encryption Installation</a></span></dt><dt><span class="section"><a href="functions.html#enterprise-encryption-usage">12.19.2 MySQL Enterprise Encryption Usage and Examples</a></span></dt><dt><span class="section"><a href="functions.html#enterprise-encryption-function-reference">12.19.3 MySQL Enterprise Encryption Function Reference</a></span></dt><dt><span class="section"><a href="functions.html#enterprise-encryption-functions">12.19.4 MySQL Enterprise Encryption Function Descriptions</a></span></dt></dl>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <div class="admon-title">
                Note
            </div>
            <p>
                MySQL Enterprise Encryption is an extension included in MySQL Enterprise Edition, a commercial
                product. To learn more about commercial products,
                <a class="ulink" href="https://www.mysql.com/products/" target="_top">https://www.mysql.com/products/</a>.
            </p><p style="color:blue;">mysql enterprise encryption是mysql enterprise edition（一种商业产品）中包含的扩展。要了解更多有关商业产品的信息，请访问https://www.mysql.com/products/。</p>
        </div>
        <p>
            MySQL Enterprise Edition includes a set of encryption functions based on the OpenSSL
            library that expose OpenSSL capabilities at the SQL level. These
            functions enable Enterprise applications to perform the following
            operations:
        </p><p style="color:blue;">mysql企业版包含一组基于openssl库的加密函数，这些函数在sql级别公开openssl功能。这些功能使企业应用程序能够执行以下操作：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Implement added data protection using public-key asymmetric
                cryptography
            </p><p style="color:blue;">使用公钥非对称加密实现附加的数据保护</p></li><li class="listitem"><p>
                Create public and private keys and digital signatures
            </p><p style="color:blue;">创建公钥和私钥以及数字签名</p></li><li class="listitem"><p>
                Perform asymmetric encryption and decryption
            </p><p style="color:blue;">执行非对称加密和解密</p></li><li class="listitem"><p>
                Use cryptographic hashing for digital signing and data
                verification and validation
            </p><p style="color:blue;">使用加密哈希进行数字签名和数据验证与验证</p></li></ul>
        </div>
        <p>
            MySQL Enterprise Encryption supports the RSA, DSA, and DH cryptographic
            algorithms.
        </p><p style="color:blue;">mysql企业加密支持rsa、dsa和dh加密算法。</p><p>
        MySQL Enterprise Encryption is supplied as a user-defined function (UDF) library,
        from which individual functions can be installed individually.
    </p><p style="color:blue;">mysql enterprise encryption作为用户定义函数（udf）库提供，可以从中单独安装各个函数。</p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="enterprise-encryption-installation"></a>12.19.1&nbsp;MySQL Enterprise Encryption Installation</h3>
                    </div>
                </div>
            </div>
            <p>
                MySQL Enterprise Encryption functions are located in a user-defined function
                (UDF) library file installed in the plugin directory (the
                directory named by the
                <a class="link" href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system variable).
                The UDF library base name is <code class="filename">openssl_udf</code>
                and the suffix is platform dependent. For example, the file name
                on Linux or Windows is <code class="filename">openssl_udf.so</code> or
                <code class="filename">openssl_udf.dll</code>, respectively.
            </p><p style="color:blue;">mysql企业加密函数位于用户定义函数（udf）库文件中，该文件安装在plugin目录（plugin_dir系统变量命名的目录）中。UDF库基名是openssl_udf，后缀是平台相关的。例如，Linux或Windows上的文件名分别为openssl_udf.so或openssl_udf.dll。</p><p>
            To install functions from the library file, use the
            <a class="link" href="sql-syntax.html#create-function-udf" title="13.7.3.1&nbsp;CREATE FUNCTION Syntax for User-Defined Functions"><code class="literal">CREATE
                FUNCTION</code></a> statement. To load all functions from the
            library, use this set of statements (adjust the file name suffix
            as necessary):
        </p><p style="color:blue;">要从库文件安装函数，请使用CREATEFUNCTION语句。要从库中加载所有函数，请使用这组语句（根据需要调整文件名后缀）：</p><pre data-lang="sql" class="programlisting">CREATE FUNCTION asymmetric_decrypt RETURNS STRING
  SONAME 'openssl_udf.so';
CREATE FUNCTION asymmetric_derive RETURNS STRING
  SONAME 'openssl_udf.so';
CREATE FUNCTION asymmetric_encrypt RETURNS STRING
  SONAME 'openssl_udf.so';
CREATE FUNCTION asymmetric_sign RETURNS STRING
  SONAME 'openssl_udf.so';
CREATE FUNCTION asymmetric_verify RETURNS INTEGER
  SONAME 'openssl_udf.so';
CREATE FUNCTION create_asymmetric_priv_key RETURNS STRING
  SONAME 'openssl_udf.so';
CREATE FUNCTION create_asymmetric_pub_key RETURNS STRING
  SONAME 'openssl_udf.so';
CREATE FUNCTION create_dh_parameters RETURNS STRING
  SONAME 'openssl_udf.so';
CREATE FUNCTION create_digest RETURNS STRING
  SONAME 'openssl_udf.so';
</pre><p>
            Once installed, UDFs remain installed across server restarts. To
            unload UDFs, use the
            <a class="link" href="sql-syntax.html#drop-function-udf" title="13.7.3.2&nbsp;DROP FUNCTION Syntax"><code class="literal">DROP
                FUNCTION</code></a> statement. For example, to unload the
            key-generation functions, do this:
        </p><p style="color:blue;">一旦安装，udf将在服务器重新启动时保持安装状态。要卸载UDF，请使用DROP FUNCTION语句。例如，要卸载密钥生成函数，请执行以下操作：</p><pre data-lang="sql" class="programlisting">DROP FUNCTION create_asymmetric_priv_key;
DROP FUNCTION create_asymmetric_pub_key;
</pre><p>
            In the
            <a class="link" href="sql-syntax.html#create-function-udf" title="13.7.3.1&nbsp;CREATE FUNCTION Syntax for User-Defined Functions"><code class="literal">CREATE
                FUNCTION</code></a> and
            <a class="link" href="sql-syntax.html#drop-function-udf" title="13.7.3.2&nbsp;DROP FUNCTION Syntax"><code class="literal">DROP
                FUNCTION</code></a> statements, the function names must be
            specified in lowercase. This differs from their use at function
            invocation time, for which you can use any lettercase.
        </p><p style="color:blue;">在create function和drop function语句中，函数名必须用小写字母指定。这与它们在函数调用时的使用不同，您可以对其使用任何字母大小写。</p><p>
            The <a class="link" href="sql-syntax.html#create-function-udf" title="13.7.3.1&nbsp;CREATE FUNCTION Syntax for User-Defined Functions"><code class="literal">CREATE
            FUNCTION</code></a> and
            <a class="link" href="sql-syntax.html#drop-function-udf" title="13.7.3.2&nbsp;DROP FUNCTION Syntax"><code class="literal">DROP
                FUNCTION</code></a> statements require the
            <a class="link" href="security.html#priv_insert"><code class="literal">INSERT</code></a> and
            <a class="link" href="security.html#priv_drop"><code class="literal">DROP</code></a> privilege, respectively, for
            the <code class="literal">mysql</code> database.
        </p><p style="color:blue;">create function和drop function语句分别需要mysql数据库的insert和drop权限。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="enterprise-encryption-usage"></a>12.19.2&nbsp;MySQL Enterprise Encryption Usage and Examples</h3>

                    </div>

                </div>

            </div>
            <p>
                To use MySQL Enterprise Encryption in applications, invoke the functions that
                are appropriate for the operations you wish to perform. This
                section demonstrates how to carry out some representative tasks:
            </p><p style="color:blue;">要在应用程序中使用mysql企业加密，请调用适合于要执行的操作的函数。本节演示如何执行一些具有代表性的任务：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="functions.html#enterprise-encryption-usage-create-key-pair" title="Create a private/public key pair using RSA encryption">Create a private/public key pair using RSA encryption</a></p><p style="color:blue;">使用rsa加密创建私钥/公钥对</p></li><li class="listitem"><p><a class="xref" href="functions.html#enterprise-encryption-usage-encrypt-decrypt" title="Use the private key to encrypt data and the public key to decrypt it">Use the private key to encrypt data and the public key to decrypt it</a></p><p style="color:blue;">使用私钥加密数据，使用公钥解密数据</p></li><li class="listitem"><p><a class="xref" href="functions.html#enterprise-encryption-usage-create-digest" title="Generate a digest from a string">Generate a digest from a string</a></p><p style="color:blue;">从字符串生成摘要</p></li><li class="listitem"><p><a class="xref" href="functions.html#enterprise-encryption-usage-digital-signing" title="Use the digest with a key pair">Use the digest with a key pair</a></p><p style="color:blue;">将摘要与密钥对一起使用</p></li><li class="listitem"><p><a class="xref" href="functions.html#enterprise-encryption-usage-create-symmetic-key" title="Create a symmetric key">Create a symmetric key</a></p><p style="color:blue;">创建对称密钥</p></li><li class="listitem"><p><a class="xref" href="functions.html#enterprise-encryption-usage-limit-cpu" title="Limit CPU usage by key-generation operations">Limit CPU usage by key-generation operations</a></p><p style="color:blue;">通过密钥生成操作限制CPU使用</p></li></ul>
            </div>

            <div class="simplesect">

                <div class="titlepage">
                    <div>

                        <div class="simple">
                            <h4 class="title"><a name="enterprise-encryption-usage-create-key-pair"></a>Create a private/public key pair using RSA encryption</h4>

                        </div>

                    </div>

                </div>
                <pre data-lang="sql" class="programlisting">-- Encryption algorithm; can be 'DSA' or 'DH' instead
SET @algo = 'RSA';
-- Key length in bits; make larger for stronger keys
SET @key_len = 1024;

-- Create private key
SET @priv = CREATE_ASYMMETRIC_PRIV_KEY(@algo, @key_len);
-- Derive corresponding public key from private key, using same algorithm
SET @pub = CREATE_ASYMMETRIC_PUB_KEY(@algo, @priv);
</pre><p>
                Now you can use the key pair to encrypt and decrypt data, sign
                and verify data, or generate symmetric keys.
            </p><p style="color:blue;">现在，您可以使用密钥对加密和解密数据、签名和验证数据或生成对称密钥。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="enterprise-encryption-usage-encrypt-decrypt"></a>Use the private key to encrypt data and the public key to decrypt it</h4>

                        </div>

                    </div>

                </div>
                <p>
                    This requires that the members of the key pair be RSA keys.
                </p><p style="color:blue;">这要求密钥对的成员是rsa密钥。</p><pre data-lang="sql" class="programlisting">SET @ciphertext = ASYMMETRIC_ENCRYPT(@algo, 'My secret text', @priv);
SET @plaintext = ASYMMETRIC_DECRYPT(@algo, @ciphertext, @pub);
</pre><p>
                Conversely, you can encrypt using the public key and decrypt
                using the private key.
            </p><p style="color:blue;">相反，可以使用公钥加密，使用私钥解密。</p><pre data-lang="sql" class="programlisting">SET @ciphertext = ASYMMETRIC_ENCRYPT(@algo, 'My secret text', @pub);
SET @plaintext = ASYMMETRIC_DECRYPT(@algo, @ciphertext, @priv);
</pre><p>
                In either case, the algorithm specified for the encryption and
                decryption functions must match that used to generate the
                keys.
            </p><p style="color:blue;">在这两种情况下，为加密和解密函数指定的算法必须与用于生成密钥的算法匹配。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="enterprise-encryption-usage-create-digest"></a>Generate a digest from a string</h4>

                        </div>

                    </div>

                </div>
                <pre data-lang="sql" class="programlisting">-- Digest type; can be 'SHA256', 'SHA384', or 'SHA512' instead
SET @dig_type = 'SHA224';

-- Generate digest string
SET @dig = CREATE_DIGEST(@dig_type, 'My text to digest');
</pre>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="enterprise-encryption-usage-digital-signing"></a>Use the digest with a key pair</h4>

                        </div>

                    </div>

                </div>
                <p>
                    The key pair can be used to sign data, then verify that the
                    signature matches the digest.
                </p><p style="color:blue;">密钥对可用于对数据进行签名，然后验证签名是否与摘要匹配。</p><pre data-lang="sql" class="programlisting">-- Encryption algorithm; could be 'DSA' instead; keys must
-- have been created using same algorithm
SET @algo = 'RSA';

-- Generate signature for digest and verify signature against digest
SET @sig = ASYMMETRIC_SIGN(@algo, @dig, @priv, @dig_type);
-- Verify signature against digest
SET @verf = ASYMMETRIC_VERIFY(@algo, @dig, @sig, @pub, @dig_type);
</pre>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="enterprise-encryption-usage-create-symmetic-key"></a>Create a symmetric key</h4>

                        </div>

                    </div>

                </div>
                <p>
                    This requires DH private/public keys as inputs, created using
                    a shared symmetric secret. Create the secret by passing the
                    key length to
                    <a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a>, then
                    pass the secret as the <span class="quote">“<span class="quote">key length</span>”</span> to
                    <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>.
                </p><p style="color:blue;">这需要dh私钥/公钥作为输入，使用共享对称密钥创建。通过将密钥长度传递给CeaTydi-DHyValueStudio（）来创建秘密，然后将密钥作为“密钥长度”传递给CeaTyAudiMuffiCyPrimyKy（）。</p><pre data-lang="sql" class="programlisting">-- Generate DH shared symmetric secret
SET @dhp = CREATE_DH_PARAMETERS(1024);
-- Generate DH key pairs
SET @algo = 'DH';
SET @priv1 = CREATE_ASYMMETRIC_PRIV_KEY(@algo, @dhp);
SET @pub1 = CREATE_ASYMMETRIC_PUB_KEY(@algo, @priv1);
SET @priv2 = CREATE_ASYMMETRIC_PRIV_KEY(@algo, @dhp);
SET @pub2 = CREATE_ASYMMETRIC_PUB_KEY(@algo, @priv2);

-- Generate symmetric key using public key of first party,
-- private key of second party
SET @sym1 = ASYMMETRIC_DERIVE(@pub1, @priv2);

-- Or use public key of second party, private key of first party
SET @sym2 = ASYMMETRIC_DERIVE(@pub2, @priv1);
</pre><p>
                Key string values can be created at runtime and stored into a
                variable or table using
                <a class="link" href="sql-syntax.html#set-variable" title="13.7.4.1&nbsp;SET Syntax for Variable Assignment"><code class="literal">SET</code></a>,
                <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>, or
                <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a>:
            </p><p style="color:blue;">键字符串值可以在运行时创建，并使用set、select或insert存储到变量或表中：</p><pre data-lang="sql" class="programlisting">SET @priv1 = CREATE_ASYMMETRIC_PRIV_KEY('RSA', 1024);
SELECT CREATE_ASYMMETRIC_PRIV_KEY('RSA', 1024) INTO @priv2;
INSERT INTO t (key_col) VALUES(CREATE_ASYMMETRIC_PRIV_KEY('RSA', 1024));
</pre><p>
                Key string values stored in files can be read using the
                <a class="link" href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a> function by users
                who have the <a class="link" href="security.html#priv_file"><code class="literal">FILE</code></a> privilege.
            </p><p style="color:blue;">具有文件权限的用户可以使用load_file（）函数读取文件中存储的键字符串值。</p><p>
                Digest and signature strings can be handled similarly.
            </p><p style="color:blue;">摘要和签名字符串可以类似地处理。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="enterprise-encryption-usage-limit-cpu"></a>Limit CPU usage by key-generation operations</h4>

                        </div>

                    </div>

                </div>
                <p>
                    The
                    <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>
                    and <a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a>
                    encryption functions take a key-length parameter, and the
                    amount of CPU resources required by these functions increases
                    as the key length increases. For some installations, this
                    might result in unacceptable CPU usage if applications
                    frequently generate excessively long keys.
                </p><p style="color:blue;">CuraTyAudiMuffiCyPrimyKy（）和CealTyxDHyPosialSuffes（）加密函数采用一个密钥长度参数，这些函数所需的CPU资源量随着密钥长度的增加而增加。对于某些安装，如果应用程序经常生成过长的密钥，这可能会导致不可接受的CPU使用率。</p><p>
                OpenSSL imposes a minimum key length of 1,024 bits for all
                keys. OpenSSL also imposes a maximum key length of 10,000 bits
                and 16,384 bits for DSA and RSA keys, respectively, for
                <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>,
                and a maximum key length of 10,000 bits for
                <a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a>. If
                those maximum values are too high, three environment variables
                are available as of MySQL 5.7.17 to enable MySQL server
                administrators to set lower maximum lengths for key
                generation, and thereby to limit CPU usage:
            </p><p style="color:blue;">openssl为所有密钥规定了1024位的最小密钥长度。OpenSSL还为DSA和RSA密钥分别提供了10000位和16384位的最大密钥长度，用于CeReTyAudiMuffiCyPrimyKEY（），以及CeReTyIdHyPosialStices（）的最大密钥长度为10000位。如果这些最大值太高，可以使用三个环境变量作为MySQL服务器，以使MySQL服务器管理员能够设置较低的密钥生成的最大长度，从而限制CPU使用：</p><a class="indexterm" name="idm140286843650064"></a><a class="indexterm" name="idm140286843648944"></a><a class="indexterm" name="idm140286843647488"></a><a class="indexterm" name="idm140286843646368"></a><a class="indexterm" name="idm140286843644864"></a><a class="indexterm" name="idm140286843643744"></a>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        <code class="literal">MYSQL_OPENSSL_UDF_DSA_BITS_THRESHOLD</code>:
                        Maximum DSA key length in bits for
                        <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>.
                        The minimum and maximum values for this variable are 1,024
                        and 10,000.
                    </p><p style="color:blue;">MySQL LoopSnSuldUffdDasBITSySHIVE：CeaTyAudiMuffiCyPrimyKy（）的最大DSA密钥长度。此变量的最小值和最大值分别为1024和10000。</p></li><li class="listitem"><p>
                        <code class="literal">MYSQL_OPENSSL_UDF_RSA_BITS_THRESHOLD</code>:
                        Maximum RSA key length in bits for
                        <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>.
                        The minimum and maximum values for this variable are 1,024
                        and 16,384.
                    </p><p style="color:blue;">最大的RSA密钥长度。此变量的最小值和最大值分别为1024和16384。</p></li><li class="listitem"><p>
                        <code class="literal">MYSQL_OPENSSL_UDF_DH_BITS_THRESHOLD</code>:
                        Maximum key length in bits for
                        <a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a>. The
                        minimum and maximum values for this variable are 1,024 and
                        10,000.
                    </p><p style="color:blue;">MySqLopopsSLUDFFZDHBITSSIOSHILL：CREATETIODHYARDEMODER（）的最大密钥长度。此变量的最小值和最大值分别为1024和10000。</p></li></ul>
                </div>
                <p>
                    To use any of these environment variables, set them in the
                    environment of the process that starts the server. If set,
                    their values take precedence over the maximum key lengths
                    imposed by OpenSSL. For example, to set a maximum key length
                    of 4,096 bits for DSA and RSA keys for
                    <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>,
                    set these variables:
                </p><p style="color:blue;">要使用这些环境变量中的任何一个，请在启动服务器的进程的环境中设置它们。如果设置，它们的值优先于OpenSSL强加的最大密钥长度。例如，为CeaTyAudiMuffiCiMyPrimKEY（）设置DSA和RSA密钥的4096位最大密钥长度，设置这些变量：</p><pre data-lang="terminal" class="programlisting">export MYSQL_OPENSSL_UDF_DSA_BITS_THRESHOLD=4096
export MYSQL_OPENSSL_UDF_RSA_BITS_THRESHOLD=4096
</pre><p>
                The example uses Bourne shell syntax. The syntax for other
                shells may differ.
            </p><p style="color:blue;">该示例使用bourne shell语法。其他shell的语法可能不同。</p>
            </div>

        </div>

        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="enterprise-encryption-function-reference"></a>12.19.3&nbsp;MySQL Enterprise Encryption Function Reference</h3>

                    </div>

                </div>

            </div>

            <div class="table">
                <a name="idm140286843627984"></a><p class="title"><b>Table&nbsp;12.24&nbsp;MySQL Enterprise Encryption Functions</b></p><p style="color:blue;">表12.24 MySQL企业加密功能</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists MySQL Enterprise Encryption functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-decrypt"><code class="literal">ASYMMETRIC_DECRYPT()</code></a></td>
                        <td>
                            Decrypt ciphertext using private or public key
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-derive"><code class="literal">ASYMMETRIC_DERIVE()</code></a></td>
                        <td>
                            Derive symmetric key from asymmetric keys
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a></td>
                        <td>
                            Encrypt cleartext using private or public key
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-sign"><code class="literal">ASYMMETRIC_SIGN()</code></a></td>
                        <td>
                            Generate signature from digest
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_asymmetric-verify"><code class="literal">ASYMMETRIC_VERIFY()</code></a></td>
                        <td>
                            Verify that signature matches digest
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a></td>
                        <td>
                            Create private key
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-asymmetric-pub-key"><code class="literal">CREATE_ASYMMETRIC_PUB_KEY()</code></a></td>
                        <td>
                            Create public key
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a></td>
                        <td>
                            Generate shared DH secret
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_create-digest"><code class="literal">CREATE_DIGEST()</code></a></td>
                        <td>
                            Generate digest from string
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break">
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="enterprise-encryption-functions"></a>12.19.4&nbsp;MySQL Enterprise Encryption Function Descriptions</h3>

                    </div>

                </div>

            </div>
            <p>
                MySQL Enterprise Encryption functions have these general characteristics:
            </p><p style="color:blue;">mysql企业加密函数具有以下一般特征：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    For arguments of the wrong type or an incorrect number of
                    arguments, each function returns an error.
                </p><p style="color:blue;">对于类型错误或参数数目不正确的参数，每个函数都返回一个错误。</p></li><li class="listitem"><p>
                    If the arguments are not suitable to permit a function to
                    perform the requested operation, it returns
                    <code class="literal">NULL</code> or 0 as appropriate. This occurs,
                    for example, if a function does not support a specified
                    algorithm, a key length is too short or long, or a string
                    expected to be a key string in PEM format is not a valid
                    key. (OpenSSL imposes its own key-length limits, and server
                    administrators can impose additional limits on maximum key
                    length by setting environment variables. See
                    <a class="xref" href="functions.html#enterprise-encryption-usage" title="12.19.2&nbsp;MySQL Enterprise Encryption Usage and Examples">Section&nbsp;12.19.2, “MySQL Enterprise Encryption Usage and Examples”</a>.)
                </p><p style="color:blue;">如果参数不适合允许函数执行请求的操作，则返回null或0（视情况而定）。例如，如果函数不支持指定的算法、键长度太短或太长，或者预期为PEM格式的键字符串的字符串不是有效键，则会发生这种情况。（OpenSSL强加了自己的密钥长度限制，服务器管理员可以通过设置环境变量对最大密钥长度附加限制。参见第12.19.2节“MySQL企业加密使用和示例”。</p></li><li class="listitem"><p>
                    The underlying SSL library takes care of randomness
                    initialization.
                </p><p style="color:blue;">底层ssl库负责随机性初始化。</p></li></ul>
            </div>
            <p>
                Several of the functions take an encryption algorithm argument.
                The following table summarizes the supported algorithms by
                function.
            </p><p style="color:blue;">几个函数采用加密算法参数。下表按函数汇总了支持的算法。</p>
            <div class="table">
                <a name="idm140286843584832"></a><p class="title"><b>Table&nbsp;12.25&nbsp;Supported Algorithms by Function</b></p><p style="color:blue;">表12.25功能支持的算法</p>
                <div class="table-contents">
                    <table summary="Supported encryption algorithms by function."><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr>
                        <th scope="col">Function</th>
                        <th scope="col">Supported Algorithms</th>
                    </tr></thead><tbody><tr>
                        <td scope="row"><a class="link" href="functions.html#function_asymmetric-decrypt"><code class="literal">ASYMMETRIC_DECRYPT()</code></a></td>
                        <td>RSA</td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_asymmetric-derive"><code class="literal">ASYMMETRIC_DERIVE()</code></a></td>
                        <td>DH</td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a></td>
                        <td>RSA</td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_asymmetric-sign"><code class="literal">ASYMMETRIC_SIGN()</code></a></td>
                        <td>RSA, DSA</td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_asymmetric-verify"><code class="literal">ASYMMETRIC_VERIFY()</code></a></td>
                        <td>RSA, DSA</td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a></td>
                        <td>RSA, DSA, DH</td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_create-asymmetric-pub-key"><code class="literal">CREATE_ASYMMETRIC_PUB_KEY()</code></a></td>
                        <td>RSA, DSA, DH</td>
                    </tr><tr>
                        <td scope="row"><a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a></td>
                        <td>DH</td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break">
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    Although you can create keys using any of the RSA, DSA, or DH
                    encryption algorithms, other functions that take key arguments
                    might accept only certain types of keys. For example,
                    <a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a> and
                    <a class="link" href="functions.html#function_asymmetric-decrypt"><code class="literal">ASYMMETRIC_DECRYPT()</code></a> accept
                    only RSA keys.
                </p><p style="color:blue;">尽管可以使用任何rsa、dsa或dh加密算法创建密钥，但接受密钥参数的其他函数可能只接受某些类型的密钥。例如，asymmetric_encrypt（）和asymmetric_decrypt（）只接受rsa密钥。</p>
            </div>
            <p>
                The following descriptions describe the calling sequences for
                MySQL Enterprise Encryption functions. For additional examples and discussion,
                see <a class="xref" href="functions.html#enterprise-encryption-usage" title="12.19.2&nbsp;MySQL Enterprise Encryption Usage and Examples">Section&nbsp;12.19.2, “MySQL Enterprise Encryption Usage and Examples”</a>.
            </p><p style="color:blue;">以下描述描述了mysql企业加密函数的调用序列。有关其他示例和讨论，请参阅第12.19.2节“MySQL企业加密使用和示例”。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_asymmetric-decrypt"></a><p>
                    <a class="indexterm" name="idm140286843544640"></a>

                    <a class="link" href="functions.html#function_asymmetric-decrypt"><code class="literal">ASYMMETRIC_DECRYPT(<em class="replaceable"><code>algorithm</code></em>,
                        <em class="replaceable"><code>crypt_str</code></em>,
                        <em class="replaceable"><code>key_str</code></em>)</code></a>
                </p><p style="color:blue;">非对称解密（算法，crypt_str，key_str）</p><p>
                    Decrypts an encrypted string using the given algorithm and
                    key string, and returns the resulting plaintext as a binary
                    string. If decryption fails, the result is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用给定的算法和密钥字符串解密加密字符串，并将得到的明文作为二进制字符串返回。如果解密失败，则结果为空。</p><p>
                    <em class="replaceable"><code>key_str</code></em> must be a valid key
                    string in PEM format. For successful decryption, it must be
                    the public or private key string corresponding to the
                    private or public key string used with
                    <a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a> to
                    produce the encrypted string.
                    <em class="replaceable"><code>algorithm</code></em> indicates the
                    encryption algorithm used to create the key.
                </p><p style="color:blue;">密钥字符串必须是PEM格式的有效密钥字符串。若要成功解密，它必须是与用于非对称加密（）的私钥或公钥字符串相对应的公钥或私钥字符串，才能生成加密字符串。算法指示用于创建密钥的加密算法。</p><p>
                    Supported <em class="replaceable"><code>algorithm</code></em> values:
                    <code class="literal">'RSA'</code>
                </p><p style="color:blue;">支持的算法值：“rsa”</p><p>
                    For a usage example, see the description of
                    <a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a>.
                </p><p style="color:blue;">有关用法示例，请参见不对称加密的说明。</p></li><li class="listitem"><a name="function_asymmetric-derive"></a><p>
                    <a class="indexterm" name="idm140286843529408"></a>

                    <a class="link" href="functions.html#function_asymmetric-derive"><code class="literal">ASYMMETRIC_DERIVE(<em class="replaceable"><code>pub_key_str</code></em>,
                        <em class="replaceable"><code>priv_key_str</code></em>)</code></a>
                </p><p style="color:blue;">非对称派生（pub_key_str，priv_key_str）</p><p>
                    Derives a symmetric key using the private key of one party
                    and the public key of another, and returns the resulting key
                    as a binary string. If key derivation fails, the result is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用一方的私钥和另一方的公钥派生对称密钥，并将结果密钥作为二进制字符串返回。如果密钥派生失败，则结果为空。</p><p>
                    <em class="replaceable"><code>pub_key_str</code></em> and
                    <em class="replaceable"><code>priv_key_str</code></em> must be valid key
                    strings in PEM format. They must be created using the DH
                    algorithm.
                </p><p style="color:blue;">pub_key_str和priv_key_str必须是PEM格式的有效密钥字符串。它们必须使用dh算法创建。</p><p>
                    Suppose that you have two pairs of public and private keys:
                </p><p style="color:blue;">假设您有两对公钥和私钥：</p><pre data-lang="sql" class="programlisting">SET @dhp = CREATE_DH_PARAMETERS(1024);
SET @priv1 = CREATE_ASYMMETRIC_PRIV_KEY('DH', @dhp);
SET @pub1 = CREATE_ASYMMETRIC_PUB_KEY('DH', @priv1);
SET @priv2 = CREATE_ASYMMETRIC_PRIV_KEY('DH', @dhp);
SET @pub2 = CREATE_ASYMMETRIC_PUB_KEY('DH', @priv2);
</pre><p>
                    Suppose further that you use the private key from one pair
                    and the public key from the other pair to create a symmetric
                    key string. Then this symmetric key identity relationship
                    holds:
                </p><p style="color:blue;">进一步假设使用一对的私钥和另一对的公钥创建对称密钥字符串。然后，此对称密钥标识关系保持：</p><pre data-lang="sql" class="programlisting">ASYMMETRIC_DERIVE(@pub1, @priv2) = ASYMMETRIC_DERIVE(@pub2, @priv1)
</pre></li><li class="listitem"><a name="function_asymmetric-encrypt"></a><p>
                    <a class="indexterm" name="idm140286843516096"></a>

                    <a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT(<em class="replaceable"><code>algorithm</code></em>,
                        <em class="replaceable"><code>str</code></em>,
                        <em class="replaceable"><code>key_str</code></em>)</code></a>
                </p><p style="color:blue;">非对称加密（算法、str、密钥str）</p><p>
                    Encrypts a string using the given algorithm and key string,
                    and returns the resulting ciphertext as a binary string. If
                    encryption fails, the result is <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用给定的算法和密钥字符串加密字符串，并将生成的密文作为二进制字符串返回。如果加密失败，则结果为空。</p><p>
                    The <em class="replaceable"><code>str</code></em> length cannot be greater
                    than the <em class="replaceable"><code>key_str</code></em> length −
                    11, in bytes
                </p><p style="color:blue;">str长度不能大于密钥str长度-11（字节）</p><p>
                    <em class="replaceable"><code>key_str</code></em> must be a valid key
                    string in PEM format. <em class="replaceable"><code>algorithm</code></em>
                    indicates the encryption algorithm used to create the key.
                </p><p style="color:blue;">密钥字符串必须是PEM格式的有效密钥字符串。算法指示用于创建密钥的加密算法。</p><p>
                    Supported <em class="replaceable"><code>algorithm</code></em> values:
                    <code class="literal">'RSA'</code>
                </p><p style="color:blue;">支持的算法值：“rsa”</p><p>
                    To encrypt a string, pass a private or public key string to
                    <a class="link" href="functions.html#function_asymmetric-encrypt"><code class="literal">ASYMMETRIC_ENCRYPT()</code></a>. To
                    recover the original unencrypted string, pass the encrypted
                    string to
                    <a class="link" href="functions.html#function_asymmetric-decrypt"><code class="literal">ASYMMETRIC_DECRYPT()</code></a>, along
                    with the public or private key string correponding to the
                    private or public key string used for encryption.
                </p><p style="color:blue;">要加密字符串，请将私钥或公钥字符串传递给Asymmetric_encrypt（）。要恢复原始的未加密字符串，请将加密字符串传递给Asymmetric_decrypt（），同时传递与用于加密的私钥或公钥字符串对应的公钥或私钥字符串。</p><pre data-lang="sql" class="programlisting">-- Generate private/public key pair
SET @priv = CREATE_ASYMMETRIC_PRIV_KEY('RSA', 1024);
SET @pub = CREATE_ASYMMETRIC_PUB_KEY('RSA', @priv);

-- Encrypt using private key, decrypt using public key
SET @ciphertext = ASYMMETRIC_ENCRYPT('RSA', 'The quick brown fox', @priv);
SET @plaintext = ASYMMETRIC_DECRYPT('RSA', @ciphertext, @pub);

-- Encrypt using public key, decrypt using private key
SET @ciphertext = ASYMMETRIC_ENCRYPT('RSA', 'The quick brown fox', @pub);
SET @plaintext = ASYMMETRIC_DECRYPT('RSA', @ciphertext, @priv);
</pre><p>
                    Suppose that:
                </p><p style="color:blue;">假设：</p><pre data-lang="sql" class="programlisting">SET @s = a string to be encrypted
SET @priv = a valid private RSA key string in PEM format
SET @pub = the corresponding public RSA key string in PEM format
</pre><p>
                    Then these identity relationships hold:
                </p><p style="color:blue;">然后，这些身份关系成立：</p><pre data-lang="sql" class="programlisting">ASYMMETRIC_DECRYPT('RSA', ASYMMETRIC_ENCRYPT('RSA', @s, @priv), @pub) = @s
ASYMMETRIC_DECRYPT('RSA', ASYMMETRIC_ENCRYPT('RSA', @s, @pub), @priv) = @s
</pre></li><li class="listitem"><a name="function_asymmetric-sign"></a><p>
                    <a class="indexterm" name="idm140286843494496"></a>

                    <a class="link" href="functions.html#function_asymmetric-sign"><code class="literal">ASYMMETRIC_SIGN(<em class="replaceable"><code>algorithm</code></em>,
                        <em class="replaceable"><code>digest_str</code></em>,
                        <em class="replaceable"><code>priv_key_str</code></em>,
                        <em class="replaceable"><code>digest_type</code></em>)</code></a>
                </p><p style="color:blue;">非对称符号（算法，digest_str，priv_key_str，digest_type）</p><p>
                    Signs a digest string using a private key string, and
                    returns the signature as a binary string. If signing fails,
                    the result is <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用私钥字符串对摘要字符串进行签名，并将签名作为二进制字符串返回。如果签名失败，则结果为空。</p><p>
                    <em class="replaceable"><code>digest_str</code></em> is the digest string.
                    It can be generated by calling
                    <a class="link" href="functions.html#function_create-digest"><code class="literal">CREATE_DIGEST()</code></a>.
                    <em class="replaceable"><code>digest_type</code></em> indicates the digest
                    algorithm used to generate the digest string.
                </p><p style="color:blue;">digest_str是摘要字符串。它可以通过调用create_digest（）生成。digest_type表示用于生成摘要字符串的摘要算法。</p><p>
                    <em class="replaceable"><code>priv_key_str</code></em> is the private key
                    string to use for signing the digest string. It must be a
                    valid key string in PEM format.
                    <em class="replaceable"><code>algorithm</code></em> indicates the
                    encryption algorithm used to create the key.
                </p><p style="color:blue;">priv_key_str是用于签名摘要字符串的私钥字符串。它必须是PEM格式的有效密钥字符串。算法指示用于创建密钥的加密算法。</p><p>
                    Supported <em class="replaceable"><code>algorithm</code></em> values:
                    <code class="literal">'RSA'</code>, <code class="literal">'DSA'</code>
                </p><p style="color:blue;">支持的算法值：“rsa”、“dsa”</p><p>
                    Supported <em class="replaceable"><code>digest_type</code></em> values:
                    <code class="literal">'SHA224'</code>, <code class="literal">'SHA256'</code>,
                    <code class="literal">'SHA384'</code>, <code class="literal">'SHA512'</code>
                </p><p style="color:blue;">支持的摘要类型值：“sha224”、“sha256”、“sha384”、“sha512”</p><p>
                    For a usage example, see the description of
                    <a class="link" href="functions.html#function_asymmetric-verify"><code class="literal">ASYMMETRIC_VERIFY()</code></a>.
                </p><p style="color:blue;">有关用法示例，请参见不对称验证（）的说明。</p></li><li class="listitem"><a name="function_asymmetric-verify"></a><p>
                    <a class="indexterm" name="idm140286843473264"></a>

                    <a class="link" href="functions.html#function_asymmetric-verify"><code class="literal">ASYMMETRIC_VERIFY(<em class="replaceable"><code>algorithm</code></em>,
                        <em class="replaceable"><code>digest_str</code></em>,
                        <em class="replaceable"><code>sig_str</code></em>,
                        <em class="replaceable"><code>pub_key_str</code></em>,
                        <em class="replaceable"><code>digest_type</code></em>)</code></a>
                </p><p style="color:blue;">非对称验证（算法、摘要str、sig str、发布密钥str、摘要类型）</p><p>
                    Verifies whether the signature string matches the digest
                    string, and returns 1 or 0 to indicate whether verification
                    succeeded or failed.
                </p><p style="color:blue;">验证签名字符串是否与摘要字符串匹配，并返回1或0以指示验证是否成功。</p><p>
                    <em class="replaceable"><code>digest_str</code></em> is the digest string.
                    It can be generated by calling
                    <a class="link" href="functions.html#function_create-digest"><code class="literal">CREATE_DIGEST()</code></a>.
                    <em class="replaceable"><code>digest_type</code></em> indicates the digest
                    algorithm used to generate the digest string.
                </p><p style="color:blue;">digest_str是摘要字符串。它可以通过调用create_digest（）生成。digest_type表示用于生成摘要字符串的摘要算法。</p><p>
                    <em class="replaceable"><code>sig_str</code></em> is the signature string.
                    It can be generated by calling
                    <a class="link" href="functions.html#function_asymmetric-sign"><code class="literal">ASYMMETRIC_SIGN()</code></a>.
                </p><p style="color:blue;">sig_str是签名字符串。它可以通过调用不对称符号（）生成。</p><p>
                    <em class="replaceable"><code>pub_key_str</code></em> is the public key
                    string of the signer. It corresponds to the private key
                    passed to <a class="link" href="functions.html#function_asymmetric-sign"><code class="literal">ASYMMETRIC_SIGN()</code></a>
                    to generate the signature string and must be a valid key
                    string in PEM format. <em class="replaceable"><code>algorithm</code></em>
                    indicates the encryption algorithm used to create the key.
                </p><p style="color:blue;">pub_key_str是签名者的公钥字符串。它对应于传递给Asymmetric_sign（）以生成签名字符串的私钥，并且必须是PEM格式的有效密钥字符串。算法指示用于创建密钥的加密算法。</p><p>
                    Supported <em class="replaceable"><code>algorithm</code></em> values:
                    <code class="literal">'RSA'</code>, <code class="literal">'DSA'</code>
                </p><p style="color:blue;">支持的算法值：“rsa”、“dsa”</p><p>
                    Supported <em class="replaceable"><code>digest_type</code></em> values:
                    <code class="literal">'SHA224'</code>, <code class="literal">'SHA256'</code>,
                    <code class="literal">'SHA384'</code>, <code class="literal">'SHA512'</code>
                </p><p style="color:blue;">支持的摘要类型值：“sha224”、“sha256”、“sha384”、“sha512”</p><pre data-lang="sql" class="programlisting">-- Set the encryption algorithm and digest type
SET @algo = 'RSA';
SET @dig_type = 'SHA224';

-- Create private/public key pair
SET @priv = CREATE_ASYMMETRIC_PRIV_KEY(@algo, 1024);
SET @pub = CREATE_ASYMMETRIC_PUB_KEY(@algo, @priv);

-- Generate digest from string
SET @dig = CREATE_DIGEST(@dig_type, 'The quick brown fox');

-- Generate signature for digest and verify signature against digest
SET @sig = ASYMMETRIC_SIGN(@algo, @dig, @priv, @dig_type);
SET @verf = ASYMMETRIC_VERIFY(@algo, @dig, @sig, @pub, @dig_type);
</pre></li><li class="listitem"><a name="function_create-asymmetric-priv-key"></a><p>
                    <a class="indexterm" name="idm140286843448576"></a>

                    <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY(<em class="replaceable"><code>algorithm</code></em>,
                        {<em class="replaceable"><code>key_len</code></em>|<em class="replaceable"><code>dh_secret</code></em>})</code></a>
                </p><p style="color:blue;">创建非对称密钥（算法，{key len_dh_secret}）</p><p>
                    Creates a private key using the given algorithm and key
                    length or DH secret, and returns the key as a binary string
                    in PEM format. If key generation fails, the result is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用给定的算法和密钥长度或dh secret创建私钥，并以pem格式将密钥作为二进制字符串返回。如果密钥生成失败，则结果为空。</p><p>
                    Supported <em class="replaceable"><code>algorithm</code></em> values:
                    <code class="literal">'RSA'</code>, <code class="literal">'DSA'</code>,
                    <code class="literal">'DH'</code>
                </p><p style="color:blue;">支持的算法值：“rsa”、“dsa”、“dh”</p><p>
                    Supported <em class="replaceable"><code>key_len</code></em> values: The
                    minimum key length in bits is 1,024. The maximum key length
                    depends on the algorithm: 16,384 for RSA and 10,000 for DSA.
                    These key-length limits are constraints imposed by OpenSSL.
                    Server administrators can impose additional limits on
                    maximum key length by setting environment variables. See
                    <a class="xref" href="functions.html#enterprise-encryption-usage" title="12.19.2&nbsp;MySQL Enterprise Encryption Usage and Examples">Section&nbsp;12.19.2, “MySQL Enterprise Encryption Usage and Examples”</a>.
                </p><p style="color:blue;">支持的密钥长度值：以位为单位的最小密钥长度为1024。最大密钥长度取决于算法：RSA为16384，DSA为10000。这些密钥长度限制是openssl施加的约束。服务器管理员可以通过设置环境变量对最大密钥长度附加限制。参见12.19.2节，“MySQL企业加密使用和示例”。</p><p>
                    For DH keys, pass a shared DH secret instead of a key
                    length. To create the secret, pass the key length to
                    <a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS()</code></a>.
                </p><p style="color:blue;">对于dh密钥，传递共享的dh密钥而不是密钥长度。若要创建该秘密，请将密钥长度传递给CeaTydiDHyValueStor（）。</p><p>
                    This example creates a 2,048-bit DSA private key, then
                    derives a public key from the private key:
                </p><p style="color:blue;">此示例创建2048位dsa私钥，然后从私钥派生公钥：</p><pre data-lang="sql" class="programlisting">SET @priv = CREATE_ASYMMETRIC_PRIV_KEY('DSA', 2048);
SET @pub = CREATE_ASYMMETRIC_PUB_KEY('DSA', @priv);
</pre><p>
                    For an example showing DH key generation, see the
                    description of
                    <a class="link" href="functions.html#function_asymmetric-derive"><code class="literal">ASYMMETRIC_DERIVE()</code></a>.
                </p><p style="color:blue;">有关显示DH密钥生成的示例，请参见不对称的描述。</p><p>
                    Some general considerations in choosing key lengths and
                    encryption algorithms:
                </p><p style="color:blue;">选择密钥长度和加密算法时的一些一般注意事项：</p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            The strength of encryption for private and public keys
                            increases with the key size, but the time for key
                            generation increases as well.
                        </p><p style="color:blue;">私钥和公钥的加密强度随着密钥大小的增加而增加，但密钥生成的时间也随之增加。</p></li><li class="listitem"><p>
                            Generation of DH keys takes much longer than RSA or RSA
                            keys.
                        </p><p style="color:blue;">dh密钥的生成要比rsa或rsa密钥长得多。</p></li><li class="listitem"><p>
                            Asymmetric encryption functions are slower than
                            symmetric functions. If performance is an important
                            factor and the functions are to be used very frequently,
                            you are better off using symmetric encryption. For
                            example, consider using
                            <a class="link" href="functions.html#function_aes-encrypt"><code class="literal">AES_ENCRYPT()</code></a> and
                            <a class="link" href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT()</code></a>.
                        </p><p style="color:blue;">非对称加密函数比对称函数慢。如果性能是一个重要因素，并且函数要经常使用，那么最好使用对称加密。例如，考虑使用aes_encrypt（）和aes_decrypt（）。</p></li></ul>
                    </div>
                </li><li class="listitem"><a name="function_create-asymmetric-pub-key"></a><p>
                    <a class="indexterm" name="idm140286843422032"></a>

                    <a class="link" href="functions.html#function_create-asymmetric-pub-key"><code class="literal">CREATE_ASYMMETRIC_PUB_KEY(<em class="replaceable"><code>algorithm</code></em>,
                        <em class="replaceable"><code>priv_key_str</code></em>)</code></a>
                </p><p style="color:blue;">创建非对称公开密钥（算法，私有密钥）</p><p>
                    Derives a public key from the given private key using the
                    given algorithm, and returns the key as a binary string in
                    PEM format. If key derivation fails, the result is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用给定算法从给定私钥派生公钥，并以PEM格式的二进制字符串返回该密钥。如果密钥派生失败，则结果为空。</p><p>
                    <em class="replaceable"><code>priv_key_str</code></em> must be a valid key
                    string in PEM format. <em class="replaceable"><code>algorithm</code></em>
                    indicates the encryption algorithm used to create the key.
                </p><p style="color:blue;">priv_key_str必须是PEM格式的有效密钥字符串。算法指示用于创建密钥的加密算法。</p><p>
                    Supported <em class="replaceable"><code>algorithm</code></em> values:
                    <code class="literal">'RSA'</code>, <code class="literal">'DSA'</code>,
                    <code class="literal">'DH'</code>
                </p><p style="color:blue;">支持的算法值：“rsa”、“dsa”、“dh”</p><p>
                    For a usage example, see the description of
                    <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>.
                </p><p style="color:blue;">有关用法示例，请参见create_asymmetric_priv_key（）的说明。</p></li><li class="listitem"><a name="function_create-dh-parameters"></a><p>
                    <a class="indexterm" name="idm140286843406560"></a>

                    <a class="link" href="functions.html#function_create-dh-parameters"><code class="literal">CREATE_DH_PARAMETERS(<em class="replaceable"><code>key_len</code></em>)</code></a>
                </p><p style="color:blue;">CuraTydHHI参数（KEYYLLN）</p><p>
                    Creates a shared secret for generating a DH private/public
                    key pair and returns a binary string that can be passed to
                    <a class="link" href="functions.html#function_create-asymmetric-priv-key"><code class="literal">CREATE_ASYMMETRIC_PRIV_KEY()</code></a>.
                    If secret generation fails, the result is null.
                </p><p style="color:blue;">创建用于生成dh私钥/公钥对的共享密钥，并返回一个二进制字符串，该字符串可以传递给create_asymmetric_priv_key（）。如果机密生成失败，则结果为空。</p><p>
                    Supported <em class="replaceable"><code>key_len</code></em> values: The
                    minimum and maximum key lengths in bits are 1,024 and
                    10,000. These key-length limits are constraints imposed by
                    OpenSSL. Server administrators can impose additional limits
                    on maximum key length by setting environment variables. See
                    <a class="xref" href="functions.html#enterprise-encryption-usage" title="12.19.2&nbsp;MySQL Enterprise Encryption Usage and Examples">Section&nbsp;12.19.2, “MySQL Enterprise Encryption Usage and Examples”</a>.
                </p><p style="color:blue;">支持密钥值：比特的最小和最大密钥长度为1024和10000。这些密钥长度限制是openssl施加的约束。服务器管理员可以通过设置环境变量对最大密钥长度附加限制。参见12.19.2节，“MySQL企业加密使用和示例”。</p><p>
                    For an example showing how to use the return value for
                    generating symmetric keys, see the description of
                    <a class="link" href="functions.html#function_asymmetric-derive"><code class="literal">ASYMMETRIC_DERIVE()</code></a>.
                </p><p style="color:blue;">有关显示如何使用返回值生成对称密钥的示例，请参见不对称的描述。</p><pre data-lang="sql" class="programlisting">SET @dhp = CREATE_DH_PARAMETERS(1024);
</pre></li><li class="listitem"><a name="function_create-digest"></a><p>
                    <a class="indexterm" name="idm140286843393200"></a>

                    <a class="link" href="functions.html#function_create-digest"><code class="literal">CREATE_DIGEST(<em class="replaceable"><code>digest_type</code></em>,
                        <em class="replaceable"><code>str</code></em>)</code></a>
                </p><p style="color:blue;">创建摘要（摘要类型，str）</p><p>
                    Creates a digest from the given string using the given
                    digest type, and returns the digest as a binary string. If
                    digest generation fails, the result is
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">使用给定的摘要类型从给定字符串创建摘要，并将摘要作为二进制字符串返回。如果摘要生成失败，则结果为空。</p><p>
                    Supported <em class="replaceable"><code>digest_type</code></em> values:
                    <code class="literal">'SHA224'</code>, <code class="literal">'SHA256'</code>,
                    <code class="literal">'SHA384'</code>, <code class="literal">'SHA512'</code>
                </p><p style="color:blue;">支持的摘要类型值：“sha224”、“sha256”、“sha384”、“sha512”</p><pre data-lang="sql" class="programlisting">SET @dig = CREATE_DIGEST('SHA512', The quick brown fox');
</pre><p>
                    The resulting digest string is suitable for use with
                    <code class="literal">ASYMMETRIC_SIGN()</code> and
                    <code class="literal">ASYMMETRIC_VERIFY()</code>.
                </p><p style="color:blue;">生成的摘要字符串适合与非对称符号（）和非对称验证（）一起使用。</p></li></ul>
            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="group-by-functions-and-modifiers"></a>12.20&nbsp;Aggregate (GROUP BY) Functions</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#group-by-functions">12.20.1 Aggregate (GROUP BY) Function Descriptions</a></span></dt><dt><span class="section"><a href="functions.html#group-by-modifiers">12.20.2 GROUP BY Modifiers</a></span></dt><dt><span class="section"><a href="functions.html#group-by-handling">12.20.3 MySQL Handling of GROUP BY</a></span></dt><dt><span class="section"><a href="functions.html#group-by-functional-dependence">12.20.4 Detection of Functional Dependence</a></span></dt></dl>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="group-by-functions"></a>12.20.1&nbsp;Aggregate (GROUP BY) Function Descriptions</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286843377200"></a><a class="indexterm" name="idm140286843376160"></a><a class="indexterm" name="idm140286843374672"></a><p>
            This section describes group (aggregate) functions that operate
            on sets of values.
        </p><p style="color:blue;">本节介绍对值集进行操作的组（聚合）函数。</p>
            <div class="table">
                <a name="idm140286843372656"></a><p class="title"><b>Table&nbsp;12.26&nbsp;Aggregate (GROUP BY) Functions</b></p><p style="color:blue;">表12.26聚合（分组）函数</p>
                <div class="table-contents">
                    <table frame="box" rules="all" summary="A reference that lists aggregate (GROUP BY) functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                        <th scope="col">Description</th>
                    </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_avg"><code class="literal">AVG()</code></a></td>
                        <td>
                            Return the average value of the argument
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a></td>
                        <td>
                            Return bitwise AND
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a></td>
                        <td>
                            Return bitwise OR
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a></td>
                        <td>
                            Return bitwise XOR
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_count"><code class="literal">COUNT()</code></a></td>
                        <td>
                            Return a count of the number of rows returned
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_count-distinct"><code class="literal">COUNT(DISTINCT)</code></a></td>
                        <td>
                            Return the count of a number of different values
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a></td>
                        <td>
                            Return a concatenated string
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-arrayagg"><code class="literal">JSON_ARRAYAGG()</code></a></td>
                        <td>
                            Return result set as a single JSON array
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_json-objectagg"><code class="literal">JSON_OBJECTAGG()</code></a></td>
                        <td>
                            Return result set as a single JSON object
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_max"><code class="literal">MAX()</code></a></td>
                        <td>
                            Return the maximum value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_min"><code class="literal">MIN()</code></a></td>
                        <td>
                            Return the minimum value
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_std"><code class="literal">STD()</code></a></td>
                        <td>
                            Return the population standard deviation
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a></td>
                        <td>
                            Return the population standard deviation
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a></td>
                        <td>
                            Return the population standard deviation
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP()</code></a></td>
                        <td>
                            Return the sample standard deviation
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a></td>
                        <td>
                            Return the sum
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a></td>
                        <td>
                            Return the population standard variance
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a></td>
                        <td>
                            Return the sample variance
                        </td>
                    </tr><tr><td scope="row"><a class="link" href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a></td>
                        <td>
                            Return the population standard variance
                        </td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            Unless otherwise stated, group functions ignore
            <code class="literal">NULL</code> values.
        </p><p style="color:blue;">除非另有说明，否则组函数忽略空值。</p><p>
            If you use a group function in a statement containing no
            <code class="literal">GROUP BY</code> clause, it is equivalent to grouping
            on all rows. For more information, see
            <a class="xref" href="functions.html#group-by-handling" title="12.20.3&nbsp;MySQL Handling of GROUP BY">Section&nbsp;12.20.3, “MySQL Handling of GROUP BY”</a>.
        </p><p style="color:blue;">如果在不包含GROUPBY子句的语句中使用GROUP函数，则等同于对所有行进行分组。有关详细信息，请参阅第12.20.3节“MySQL对GROUP BY的处理”。</p><p>
            For numeric arguments, the variance and standard deviation
            functions return a <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> value.
            The <a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a> and
            <a class="link" href="functions.html#function_avg"><code class="literal">AVG()</code></a> functions return a
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> value for exact-value
            arguments (integer or <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a>),
            and a <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> value for
            approximate-value arguments
            (<a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">FLOAT</code></a> or
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a>).
        </p><p style="color:blue;">对于数值参数，variance和standard deviation函数返回一个双精度值。SUM（）和AVG-（）函数返回精确值参数（整数或十进制）的十进制值，以及近似值参数（浮点或double）的双值。</p><p>
            The <a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a> and
            <a class="link" href="functions.html#function_avg"><code class="literal">AVG()</code></a> aggregate functions do not
            work with temporal values. (They convert the values to numbers,
            losing everything after the first nonnumeric character.) To work
            around this problem, convert to numeric units, perform the
            aggregate operation, and convert back to a temporal value.
            Examples:
        </p><p style="color:blue;">sum（）和avg（）聚合函数不能处理时间值。（它们将值转换为数字，在第一个非数字字符之后丢失所有内容。）若要解决此问题，请转换为数字单位，执行聚合操作，然后转换回时间值。示例：</p><pre data-lang="sql" class="programlisting">SELECT SEC_TO_TIME(SUM(TIME_TO_SEC(<em class="replaceable"><code>time_col</code></em>))) FROM <em class="replaceable"><code>tbl_name</code></em>;
SELECT FROM_DAYS(SUM(TO_DAYS(<em class="replaceable"><code>date_col</code></em>))) FROM <em class="replaceable"><code>tbl_name</code></em>;
</pre><p>
            Functions such as <a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a> or
            <a class="link" href="functions.html#function_avg"><code class="literal">AVG()</code></a> that expect a numeric
            argument cast the argument to a number if necessary. For
            <a class="link" href="data-types.html#set" title="11.4.5&nbsp;The SET Type"><code class="literal">SET</code></a> or
            <a class="link" href="data-types.html#enum" title="11.4.4&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> values, the cast operation
            causes the underlying numeric value to be used.
        </p><p style="color:blue;">需要数值参数的sum（）或avg（）函数在必要时将参数转换为数字。对于set或enum值，强制转换操作将使用基础数值。</p><p>
            The <a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a>,
            <a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a>, and
            <a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a> aggregate functions
            perform bit operations. They require
            <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> (64-bit integer) arguments
            and return <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> values.
            Arguments of other types are converted to
            <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> and truncation might
            occur. For information about a change in MySQL 8.0 that permits
            bit operations to take binary string type arguments
            (<a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
            <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, and the
            <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> types), see
            <a class="xref" href="functions.html#bit-functions" title="12.12&nbsp;Bit Functions and Operators">Section&nbsp;12.12, “Bit Functions and Operators”</a>.
        </p><p style="color:blue;">bit_and（）、bit_or（）和bit_xor（）聚合函数执行位操作。它们需要bigint（64位整数）参数并返回bigint值。其他类型的参数转换为bigint，可能会发生截断。有关mysql 8.0中允许位操作接受二进制字符串类型参数（binary、varbinary和blob类型）的更改的信息，请参阅12.12节“位函数和运算符”。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_avg"></a><p>
                    <a class="indexterm" name="idm140286843263376"></a>

                    <a class="indexterm" name="idm140286843262304"></a>

                    <a class="indexterm" name="idm140286843261232"></a>

                    <a class="link" href="functions.html#function_avg"><code class="literal">AVG([DISTINCT]
                        <em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">平均值（[非重复]表达式）</p><p>
                    Returns the average value of
                    <code class="literal"><em class="replaceable"><code>expr</code></em></code>. The
                    <code class="literal">DISTINCT</code> option can be used to return the
                    average of the distinct values of
                    <em class="replaceable"><code>expr</code></em>.
                </p><p style="color:blue;">返回expr的平均值。distinct选项可用于返回expr的distinct值的平均值。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_avg"><code class="literal">AVG()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，avg（）将返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name, AVG(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre></li><li class="listitem"><a name="function_bit-and"></a><p>
                    <a class="indexterm" name="idm140286843245568"></a>

                    <a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">位与（expr）</p><p>
                    Returns the bitwise <code class="literal">AND</code> of all bits in
                    <em class="replaceable"><code>expr</code></em>. The calculation is
                    performed with 64-bit
                    (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>) precision.
                </p><p style="color:blue;">返回expr中所有位的按位和。计算以64位（bigint）精度执行。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_bit-and"><code class="literal">BIT_AND()</code></a> returns a neutral
                    value (all bits set to 1).
                </p><p style="color:blue;">如果没有匹配的行，bit_and（）返回一个中性值（所有位都设置为1）。</p></li><li class="listitem"><a name="function_bit-or"></a><p>
                    <a class="indexterm" name="idm140286843234160"></a>

                    <a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">位或（expr）</p><p>
                    Returns the bitwise <code class="literal">OR</code> of all bits in
                    <em class="replaceable"><code>expr</code></em>. The calculation is
                    performed with 64-bit
                    (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>) precision.
                </p><p style="color:blue;">返回expr中所有位的按位或。计算以64位（bigint）精度执行。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_bit-or"><code class="literal">BIT_OR()</code></a> returns a neutral
                    value (all bits set to 0).
                </p><p style="color:blue;">如果没有匹配的行，bit_or（）返回一个中性值（所有位都设置为0）。</p></li><li class="listitem"><a name="function_bit-xor"></a><p>
                    <a class="indexterm" name="idm140286843222752"></a>

                    <a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">位异或（expr）</p><p>
                    Returns the bitwise <a class="link" href="functions.html#operator_xor"><code class="literal">XOR</code></a> of all
                    bits in <em class="replaceable"><code>expr</code></em>. The calculation is
                    performed with 64-bit
                    (<a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>) precision.
                </p><p style="color:blue;">返回expr中所有位的按位异或。计算以64位（bigint）精度执行。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_bit-xor"><code class="literal">BIT_XOR()</code></a> returns a neutral
                    value (all bits set to 0).
                </p><p style="color:blue;">如果没有匹配的行，bit_xor（）返回一个中性值（所有位都设置为0）。</p></li><li class="listitem"><a name="function_count"></a><p>
                    <a class="indexterm" name="idm140286843210896"></a>

                    <a class="link" href="functions.html#function_count"><code class="literal">COUNT(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">计数（expr）</p><p>
                    Returns a count of the number of non-<code class="literal">NULL</code>
                    values of <em class="replaceable"><code>expr</code></em> in the rows
                    retrieved by a <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a>
                    statement. The result is a
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> value.
                </p><p style="color:blue;">返回select语句检索的行中expr的非空值的计数。结果是一个bigint值。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_count"><code class="literal">COUNT()</code></a> returns
                    <code class="literal">0</code>.
                </p><p style="color:blue;">如果没有匹配的行，count（）返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student.student_name,COUNT(*)</code></strong>
       <strong class="userinput"><code>FROM student,course</code></strong>
       <strong class="userinput"><code>WHERE student.student_id=course.student_id</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
                    <a class="link" href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> is somewhat
                    different in that it returns a count of the number of rows
                    retrieved, whether or not they contain
                    <code class="literal">NULL</code> values.
                </p><p style="color:blue;">count（*）有点不同，因为它返回所检索行数的计数，不管它们是否包含空值。</p><p>
                    For transactional storage engines such as
                    <code class="literal">InnoDB</code>, storing an exact row count is
                    problematic. Multiple transactions may be occurring at the
                    same time, each of which may affect the count.
                </p><p style="color:blue;">对于事务性存储引擎（如innodb），存储精确的行计数是有问题的。多个事务可能同时发生，每个事务都可能影响计数。</p><p>
                    <code class="literal">InnoDB</code> does not keep an internal count of
                    rows in a table because concurrent transactions might
                    <span class="quote">“<span class="quote">see</span>”</span> different numbers of rows at the same
                    time. Consequently, <code class="literal">SELECT COUNT(*)</code>
                    statements only count rows visible to the current
                    transaction.
                </p><p style="color:blue;">InnoDB不在表中保留行的内部计数，因为并发事务可能同时“看到”不同数量的行。因此，select count（*）语句只对当前事务可见的行进行计数。</p><p>
                    Prior to MySQL 5.7.18, <code class="literal">InnoDB</code> processes
                    <code class="literal">SELECT COUNT(*)</code> statements by scanning
                    the clustered index. As of MySQL 5.7.18,
                    <code class="literal">InnoDB</code> processes <code class="literal">SELECT
                    COUNT(*)</code> statements by traversing the smallest
                    available secondary index unless an index or optimizer hint
                    directs the optimizer to use a different index. If a
                    secondary index is not present, the clustered index is
                    scanned.
                </p><p style="color:blue;">在mysql 5.7.18之前，innodb进程通过扫描聚集索引来选择count（*）语句。从mysql 5.7.18开始，innodb进程通过遍历最小的可用二级索引来选择count（*）语句，除非索引或优化器提示指示优化器使用不同的索引。如果不存在辅助索引，则扫描聚集索引。</p><p>
                    Processing <code class="literal">SELECT COUNT(*)</code> statements
                    takes some time if index records are not entirely in the
                    buffer pool. For a faster count, create a counter table and
                    let your application update it according to the inserts and
                    deletes it does. However, this method may not scale well in
                    situations where thousands of concurrent transactions are
                    initiating updates to the same counter table. If an
                    approximate row count is sufficient, use
                    <a class="link" href="sql-syntax.html#show-table-status" title="13.7.5.36&nbsp;SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a>.
                </p><p style="color:blue;">如果索引记录不完全在缓冲池中，则处理select count（*）语句需要一些时间。为了加快计数，请创建一个计数器表，并让应用程序根据插入和删除操作对其进行更新。但是，在数千个并发事务正在启动对同一计数器表的更新的情况下，此方法可能无法很好地扩展。如果近似行计数足够，则使用显示表状态。</p><p>
                    <code class="literal">InnoDB</code> handles <code class="literal">SELECT
                    COUNT(*)</code> and <code class="literal">SELECT COUNT(1)</code>
                    operations in the same way. There is no performance
                    difference.
                </p><p style="color:blue;">innodb以同样的方式处理select count（*）和select count（1）操作。没有性能差异。</p><p>
                    For <code class="literal">MyISAM</code> tables,
                    <a class="link" href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> is optimized to
                    return very quickly if the
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> retrieves from one
                    table, no other columns are retrieved, and there is no
                    <code class="literal">WHERE</code> clause. For example:
                </p><p style="color:blue;">对于myisam表，如果select从一个表检索，不检索其他列，并且没有where子句，count（*）将优化为非常快速地返回。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COUNT(*) FROM student;</code></strong>
</pre><p>
                    This optimization only applies to <code class="literal">MyISAM</code>
                    tables, because an exact row count is stored for this
                    storage engine and can be accessed very quickly.
                    <code class="literal">COUNT(1)</code> is only subject to the same
                    optimization if the first column is defined as <code class="literal">NOT
                    NULL</code>.
                </p><p style="color:blue;">此优化仅适用于myisam表，因为此存储引擎存储了准确的行计数，并且可以非常快速地访问。仅当第一列定义为非空时，计数（1）才受相同优化的约束。</p></li><li class="listitem"><a name="function_count-distinct"></a><p>
                    <a class="indexterm" name="idm140286843167344"></a>

                    <a class="indexterm" name="idm140286843166272"></a>

                    <a class="link" href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
                        <em class="replaceable"><code>expr</code></em>,[<em class="replaceable"><code>expr</code></em>...])</code></a>
                </p><p style="color:blue;">计数（非重复表达式，[表达式…]）</p><p>
                    Returns a count of the number of rows with different
                    non-<code class="literal">NULL</code> <em class="replaceable"><code>expr</code></em>
                    values.
                </p><p style="color:blue;">返回具有不同非空表达式值的行数。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> returns
                    <code class="literal">0</code>.
                </p><p style="color:blue;">如果没有匹配的行，count（distinct）返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COUNT(DISTINCT results) FROM student;</code></strong>
</pre><p>
                    In MySQL, you can obtain the number of distinct expression
                    combinations that do not contain <code class="literal">NULL</code> by
                    giving a list of expressions. In standard SQL, you would
                    have to do a concatenation of all expressions inside
                    <a class="link" href="functions.html#function_count"><code class="literal">COUNT(DISTINCT ...)</code></a>.
                </p><p style="color:blue;">在mysql中，通过给出表达式列表，可以获得不包含null的不同表达式组合的数量。在标准sql中，您必须对count（distinct…）中的所有表达式进行连接。</p></li><li class="listitem"><a name="function_group-concat"></a><p>
                    <a class="indexterm" name="idm140286843149072"></a>

                    <a class="link" href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">_concat组（expr）</p><p>
                    This function returns a string result with the concatenated
                    non-<code class="literal">NULL</code> values from a group. It returns
                    <code class="literal">NULL</code> if there are no
                    non-<code class="literal">NULL</code> values. The full syntax is as
                    follows:
                </p><p style="color:blue;">此函数返回一个字符串结果，其中包含组中连接的非空值。如果没有非空值，则返回空值。完整语法如下：</p><pre data-lang="sql" class="programlisting">GROUP_CONCAT([DISTINCT] <em class="replaceable"><code>expr</code></em> [,<em class="replaceable"><code>expr</code></em> ...]
             [ORDER BY {<em class="replaceable"><code>unsigned_integer</code></em> | <em class="replaceable"><code>col_name</code></em> | <em class="replaceable"><code>expr</code></em>}
                 [ASC | DESC] [,<em class="replaceable"><code>col_name</code></em> ...]]
             [SEPARATOR <em class="replaceable"><code>str_val</code></em>])
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name,</code></strong>
         <strong class="userinput"><code>GROUP_CONCAT(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
                    Or:
                </p><p style="color:blue;">或：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name,</code></strong>
         <strong class="userinput"><code>GROUP_CONCAT(DISTINCT test_score</code></strong>
                      <strong class="userinput"><code>ORDER BY test_score DESC SEPARATOR ' ')</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
                    In MySQL, you can get the concatenated values of expression
                    combinations. To eliminate duplicate values, use the
                    <code class="literal">DISTINCT</code> clause. To sort values in the
                    result, use the <code class="literal">ORDER BY</code> clause. To sort
                    in reverse order, add the <code class="literal">DESC</code>
                    (descending) keyword to the name of the column you are
                    sorting by in the <code class="literal">ORDER BY</code> clause. The
                    default is ascending order; this may be specified explicitly
                    using the <code class="literal">ASC</code> keyword. The default
                    separator between values in a group is comma
                    (<code class="literal">,</code>). To specify a separator explicitly,
                    use <code class="literal">SEPARATOR</code> followed by the string
                    literal value that should be inserted between group values.
                    To eliminate the separator altogether, specify
                    <code class="literal">SEPARATOR ''</code>.
                </p><p style="color:blue;">在mysql中，可以得到表达式组合的连接值。要消除重复值，请使用DISTINCT子句。要对结果中的值进行排序，请使用ORDERBY子句。若要按相反顺序排序，请将DESC（降序）关键字添加到ORDER BY子句中要按其排序的列的名称中。默认值是升序；这可以使用asc关键字显式指定。组中值之间的默认分隔符是逗号（，）。若要显式指定分隔符，请使用分隔符，然后使用应插入组值之间的字符串文字值。若要完全消除分隔符，请指定分隔符“”。</p><p>
                    The result is truncated to the maximum length that is given
                    by the <a class="link" href="server-administration.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a>
                    system variable, which has a default value of 1024. The
                    value can be set higher, although the effective maximum
                    length of the return value is constrained by the value of
                    <a class="link" href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>. The
                    syntax to change the value of
                    <a class="link" href="server-administration.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> at
                    runtime is as follows, where <em class="replaceable"><code>val</code></em>
                    is an unsigned integer:
                </p><p style="color:blue;">结果被截断到由GROPY-CONTAXMax系统变量所给出的最大长度，其默认值为1024。该值可以设置得更高，虽然返回值的有效最大长度受Max允许值的限制。在运行时更改group_concat_max_len值的语法如下，其中val是无符号整数：</p><pre data-lang="sql" class="programlisting">SET [GLOBAL | SESSION] group_concat_max_len = <em class="replaceable"><code>val</code></em>;
</pre><p>
                    The return value is a nonbinary or binary string, depending
                    on whether the arguments are nonbinary or binary strings.
                    The result type is <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> or
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> unless
                    <a class="link" href="server-administration.html#sysvar_group_concat_max_len"><code class="literal">group_concat_max_len</code></a> is
                    less than or equal to 512, in which case the result type is
                    <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> or
                    <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>.
                </p><p style="color:blue;">返回值是非二进制或二进制字符串，具体取决于参数是非二进制还是二进制字符串。结果类型是文本或blob，除非group_concat_max_len小于或等于512，在这种情况下，结果类型是varchar或varbinary。</p><p>
                    See also <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> and
                    <a class="link" href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a>:
                    <a class="xref" href="functions.html#string-functions" title="12.5&nbsp;String Functions and Operators">Section&nbsp;12.5, “String Functions and Operators”</a>.
                </p><p style="color:blue;">另请参见concat（）和concat_ws（）：第12.5节，“字符串函数和运算符”。</p></li><li class="listitem"><a name="function_json-arrayagg"></a><p>
                    <a class="indexterm" name="idm140286843102192"></a>

                    <a class="link" href="functions.html#function_json-arrayagg"><code class="literal">JSON_ARRAYAGG(<em class="replaceable"><code>col_or_expr</code></em>)</code></a>
                </p><p style="color:blue;">json_arrayagg（col_或_expr）</p><p>
                    Aggregates a result set as a single
                    <a class="link" href="data-types.html#json" title="11.6&nbsp;The JSON Data Type"><code class="literal">JSON</code></a> array whose elements
                    consist of the rows. The order of elements in this array is
                    undefined. The function acts on a column or an expression
                    that evaluates to a single value. Returns
                    <code class="literal">NULL</code> if the result contains no rows, or
                    in the event of an error.
                </p><p style="color:blue;">将结果集聚合为单个json数组，其元素由行组成。此数组中元素的顺序未定义。函数作用于计算结果为单个值的列或表达式。如果结果不包含行或发生错误，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT o_id, attribute, value FROM t3;</code></strong>
+------+-----------+-------+
| o_id | attribute | value |
+------+-----------+-------+
|    2 | color     | red   |
|    2 | fabric    | silk  |
|    3 | color     | green |
|    3 | shape     | square|
+------+-----------+-------+
4 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT o_id, JSON_ARRAYAGG(attribute) AS attributes</code></strong>
     &gt; <strong class="userinput"><code>FROM t3 GROUP BY o_id;</code></strong>
+------+---------------------+
| o_id | attributes          |
+------+---------------------+
|    2 | ["color", "fabric"] |
|    3 | ["color", "shape"]  |
+------+---------------------+
2 rows in set (0.00 sec)
</pre><p>
                    Added in MySQL 5.7.22.
                </p><p style="color:blue;">在mysql 5.7.22中添加。</p></li><li class="listitem"><a name="function_json-objectagg"></a><p>
                    <a class="indexterm" name="idm140286843086656"></a>

                    <a class="link" href="functions.html#function_json-objectagg"><code class="literal">JSON_OBJECTAGG(<em class="replaceable"><code>key</code></em>,
                        <em class="replaceable"><code>value</code></em>)</code></a>
                </p><p style="color:blue;">json_objectagg（键，值）</p><p>
                    Takes two column names or expressions as arguments, the
                    first of these being used as a key and the second as a
                    value, and returns a JSON object containing key-value pairs.
                    Returns <code class="literal">NULL</code> if the result contains no
                    rows, or in the event of an error. An error occurs if any
                    key name is <code class="literal">NULL</code> or the number of
                    arguments is not equal to 2.
                </p><p style="color:blue;">将两个列名或表达式作为参数，第一个用作键，第二个用作值，并返回包含键-值对的json对象。如果结果不包含行或发生错误，则返回null。如果任何键名为空或参数数不等于2，则会发生错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT o_id, attribute, value FROM t3;</code></strong>
+------+-----------+-------+
| o_id | attribute | value |
+------+-----------+-------+
|    2 | color     | red   |
|    2 | fabric    | silk  |
|    3 | color     | green |
|    3 | shape     | square|
+------+-----------+-------+
4 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT o_id, JSON_OBJECTAGG(attribute, value) FROM t3 GROUP BY o_id;</code></strong>
+------+----------------------------------------+
| o_id | JSON_OBJECTAGG(attribute, name)        |
+------+----------------------------------------+
|    2 | {"color": "red", "fabric": "silk"}     |
|    3 | {"color": "green", "shape": "square"}  |
+------+----------------------------------------+
1 row in set (0.00 sec)
</pre>
                    <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Duplicate key handling
                        </div>
                        <p>
                            When the result of this function is normlized, values
                            having duplicate keys are discarded, and only the last
                            value encountered is used with that key in the returned
                            object (<span class="quote">“<span class="quote">last duplicate key wins</span>”</span>). This
                            means that the result of using this function on columns
                            from a <code class="literal">SELECT</code> can depend on the order
                            in which in the rows are returned, which is not
                            guaranteed. Consider the following:
                        </p><p style="color:blue;">当此函数的结果被规范化时，具有重复键的值将被丢弃，并且只有遇到的最后一个值与返回对象中的该键一起使用（“最后一个重复键获胜”）。这意味着对select中的列使用此函数的结果可能取决于返回行的顺序，这是不保证的。请考虑以下几点：</p>
                    </div>
                    <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t(c VARCHAR(10), i INT);</code></strong>
Query OK, 0 rows affected (0.33 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES ('key', 3), ('key', 4), ('key', 5);</code></strong>
Query OK, 3 rows affected (0.10 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c, i FROM t;</code></strong>
+------+------+
| c    | i    |
+------+------+
| key  |    3 |
| key  |    4 |
| key  |    5 |
+------+------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i) FROM t;</code></strong>
+----------------------+
| JSON_OBJECTAGG(c, i) |
+----------------------+
| {"key": 5}           |
+----------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>DELETE FROM t;</code></strong>
Query OK, 3 rows affected (0.08 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES ('key', 3), ('key', 5), ('key', 4);</code></strong>
Query OK, 3 rows affected (0.06 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c, i FROM t;</code></strong>
+------+------+
| c    | i    |
+------+------+
| key  |    3 |
| key  |    5 |
| key  |    4 |
+------+------+
3 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT JSON_OBJECTAGG(c, i) FROM t;</code></strong>
+----------------------+
| JSON_OBJECTAGG(c, i) |
+----------------------+
| {"key": 4}           |
+----------------------+
1 row in set (0.00 sec)
</pre><p>
                        See <a class="xref" href="data-types.html#json-normalization" title="Normalization, Merging, and Autowrapping of JSON Values">Normalization, Merging, and Autowrapping of JSON Values</a>, for additional
                        information and examples.
                    </p><p style="color:blue;">有关更多信息和示例，请参见json值的规范化、合并和自动包装。</p><p>
                        Added in MySQL 5.7.22.
                    </p><p style="color:blue;">在mysql 5.7.22中添加。</p></li><li class="listitem"><a name="function_max"></a><p>
                    <a class="indexterm" name="idm140286843059568"></a>

                    <a class="indexterm" name="idm140286843058496"></a>

                    <a class="indexterm" name="idm140286843057424"></a>

                    <a class="link" href="functions.html#function_max"><code class="literal">MAX([DISTINCT]
                        <em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">最大值（[非重复]表达式）</p><p>
                    Returns the maximum value of
                    <em class="replaceable"><code>expr</code></em>.
                    <a class="link" href="functions.html#function_max"><code class="literal">MAX()</code></a> may take a string
                    argument; in such cases, it returns the maximum string
                    value. See <a class="xref" href="optimization.html#mysql-indexes" title="8.3.1&nbsp;How MySQL Uses Indexes">Section&nbsp;8.3.1, “How MySQL Uses Indexes”</a>. The
                    <code class="literal">DISTINCT</code> keyword can be used to find the
                    maximum of the distinct values of
                    <em class="replaceable"><code>expr</code></em>, however, this produces the
                    same result as omitting <code class="literal">DISTINCT</code>.
                </p><p style="color:blue;">返回EXPR的最大值。Max（）可以采用字符串参数；在这种情况下，它返回最大字符串值。参见8.3.1节，“MySQL如何使用索引”。不同的关键字可以用来寻找最大值的不同的值，但是，这将产生相同的结果，省略不同。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_max"><code class="literal">MAX()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，max（）返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name, MIN(test_score), MAX(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
                    For <a class="link" href="functions.html#function_max"><code class="literal">MAX()</code></a>, MySQL currently
                    compares <a class="link" href="data-types.html#enum" title="11.4.4&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> and
                    <a class="link" href="data-types.html#set" title="11.4.5&nbsp;The SET Type"><code class="literal">SET</code></a> columns by their string
                    value rather than by the string's relative position in the
                    set. This differs from how <code class="literal">ORDER BY</code>
                    compares them.
                </p><p style="color:blue;">对于max（），mysql当前比较枚举列和集合列时使用的是它们的字符串值，而不是字符串在集合中的相对位置。这与order by比较它们的方式不同。</p></li><li class="listitem"><a name="function_min"></a><p>
                    <a class="indexterm" name="idm140286843033792"></a>

                    <a class="indexterm" name="idm140286843032720"></a>

                    <a class="indexterm" name="idm140286843031648"></a>

                    <a class="link" href="functions.html#function_min"><code class="literal">MIN([DISTINCT]
                        <em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">最小值（[非重复]表达式）</p><p>
                    Returns the minimum value of
                    <em class="replaceable"><code>expr</code></em>.
                    <a class="link" href="functions.html#function_min"><code class="literal">MIN()</code></a> may take a string
                    argument; in such cases, it returns the minimum string
                    value. See <a class="xref" href="optimization.html#mysql-indexes" title="8.3.1&nbsp;How MySQL Uses Indexes">Section&nbsp;8.3.1, “How MySQL Uses Indexes”</a>. The
                    <code class="literal">DISTINCT</code> keyword can be used to find the
                    minimum of the distinct values of
                    <em class="replaceable"><code>expr</code></em>, however, this produces the
                    same result as omitting <code class="literal">DISTINCT</code>.
                </p><p style="color:blue;">返回expr的最小值。min（）可以采用字符串参数；在这种情况下，它返回最小字符串值。参见8.3.1节，“MySQL如何使用索引”。distinct关键字可用于查找expr的distinct值的最小值，但是，这会产生与省略distinct相同的结果。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_min"><code class="literal">MIN()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，min（）返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT student_name, MIN(test_score), MAX(test_score)</code></strong>
       <strong class="userinput"><code>FROM student</code></strong>
       <strong class="userinput"><code>GROUP BY student_name;</code></strong>
</pre><p>
                    For <a class="link" href="functions.html#function_min"><code class="literal">MIN()</code></a>, MySQL currently
                    compares <a class="link" href="data-types.html#enum" title="11.4.4&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> and
                    <a class="link" href="data-types.html#set" title="11.4.5&nbsp;The SET Type"><code class="literal">SET</code></a> columns by their string
                    value rather than by the string's relative position in the
                    set. This differs from how <code class="literal">ORDER BY</code>
                    compares them.
                </p><p style="color:blue;">对于min（），mysql当前按其字符串值而不是字符串在集合中的相对位置比较枚举列和集合列。这与order by比较它们的方式不同。</p></li><li class="listitem"><a name="function_std"></a><p>
                    <a class="indexterm" name="idm140286843008016"></a>

                    <a class="link" href="functions.html#function_std"><code class="literal">STD(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">标准（出口）</p><p>
                    Returns the population standard deviation of
                    <em class="replaceable"><code>expr</code></em>.
                    <a class="link" href="functions.html#function_std"><code class="literal">STD()</code></a> is a synonym for the
                    standard SQL function
                    <a class="link" href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a>, provided as a
                    MySQL extension.
                </p><p style="color:blue;">返回表达式的填充标准偏差。std（）是标准sql函数stddev_pop（）的同义词，作为mysql扩展提供。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_std"><code class="literal">STD()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，std（）将返回null。</p></li><li class="listitem"><a name="function_stddev"></a><p>
                    <a class="indexterm" name="idm140286842994640"></a>

                    <a class="indexterm" name="idm140286842993568"></a>

                    <a class="indexterm" name="idm140286842992496"></a>

                    <a class="link" href="functions.html#function_stddev"><code class="literal">STDDEV(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">stddev（扩展）</p><p>
                    Returns the population standard deviation of
                    <em class="replaceable"><code>expr</code></em>.
                    <a class="link" href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a> is a synonym for the
                    standard SQL function
                    <a class="link" href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a>, provided for
                    compatibility with Oracle.
                </p><p style="color:blue;">返回表达式的填充标准偏差。stddev（）是为与Oracle兼容而提供的标准SQL函数stddev_pop（）的同义词。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，stddev（）将返回空值。</p></li><li class="listitem"><a name="function_stddev-pop"></a><p>
                    <a class="indexterm" name="idm140286842979392"></a>

                    <a class="link" href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">机顶盒（expr）</p><p>
                    Returns the population standard deviation of
                    <em class="replaceable"><code>expr</code></em> (the square root of
                    <a class="link" href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a>). You can also use
                    <a class="link" href="functions.html#function_std"><code class="literal">STD()</code></a> or
                    <a class="link" href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a>, which are
                    equivalent but not standard SQL.
                </p><p style="color:blue;">返回expr的总体标准偏差（var_pop（）的平方根）。也可以使用std（）或stddev（），这是等效的，但不是标准的sql。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，stddev_pop（）将返回空值。</p></li><li class="listitem"><a name="function_stddev-samp"></a><p>
                    <a class="indexterm" name="idm140286842965488"></a>

                    <a class="link" href="functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">stddev_samp（扩展）</p><p>
                    Returns the sample standard deviation of
                    <em class="replaceable"><code>expr</code></em> (the square root of
                    <a class="link" href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a>.
                </p><p style="color:blue;">返回expr的样本标准偏差（var_samp（）的平方根）。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，stddev_samp（）将返回空值。</p></li><li class="listitem"><a name="function_sum"></a><p>
                    <a class="indexterm" name="idm140286842953440"></a>

                    <a class="indexterm" name="idm140286842952368"></a>

                    <a class="indexterm" name="idm140286842951296"></a>

                    <a class="link" href="functions.html#function_sum"><code class="literal">SUM([DISTINCT]
                        <em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">和（[非重复]表达式）</p><p>
                    Returns the sum of <em class="replaceable"><code>expr</code></em>. If the
                    return set has no rows, <a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a>
                    returns <code class="literal">NULL</code>. The
                    <code class="literal">DISTINCT</code> keyword can be used to sum only
                    the distinct values of <em class="replaceable"><code>expr</code></em>.
                </p><p style="color:blue;">返回表达式的和。如果返回集没有行，sum（）将返回空值。distinct关键字只能用于对expr的distinct值求和。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，sum（）将返回null。</p></li><li class="listitem"><a name="function_var-pop"></a><p>
                    <a class="indexterm" name="idm140286842937568"></a>

                    <a class="link" href="functions.html#function_var-pop"><code class="literal">VAR_POP(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">波普变量（expr）</p><p>
                    Returns the population standard variance of
                    <em class="replaceable"><code>expr</code></em>. It considers rows as the
                    whole population, not as a sample, so it has the number of
                    rows as the denominator. You can also use
                    <a class="link" href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a>, which is
                    equivalent but is not standard SQL.
                </p><p style="color:blue;">返回表达式的总体标准方差。它将行视为整个总体，而不是样本，因此它将行数作为分母。您还可以使用variance（），它是等效的，但不是标准的sql。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，var_pop（）将返回null。</p></li><li class="listitem"><a name="function_var-samp"></a><p>
                    <a class="indexterm" name="idm140286842926016"></a>

                    <a class="link" href="functions.html#function_var-samp"><code class="literal">VAR_SAMP(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">Var_Samp（出口）</p><p>
                    Returns the sample variance of
                    <em class="replaceable"><code>expr</code></em>. That is, the denominator is
                    the number of rows minus one.
                </p><p style="color:blue;">返回表达式的样本方差。也就是说，分母是行数减去1。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，var_samp（）将返回null。</p></li><li class="listitem"><a name="function_variance"></a><p>
                    <a class="indexterm" name="idm140286842915888"></a>

                    <a class="link" href="functions.html#function_variance"><code class="literal">VARIANCE(<em class="replaceable"><code>expr</code></em>)</code></a>
                </p><p style="color:blue;">方差（expr）</p><p>
                    Returns the population standard variance of
                    <em class="replaceable"><code>expr</code></em>.
                    <a class="link" href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> is a synonym for
                    the standard SQL function
                    <a class="link" href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a>, provided as a
                    MySQL extension.
                </p><p style="color:blue;">返回表达式的总体标准方差。variance（）是标准sql函数var_pop（）的同义词，作为mysql扩展提供。</p><p>
                    If there are no matching rows,
                    <a class="link" href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> returns
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">如果没有匹配的行，variance（）将返回null。</p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="group-by-modifiers"></a>12.20.2&nbsp;GROUP BY Modifiers</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286842904144"></a><a class="indexterm" name="idm140286842903072"></a><a class="indexterm" name="idm140286842902000"></a><a class="indexterm" name="idm140286842900928"></a><p>
            The <code class="literal">GROUP BY</code> clause permits a <code class="literal">WITH
            ROLLUP</code> modifier that causes summary output to include
            extra rows that represent higher-level (that is,
            super-aggregate) summary operations. <code class="literal">ROLLUP</code>
            thus enables you to answer questions at multiple levels of
            analysis with a single query. For example,
            <code class="literal">ROLLUP</code> can be used to provide support for
            OLAP (Online Analytical Processing) operations.
        </p><p style="color:blue;">GROUPBY子句允许WITH ROLLUP修饰符，该修饰符使摘要输出包含表示更高级别（即超级聚合）摘要操作的额外行。因此，rollup允许您用一个查询在多个分析级别上回答问题。例如，rollup可用于支持olap（联机分析处理）操作。</p><p>
            Suppose that a <code class="literal">sales</code> table has
            <code class="literal">year</code>, <code class="literal">country</code>,
            <code class="literal">product</code>, and <code class="literal">profit</code>
            columns for recording sales profitability:
        </p><p style="color:blue;">假设Sales表有Year、Country、Product和Profit列，用于记录销售利润率：</p><pre data-lang="sql" class="programlisting">CREATE TABLE sales
(
    year    INT,
    country VARCHAR(20),
    product VARCHAR(32),
    profit  INT
);
</pre><p>
            To summarize table contents per year, use a simple
            <code class="literal">GROUP BY</code> like this:
        </p><p style="color:blue;">若要每年汇总表内容，请使用如下简单的分组方式：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT year, SUM(profit) AS profit</code></strong>
       <strong class="userinput"><code>FROM sales</code></strong>
       <strong class="userinput"><code>GROUP BY year;</code></strong>
+------+--------+
| year | profit |
+------+--------+
| 2000 |   4525 |
| 2001 |   3010 |
+------+--------+
</pre><p>
            The output shows the total (aggregate) profit for each year. To
            also determine the total profit summed over all years, you must
            add up the individual values yourself or run an additional
            query. Or you can use <code class="literal">ROLLUP</code>, which provides
            both levels of analysis with a single query. Adding a
            <code class="literal">WITH ROLLUP</code> modifier to the <code class="literal">GROUP
            BY</code> clause causes the query to produce another
            (super-aggregate) row that shows the grand total over all year
            values:
        </p><p style="color:blue;">产出显示了每年的总（总）利润。要同时确定所有年份的总利润，您必须自己将各个值相加或运行一个附加查询。或者可以使用rollup，它用一个查询提供两个级别的分析。向GROUP BY子句添加WITH ROLLUP修饰符将导致查询生成另一行（超级聚合）行，该行显示全年总计值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT year, SUM(profit) AS profit</code></strong>
       <strong class="userinput"><code>FROM sales</code></strong>
       <strong class="userinput"><code>GROUP BY year WITH ROLLUP;</code></strong>
+------+--------+
| year | profit |
+------+--------+
| 2000 |   4525 |
| 2001 |   3010 |
| NULL |   7535 |
+------+--------+
</pre><p>
            The <code class="literal">NULL</code> value in the <code class="literal">year</code>
            column identifies the grand total super-aggregate line.
        </p><p style="color:blue;">年份列中的空值标识总计超级聚合行。</p><p>
            <code class="literal">ROLLUP</code> has a more complex effect when there
            are multiple <code class="literal">GROUP BY</code> columns. In this case,
            each time there is a change in value in any but the last
            grouping column, the query produces an extra super-aggregate
            summary row.
        </p><p style="color:blue;">当存在多个按列分组时，汇总的效果更为复杂。在这种情况下，每次除了最后一个分组列之外的任何一个分组列中的值发生更改时，查询都会生成一个额外的超级聚合摘要行。</p><p>
            For example, without <code class="literal">ROLLUP</code>, a summary of the
            <code class="literal">sales</code> table based on <code class="literal">year</code>,
            <code class="literal">country</code>, and <code class="literal">product</code> might
            look like this, where the output indicates summary values only
            at the year/country/product level of analysis:
        </p><p style="color:blue;">例如，如果不使用汇总，则基于年份、国家/地区和产品的销售表摘要可能如下所示，其中输出仅指示分析的年份/国家/产品级别的摘要值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT year, country, product, SUM(profit) AS profit</code></strong>
       <strong class="userinput"><code>FROM sales</code></strong>
       <strong class="userinput"><code>GROUP BY year, country, product;</code></strong>
+------+---------+------------+--------+
| year | country | product    | profit |
+------+---------+------------+--------+
| 2000 | Finland | Computer   |   1500 |
| 2000 | Finland | Phone      |    100 |
| 2000 | India   | Calculator |    150 |
| 2000 | India   | Computer   |   1200 |
| 2000 | USA     | Calculator |     75 |
| 2000 | USA     | Computer   |   1500 |
| 2001 | Finland | Phone      |     10 |
| 2001 | USA     | Calculator |     50 |
| 2001 | USA     | Computer   |   2700 |
| 2001 | USA     | TV         |    250 |
+------+---------+------------+--------+
</pre><p>
            With <code class="literal">ROLLUP</code> added, the query produces several
            extra rows:
        </p><p style="color:blue;">添加汇总后，查询将生成多个额外行：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT year, country, product, SUM(profit) AS profit</code></strong>
       <strong class="userinput"><code>FROM sales</code></strong>
       <strong class="userinput"><code>GROUP BY year, country, product WITH ROLLUP;</code></strong>
+------+---------+------------+--------+
| year | country | product    | profit |
+------+---------+------------+--------+
| 2000 | Finland | Computer   |   1500 |
| 2000 | Finland | Phone      |    100 |
| 2000 | Finland | NULL       |   1600 |
| 2000 | India   | Calculator |    150 |
| 2000 | India   | Computer   |   1200 |
| 2000 | India   | NULL       |   1350 |
| 2000 | USA     | Calculator |     75 |
| 2000 | USA     | Computer   |   1500 |
| 2000 | USA     | NULL       |   1575 |
| 2000 | NULL    | NULL       |   4525 |
| 2001 | Finland | Phone      |     10 |
| 2001 | Finland | NULL       |     10 |
| 2001 | USA     | Calculator |     50 |
| 2001 | USA     | Computer   |   2700 |
| 2001 | USA     | TV         |    250 |
| 2001 | USA     | NULL       |   3000 |
| 2001 | NULL    | NULL       |   3010 |
| NULL | NULL    | NULL       |   7535 |
+------+---------+------------+--------+
</pre><p>
            Now the output includes summary information at four levels of
            analysis, not just one:
        </p><p style="color:blue;">现在，输出包括四个分析级别的摘要信息，而不仅仅是一个：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Following each set of product rows for a given year and
                    country, an extra super-aggregate summary row appears
                    showing the total for all products. These rows have the
                    <code class="literal">product</code> column set to
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">在给定年份和国家/地区的每组产品行之后，将显示一个额外的超级聚合摘要行，显示所有产品的合计。这些行的产品列设置为空。</p></li><li class="listitem"><p>
                    Following each set of rows for a given year, an extra
                    super-aggregate summary row appears showing the total for
                    all countries and products. These rows have the
                    <code class="literal">country</code> and <code class="literal">products</code>
                    columns set to <code class="literal">NULL</code>.
                </p><p style="color:blue;">在给定年份的每组行之后，将显示一个额外的超级聚合摘要行，显示所有国家和产品的总计。这些行的country和products列设置为空。</p></li><li class="listitem"><p>
                    Finally, following all other rows, an extra super-aggregate
                    summary row appears showing the grand total for all years,
                    countries, and products. This row has the
                    <code class="literal">year</code>, <code class="literal">country</code>, and
                    <code class="literal">products</code> columns set to
                    <code class="literal">NULL</code>.
                </p><p style="color:blue;">最后，在所有其他行之后，会出现一个额外的超级聚合摘要行，显示所有年份、国家和产品的总计。此行的“年份”、“国家”和“产品”列设置为空。</p></li></ul>
            </div>
            <p>
                The <code class="literal">NULL</code> indicators in each super-aggregate
                row are produced when the row is sent to the client. The server
                looks at the columns named in the <code class="literal">GROUP BY</code>
                clause following the leftmost one that has changed value. For
                any column in the result set with a name that matches any of
                those names, its value is set to <code class="literal">NULL</code>. (If
                you specify grouping columns by column position, the server
                identifies which columns to set to <code class="literal">NULL</code> by
                position.)
            </p><p style="color:blue;">当行发送到客户端时，将生成每个超级聚合行中的空指示符。服务器查看GROUPBY子句中名为的列，该列紧跟在已更改值的最左边的列之后。对于结果集中名称与这些名称匹配的任何列，其值设置为空。（如果指定按列位置对列进行分组，服务器将标识要按位置设置为空的列。）</p><p>
            Because the <code class="literal">NULL</code> values in the
            super-aggregate rows are placed into the result set at such a
            late stage in query processing, you can test them as
            <code class="literal">NULL</code> values only in the select list or
            <code class="literal">HAVING</code> clause. You cannot test them as
            <code class="literal">NULL</code> values in join conditions or the
            <code class="literal">WHERE</code> clause to determine which rows to
            select. For example, you cannot add <code class="literal">WHERE product IS
            NULL</code> to the query to eliminate from the output all but
            the super-aggregate rows.
        </p><p style="color:blue;">由于超级聚合行中的空值是在查询处理的后期阶段放入结果集中的，因此只能在select列表或having子句中将它们作为空值进行测试。不能在联接条件或where子句中将它们作为空值进行测试，以确定要选择哪些行。例如，不能在查询中添加where product为空以从输出中除去除超级聚合行以外的所有行。</p><p>
            The <code class="literal">NULL</code> values do appear as
            <code class="literal">NULL</code> on the client side and can be tested as
            such using any MySQL client programming interface. However, at
            this point, you cannot distinguish whether a
            <code class="literal">NULL</code> represents a regular grouped value or a
            super-aggregate value. In MySQL 8.0, you can use the
            <a class="ulink" href="https://dev.mysql.com/doc/refman/8.0/en/miscellaneous-functions.html#function_grouping" target="_top"><code class="literal">GROUPING()</code></a> function to test the
            distinction.
        </p><p style="color:blue;">空值在客户端确实显示为空，因此可以使用任何mysql客户端编程接口进行测试。但是，此时，您无法区分null代表常规分组值还是超级聚合值。在mysql 8.0中，可以使用grouping（）函数来测试区别。</p>
            <div class="simplesect">

                <div class="titlepage">
                    <div>

                        <div class="simple">
                            <h4 class="title"><a name="group-by-modifiers-other-considerations-when-using-rollup"></a>Other Considerations When using ROLLUP</h4>
                        </div>
                    </div>
                </div>
                <p>
                    The following discussion lists some behaviors specific to the
                    MySQL implementation of <code class="literal">ROLLUP</code>.
                </p><p style="color:blue;">下面的讨论列出了一些特定于rollup的mysql实现的行为。</p><p>
                When you use <code class="literal">ROLLUP</code>, you cannot also use an
                <code class="literal">ORDER BY</code> clause to sort the results. In
                other words, <code class="literal">ROLLUP</code> and <code class="literal">ORDER
                BY</code> are mutually exclusive in MySQL. However, you
                still have some control over sort order. To work around the
                restriction that prevents using <code class="literal">ROLLUP</code> with
                <code class="literal">ORDER BY</code> and achieve a specific sort order
                of grouped results, generate the grouped result set as a
                derived table and apply <code class="literal">ORDER BY</code> to it. For
                example:
            </p><p style="color:blue;">使用ROLLUP时，也不能使用ORDER BY子句对结果进行排序。换句话说，在mysql中，rollup和order by是互斥的。但是，您仍然可以控制排序顺序。若要解决阻止使用ROLLUP WITH ORDER BY并实现分组结果的特定排序顺序的限制，请将分组结果集生成为派生表并对其应用ORDER BY。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM</code></strong>
         <strong class="userinput"><code>(SELECT year, SUM(profit) AS profit</code></strong>
         <strong class="userinput"><code>FROM sales GROUP BY year WITH ROLLUP) AS dt</code></strong>
       <strong class="userinput"><code>ORDER BY year DESC;</code></strong>
+------+--------+
| year | profit |
+------+--------+
| 2001 |   3010 |
| 2000 |   4525 |
| NULL |   7535 |
+------+--------+
</pre><p>
                In this case, the super-aggregate summary rows sort with the
                rows from which they are calculated, and their placement
                depends on sort order (at the beginning for ascending sort, at
                the end for descending sort).
            </p><p style="color:blue;">在这种情况下，超级聚合摘要行根据计算它们的行进行排序，它们的位置取决于排序顺序（在升序排序的开头，在降序排序的结尾）。</p><p>
                <code class="literal">LIMIT</code> can be used to restrict the number of
                rows returned to the client. <code class="literal">LIMIT</code> is
                applied after <code class="literal">ROLLUP</code>, so the limit applies
                against the extra rows added by <code class="literal">ROLLUP</code>. For
                example:
            </p><p style="color:blue;">limit可用于限制返回到客户端的行数。限制是在汇总之后应用的，因此该限制适用于由汇总添加的额外行。例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT year, country, product, SUM(profit) AS profit</code></strong>
       <strong class="userinput"><code>FROM sales</code></strong>
       <strong class="userinput"><code>GROUP BY year, country, product WITH ROLLUP</code></strong>
       <strong class="userinput"><code>LIMIT 5;</code></strong>
+------+---------+------------+--------+
| year | country | product    | profit |
+------+---------+------------+--------+
| 2000 | Finland | Computer   |   1500 |
| 2000 | Finland | Phone      |    100 |
| 2000 | Finland | NULL       |   1600 |
| 2000 | India   | Calculator |    150 |
| 2000 | India   | Computer   |   1200 |
+------+---------+------------+--------+
</pre><p>
                Using <code class="literal">LIMIT</code> with <code class="literal">ROLLUP</code>
                may produce results that are more difficult to interpret,
                because there is less context for understanding the
                super-aggregate rows.
            </p><p style="color:blue;">对rollup使用limit可能会产生更难解释的结果，因为理解超级聚合行的上下文较少。</p><p>
                A MySQL extension permits a column that does not appear in the
                <code class="literal">GROUP BY</code> list to be named in the select
                list. (For information about nonaggregated columns and
                <code class="literal">GROUP BY</code>, see
                <a class="xref" href="functions.html#group-by-handling" title="12.20.3&nbsp;MySQL Handling of GROUP BY">Section&nbsp;12.20.3, “MySQL Handling of GROUP BY”</a>.) In this case, the server
                is free to choose any value from this nonaggregated column in
                summary rows, and this includes the extra rows added by
                <code class="literal">WITH ROLLUP</code>. For example, in the following
                query, <code class="literal">country</code> is a nonaggregated column
                that does not appear in the <code class="literal">GROUP BY</code> list
                and values chosen for this column are nondeterministic:
            </p><p style="color:blue;">mysql扩展允许在select列表中命名未出现在group by列表中的列。（有关未聚合列和分组依据的信息，请参阅12.20.3节“MySQL对分组依据的处理”。）在这种情况下，服务器可以自由选择摘要行中此未聚合列的任何值，这包括使用ROLLUP添加的额外行。例如，在以下查询中，country是一个未聚合的列，它不显示在group by列表中，为此列选择的值是不确定的：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT year, country, SUM(profit) AS profit</code></strong>
       <strong class="userinput"><code>FROM sales</code></strong>
       <strong class="userinput"><code>GROUP BY year WITH ROLLUP;</code></strong>
+------+---------+--------+
| year | country | profit |
+------+---------+--------+
| 2000 | India   |   4525 |
| 2001 | USA     |   3010 |
| NULL | USA     |   7535 |
+------+---------+--------+
</pre><p>
                This behavior is permitted when the
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode
                is not enabled. If that mode is enabled, the server rejects
                the query as illegal because <code class="literal">country</code> is not
                listed in the <code class="literal">GROUP BY</code> clause. With
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled,
                you can still execute the query by using the
                <code class="literal">ANY_VALUE()</code> function for
                nondeterministic-value columns:
            </p><p style="color:blue;">如果未启用“按SQL计算的唯一完整组”模式，则允许此行为。如果启用了该模式，服务器会将查询拒绝为非法查询，因为GROUPBY子句中没有列出COUNTRY。如果仅启用了“完整”组，则仍然可以对不确定的值列使用any_value（）函数来执行查询：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT year, ANY_VALUE(country) AS country, SUM(profit) AS profit</code></strong>
       <strong class="userinput"><code>FROM sales</code></strong>
       <strong class="userinput"><code>GROUP BY year WITH ROLLUP;</code></strong>
+------+---------+--------+
| year | country | profit |
+------+---------+--------+
| 2000 | India   |   4525 |
| 2001 | USA     |   3010 |
| NULL | USA     |   7535 |
+------+---------+--------+
</pre>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="group-by-handling"></a>12.20.3&nbsp;MySQL Handling of GROUP BY</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286842797776"></a><a class="indexterm" name="idm140286842796736"></a><a class="indexterm" name="idm140286842795232"></a><a class="indexterm" name="idm140286842793744"></a><p>
            SQL-92 and earlier does not permit queries for which the select
            list, <code class="literal">HAVING</code> condition, or <code class="literal">ORDER
            BY</code> list refer to nonaggregated columns that are not
            named in the <code class="literal">GROUP BY</code> clause. For example,
            this query is illegal in standard SQL-92 because the
            nonaggregated <code class="literal">name</code> column in the select list
            does not appear in the <code class="literal">GROUP BY</code>:
        </p><p style="color:blue;">SQL-92及更早版本不允许select列表、having condition或order by列表引用未在GROUP BY子句中命名的未聚合列的查询。例如，此查询在标准SQL-92中是非法的，因为“选择”列表中的“未聚合名称”列不会出现在“分组依据”中：</p><pre data-lang="sql" class="programlisting">SELECT o.custid, c.name, MAX(o.payment)
  FROM orders AS o, customers AS c
  WHERE o.custid = c.custid
  GROUP BY o.custid;
</pre><p>
            For the query to be legal in SQL-92, the <code class="literal">name</code>
            column must be omitted from the select list or named in the
            <code class="literal">GROUP BY</code> clause.
        </p><p style="color:blue;">要使查询在sql-92中合法，必须从select列表中省略name列或在group by子句中命名。</p><p>
            SQL:1999 and later permits such nonaggregates per optional
            feature T301 if they are functionally dependent on
            <code class="literal">GROUP BY</code> columns: If such a relationship
            exists between <code class="literal">name</code> and
            <code class="literal">custid</code>, the query is legal. This would be the
            case, for example, were <code class="literal">custid</code> a primary key
            of <code class="literal">customers</code>.
        </p><p style="color:blue;">SQL：1999和以后允许每个可选特征T301的这种非聚集，如果它们在功能上依赖于逐列：如果在名称和CUTITD之间存在这样的关系，查询是合法的。例如，如果custid是客户的主键，就会出现这种情况。</p><p>
            MySQL 5.7.5 and up implements detection of functional
            dependence. If the
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode is
            enabled (which it is by default), MySQL rejects queries for
            which the select list, <code class="literal">HAVING</code> condition, or
            <code class="literal">ORDER BY</code> list refer to nonaggregated columns
            that are neither named in the <code class="literal">GROUP BY</code> clause
            nor are functionally dependent on them. (Before 5.7.5, MySQL
            does not detect functional dependency and
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is not
            enabled by default. For a description of pre-5.7.5 behavior, see
            the <a class="ulink" href="https://dev.mysql.com/doc/refman/5.6/en/sql-mode.html" target="_top">MySQL 5.6 Reference
            Manual</a>.)
        </p><p style="color:blue;">mysql 5.7.5及以上版本实现了功能依赖性的检测。如果启用了only_full_group_by sql模式（默认情况下为该模式），mysql将拒绝select list、having condition或order by list引用未聚合列的查询，这些列既不在groupby子句中命名，也不在功能上依赖于这些列。（在5.7.5之前，mysql不检测函数依赖关系，默认情况下只启用完整组。有关pre-5.7.5行为的描述，请参阅mysql 5.6参考手册。）</p><p>
            If <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            disabled, a MySQL extension to the standard SQL use of
            <code class="literal">GROUP BY</code> permits the select list,
            <code class="literal">HAVING</code> condition, or <code class="literal">ORDER
            BY</code> list to refer to nonaggregated columns even if the
            columns are not functionally dependent on <code class="literal">GROUP
            BY</code> columns. This causes MySQL to accept the preceding
            query. In this case, the server is free to choose any value from
            each group, so unless they are the same, the values chosen are
            nondeterministic, which is probably not what you want.
            Furthermore, the selection of values from each group cannot be
            influenced by adding an <code class="literal">ORDER BY</code> clause.
            Result set sorting occurs after values have been chosen, and
            <code class="literal">ORDER BY</code> does not affect which value within
            each group the server chooses. Disabling
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is useful
            primarily when you know that, due to some property of the data,
            all values in each nonaggregated column not named in the
            <code class="literal">GROUP BY</code> are the same for each group.
        </p><p style="color:blue;">如果仅禁用“full_group_by”，则标准sql使用“group by”的mysql扩展允许select list、having condition或order by list引用未聚合的列，即使这些列在功能上不依赖于“group by columns”。这导致mysql接受前面的查询。在这种情况下，服务器可以自由地从每个组中选择任何值，因此除非它们相同，否则选择的值是不确定的，这可能不是您想要的。此外，不能通过添加ORDERBY子句来影响从每个组中选择值。结果集排序发生在选择值之后，排序方式不影响服务器选择的每个组中的哪个值。如果您知道由于数据的某些属性，对于每个组，每个未在group by中命名的未聚合列中的所有值都是相同的，则禁用only_full_group_by非常有用。</p><p>
            You can achieve the same effect without disabling
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> by using
            <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> to refer to the
            nonaggregated column.
        </p><p style="color:blue;">通过使用any_value（）来引用未聚合的列，您可以在不禁用仅_full_group_的情况下实现相同的效果。</p><p>
            The following discussion demonstrates functional dependence, the
            error message MySQL produces when functional dependence is
            absent, and ways of causing MySQL to accept a query in the
            absence of functional dependence.
        </p><p style="color:blue;">下面的讨论演示了函数依赖性、MySQL在不存在函数依赖性时生成的错误消息以及在不存在函数依赖性的情况下使MySQL接受查询的方法。</p><p>
            This query might be invalid with
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled
            because the nonaggregated <code class="literal">address</code> column in
            the select list is not named in the <code class="literal">GROUP BY</code>
            clause:
        </p><p style="color:blue;">此查询可能无效，只启用了“完整”GROUP BY，因为GROUP BY子句中未命名选择列表中的“未聚合地址”列：</p><pre data-lang="sql" class="programlisting">SELECT name, address, MAX(age) FROM t GROUP BY name;
</pre><p>
            The query is valid if <code class="literal">name</code> is a primary key
            of <code class="literal">t</code> or is a unique <code class="literal">NOT
            NULL</code> column. In such cases, MySQL recognizes that the
            selected column is functionally dependent on a grouping column.
            For example, if <code class="literal">name</code> is a primary key, its
            value determines the value of <code class="literal">address</code> because
            each group has only one value of the primary key and thus only
            one row. As a result, there is no randomness in the choice of
            <code class="literal">address</code> value in a group and no need to
            reject the query.
        </p><p style="color:blue;">如果名称是t的主键或是唯一的非空列，则查询有效。在这种情况下，mysql会认识到所选列在功能上依赖于分组列。例如，如果name是主键，则其值决定address的值，因为每个组只有主键的一个值，因此只有一行。因此，组中地址值的选择没有随机性，也不需要拒绝查询。</p><p>
            The query is invalid if <code class="literal">name</code> is not a primary
            key of <code class="literal">t</code> or a unique <code class="literal">NOT
            NULL</code> column. In this case, no functional dependency
            can be inferred and an error occurs:
        </p><p style="color:blue;">如果名称不是t的主键或唯一的非空列，则查询无效。在这种情况下，无法推断任何函数依赖关系，并发生错误：</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT name, address, MAX(age) FROM t GROUP BY name;</code></strong>
ERROR 1055 (42000): Expression #2 of SELECT list is not in GROUP
BY clause and contains nonaggregated column 'mydb.t.address' which
is not functionally dependent on columns in GROUP BY clause; this
is incompatible with sql_mode=only_full_group_by
</pre><p>
            If you know that, <span class="emphasis"><em>for a given data set,</em></span>
            each <code class="literal">name</code> value in fact uniquely determines
            the <code class="literal">address</code> value, <code class="literal">address</code>
            is effectively functionally dependent on
            <code class="literal">name</code>. To tell MySQL to accept the query, you
            can use the <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> function:
        </p><p style="color:blue;">如果您知道，对于给定的数据集，每个名称值实际上唯一地确定地址值，那么地址实际上在功能上依赖于名称。要让mysql接受查询，可以使用any_value（）函数：</p><pre data-lang="sql" class="programlisting">SELECT name, ANY_VALUE(address), MAX(age) FROM t GROUP BY name;
</pre><p>
            Alternatively, disable
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>.
        </p><p style="color:blue;">或者，仅禁用“完整”组。</p><p>
            The preceding example is quite simple, however. In particular,
            it is unlikely you would group on a single primary key column
            because every group would contain only one row. For addtional
            examples demonstrating functional dependence in more complex
            queries, see <a class="xref" href="functions.html#group-by-functional-dependence" title="12.20.4&nbsp;Detection of Functional Dependence">Section&nbsp;12.20.4, “Detection of Functional Dependence”</a>.
        </p><p style="color:blue;">然而，前面的例子非常简单。特别是，您不太可能在一个主键列上分组，因为每个组只包含一行。有关在更复杂查询中演示功能依赖性的其他示例，请参见第12.20.4节“功能依赖性的检测”。</p><p>
            If a query has aggregate functions and no <code class="literal">GROUP
            BY</code> clause, it cannot have nonaggregated columns in the
            select list, <code class="literal">HAVING</code> condition, or
            <code class="literal">ORDER BY</code> list with
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled:
        </p><p style="color:blue;">如果查询具有聚合函数且没有GROUP BY子句，则不能在“选择”列表中包含未聚合的列，也不能在“条件”或“顺序”列表中仅启用“完整”GROUP BY：</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT name, MAX(age) FROM t;</code></strong>
ERROR 1140 (42000): In aggregated query without GROUP BY, expression
#1 of SELECT list contains nonaggregated column 'mydb.t.name'; this
is incompatible with sql_mode=only_full_group_by
</pre><p>
            Without <code class="literal">GROUP BY</code>, there is a single group and
            it is nondeterministic which <code class="literal">name</code> value to
            choose for the group. Here, too,
            <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> can be used, if it is
            immaterial which <code class="literal">name</code> value MySQL chooses:
        </p><p style="color:blue;">如果没有group by，则只有一个组，并且为该组选择哪个名称值是不确定的。在这里，如果mysql选择的名称值不重要，也可以使用任何_value（）：</p><pre data-lang="sql" class="programlisting">SELECT ANY_VALUE(name), MAX(age) FROM t;
</pre><p>
            In MySQL 5.7.5 and higher, <code class="literal">ONLY_FULL_GROUP_BY</code>
            also affects handling of queries that use
            <code class="literal">DISTINCT</code> and <code class="literal">ORDER BY</code>.
            Consider the case of a table <code class="literal">t</code> with three
            columns <code class="literal">c1</code>, <code class="literal">c2</code>, and
            <code class="literal">c3</code> that contains these rows:
        </p><p style="color:blue;">在mysql 5.7.5及更高版本中，只有“full_group_by”也会影响使用distinct和order by的查询的处理。考虑一个表t有三列c1、c2和c3（包含这些行）的情况：</p><pre data-lang="none" class="programlisting">c1 c2 c3
1  2  A
3  4  B
1  2  C
</pre><p>
            Suppose that we execute the following query, expecting the
            results to be ordered by <code class="literal">c3</code>:
        </p><p style="color:blue;">假设我们执行以下查询，期望结果按c3排序：</p><pre data-lang="sql" class="programlisting">SELECT DISTINCT c1, c2 FROM t ORDER BY c3;
</pre><p>
            To order the result, duplicates must be eliminated first. But to
            do so, should we keep the first row or the third? This arbitrary
            choice influences the retained value of <code class="literal">c3</code>,
            which in turn influences ordering and makes it arbitrary as
            well. To prevent this problem, a query that has
            <code class="literal">DISTINCT</code> and <code class="literal">ORDER BY</code> is
            rejected as invalid if any <code class="literal">ORDER BY</code>
            expression does not satisfy at least one of these conditions:
        </p><p style="color:blue;">为了获得结果，必须首先消除重复项。但要这样做，我们应该保留第一排还是第三排？这种任意的选择会影响c3的保留值，而c3的保留值又会影响排序，并使排序变得任意。为了防止此问题，如果任何order by表达式不满足以下条件之一，则具有DISTINCT和ORDER BY的查询将被拒绝为无效：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The expression is equal to one in the select list
                </p><p style="color:blue;">表达式等于“选择”列表中的一个</p></li><li class="listitem"><p>
                    All columns referenced by the expression and belonging to
                    the query's selected tables are elements of the select list
                </p><p style="color:blue;">表达式引用的、属于查询所选表的所有列都是选择列表的元素</p></li></ul>
            </div>
            <p>
                Another MySQL extension to standard SQL permits references in
                the <code class="literal">HAVING</code> clause to aliased expressions in
                the select list. For example, the following query returns
                <code class="literal">name</code> values that occur only once in table
                <code class="literal">orders</code>:
            </p><p style="color:blue;">标准sql的另一个mysql扩展允许having子句中引用select列表中的别名表达式。例如，以下查询返回仅在表顺序中出现一次的名称值：</p><pre data-lang="sql" class="programlisting">SELECT name, COUNT(name) FROM orders
  GROUP BY name
  HAVING COUNT(name) = 1;
</pre><p>
            The MySQL extension permits the use of an alias in the
            <code class="literal">HAVING</code> clause for the aggregated column:
        </p><p style="color:blue;">mysql扩展允许在having子句中为聚合列使用别名：</p><pre data-lang="sql" class="programlisting">SELECT name, COUNT(name) AS c FROM orders
  GROUP BY name
  HAVING c = 1;
</pre>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    Before MySQL 5.7.5, enabling
                    <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> disables
                    this extension, thus requiring the <code class="literal">HAVING</code>
                    clause to be written using unaliased expressions.
                </p><p style="color:blue;">在mysql 5.7.5之前，通过禁用此扩展只启用完整组，因此要求使用非关联表达式编写having子句。</p>
            </div>
            <a class="indexterm" name="idm140286842704720"></a><a class="indexterm" name="idm140286842703232"></a><a class="indexterm" name="idm140286842701744"></a><a class="indexterm" name="idm140286842700672"></a><p>
            Standard SQL permits only column expressions in <code class="literal">GROUP
            BY</code> clauses, so a statement such as this is invalid
            because <code class="literal">FLOOR(value/100)</code> is a noncolumn
            expression:
        </p><p style="color:blue;">标准SQL只允许GROUP BY子句中的列表达式，因此这样的语句无效，因为FLOOR（VALUE/100）是非列表达式：</p><pre data-lang="sql" class="programlisting">SELECT id, FLOOR(value/100)
  FROM <em class="replaceable"><code>tbl_name</code></em>
  GROUP BY id, FLOOR(value/100);
</pre><p>
            MySQL extends standard SQL to permit noncolumn expressions in
            <code class="literal">GROUP BY</code> clauses and considers the preceding
            statement valid.
        </p><p style="color:blue;">mysql扩展了标准sql，允许在group by子句中使用非列表达式，并认为前面的语句有效。</p><p>
            Standard SQL also does not permit aliases in <code class="literal">GROUP
            BY</code> clauses. MySQL extends standard SQL to permit
            aliases, so another way to write the query is as follows:
        </p><p style="color:blue;">标准SQL也不允许在GROUP BY子句中使用别名。mysql扩展了标准sql以允许别名，因此编写查询的另一种方法如下：</p><pre data-lang="sql" class="programlisting">SELECT id, FLOOR(value/100) AS val
  FROM <em class="replaceable"><code>tbl_name</code></em>
  GROUP BY id, val;
</pre><p>
            The alias <code class="literal">val</code> is considered a column
            expression in the <code class="literal">GROUP BY</code> clause.
        </p><p style="color:blue;">别名val在GROUP BY子句中被视为列表达式。</p><p>
            In the presence of a noncolumn expression in the <code class="literal">GROUP
            BY</code> clause, MySQL recognizes equality between that
            expression and expressions in the select list. This means that
            with <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL
            mode enabled, the query containing <code class="literal">GROUP BY id,
            FLOOR(value/100)</code> is valid because that same
            <a class="link" href="functions.html#function_floor"><code class="literal">FLOOR()</code></a> expression occurs in the
            select list. However, MySQL does not try to recognize functional
            dependence on <code class="literal">GROUP BY</code> noncolumn expressions,
            so the following query is invalid with
            <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled,
            even though the third selected expression is a simple formula of
            the <code class="literal">id</code> column and the
            <a class="link" href="functions.html#function_floor"><code class="literal">FLOOR()</code></a> expression in the
            <code class="literal">GROUP BY</code> clause:
        </p><p style="color:blue;">如果GROUPBY子句中存在非列表达式，MySQL将识别该表达式与选择列表中的表达式之间的相等性。这意味着，如果仅启用“按SQL分组”模式，则包含“按ID分组”的查询floor（值/100）是有效的，因为该floor（）表达式出现在“选择”列表中。但是，MySQL不尝试识别对GROUP BY非列表达式的函数依赖性，因此，在启用了“FULL GROUP BY”的情况下，以下查询无效，即使第三个选定表达式是GROUP BY子句中ID列和floor（）表达式的简单公式：</p><pre data-lang="sql" class="programlisting">SELECT id, FLOOR(value/100), id+FLOOR(value/100)
  FROM <em class="replaceable"><code>tbl_name</code></em>
  GROUP BY id, FLOOR(value/100);
</pre><p>
            A workaround is to use a derived table:
        </p><p style="color:blue;">解决方法是使用派生表：</p><pre data-lang="sql" class="programlisting">SELECT id, F, id+F
  FROM
    (SELECT id, FLOOR(value/100) AS F
     FROM <em class="replaceable"><code>tbl_name</code></em>
     GROUP BY id, FLOOR(value/100)) AS dt;
</pre>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="group-by-functional-dependence"></a>12.20.4&nbsp;Detection of Functional Dependence</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286842675936"></a><p>
            The following discussion provides several examples of the ways
            in which MySQL detects functional dependencies. The examples use
            this notation:
        </p><p style="color:blue;">下面的讨论提供了几个mysql检测函数依赖项的方法示例。示例使用以下符号：</p><pre data-lang="sql" class="programlisting">{<em class="replaceable"><code>X</code></em>} -&gt; {<em class="replaceable"><code>Y</code></em>}
</pre><p>
            Understand this as <span class="quote">“<span class="quote"><em class="replaceable"><code>X</code></em> uniquely
        determines <em class="replaceable"><code>Y</code></em>,</span>”</span> which also
            means that <em class="replaceable"><code>Y</code></em> is functionally
            dependent on <em class="replaceable"><code>X</code></em>.
        </p><p style="color:blue;">理解为“x唯一地决定y”，这也意味着y在功能上依赖于x。</p><p>
            The examples use the <code class="literal">world</code> database, which
            can be downloaded from
            <a class="ulink" href="https://dev.mysql.com/doc/index-other.html" target="_top">https://dev.mysql.com/doc/index-other.html</a>. You can find details
            on how to install the database on the same page.
        </p><p style="color:blue;">这些示例使用的是World数据库，可以从https://dev.mysql.com/doc/index-other.html下载。您可以在同一页上找到有关如何安装数据库的详细信息。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="functions.html#functional-dependence-keys" title="Functional Dependencies Derived from Keys">Functional Dependencies Derived from Keys</a></p><p style="color:blue;">从键派生的函数依赖项</p></li><li class="listitem"><p><a class="xref" href="functions.html#functional-dependence-multiple-column-keys" title="Functional Dependencies Derived from Multiple-Column Keys and from Equalities">Functional Dependencies Derived from Multiple-Column Keys and from
                    Equalities</a></p><p style="color:blue;">从多个列键和等式派生的函数依赖项</p></li><li class="listitem"><p><a class="xref" href="functions.html#functional-dependence-special-cases" title="Functional Dependency Special Cases">Functional Dependency Special Cases</a></p><p style="color:blue;">功能依赖特殊情况</p></li><li class="listitem"><p><a class="xref" href="functions.html#functional-dependence-views" title="Functional Dependencies and Views">Functional Dependencies and Views</a></p><p style="color:blue;">功能依赖项和视图</p></li><li class="listitem"><p><a class="xref" href="functions.html#functional-dependence-combinations" title="Combinations of Functional Dependencies">Combinations of Functional Dependencies</a></p><p style="color:blue;">功能依赖的组合</p></li></ul>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="functional-dependence-keys"></a>Functional Dependencies Derived from Keys</h4>

                        </div>

                    </div>

                </div>
                <p>
                    The following query selects, for each country, a count of
                    spoken languages:
                </p><p style="color:blue;">以下查询为每个国家选择一组口语：</p><pre data-lang="sql" class="programlisting">SELECT co.Name, COUNT(*)
FROM countrylanguage cl, country co
WHERE cl.CountryCode = co.Code
GROUP BY co.Code;
</pre><p>
                <code class="literal">co.Code</code> is a primary key of
                <code class="literal">co</code>, so all columns of <code class="literal">co</code>
                are functionally dependent on it, as expressed using this
                notation:
            </p><p style="color:blue;">co.代码是co的主键，因此co的所有列在功能上都依赖于它，如使用以下符号表示的：</p><pre data-lang="sql" class="programlisting">{co.Code} -&gt; {co.*}
</pre><p>
                Thus, <code class="literal">co.name</code> is functionally dependent on
                <code class="literal">GROUP BY</code> columns and the query is valid.
            </p><p style="color:blue;">因此，co.name在功能上依赖于group by columns，并且查询是有效的。</p><p>
                A <code class="literal">UNIQUE</code> index over a <code class="literal">NOT
                NULL</code> column could be used instead of a primary key
                and the same functional dependence would apply. (This is not
                true for a <code class="literal">UNIQUE</code> index that permits
                <code class="literal">NULL</code> values because it permits multiple
                <code class="literal">NULL</code> values and in that case uniqueness is
                lost.)
            </p><p style="color:blue;">可以使用非空列上的唯一索引而不是主键，并应用相同的函数依赖关系。（对于允许空值的唯一索引，这不是真的，因为它允许多个空值，在这种情况下，唯一性将丢失。）</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="functional-dependence-multiple-column-keys"></a>Functional Dependencies Derived from Multiple-Column Keys and from
                                Equalities</h4>
                        </div>
                    </div>
                </div>
                <p>
                    This query selects, for each country, a list of all spoken
                    languages and how many people speak them:
                </p><p style="color:blue;">此查询为每个国家选择一个所有语言的列表，以及有多少人说这些语言：</p><pre data-lang="sql" class="programlisting">SELECT co.Name, cl.Language,
cl.Percentage * co.Population / 100.0 AS SpokenBy
FROM countryLanguage cl, country co
WHERE cl.CountryCode = co.Code
GROUP BY cl.CountryCode, cl.Language;
</pre><p>
                The pair (<code class="literal">cl.CountryCode</code>,
                <code class="literal">cl.Language</code>) is a two-column composite
                primary key of <code class="literal">cl</code>, so that column pair
                uniquely determines all columns of <code class="literal">cl</code>:
            </p><p style="color:blue;">对（cl.countrycode，cl.language）是cl的两列复合主键，因此列对唯一地确定cl的所有列：</p><pre data-lang="sql" class="programlisting">{cl.CountryCode, cl.Language} -&gt; {cl.*}
</pre><p>
                Moreover, because of the equality in the
                <code class="literal">WHERE</code> clause:
            </p><p style="color:blue;">此外，由于where子句中的等式：</p><pre data-lang="sql" class="programlisting">{cl.CountryCode} -&gt; {co.Code}
</pre><p>
                And, because <code class="literal">co.Code</code> is primary key of
                <code class="literal">co</code>:
            </p><p style="color:blue;">而且，因为公司代码是公司的主键：</p><pre data-lang="sql" class="programlisting">{co.Code} -&gt; {co.*}
</pre><p>
                <span class="quote">“<span class="quote">Uniquely determines</span>”</span> relationships are
                transitive, therefore:
            </p><p style="color:blue;">“唯一决定”关系是可传递的，因此：</p><pre data-lang="sql" class="programlisting">{cl.CountryCode, cl.Language} -&gt; {cl.*,co.*}
</pre><p>
                As a result, the query is valid.
            </p><p style="color:blue;">因此，查询是有效的。</p><p>
                As with the previous example, a <code class="literal">UNIQUE</code> key
                over <code class="literal">NOT NULL</code> columns could be used instead
                of a primary key.
            </p><p style="color:blue;">与前面的示例一样，可以使用非空列上的唯一键而不是主键。</p><p>
                An <code class="literal">INNER JOIN</code> condition can be used instead
                of <code class="literal">WHERE</code>. The same functional dependencies
                apply:
            </p><p style="color:blue;">可以使用内部联接条件而不是where。应用相同的功能依赖项：</p><pre data-lang="sql" class="programlisting">SELECT co.Name, cl.Language,
cl.Percentage * co.Population/100.0 AS SpokenBy
FROM countrylanguage cl INNER JOIN country co
ON cl.CountryCode = co.Code
GROUP BY cl.CountryCode, cl.Language;
</pre>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="functional-dependence-special-cases"></a>Functional Dependency Special Cases</h4>

                        </div>

                    </div>

                </div>
                <p>
                    Whereas an equality test in a <code class="literal">WHERE</code>
                    condition or <code class="literal">INNER JOIN</code> condition is
                    symmetric, an equality test in an outer join condition is not,
                    because tables play different roles.
                </p><p style="color:blue;">而where条件或内部联接条件中的等式测试是对称的，而外部联接条件中的等式测试不是，因为表扮演不同的角色。</p><p>
                Assume that referential integrity has been accidentally broken
                and there exists a row of <code class="literal">countrylanguage</code>
                without a corresponding row in <code class="literal">country</code>.
                Consider the same query as in the previous example, but with a
                <code class="literal">LEFT JOIN</code>:
            </p><p style="color:blue;">假设引用完整性被意外地破坏，并且在国家中不存在相应行的国家语言存在一行。考虑与上一个示例中相同的查询，但使用左连接：</p><pre data-lang="sql" class="programlisting">SELECT co.Name, cl.Language,
cl.Percentage * co.Population/100.0 AS SpokenBy
FROM countrylanguage cl LEFT JOIN country co
ON cl.CountryCode = co.Code
GROUP BY cl.CountryCode, cl.Language;
</pre><p>
                For a given value of <code class="literal">cl.CountryCode</code>, the
                value of <code class="literal">co.Code</code> in the join result is
                either found in a matching row (determined by
                <code class="literal">cl.CountryCode</code>) or is
                <code class="literal">NULL</code>-complemented if there is no match
                (also determined by <code class="literal">cl.CountryCode</code>). In
                each case, this relationship applies:
            </p><p style="color:blue;">对于给定的cl.countrycode值，联接结果中co.code的值可以在匹配行中找到（由cl.countrycode确定），如果没有匹配（也由cl.countrycode确定），则该值为空补足。在每种情况下，这种关系都适用于：</p><pre data-lang="sql" class="programlisting">{cl.CountryCode} -&gt; {co.Code}
</pre><p>
                <code class="literal">cl.CountryCode</code> is itself functionally
                dependent on {<code class="literal">cl.CountryCode</code>,
                <code class="literal">cl.Language</code>} which is a primary key.
            </p><p style="color:blue;">countrycode本身在功能上依赖于作为主键的{cl.countrycode，cl.language}。</p><p>
                If in the join result <code class="literal">co.Code</code> is
                <code class="literal">NULL</code>-complemented,
                <code class="literal">co.Name</code> is as well. If
                <code class="literal">co.Code</code> is not
                <code class="literal">NULL</code>-complemented, then because
                <code class="literal">co.Code</code> is a primary key, it determines
                <code class="literal">co.Name</code>. Therefore, in all cases:
            </p><p style="color:blue;">如果在联接结果中co.code是空补码，则co.name也是。如果co.code不是空的补码，那么因为co.code是主键，所以它决定co.name。因此，在所有情况下：</p><pre data-lang="sql" class="programlisting">{co.Code} -&gt; {co.Name}
</pre><p>
                Which yields:
            </p><p style="color:blue;">结果是：</p><pre data-lang="sql" class="programlisting">{cl.CountryCode, cl.Language} -&gt; {cl.*,co.*}
</pre><p>
                As a result, the query is valid.
            </p><p style="color:blue;">因此，查询是有效的。</p><p>
                However, suppose that the tables are swapped, as in this
                query:
            </p><p style="color:blue;">但是，假设这些表是交换的，如下查询所示：</p><pre data-lang="sql" class="programlisting">SELECT co.Name, cl.Language,
cl.Percentage * co.Population/100.0 AS SpokenBy
FROM country co LEFT JOIN countrylanguage cl
ON cl.CountryCode = co.Code
GROUP BY cl.CountryCode, cl.Language;
</pre><p>
                Now this relationship does <span class="emphasis"><em>not</em></span> apply:
            </p><p style="color:blue;">现在这种关系不适用：</p><pre data-lang="sql" class="programlisting">{cl.CountryCode, cl.Language} -&gt; {cl.*,co.*}
</pre><p>
                Indeed, all <code class="literal">NULL</code>-complemented rows made for
                <code class="literal">cl</code> will be put into a single group (they
                have both <code class="literal">GROUP BY</code> columns equal to
                <code class="literal">NULL</code>), and inside this group the value of
                <code class="literal">co.Name</code> can vary. The query is invalid and
                MySQL rejects it.
            </p><p style="color:blue;">实际上，为cl生成的所有空补行都将放在一个组中（它们的group by列都等于空），并且在这个组中，co.name的值可以变化。查询无效，mysql拒绝它。</p><p>
                Functional dependence in outer joins is thus linked to whether
                determinant columns belong to the left or right side of the
                <code class="literal">LEFT JOIN</code>. Determination of functional
                dependence becomes more complex if there are nested outer
                joins or the join condition does not consist entirely of
                equality comparisons.
            </p><p style="color:blue;">因此，外部联接中的函数依赖性与行列式列是属于左联接的左侧还是右侧相关联。如果存在嵌套的外部联接或联接条件不完全由相等比较组成，则函数依赖性的确定将变得更加复杂。</p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="functional-dependence-views"></a>Functional Dependencies and Views</h4>

                        </div>

                    </div>

                </div>
                <p>
                    Suppose that a view on countries produces their code, their
                    name in uppercase, and how many different official languages
                    they have:
                </p><p style="color:blue;">假设一个国家的视图产生了它们的代码、它们的大写名称以及它们有多少种不同的官方语言：</p><pre data-lang="sql" class="programlisting">CREATE VIEW country2 AS
SELECT co.Code, UPPER(co.Name) AS UpperName,
COUNT(cl.Language) AS OfficialLanguages
FROM country AS co JOIN countrylanguage AS cl
ON cl.CountryCode = co.Code
WHERE cl.isOfficial = 'T'
GROUP BY co.Code;
</pre><p>
                This definition is valid because:
            </p><p style="color:blue;">此定义有效，因为：</p><pre data-lang="sql" class="programlisting">{co.Code} -&gt; {co.*}
</pre><p>
                In the view result, the first selected column is
                <code class="literal">co.Code</code>, which is also the group column and
                thus determines all other selected expressions:
            </p><p style="color:blue;">在视图结果中，第一个选定列是co.code，它也是group列，因此确定所有其他选定表达式：</p><pre data-lang="sql" class="programlisting">{country2.Code} -&gt; {country2.*}
</pre><p>
                MySQL understands this and uses this information, as described
                following.
            </p><p style="color:blue;">mysql理解这一点并使用这些信息，如下所述。</p><p>
                This query displays countries, how many different official
                languages they have, and how many cities they have, by joining
                the view with the <code class="literal">city</code> table:
            </p><p style="color:blue;">此查询通过将视图与“城市”表连接，显示国家、拥有多少种不同的官方语言以及拥有多少城市：</p><pre data-lang="sql" class="programlisting">SELECT co2.Code, co2.UpperName, co2.OfficialLanguages,
COUNT(*) AS Cities
FROM country2 AS co2 JOIN city ci
ON ci.CountryCode = co2.Code
GROUP BY co2.Code;
</pre><p>
                This query is valid because, as seen previously:
            </p><p style="color:blue;">此查询有效，因为如前所示：</p><pre data-lang="sql" class="programlisting">{co2.Code} -&gt; {co2.*}
</pre><p>
                MySQL is able to discover a functional dependency in the
                result of a view and use that to validate a query which uses
                the view. The same would be true if
                <code class="literal">country2</code> were a derived table, as in:
            </p><p style="color:blue;">mysql能够在视图的结果中发现函数依赖关系，并使用它来验证使用该视图的查询。如果COUNTRY2是派生表，则也是如此，如：</p><pre data-lang="sql" class="programlisting">SELECT co2.Code, co2.UpperName, co2.OfficialLanguages,
COUNT(*) AS Cities
FROM
(
 SELECT co.Code, UPPER(co.Name) AS UpperName,
 COUNT(cl.Language) AS OfficialLanguages
 FROM country AS co JOIN countrylanguage AS cl
 ON cl.CountryCode=co.Code
 WHERE cl.isOfficial='T'
 GROUP BY co.Code
) AS co2
JOIN City ci ON ci.CountryCode = co2.Code
GROUP BY co2.Code;
</pre>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="functional-dependence-combinations"></a>Combinations of Functional Dependencies</h4>

                        </div>

                    </div>

                </div>
                <p>
                    MySQL is able to combine all of the preceding types of
                    functional dependencies (key based, equality based, view
                    based) to validate more complex queries.
                </p><p style="color:blue;">mysql能够结合前面所有类型的函数依赖（基于键、基于等式、基于视图）来验证更复杂的查询。</p>
            </div>

        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="miscellaneous-functions"></a>12.21&nbsp;Miscellaneous Functions</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286842581360"></a><a class="indexterm" name="idm140286842580288"></a>
        <div class="table">
            <a name="idm140286842578800"></a><p class="title"><b>Table&nbsp;12.27&nbsp;Miscellaneous Functions</b></p><p style="color:blue;">表12.27其他功能</p>
            <div class="table-contents">
                <table frame="box" rules="all" summary="A reference that lists miscellaneous functions."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr><th scope="col">Name</th>
                    <th scope="col">Description</th>
                </tr></thead><tbody><tr><td scope="row"><a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a></td>
                    <td>
                        Suppress ONLY_FULL_GROUP_BY value rejection
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_default"><code class="literal">DEFAULT()</code></a></td>
                    <td>
                        Return the default value for a table column
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a></td>
                    <td>
                        Return the numeric value of an IP address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a></td>
                    <td>
                        Return the IP address from a numeric value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a></td>
                    <td>
                        Return the numeric value of an IPv6 address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a></td>
                    <td>
                        Return the IPv6 address from a numeric value
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a></td>
                    <td>
                        Whether argument is an IPv4 address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv4-compat"><code class="literal">IS_IPV4_COMPAT()</code></a></td>
                    <td>
                        Whether argument is an IPv4-compatible address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv4-mapped"><code class="literal">IS_IPV4_MAPPED()</code></a></td>
                    <td>
                        Whether argument is an IPv4-mapped address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_is-ipv6"><code class="literal">IS_IPV6()</code></a></td>
                    <td>
                        Whether argument is an IPv6 address
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a></td>
                    <td>
                        Block until the slave has read and applied all updates up to the
                        specified position
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a></td>
                    <td>
                        Cause the column to have the given name
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a></td>
                    <td>
                        Sleep for a number of seconds
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uuid"><code class="literal">UUID()</code></a></td>
                    <td>
                        Return a Universal Unique Identifier (UUID)
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a></td>
                    <td>
                        Return an integer-valued universal identifier
                    </td>
                </tr><tr><td scope="row"><a class="link" href="functions.html#function_values"><code class="literal">VALUES()</code></a></td>
                    <td>
                        Define the values to be used during an INSERT
                    </td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break">
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a name="function_any-value"></a><p>
                <a class="indexterm" name="idm140286842516544"></a>

                <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE(<em class="replaceable"><code>arg</code></em>)</code></a>
            </p><p style="color:blue;">任意值（arg）</p><p>
                This function is useful for <code class="literal">GROUP BY</code>
                queries when the
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode
                is enabled, for cases when MySQL rejects a query that you know
                is valid for reasons that MySQL cannot determine. The function
                return value and type are the same as the return value and
                type of its argument, but the function result is not checked
                for the <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
                SQL mode.
            </p><p style="color:blue;">当启用了only_full_group_by sql模式时，此函数对于按查询分组非常有用，当mysql拒绝了一个您知道是有效的查询，原因是mysql无法确定时。函数返回值和类型与其参数的返回值和类型相同，但不按SQL模式检查函数结果是否为唯一的完整组。</p><p>
                For example, if <code class="literal">name</code> is a nonindexed
                column, the following query fails with
                <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled:
            </p><p style="color:blue;">例如，如果name是一个未编制索引的列，则以下查询将失败，并且只启用了“full_group_by”：</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT name, address, MAX(age) FROM t GROUP BY name;</code></strong>
ERROR 1055 (42000): Expression #2 of SELECT list is not in GROUP
BY clause and contains nonaggregated column 'mydb.t.address' which
is not functionally dependent on columns in GROUP BY clause; this
is incompatible with sql_mode=only_full_group_by
</pre><p>
                The failure occurs because <code class="literal">address</code> is a
                nonaggregated column that is neither named among
                <code class="literal">GROUP BY</code> columns nor functionally dependent
                on them. As a result, the <code class="literal">address</code> value for
                rows within each <code class="literal">name</code> group is
                nondeterministic. There are multiple ways to cause MySQL to
                accept the query:
            </p><p style="color:blue;">失败的原因是address是一个未聚合的列，它既不在按列分组中命名，也不在功能上依赖于这些列。因此，每个名称组中的行的地址值是不确定的。有多种方法可以使mysql接受查询：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        Alter the table to make <code class="literal">name</code> a primary
                        key or a unique <code class="literal">NOT NULL</code> column. This
                        enables MySQL to determine that <code class="literal">address</code>
                        is functionally dependent on <code class="literal">name</code>; that
                        is, <code class="literal">address</code> is uniquely determined by
                        <code class="literal">name</code>. (This technique is inapplicable
                        if <code class="literal">NULL</code> must be permitted as a valid
                        <code class="literal">name</code> value.)
                    </p><p style="color:blue;">更改表以使name成为主键或唯一的非空列。这使mysql能够确定地址在功能上依赖于名称；也就是说，地址是由名称唯一确定的。（如果必须允许null作为有效的名称值，则此技术不适用。）</p></li><li class="listitem"><p>
                        Use <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> to refer to
                        <code class="literal">address</code>:
                    </p><p style="color:blue;">使用任意值（）引用地址：</p><pre data-lang="sql" class="programlisting">SELECT name, ANY_VALUE(address), MAX(age) FROM t GROUP BY name;
</pre><p>
                        In this case, MySQL ignores the nondeterminism of
                        <code class="literal">address</code> values within each
                        <code class="literal">name</code> group and accepts the query. This
                        may be useful if you simply do not care which value of a
                        nonaggregated column is chosen for each group.
                        <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> is not an
                        aggregate function, unlike functions such as
                        <a class="link" href="functions.html#function_sum"><code class="literal">SUM()</code></a> or
                        <a class="link" href="functions.html#function_count"><code class="literal">COUNT()</code></a>. It simply acts to
                        suppress the test for nondeterminism.
                    </p><p style="color:blue;">在这种情况下，mysql会忽略每个名称组中地址值的不确定性，并接受查询。如果您不关心为每个组选择了哪个未聚合列的值，这可能很有用。与sum（）或count（）等函数不同，any_value（）不是聚合函数。它只是用来抑制不确定性的测试。</p></li><li class="listitem"><p>
                        Disable
                        <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>. This
                        is equivalent to using
                        <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> with
                        <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
                        enabled, as described in the previous item.
                    </p><p style="color:blue;">仅禁用“完整”组。如前一项所述，这相当于在启用“全部”组的情况下使用任何“值”。</p></li></ul>
                </div>
                <p>
                    <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> is also useful if
                    functional dependence exists between columns but MySQL cannot
                    determine it. The following query is valid because
                    <code class="literal">age</code> is functionally dependent on the
                    grouping column <code class="literal">age-1</code>, but MySQL cannot
                    tell that and rejects the query with
                    <a class="link" href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> enabled:
                </p><p style="color:blue;">如果在列之间存在函数依赖，但MySQL不能确定它，那么YANYURValuy（）也是有用的。以下查询是有效的，因为age在功能上依赖于分组列age-1，但mysql无法分辨出这一点，因此在启用了“full”group“by”的情况下拒绝查询：</p><pre data-lang="sql" class="programlisting">SELECT age FROM t GROUP BY age-1;
</pre><p>
                    To cause MySQL to accept the query, use
                    <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a>:
                </p><p style="color:blue;">若要使MySQL接受查询，请使用任意值（）：</p><pre data-lang="sql" class="programlisting">SELECT ANY_VALUE(age) FROM t GROUP BY age-1;
</pre><p>
                    <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> can be used for
                    queries that refer to aggregate functions in the absence of a
                    <code class="literal">GROUP BY</code> clause:
                </p><p style="color:blue;">在没有GROUP BY子句的情况下，任何_value（）都可以用于引用聚合函数的查询：</p><pre data-lang="sql" class="programlisting">
mysql&gt; <strong class="userinput"><code>SELECT name, MAX(age) FROM t;</code></strong>
ERROR 1140 (42000): In aggregated query without GROUP BY, expression
#1 of SELECT list contains nonaggregated column 'mydb.t.name'; this
is incompatible with sql_mode=only_full_group_by
</pre><p>
                    Without <code class="literal">GROUP BY</code>, there is a single group
                    and it is nondeterministic which <code class="literal">name</code> value
                    to choose for the group.
                    <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> tells MySQL to
                    accept the query:
                </p><p style="color:blue;">如果没有group by，则只有一个组，并且为该组选择哪个名称值是不确定的。any_value（）告诉mysql接受查询：</p><pre data-lang="sql" class="programlisting">SELECT ANY_VALUE(name), MAX(age) FROM t;
</pre><p>
                    It may be that, due to some property of a given data set, you
                    know that a selected nonaggregated column is effectively
                    functionally dependent on a <code class="literal">GROUP BY</code>
                    column. For example, an application may enforce uniqueness of
                    one column with respect to another. In this case, using
                    <a class="link" href="functions.html#function_any-value"><code class="literal">ANY_VALUE()</code></a> for the effectively
                    functionally dependent column may make sense.
                </p><p style="color:blue;">可能是，由于给定数据集的某些属性，您知道选定的未聚合列在功能上实际上依赖于逐列分组。例如，应用程序可以强制一列相对于另一列的唯一性。在这种情况下，对有效的功能相关列使用任何_value（）都是有意义的。</p><p>
                    For additional discussion, see
                    <a class="xref" href="functions.html#group-by-handling" title="12.20.3&nbsp;MySQL Handling of GROUP BY">Section&nbsp;12.20.3, “MySQL Handling of GROUP BY”</a>.
                </p><p style="color:blue;">有关更多讨论，请参见第12.20.3节“MySQL对GROUP BY的处理”。</p></li><li class="listitem"><a name="function_default"></a><p>
                <a class="indexterm" name="idm140286842456944"></a>

                <a class="link" href="functions.html#function_default"><code class="literal">DEFAULT(<em class="replaceable"><code>col_name</code></em>)</code></a>
            </p><p style="color:blue;">默认值（col_name）</p><p>
                Returns the default value for a table column. An error results
                if the column has no default value.
            </p><p style="color:blue;">返回表列的默认值。如果列没有默认值，则会产生错误。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>UPDATE t SET i = DEFAULT(i)+1 WHERE id &lt; 100;</code></strong>
</pre></li><li class="listitem"><p>
                <a class="link" href="functions.html#function_format"><code class="literal">FORMAT(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
            </p><p style="color:blue;">格式（x，d）</p><p>
                Formats the number <em class="replaceable"><code>X</code></em> to a format
                like <code class="literal">'#,###,###.##'</code>, rounded to
                <em class="replaceable"><code>D</code></em> decimal places, and returns the
                result as a string. For details, see
                <a class="xref" href="functions.html#string-functions" title="12.5&nbsp;String Functions and Operators">Section&nbsp;12.5, “String Functions and Operators”</a>.
            </p><p style="color:blue;">将数字x的格式设置为类似“，，.”的格式，四舍五入为d个小数位，并将结果作为字符串返回。有关详细信息，请参见第12.5节“字符串函数和运算符”。</p></li><li class="listitem"><a name="function_inet-aton"></a><p>
                <a class="indexterm" name="idm140286842441104"></a>

                <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">伊顿（出口）</p><p>
                Given the dotted-quad representation of an IPv4 network
                address as a string, returns an integer that represents the
                numeric value of the address in network byte order (big
                endian). <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> returns
                <code class="literal">NULL</code> if it does not understand its
                argument.
            </p><p style="color:blue;">给定IPv4网络地址的点四元表示形式为字符串，返回一个整数，该整数表示地址的数字值（以网络字节顺序（big endian）表示）。如果inet_aton（）不理解其参数，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INET_ATON('10.0.5.9');</code></strong>
        -&gt; 167773449
</pre><p>
                For this example, the return value is calculated as
                10×256<sup>3</sup> +
                0×256<sup>2</sup> + 5×256 + 9.
            </p><p style="color:blue;">对于本例，返回值计算为10×2563+0×2562+5×256+9。</p><p>
                <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> may or may not
                return a non-<code class="literal">NULL</code> result for short-form IP
                addresses (such as <code class="literal">'127.1'</code> as a
                representation of <code class="literal">'127.0.0.1'</code>). Because of
                this, <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a>a should not
                be used for such addresses.
            </p><p style="color:blue;">inet_aton（）可能返回也可能不返回短格式IP地址的非空结果（例如“127.1”表示为“127.0.0.1”）。因此，不应将inet_aton（）a用于此类地址。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        To store values generated by
                        <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a>, use an
                        <code class="literal">INT UNSIGNED</code> column rather than
                        <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a>, which is signed. If you
                        use a signed column, values corresponding to IP addresses
                        for which the first octet is greater than 127 cannot be
                        stored correctly. See
                        <a class="xref" href="data-types.html#out-of-range-and-overflow" title="11.2.6&nbsp;Out-of-Range and Overflow Handling">Section&nbsp;11.2.6, “Out-of-Range and Overflow Handling”</a>.
                    </p><p style="color:blue;">要存储由inet_aton（）生成的值，请使用int unsigned列，而不是int，它是有符号的。如果使用有符号列，则无法正确存储与第一个八位字节大于127的IP地址对应的值。见第11.2.6节“超出范围和溢流处理”。</p>
                </div>
            </li><li class="listitem"><a name="function_inet-ntoa"></a><p>
                <a class="indexterm" name="idm140286842417968"></a>

                <a class="link" href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">Inet_ntoa（出口）</p><p>
                Given a numeric IPv4 network address in network byte order,
                returns the dotted-quad string representation of the address
                as a string in the connection character set.
                <a class="link" href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a> returns
                <code class="literal">NULL</code> if it does not understand its
                argument.
            </p><p style="color:blue;">给定一个按网络字节顺序排列的数字IPv4网络地址，返回地址的点四字符串表示形式，作为连接字符集中的字符串。如果inet_ntoa（）不理解其参数，则返回null。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INET_NTOA(167773449);</code></strong>
        -&gt; '10.0.5.9'
</pre></li><li class="listitem"><a name="function_inet6-aton"></a><p>
                <a class="indexterm" name="idm140286842406480"></a>

                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">inet6_aton（出口）</p><p>
                Given an IPv6 or IPv4 network address as a string, returns a
                binary string that represents the numeric value of the address
                in network byte order (big endian). Because numeric-format
                IPv6 addresses require more bytes than the largest integer
                type, the representation returned by this function has the
                <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> data type:
                <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY(16)</code></a> for IPv6
                addresses and <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY(4)</code></a> for
                IPv4 addresses. If the argument is not a valid address,
                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> returns
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">给定IPv6或IPv4网络地址作为字符串，返回一个二进制字符串，该字符串以网络字节顺序（big endian）表示地址的数值。由于数字格式的IPv6地址需要的字节数多于最大整数类型，因此此函数返回的表示形式具有varbinary数据类型：varbinary（16）表示IPv6地址，varbinary（4）表示IPv4地址。如果参数不是有效地址，inet6_aton（）将返回空值。</p><p>
                The following examples use
                <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a> to display the
                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> result in
                printable form:
            </p><p style="color:blue;">以下示例使用hex（）以可打印的形式显示inet6_aton（）结果：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON('fdfe::5a55:caff:fefa:9089'));</code></strong>
        -&gt; 'FDFE0000000000005A55CAFFFEFA9089'
mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON('10.0.5.9'));</code></strong>
        -&gt; '0A000509'
</pre><p>
                <code class="literal">INET6_ATON()</code> observes several constraints
                on valid arguments. These are given in the following list
                along with examples.
            </p><p style="color:blue;">inet6_aton（）观察对有效参数的几个约束。下表中给出了这些示例。</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        A trailing zone ID is not permitted, as in
                        <code class="literal">fe80::3%1</code> or
                        <code class="literal">fe80::3%eth0</code>.
                    </p><p style="color:blue;">不允许尾随区域ID，如fe80：：3%1或fe80：：3%eth0中所示。</p></li><li class="listitem"><p>
                        A trailing network mask is not permitted, as in
                        <code class="literal">2001:45f:3:ba::/64</code> or
                        <code class="literal">198.51.100.0/24</code>.
                    </p><p style="color:blue;">不允许使用尾随网络掩码，如2001:45f:3:ba:/64或198.51.100.0/24中所示。</p></li><li class="listitem"><p>
                        For values representing IPv4 addresses, only classless
                        addresses are supported. Classful addresses such as
                        <code class="literal">198.51.1</code> are rejected. A trailing port
                        number is not permitted, as in
                        <code class="literal">198.51.100.2:8080</code>. Hexadecimal numbers
                        in address components are not permitted, as in
                        <code class="literal">198.0xa0.1.2</code>. Octal numbers are not
                        supported: <code class="literal">198.51.010.1</code> is treated as
                        <code class="literal">198.51.10.1</code>, not
                        <code class="literal">198.51.8.1</code>. These IPv4 constraints also
                        apply to IPv6 addresses that have IPv4 address parts, such
                        as IPv4-compatible or IPv4-mapped addresses.
                    </p><p style="color:blue;">对于表示IPv4地址的值，仅支持无类地址。诸如198.51.1这样的类地址被拒绝。不允许使用尾随端口号，如198.51.100.2:8080所示。地址组件中不允许使用十六进制数，如198.0xa0.1.2所示。不支持八进制数：198.51.010.1被视为198.51.10.1，而不是198.51.8.1。这些ipv4限制还适用于具有ipv4地址部分的ipv6地址，例如ipv4兼容或ipv4映射地址。</p></li></ul>
                </div>
                <p>
                    To convert an IPv4 address <em class="replaceable"><code>expr</code></em>
                    represented in numeric form as an
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a> value to an IPv6 address
                    represented in numeric form as a
                    <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> value, use this
                    expression:
                </p><p style="color:blue;">要将以数值形式表示的IPv4地址表达式转换为以数值形式表示的IPv6地址表达式，请使用以下表达式：</p><pre data-lang="sql" class="programlisting">INET6_ATON(INET_NTOA(<em class="replaceable"><code>expr</code></em>))
</pre><p>
                    For example:
                </p><p style="color:blue;">例如：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON(INET_NTOA(167773449)));</code></strong>
        -&gt; '0A000509'
</pre></li><li class="listitem"><a name="function_inet6-ntoa"></a><p>
                <a class="indexterm" name="idm140286842368432"></a>

                <a class="link" href="functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">inet6_ntoa（出口）</p><p>
                Given an IPv6 or IPv4 network address represented in numeric
                form as a binary string, returns the string representation of
                the address as a string in the connection character set. If
                the argument is not a valid address,
                <a class="link" href="functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a> returns
                <code class="literal">NULL</code>.
            </p><p style="color:blue;">给定以数字形式表示为二进制字符串的IPv6或IPv4网络地址，将该地址的字符串表示为连接字符集中的字符串。如果参数不是有效地址，inet6_ntoa（）将返回空值。</p><p>
                <a class="link" href="functions.html#function_inet6-ntoa"><code class="literal">INET6_NTOA()</code></a> has these
                properties:
            </p><p style="color:blue;">inet6_ntoa（）具有以下属性：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        It does not use operating system functions to perform
                        conversions, thus the output string is platform
                        independent.
                    </p><p style="color:blue;">它不使用操作系统函数来执行转换，因此输出字符串与平台无关。</p></li><li class="listitem"><p>
                        The return string has a maximum length of 39 (4 x 8 + 7).
                        Given this statement:
                    </p><p style="color:blue;">返回字符串的最大长度为39（4×8 + 7）。鉴于此声明：</p><pre data-lang="sql" class="programlisting">CREATE TABLE t AS SELECT INET6_NTOA(<em class="replaceable"><code>expr</code></em>) AS c1;
</pre><p>
                        The resulting table would have this definition:
                    </p><p style="color:blue;">生成的表将具有以下定义：</p><pre data-lang="sql" class="programlisting">CREATE TABLE t (c1 VARCHAR(39) CHARACTER SET utf8 DEFAULT NULL);
</pre></li><li class="listitem"><p>
                        The return string uses lowercase letters for IPv6
                        addresses.
                    </p><p style="color:blue;">返回字符串使用小写字母表示IPv6地址。</p></li></ul>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(INET6_ATON('fdfe::5a55:caff:fefa:9089'));</code></strong>
        -&gt; 'fdfe::5a55:caff:fefa:9089'
mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(INET6_ATON('10.0.5.9'));</code></strong>
        -&gt; '10.0.5.9'

mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(UNHEX('FDFE0000000000005A55CAFFFEFA9089'));</code></strong>
        -&gt; 'fdfe::5a55:caff:fefa:9089'
mysql&gt; <strong class="userinput"><code>SELECT INET6_NTOA(UNHEX('0A000509'));</code></strong>
        -&gt; '10.0.5.9'
</pre></li><li class="listitem"><a name="function_is-ipv4"></a><p>
                <a class="indexterm" name="idm140286842346704"></a>

                <a class="link" href="functions.html#function_is-ipv4"><code class="literal">IS_IPV4(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">是IPv4（EXPR）</p><p>
                Returns 1 if the argument is a valid IPv4 address specified as
                a string, 0 otherwise.
            </p><p style="color:blue;">如果参数是指定为字符串的有效IPv4地址，则返回1，否则返回0。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4('10.0.5.9'), IS_IPV4('10.0.5.256');</code></strong>
        -&gt; 1, 0
</pre><p>
                For a given argument, if
                <a class="link" href="functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a> returns 1,
                <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> (and
                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a>) will return
                non-<code class="literal">NULL</code>. The converse statement is not
                true: In some cases,
                <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> returns
                non-<code class="literal">NULL</code> when
                <a class="link" href="functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a> returns 0.
            </p><p style="color:blue;">对于给定的参数，如果is_ipv4（）返回1，则inet_aton（）和inet6_aton（）将返回非空。converse语句不正确：在某些情况下，当is_ipv4（）返回0时，inet_aton（）返回非空。</p><p>
                As implied by the preceding remarks,
                <a class="link" href="functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a> is more strict than
                <a class="link" href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> about what
                constitutes a valid IPv4 address, so it may be useful for
                applications that need to perform strong checks against
                invalid values. Alternatively, use
                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> to convert IPv4
                addresses to internal form and check for a
                <code class="literal">NULL</code> result (which indicates an invalid
                address). <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> is
                equally strong as <a class="link" href="functions.html#function_is-ipv4"><code class="literal">IS_IPV4()</code></a>
                about checking IPv4 addresses.
            </p><p style="color:blue;">正如前面的注释所暗示的，is_ipv4（）比inet_aton（）对什么构成有效的ipv4地址更严格，因此它可能对需要对无效值执行强检查的应用程序有用。或者，使用inet6_aton（）将IPv4地址转换为内部形式，并检查是否有空结果（这表示地址无效）。inet6_aton（）与有关检查IPv4地址的_ipv4（）一样强大。</p></li><li class="listitem"><a name="function_is-ipv4-compat"></a><p>
                <a class="indexterm" name="idm140286842321344"></a>

                <a class="link" href="functions.html#function_is-ipv4-compat"><code class="literal">IS_IPV4_COMPAT(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">是IPv4兼容（expr）</p><p>
                This function takes an IPv6 address represented in numeric
                form as a binary string, as returned by
                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a>. It returns 1 if
                the argument is a valid IPv4-compatible IPv6 address, 0
                otherwise. IPv4-compatible addresses have the form
                <code class="literal">::<em class="replaceable"><code>ipv4_address</code></em></code>.
            </p><p style="color:blue;">此函数采用数字形式表示的IPv6地址作为二进制字符串，由inet6_aton（）返回。如果参数是有效的IPv4兼容IPv6地址，则返回1，否则返回0。IPv4兼容地址的格式为：：IPv4_address。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_COMPAT(INET6_ATON('::10.0.5.9'));</code></strong>
        -&gt; 1
mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_COMPAT(INET6_ATON('::ffff:10.0.5.9'));</code></strong>
        -&gt; 0
</pre><p>
                The IPv4 part of an IPv4-compatible address can also be
                represented using hexadecimal notation. For example,
                <code class="literal">198.51.100.1</code> has this raw hexadecimal
                value:
            </p><p style="color:blue;">IPv4兼容地址的IPv4部分也可以使用十六进制表示法表示。例如，198.51.100.1具有此原始十六进制值：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(INET6_ATON('198.51.100.1'));</code></strong>
        -&gt; 'C6336401'
</pre><p>
                Expressed in IPv4-compatible form,
                <code class="literal">::198.51.100.1</code> is equivalent to
                <code class="literal">::c0a8:0001</code> or (without leading zeros)
                <code class="literal">::c0a8:1</code>
            </p><p style="color:blue;">以IPv4兼容形式表示，：：198.51.100.1等同于：：c0a8:0001或（不带前导零）：：c0a8:1</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_COMPAT(INET6_ATON('::198.51.100.1')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_COMPAT(INET6_ATON('::c0a8:0001')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_COMPAT(INET6_ATON('::c0a8:1'));</code></strong>
        -&gt; 1, 1, 1
</pre></li><li class="listitem"><a name="function_is-ipv4-mapped"></a><p>
                <a class="indexterm" name="idm140286842299216"></a>

                <a class="link" href="functions.html#function_is-ipv4-mapped"><code class="literal">IS_IPV4_MAPPED(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">是否映射了ipv4（expr）</p><p>
                This function takes an IPv6 address represented in numeric
                form as a binary string, as returned by
                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a>. It returns 1 if
                the argument is a valid IPv4-mapped IPv6 address, 0 otherwise.
                IPv4-mapped addresses have the form
                <code class="literal">::ffff:<em class="replaceable"><code>ipv4_address</code></em></code>.
            </p><p style="color:blue;">此函数采用数字形式表示的IPv6地址作为二进制字符串，由inet6_aton（）返回。如果参数是有效的IPv4映射IPv6地址，则返回1，否则返回0。IPv4映射地址的格式为：：ffff:IPv4_address。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_MAPPED(INET6_ATON('::10.0.5.9'));</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT IS_IPV4_MAPPED(INET6_ATON('::ffff:10.0.5.9'));</code></strong>
        -&gt; 1
</pre><p>
                As with <code class="literal">IS_IPV4_COMPAT()</code> the IPv4 part of
                an IPv4-mapped address can also be represented using
                hexadecimal notation:
            </p><p style="color:blue;">与is_ipv4_compat（）一样，ipv4映射地址的ipv4部分也可以使用十六进制表示法表示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_MAPPED(INET6_ATON('::ffff:198.51.100.1')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_MAPPED(INET6_ATON('::ffff:c0a8:0001')),</code></strong>
    -&gt; <strong class="userinput"><code>  IS_IPV4_MAPPED(INET6_ATON('::ffff:c0a8:1'));</code></strong>
        -&gt; 1, 1, 1
</pre></li><li class="listitem"><a name="function_is-ipv6"></a><p>
                <a class="indexterm" name="idm140286842281408"></a>

                <a class="link" href="functions.html#function_is-ipv6"><code class="literal">IS_IPV6(<em class="replaceable"><code>expr</code></em>)</code></a>
            </p><p style="color:blue;">是IPv6（EXPR）</p><p>
                Returns 1 if the argument is a valid IPv6 address specified as
                a string, 0 otherwise. This function does not consider IPv4
                addresses to be valid IPv6 addresses.
            </p><p style="color:blue;">如果参数是指定为字符串的有效IPv6地址，则返回1，否则返回0。此函数不认为IPv4地址是有效的IPv6地址。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT IS_IPV6('10.0.5.9'), IS_IPV6('::1');</code></strong>
        -&gt; 0, 1
</pre><p>
                For a given argument, if
                <a class="link" href="functions.html#function_is-ipv6"><code class="literal">IS_IPV6()</code></a> returns 1,
                <a class="link" href="functions.html#function_inet6-aton"><code class="literal">INET6_ATON()</code></a> will return
                non-<code class="literal">NULL</code>.
            </p><p style="color:blue;">对于给定的参数，如果is_ipv6（）返回1，inet6_aton（）将返回非空。</p></li><li class="listitem"><a name="function_master-pos-wait"></a><p>
                <a class="indexterm" name="idm140286842268064"></a>

                <a class="link" href="functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT(<em class="replaceable"><code>log_name</code></em>,<em class="replaceable"><code>log_pos</code></em>[,<em class="replaceable"><code>timeout</code></em>][,<em class="replaceable"><code>channel</code></em>])</code></a>
            </p><p style="color:blue;">主存储等待（日志名称，日志存储[，超时][，通道]）</p><p>
                This function is useful for control of master/slave
                synchronization. It blocks until the slave has read and
                applied all updates up to the specified position in the master
                log. The return value is the number of log events the slave
                had to wait for to advance to the specified position. The
                function returns <code class="literal">NULL</code> if the slave SQL
                thread is not started, the slave's master information is not
                initialized, the arguments are incorrect, or an error occurs.
                It returns <code class="literal">-1</code> if the timeout has been
                exceeded. If the slave SQL thread stops while
                <a class="link" href="functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a> is waiting,
                the function returns <code class="literal">NULL</code>. If the slave is
                past the specified position, the function returns immediately.
            </p><p style="color:blue;">此功能可用于主/从同步的控制。它将阻塞，直到从服务器读取并应用所有更新到主日志中的指定位置。返回值是从机必须等待的日志事件数，才能前进到指定位置。如果从属SQL线程未启动、从属的主信息未初始化、参数不正确或发生错误，则函数返回null。如果超时，则返回-1。如果从SQL线程在master_pos_wait（）等待时停止，则函数返回null。如果从机超过指定位置，则函数立即返回。</p><p>
                On a multithreaded slave, the function waits until expiry of
                the limit set by the
                <a class="link" href="replication.html#sysvar_slave_checkpoint_group"><code class="literal">slave_checkpoint_group</code></a> or
                <a class="link" href="replication.html#sysvar_slave_checkpoint_period"><code class="literal">slave_checkpoint_period</code></a>
                system variable, when the checkpoint operation is called to
                update the status of the slave. Depending on the setting for
                the system variables, the function might therefore return some
                time after the specified position was reached.
            </p><p style="color:blue;">在多线程从机上，当调用检查点操作以更新从机状态时，该函数将一直等到由slave_checkpoint_group或slave_checkpoint_period系统变量设置的限制到期。因此，根据系统变量的设置，函数可能在到达指定位置后返回一段时间。</p><p>
                If a <em class="replaceable"><code>timeout</code></em> value is specified,
                <a class="link" href="functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a> stops waiting
                when <em class="replaceable"><code>timeout</code></em> seconds have elapsed.
                <em class="replaceable"><code>timeout</code></em> must be greater than 0; a
                zero or negative <em class="replaceable"><code>timeout</code></em> means no
                timeout.
            </p><p style="color:blue;">如果指定了超时值，则当超时秒已过时，master_pos_wait（）将停止等待。超时必须大于0；零或负超时表示没有超时。</p><p>
                The optional <em class="replaceable"><code>channel</code></em> value enables
                you to name which replication channel the function applies to.
                See <a class="xref" href="replication.html#replication-channels" title="16.2.3&nbsp;Replication Channels">Section&nbsp;16.2.3, “Replication Channels”</a> for more
                information.
            </p><p style="color:blue;">可选的通道值允许您命名该函数应用于哪个复制通道。有关更多信息，请参阅第16.2.3节“复制通道”。</p><p>
                This function is unsafe for statement-based replication. A
                warning is logged if you use this function when
                <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                <code class="literal">STATEMENT</code>.
            </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li><li class="listitem"><a name="function_name-const"></a><p>
                <a class="indexterm" name="idm140286842244480"></a>

                <a class="link" href="functions.html#function_name-const"><code class="literal">NAME_CONST(<em class="replaceable"><code>name</code></em>,<em class="replaceable"><code>value</code></em>)</code></a>
            </p><p style="color:blue;">name_const（名称、值）</p><p>
                Returns the given value. When used to produce a result set
                column, <a class="link" href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> causes the
                column to have the given name. The arguments should be
                constants.
            </p><p style="color:blue;">返回给定值。当用于生成结果集列时，name_const（）将使该列具有给定的名称。参数应该是常量。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT NAME_CONST('myname', 14);</code></strong>
+--------+
| myname |
+--------+
|     14 |
+--------+
</pre><p>
                This function is for internal use only. The server uses it
                when writing statements from stored programs that contain
                references to local program variables, as described in
                <a class="xref" href="stored-objects.html#stored-programs-logging" title="23.7&nbsp;Stored Program Binary Logging">Section&nbsp;23.7, “Stored Program Binary Logging”</a>. You might see this
                function in the output from <a class="link" href="programs.html#mysqlbinlog" title="4.6.7&nbsp;mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a>.
            </p><p style="color:blue;">此功能仅供内部使用。服务器在从包含本地程序变量引用的存储程序中写入语句时使用它，如23.7节“存储程序二进制日志记录”中所述。您可能会在mysqlbinlog的输出中看到这个函数。</p><p>
                For your applications, you can obtain exactly the same result
                as in the example just shown by using simple aliasing, like
                this:
            </p><p style="color:blue;">对于您的应用程序，您可以使用简单的别名获得与刚才所示示例完全相同的结果，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 14 AS myname;</code></strong>
+--------+
| myname |
+--------+
|     14 |
+--------+
1 row in set (0.00 sec)
</pre><p>
                See <a class="xref" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax">Section&nbsp;13.2.9, “SELECT Syntax”</a>, for more information about
                column aliases.
            </p><p style="color:blue;">有关列别名的详细信息，请参见第13.2.9节“选择语法”。</p></li><li class="listitem"><a name="function_sleep"></a><p>
                <a class="indexterm" name="idm140286842227760"></a>

                <a class="link" href="functions.html#function_sleep"><code class="literal">SLEEP(<em class="replaceable"><code>duration</code></em>)</code></a>
            </p><p style="color:blue;">睡眠（持续时间）</p><p>
                Sleeps (pauses) for the number of seconds given by the
                <em class="replaceable"><code>duration</code></em> argument, then returns 0.
                The duration may have a fractional part. If the argument is
                <code class="literal">NULL</code> or negative,
                <a class="link" href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> produces a warning, or
                an error in strict SQL mode.
            </p><p style="color:blue;">按duration参数给定的秒数休眠（暂停），然后返回0。持续时间可能有一小部分。如果参数为空或负，sleep（）将在严格SQL模式下生成警告或错误。</p><p>
                When sleep returns normally (without interruption), it returns
                0:
            </p><p style="color:blue;">当睡眠恢复正常（无中断）时，返回0：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SLEEP(1000);</code></strong>
+-------------+
| SLEEP(1000) |
+-------------+
|           0 |
+-------------+
</pre><p>
                When <a class="link" href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> is the only thing
                invoked by a query that is interrupted, it returns 1 and the
                query itself returns no error. This is true whether the query
                is killed or times out:
            </p><p style="color:blue;">当sleep（）是被中断的查询调用的唯一对象时，它返回1，查询本身不返回错误。无论查询是终止还是超时，都是这样：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        This statement is interrupted using
                        <a class="link" href="sql-syntax.html#kill" title="13.7.6.4&nbsp;KILL Syntax"><code class="literal">KILL QUERY</code></a>
                        from another session:
                    </p><p style="color:blue;">使用另一个会话中的kill query中断此语句：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SLEEP(1000);</code></strong>
+-------------+
| SLEEP(1000) |
+-------------+
|           1 |
+-------------+
</pre></li><li class="listitem"><p>
                        This statement is interrupted by timing out:
                    </p><p style="color:blue;">此语句因超时而中断：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT /*+ MAX_EXECUTION_TIME(1) */ SLEEP(1000);</code></strong>
+-------------+
| SLEEP(1000) |
+-------------+
|           1 |
+-------------+
</pre></li></ul>
                </div>
                <p>
                    When <a class="link" href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> is only part of a
                    query that is interrupted, the query returns an error:
                </p><p style="color:blue;">当sleep（）只是被中断的查询的一部分时，查询返回一个错误：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        This statement is interrupted using
                        <a class="link" href="sql-syntax.html#kill" title="13.7.6.4&nbsp;KILL Syntax"><code class="literal">KILL QUERY</code></a>
                        from another session:
                    </p><p style="color:blue;">使用另一个会话中的kill query中断此语句：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT 1 FROM t1 WHERE SLEEP(1000);</code></strong>
ERROR 1317 (70100): Query execution was interrupted
</pre></li><li class="listitem"><p>
                        This statement is interrupted by timing out:
                    </p><p style="color:blue;">此语句因超时而中断：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT /*+ MAX_EXECUTION_TIME(1000) */ 1 FROM t1 WHERE SLEEP(1000);</code></strong>
ERROR 3024 (HY000): Query execution was interrupted, maximum statement
execution time exceeded
</pre></li></ul>
                </div>
                <p>
                    This function is unsafe for statement-based replication. A
                    warning is logged if you use this function when
                    <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                    <code class="literal">STATEMENT</code>.
                </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li><li class="listitem"><a name="function_uuid"></a><p>
                <a class="indexterm" name="idm140286842196000"></a>

                <a class="link" href="functions.html#function_uuid"><code class="literal">UUID()</code></a>
            </p><p style="color:blue;">Uuid（）</p><p>
                Returns a Universal Unique Identifier (UUID) generated
                according to RFC 4122, <span class="quote">“<span class="quote">A Universally Unique IDentifier
          (UUID) URN Namespace</span>”</span>
                (<a class="ulink" href="http://www.ietf.org/rfc/rfc4122.txt" target="_top">http://www.ietf.org/rfc/rfc4122.txt</a>).
            </p><p style="color:blue;">返回根据rfc 4122“通用唯一标识符（uuid）urn命名空间”（http://www.ietf.org/rfc/rfc4122.txt）生成的通用唯一标识符（uuid）。</p><p>
                A UUID is designed as a number that is globally unique in
                space and time. Two calls to
                <a class="link" href="functions.html#function_uuid"><code class="literal">UUID()</code></a> are expected to generate
                two different values, even if these calls are performed on two
                separate devices not connected to each other.
            </p><p style="color:blue;">uuid被设计为一个在空间和时间上全局唯一的数字。对uuid（）的两个调用预期会生成两个不同的值，即使这些调用是在两个彼此不连接的独立设备上执行的。</p>
                <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Warning
                    </div>
                    <p>
                        Although <a class="link" href="functions.html#function_uuid"><code class="literal">UUID()</code></a> values are
                        intended to be unique, they are not necessarily unguessable
                        or unpredictable. If unpredictability is required, UUID
                        values should be generated some other way.
                    </p><p style="color:blue;">尽管uuid（）值是唯一的，但它们不一定是不可访问或不可预测的。如果需要不可预测性，则应以其他方式生成uuid值。</p>
                </div>
                <p>
                    <a class="link" href="functions.html#function_uuid"><code class="literal">UUID()</code></a> returns a value that
                    conforms to UUID version 1 as described in RFC 4122. The value
                    is a 128-bit number represented as a <code class="literal">utf8</code>
                    string of five hexadecimal numbers in
                    <code class="literal">aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee</code>
                    format:
                </p><p style="color:blue;">uuid（）返回符合rfc 4122中描述的uuid版本1的值。该值是一个128位数字，表示为五个十六进制数的UTF8字符串，格式为aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeee：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        The first three numbers are generated from the low,
                        middle, and high parts of a timestamp. The high part also
                        includes the UUID version number.
                    </p><p style="color:blue;">前三个数字由时间戳的低、中、高部分生成。高端部分还包括uuid版本号。</p></li><li class="listitem"><p>
                        The fourth number preserves temporal uniqueness in case
                        the timestamp value loses monotonicity (for example, due
                        to daylight saving time).
                    </p><p style="color:blue;">第四个数字保留时间唯一性，以防时间戳值失去单调性（例如，由于夏令时）。</p></li><li class="listitem"><p>
                        The fifth number is an IEEE 802 node number that provides
                        spatial uniqueness. A random number is substituted if the
                        latter is not available (for example, because the host
                        device has no Ethernet card, or it is unknown how to find
                        the hardware address of an interface on the host operating
                        system). In this case, spatial uniqueness cannot be
                        guaranteed. Nevertheless, a collision should have
                        <span class="emphasis"><em>very</em></span> low probability.
                    </p><p style="color:blue;">第五个数字是提供空间唯一性的ieee 802节点号。如果后者不可用（例如，因为主机设备没有以太网卡，或者不知道如何在主机操作系统上找到接口的硬件地址），则会替换随机数。在这种情况下，无法保证空间的唯一性。然而，碰撞的概率应该很低。</p><p>
                        The MAC address of an interface is taken into account only
                        on FreeBSD, Linux, and Windows. On other operating
                        systems, MySQL uses a randomly generated 48-bit number.
                    </p><p style="color:blue;">接口的mac地址只在freebsd、linux和windows上考虑。在其他操作系统上，mysql使用随机生成的48位数字。</p></li></ul>
                </div>
                <pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UUID();</code></strong>
        -&gt; '6ccd780c-baba-1026-9564-5b8c656024db'
</pre><p>
                    This function is unsafe for statement-based replication. A
                    warning is logged if you use this function when
                    <a class="link" href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> is set to
                    <code class="literal">STATEMENT</code>.
                </p><p style="color:blue;">此函数对基于语句的复制不安全。当binlog_format设置为statement时，如果使用此函数，则会记录警告。</p></li><li class="listitem"><a name="function_uuid-short"></a><p>
                <a class="indexterm" name="idm140286842171232"></a>

                <a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a>
            </p><p style="color:blue;">短（）</p><p>
                Returns a <span class="quote">“<span class="quote">short</span>”</span> universal identifier as a
                64-bit unsigned integer. Values returned by
                <a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> differ from the
                string-format 128-bit identifiers returned by the
                <a class="link" href="functions.html#function_uuid"><code class="literal">UUID()</code></a> function and have
                different uniqueness properties. The value of
                <a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> is guaranteed to
                be unique if the following conditions hold:
            </p><p style="color:blue;">以64位无符号整数的形式返回“短”通用标识符。uuid_short（）返回的值与uuid（）函数返回的字符串格式128位标识符不同，并且具有不同的唯一性属性。如果以下条件成立，则uuid_short（）的值保证是唯一的：</p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        The <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> value of
                        the current server is between 0 and 255 and is unique
                        among your set of master and slave servers
                    </p><p style="color:blue;">当前服务器的服务器id值介于0和255之间，在主服务器和从服务器之间是唯一的</p></li><li class="listitem"><p>
                        You do not set back the system time for your server host
                        between <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> restarts
                    </p><p style="color:blue;">在mysqld重新启动之间，您没有为服务器主机设置系统时间</p></li><li class="listitem"><p>
                        You invoke <a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> on
                        average fewer than 16 million times per second between
                        <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> restarts
                    </p><p style="color:blue;">在mysqld重启之间，平均每秒调用uuid_short（）的次数少于1600万次</p></li></ul>
                </div>
                <p>
                    The <a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> return value
                    is constructed this way:
                </p><p style="color:blue;">uuid_short（）返回值是这样构造的：</p><pre data-lang="clike" class="programlisting">  (server_id &amp; 255) &lt;&lt; 56
+ (server_startup_time_in_seconds &lt;&lt; 24)
+ incremented_variable++;
</pre><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT UUID_SHORT();</code></strong>
        -&gt; 92395783831158784
</pre>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        <a class="link" href="functions.html#function_uuid-short"><code class="literal">UUID_SHORT()</code></a> does not work
                        with statement-based replication.
                    </p><p style="color:blue;">uuid_short（）不适用于基于语句的复制。</p>
                </div>
            </li><li class="listitem"><a name="function_values"></a><p>
                <a class="indexterm" name="idm140286842144944"></a>

                <a class="link" href="functions.html#function_values"><code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code></a>
            </p><p style="color:blue;">值（col_name）</p><p>
                In an
                <a class="link" href="sql-syntax.html#insert-on-duplicate" title="13.2.5.2&nbsp;INSERT ... ON DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT
                    ... ON DUPLICATE KEY UPDATE</code></a> statement, you can use
                the
                <code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code>
                function in the <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> clause
                to refer to column values from the
                <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> portion of the
                statement. In other words,
                <code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code>
                in the <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> clause refers to
                the value of <em class="replaceable"><code>col_name</code></em> that would be
                inserted, had no duplicate-key conflict occurred. This
                function is especially useful in multiple-row inserts. The
                <a class="link" href="functions.html#function_values"><code class="literal">VALUES()</code></a> function is meaningful
                only in the <code class="literal">ON DUPLICATE KEY UPDATE</code> clause
                of <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> statements and
                returns <code class="literal">NULL</code> otherwise. See
                <a class="xref" href="sql-syntax.html#insert-on-duplicate" title="13.2.5.2&nbsp;INSERT ... ON DUPLICATE KEY UPDATE Syntax">Section&nbsp;13.2.5.2, “INSERT ... ON DUPLICATE KEY UPDATE Syntax”</a>.
            </p><p style="color:blue;">插入…对于重复的键update语句，可以使用update子句中的values（col_name）函数引用语句的insert部分中的列值。换言之，update子句中的值（col_name）指的是将要插入的col_name的值，没有发生重复的键冲突。此函数在多行插入中特别有用。values（）函数仅在insert语句的on duplicate key update子句中有意义，否则返回null。见第13.2.5.2节，“插入……关于重复的密钥更新语法”。</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO table (a,b,c) VALUES (1,2,3),(4,5,6)</code></strong>
    -&gt; <strong class="userinput"><code>ON DUPLICATE KEY UPDATE c=VALUES(a)+VALUES(b);</code></strong>
</pre></li></ul>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="precision-math"></a>12.22&nbsp;Precision Math</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="functions.html#precision-math-numbers">12.22.1 Types of Numeric Values</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-decimal-characteristics">12.22.2 DECIMAL Data Type Characteristics</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-expressions">12.22.3 Expression Handling</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-rounding">12.22.4 Rounding Behavior</a></span></dt><dt><span class="section"><a href="functions.html#precision-math-examples">12.22.5 Precision Math Examples</a></span></dt></dl>
        </div>
        <a class="indexterm" name="idm140286842123056"></a><a class="indexterm" name="idm140286842121984"></a><a class="indexterm" name="idm140286842120912"></a><a class="indexterm" name="idm140286842119840"></a><a class="indexterm" name="idm140286842118768"></a><a class="indexterm" name="idm140286842117696"></a><a class="indexterm" name="idm140286842116624"></a><a class="indexterm" name="idm140286842115136"></a><a class="indexterm" name="idm140286842113648"></a><a class="indexterm" name="idm140286842112576"></a><a class="indexterm" name="idm140286842111488"></a><a class="indexterm" name="idm140286842110416"></a><p>
        MySQL provides support for precision math: numeric value handling
        that results in extremely accurate results and a high degree control
        over invalid values. Precision math is based on these two features:
    </p><p style="color:blue;">mysql提供了对精确数学的支持：数值处理会产生非常精确的结果和对无效值的高度控制。精确数学基于以下两个特征：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                SQL modes that control how strict the server is about accepting
                or rejecting invalid data.
            </p><p style="color:blue;">控制服务器接受或拒绝无效数据的严格程度的SQL模式。</p></li><li class="listitem"><p>
                The MySQL library for fixed-point arithmetic.
            </p><p style="color:blue;">用于定点算法的mysql库。</p></li></ul>
        </div>
        <p>
            These features have several implications for numeric operations and
            provide a high degree of compliance with standard SQL:
        </p><p style="color:blue;">这些功能对数字操作有几个含义，并提供了对标准SQL的高度遵从性：</p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <span class="bold"><strong>Precise calculations</strong></span>: For
                exact-value numbers, calculations do not introduce
                floating-point errors. Instead, exact precision is used. For
                example, MySQL treats a number such as <code class="literal">.0001</code>
                as an exact value rather than as an approximation, and summing
                it 10,000 times produces a result of exactly
                <code class="literal">1</code>, not a value that is merely
                <span class="quote">“<span class="quote">close</span>”</span> to 1.
            </p><p style="color:blue;">精确计算：对于精确的数值，计算不会引入浮点错误。相反，使用精确的精度。例如，MySQL将一个数如0001作为一个精确值而不是一个近似值，并将其求和10000次，得到的结果正好是1，而不是一个仅仅是“接近”到1的值。</p></li><li class="listitem"><p>
                <span class="bold"><strong>Well-defined rounding behavior</strong></span>:
                For exact-value numbers, the result of
                <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> depends on its argument,
                not on environmental factors such as how the underlying C
                library works.
            </p><p style="color:blue;">定义良好的舍入行为：对于精确的值数字，round（）的结果取决于它的参数，而不是环境因素，例如底层C库的工作方式。</p></li><li class="listitem"><p>
                <span class="bold"><strong>Platform independence</strong></span>:
                Operations on exact numeric values are the same across different
                platforms such as Windows and Unix.
            </p><p style="color:blue;">平台独立性：在不同平台（如windows和unix）上对精确数值的操作是相同的。</p></li><li class="listitem"><p>
        <span class="bold"><strong>Control over handling of invalid
        values</strong></span>: Overflow and division by zero are detectable
                and can be treated as errors. For example, you can treat a value
                that is too large for a column as an error rather than having
                the value truncated to lie within the range of the column's data
                type. Similarly, you can treat division by zero as an error
                rather than as an operation that produces a result of
                <code class="literal">NULL</code>. The choice of which approach to take is
                determined by the setting of the server SQL mode.
            </p><p style="color:blue;">对无效值处理的控制：溢出和除零是可检测的，可以作为错误处理。例如，您可以将对列来说太大的值视为错误，而不是将该值截断为位于列的数据类型范围内。类似地，您可以将除以零视为错误，而不是将其视为产生空结果的操作。选择采用哪种方法取决于服务器sql模式的设置。</p></li></ul>
        </div>
        <p>
            The following discussion covers several aspects of how precision
            math works, including possible incompatibilities with older
            applications. At the end, some examples are given that demonstrate
            how MySQL handles numeric operations precisely. For information
            about controlling the SQL mode, see <a class="xref" href="server-administration.html#sql-mode" title="5.1.10&nbsp;Server SQL Modes">Section&nbsp;5.1.10, “Server SQL Modes”</a>.
        </p><p style="color:blue;">下面的讨论涉及精确数学如何工作的几个方面，包括可能与旧应用程序不兼容。最后，给出了一些例子来演示mysql如何精确地处理数字操作。有关控制SQL模式的信息，请参阅第5.1.10节“服务器SQL模式”。</p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="precision-math-numbers"></a>12.22.1&nbsp;Types of Numeric Values</h3>
                    </div>
                </div>
            </div>
            <a class="indexterm" name="idm140286842091056"></a><a class="indexterm" name="idm140286842089968"></a><a class="indexterm" name="idm140286842088880"></a><a class="indexterm" name="idm140286842087392"></a><p>
            The scope of precision math for exact-value operations includes
            the exact-value data types (integer and
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> types) and exact-value
            numeric literals. Approximate-value data types and numeric
            literals are handled as floating-point numbers.
        </p><p style="color:blue;">精确值操作的精确数学范围包括精确值数据类型（整数和十进制类型）和精确值数字文本。近似值数据类型和数字文字处理为浮点数字。</p><p>
            Exact-value numeric literals have an integer part or fractional
            part, or both. They may be signed. Examples: <code class="literal">1</code>,
            <code class="literal">.2</code>, <code class="literal">3.4</code>,
            <code class="literal">-5</code>, <code class="literal">-6.78</code>,
            <code class="literal">+9.10</code>.
        </p><p style="color:blue;">精确值数字文本有整数部分或小数部分，或两者都有。它们可能会被签署。示例：1、.2、3.4、-5、-6.78、+9.10。</p><p>
            Approximate-value numeric literals are represented in scientific
            notation with a mantissa and exponent. Either or both parts may be
            signed. Examples: <code class="literal">1.2E3</code>,
            <code class="literal">1.2E-3</code>, <code class="literal">-1.2E3</code>,
            <code class="literal">-1.2E-3</code>.
        </p><p style="color:blue;">近似值数值文字用尾数和指数表示在科学记号中。任何一方或双方均可签字。示例：1.2E3、1.2E-3、-1.2E3、-1.2E-3。</p><p>
            Two numbers that look similar may be treated differently. For
            example, <code class="literal">2.34</code> is an exact-value (fixed-point)
            number, whereas <code class="literal">2.34E0</code> is an approximate-value
            (floating-point) number.
        </p><p style="color:blue;">两个看起来相似的数字可能会被区别对待。例如，2.34是一个精确值（定点），而2.34 e0是一个近似值（浮点）数。</p><p>
            The <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> data type is a
            fixed-point type and calculations are exact. In MySQL, the
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> type has several synonyms:
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">NUMERIC</code></a>,
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DEC</code></a>,
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">FIXED</code></a>. The integer types also are
            exact-value types.
        </p><p style="color:blue;">decimal数据类型是定点类型，计算是精确的。在mysql中，decimal类型有几个同义词：numeric、dec、fixed。整数类型也是精确值类型。</p><p>
            The <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">FLOAT</code></a> and
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> data types are
            floating-point types and calculations are approximate. In MySQL,
            types that are synonymous with
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">FLOAT</code></a> or
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE</code></a> are
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">DOUBLE PRECISION</code></a> and
            <a class="link" href="data-types.html#floating-point-types" title="11.2.3&nbsp;Floating-Point Types (Approximate Value) - FLOAT, DOUBLE"><code class="literal">REAL</code></a>.
        </p><p style="color:blue;">浮点和双数据类型是浮点类型，计算是近似的。在mysql中，与float或double同义的类型是double precision和real。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="precision-math-decimal-characteristics"></a>12.22.2&nbsp;DECIMAL Data Type Characteristics</h3>

                    </div>

                </div>

            </div>
            <p>
                This section discusses the characteristics of the
                <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> data type (and its
                synonyms), with particular regard to the following topics:
            </p><p style="color:blue;">本节讨论十进制数据类型（及其同义词）的特征，特别涉及以下主题：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Maximum number of digits
                </p><p style="color:blue;">最大位数</p></li><li class="listitem"><p>
                    Storage format
                </p><p style="color:blue;">存储格式</p></li><li class="listitem"><p>
                    Storage requirements
                </p><p style="color:blue;">储存要求</p></li><li class="listitem"><p>
                    The nonstandard MySQL extension to the upper range of
                    <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> columns
                </p><p style="color:blue;">十进制列上限的非标准mysql扩展</p></li></ul>
            </div>
            <p>
                The declaration syntax for a
                <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> column is
                <code class="literal">DECIMAL(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>.
                The ranges of values for the arguments are as follows:
            </p><p style="color:blue;">十进制列的声明语法是decimal（m，d）。参数的值范围如下：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <em class="replaceable"><code>M</code></em> is the maximum number of digits
                    (the precision). It has a range of 1 to 65.
                </p><p style="color:blue;">M是数字的最大数（精度）。它的范围是1到65。</p></li><li class="listitem"><p>
                    <em class="replaceable"><code>D</code></em> is the number of digits to the
                    right of the decimal point (the scale). It has a range of 0 to
                    30 and must be no larger than <em class="replaceable"><code>M</code></em>.
                </p><p style="color:blue;">D是小数点（刻度）右边的位数。其范围为0到30，且不得大于m。</p></li></ul>
            </div>
            <p>
                If <em class="replaceable"><code>D</code></em> is omitted, the default is 0. If
                <em class="replaceable"><code>M</code></em> is omitted, the default is 10.
            </p><p style="color:blue;">如果省略d，则默认值为0。如果省略m，则默认值为10。</p><p>
            The maximum value of 65 for <em class="replaceable"><code>M</code></em> means
            that calculations on <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> values
            are accurate up to 65 digits. This limit of 65 digits of precision
            also applies to exact-value numeric literals, so the maximum range
            of such literals differs from before.
        </p><p style="color:blue;">m的最大值为65，意味着十进制值的计算精度高达65位。这个65位数精度的限制也适用于精确数值的文字，所以这种文字的最大范围与以前不同。</p><p>
            Values for <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> columns are
            stored using a binary format that packs nine decimal digits into 4
            bytes. The storage requirements for the integer and fractional
            parts of each value are determined separately. Each multiple of
            nine digits requires 4 bytes, and any remaining digits left over
            require some fraction of 4 bytes. The storage required for
            remaining digits is given by the following table.
        </p><p style="color:blue;">十进制列的值使用二进制格式存储，该格式将9个十进制数字压缩为4个字节。每个值的整数部分和小数部分的存储要求分别确定。每9位数字的倍数需要4个字节，任何剩余的数字都需要4个字节的小数。下表给出了剩余数字所需的存储空间。</p>
            <div class="informaltable">
                <table summary="The number of bytes required for remaining/leftover digits in DECIMAL values."><colgroup><col width="25%"><col width="25%"></colgroup><thead><tr>
                    <th scope="col">Leftover Digits</th>
                    <th scope="col">Number of Bytes</th>
                </tr></thead><tbody><tr>
                    <td scope="row">0</td>
                    <td>0</td>
                </tr><tr>
                    <td scope="row">1–2</td>
                    <td>1</td>
                </tr><tr>
                    <td scope="row">3–4</td>
                    <td>2</td>
                </tr><tr>
                    <td scope="row">5–6</td>
                    <td>3</td>
                </tr><tr>
                    <td scope="row">7–9</td>
                    <td>4</td>
                </tr></tbody></table>
            </div>
            <p>
                For example, a <code class="literal">DECIMAL(18,9)</code> column has nine
                digits on either side of the decimal point, so the integer part
                and the fractional part each require 4 bytes. A
                <code class="literal">DECIMAL(20,6)</code> column has fourteen integer
                digits and six fractional digits. The integer digits require four
                bytes for nine of the digits and 3 bytes for the remaining five
                digits. The six fractional digits require 3 bytes.
            </p><p style="color:blue;">例如，decimal（18,9）列的小数点两边各有9位数字，因此整数部分和小数部分各需要4个字节。十进制（20,6）列有14位整数和6位小数。整数位数的9位需要4个字节，其余5位需要3个字节。六位小数需要3个字节。</p><p>
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> columns do not store a
            leading <code class="literal">+</code> character or <code class="literal">-</code>
            character or leading <code class="literal">0</code> digits. If you insert
            <code class="literal">+0003.1</code> into a <code class="literal">DECIMAL(5,1)</code>
            column, it is stored as <code class="literal">3.1</code>. For negative
            numbers, a literal <code class="literal">-</code> character is not stored.
        </p><p style="color:blue;">十进制列不存储前导+字符或-字符或前导0位数字。如果在十进制（5,1）列中插入+0003.1，则存储为3.1。对于负数，不存储文字字符。</p><p>
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> columns do not permit
            values larger than the range implied by the column definition. For
            example, a <code class="literal">DECIMAL(3,0)</code> column supports a range
            of <code class="literal">-999</code> to <code class="literal">999</code>. A
            <code class="literal">DECIMAL(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
            column permits up to <em class="replaceable"><code>M</code></em> -
            <em class="replaceable"><code>D</code></em> digits to the left of the decimal
            point.
        </p><p style="color:blue;">十进制列不允许值大于列定义所隐含的范围。例如，十进制（3,0）列支持-999到999的范围。十进制（M，D）列允许小数点左边最多有M-D位。</p><p>
            The SQL standard requires that the precision of
            <code class="literal">NUMERIC(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
            be <span class="emphasis"><em>exactly</em></span> <em class="replaceable"><code>M</code></em>
            digits. For
            <code class="literal">DECIMAL(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>,
            the standard requires a precision of at least
            <em class="replaceable"><code>M</code></em> digits but permits more. In MySQL,
            <code class="literal">DECIMAL(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
            and
            <code class="literal">NUMERIC(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
            are the same, and both have a precision of exactly
            <em class="replaceable"><code>M</code></em> digits.
        </p><p style="color:blue;">sql标准要求数字（m，d）的精度为m位。对于十进制（m，d），标准要求至少m位的精度，但允许更多的精度。在mysql中，decimal（m，d）和numeric（m，d）是相同的，它们的精度都是m位。</p><p>
            For a full explanation of the internal format of
            <code class="literal">DECIMAL</code> values, see the file
            <code class="filename">strings/decimal.c</code> in a MySQL source
            distribution. The format is explained (with an example) in the
            <code class="literal">decimal2bin()</code> function.
        </p><p style="color:blue;">有关十进制值内部格式的完整说明，请参阅mysql源发行版中的strings/decimal.c文件。该格式在decimal2bin（）函数中进行了说明（并附有示例）。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="precision-math-expressions"></a>12.22.3&nbsp;Expression Handling</h3>

                    </div>

                </div>

            </div>
            <p>
                With precision math, exact-value numbers are used as given
                whenever possible. For example, numbers in comparisons are used
                exactly as given without a change in value. In strict SQL mode,
                for <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> into a column with an
                exact data type (<a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> or
                integer), a number is inserted with its exact value if it is
                within the column range. When retrieved, the value should be the
                same as what was inserted. (If strict SQL mode is not enabled,
                truncation for <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> is
                permissible.)
            </p><p style="color:blue;">在精确数学中，尽可能使用精确的数值。例如，在比较中使用的数字与给定的数字完全相同，而不改变值。在严格的sql模式下，对于插入具有精确数据类型（十进制或整数）的列，如果数字在列范围内，则插入其精确值。检索时，该值应与插入的值相同。（如果未启用strict sql模式，则允许对insert进行截断。）</p><p>
            Handling of a numeric expression depends on what kind of values
            the expression contains:
        </p><p style="color:blue;">对数值表达式的处理取决于表达式包含的值的类型：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If any approximate values are present, the expression is
                    approximate and is evaluated using floating-point arithmetic.
                </p><p style="color:blue;">如果存在任何近似值，表达式是近似的，并使用浮点算术进行评估。</p></li><li class="listitem"><p>
                    If no approximate values are present, the expression contains
                    only exact values. If any exact value contains a fractional
                    part (a value following the decimal point), the expression is
                    evaluated using <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> exact
                    arithmetic and has a precision of 65 digits. The term
                    <span class="quote">“<span class="quote">exact</span>”</span> is subject to the limits of what can be
                    represented in binary. For example, <code class="literal">1.0/3.0</code>
                    can be approximated in decimal notation as
                    <code class="literal">.333...</code>, but not written as an exact
                    number, so <code class="literal">(1.0/3.0)*3.0</code> does not evaluate
                    to exactly <code class="literal">1.0</code>.
                </p><p style="color:blue;">如果不存在近似值，则表达式仅包含精确值。如果任何精确值包含小数部分（小数点后的值），则使用十进制精确算法计算表达式，精度为65位。术语“精确”受二进制表示的限制。例如，1／3可以用十进制记法来近似为333…，但不能作为一个确切的数来写，所以（1／3）* 3不能精确地估计为1。</p></li><li class="listitem"><p>
                    Otherwise, the expression contains only integer values. The
                    expression is exact and is evaluated using integer arithmetic
                    and has a precision the same as
                    <a class="link" href="data-types.html#integer-types" title="11.2.1&nbsp;Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> (64 bits).
                </p><p style="color:blue;">否则，表达式只包含整数值。表达式是精确的，使用整数算法计算，精度与bigint（64位）相同。</p></li></ul>
            </div>
            <p>
                If a numeric expression contains any strings, they are converted
                to double-precision floating-point values and the expression is
                approximate.
            </p><p style="color:blue;">如果数值表达式包含任何字符串，则将它们转换为双精度浮点值，并且表达式是近似的。</p><p>
            Inserts into numeric columns are affected by the SQL mode, which
            is controlled by the <a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>
            system variable. (See <a class="xref" href="server-administration.html#sql-mode" title="5.1.10&nbsp;Server SQL Modes">Section&nbsp;5.1.10, “Server SQL Modes”</a>.) The following
            discussion mentions strict mode (selected by the
            <a class="link" href="server-administration.html#sqlmode_strict_all_tables"><code class="literal">STRICT_ALL_TABLES</code></a> or
            <a class="link" href="server-administration.html#sqlmode_strict_trans_tables"><code class="literal">STRICT_TRANS_TABLES</code></a> mode values)
            and <a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a>.
            To turn on all restrictions, you can simply use
            <a class="link" href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a> mode, which includes
            both strict mode values and
            <a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a>:
        </p><p style="color:blue;">数值列中的插入受SQL模式的影响，该模式由SQL模式系统变量控制。（参见第5.1.10节，“服务器SQL模式”。）下面的讨论提到了严格模式（由strict_all_tables或strict_trans_tables模式值选择）和error_for_division_by_zero。要打开所有限制，您只需使用传统模式，包括严格模式值和按0除的错误：</p><pre data-lang="sql" class="programlisting">SET sql_mode='TRADITIONAL';
</pre><p>
            If a number is inserted into an exact type column
            (<a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> or integer), it is
            inserted with its exact value if it is within the column range and
            precision.
        </p><p style="color:blue;">如果将数字插入精确类型的列（十进制或整数），则在该列的范围和精度内插入该数字及其精确值。</p><p>
            If the value has too many digits in the fractional part, rounding
            occurs and a note is generated. Rounding is done as described in
            <a class="xref" href="functions.html#precision-math-rounding" title="12.22.4&nbsp;Rounding Behavior">Section&nbsp;12.22.4, “Rounding Behavior”</a>. Truncation due to
            rounding of the fractional part is not an error, even in strict
            mode.
        </p><p style="color:blue;">如果该值的小数部分位数过多，则会进行舍入并生成注释。四舍五入按第12.22.4节“四舍五入行为”所述进行。即使在严格模式下，由于小数部分的舍入而导致的截断也不是错误。</p><p>
            If the value has too many digits in the integer part, it is too
            large (out of range) and is handled as follows:
        </p><p style="color:blue;">如果该值的整数部分位数太多，则该值太大（超出范围），处理方法如下：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If strict mode is not enabled, the value is truncated to the
                    nearest legal value and a warning is generated.
                </p><p style="color:blue;">如果未启用严格模式，则该值将被截断为最接近的合法值并生成警告。</p></li><li class="listitem"><p>
                    If strict mode is enabled, an overflow error occurs.
                </p><p style="color:blue;">如果启用了严格模式，则会发生溢出错误。</p></li></ul>
            </div>
            <p>
                Underflow is not detected, so underflow handling is undefined.
            </p><p style="color:blue;">未检测到下溢，因此未定义下溢处理。</p><p>
            For inserts of strings into numeric columns, conversion from
            string to number is handled as follows if the string has
            nonnumeric contents:
        </p><p style="color:blue;">对于将字符串插入数字列，如果字符串包含非数字内容，则按如下方式处理从字符串到数字的转换：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    A string that does not begin with a number cannot be used as a
                    number and produces an error in strict mode, or a warning
                    otherwise. This includes the empty string.
                </p><p style="color:blue;">不以数字开头的字符串不能用作数字，并且在严格模式下会产生错误，否则会发出警告。这包括空字符串。</p></li><li class="listitem"><p>
                    A string that begins with a number can be converted, but the
                    trailing nonnumeric portion is truncated. If the truncated
                    portion contains anything other than spaces, this produces an
                    error in strict mode, or a warning otherwise.
                </p><p style="color:blue;">可以转换以数字开头的字符串，但后面的非数字部分将被截断。如果截断部分包含除空格以外的任何内容，则在严格模式下会产生错误，否则会产生警告。</p></li></ul>
            </div>
            <p>
                By default, division by zero produces a result of
                <code class="literal">NULL</code> and no warning. By setting the SQL mode
                appropriately, division by zero can be restricted.
            </p><p style="color:blue;">默认情况下，“除以零”会产生空结果，并且不会发出警告。通过适当地设置sql模式，可以限制除以零。</p><p>
            With the
            <a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a> SQL
            mode enabled, MySQL handles division by zero differently:
        </p><p style="color:blue;">启用了error_for_division_by_zero sql模式后，mysql以不同的方式处理division by zero：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If strict mode is not enabled, a warning occurs.
                </p><p style="color:blue;">如果未启用严格模式，则会出现警告。</p></li><li class="listitem"><p>
                    If strict mode is enabled, inserts and updates involving
                    division by zero are prohibited, and an error occurs.
                </p><p style="color:blue;">如果启用了严格模式，则禁止插入和更新涉及除以零的内容，并且会发生错误。</p></li></ul>
            </div>
            <p>
                In other words, inserts and updates involving expressions that
                perform division by zero can be treated as errors, but this
                requires
                <a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a> in
                addition to strict mode.
            </p><p style="color:blue;">换言之，可以将涉及执行除法为零的表达式的插入和更新视为错误，但这需要除严格模式外的除法为零的错误。</p><p>
            Suppose that we have this statement:
        </p><p style="color:blue;">假设我们有这样的陈述：</p><pre data-lang="sql" class="programlisting">INSERT INTO t SET i = 1/0;
</pre><p>
            This is what happens for combinations of strict and
            <a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a>
            modes.
        </p><p style="color:blue;">这就是严格模式和误差模式的组合。</p>
            <div class="informaltable">
                <table summary="What happens for combinations of strict and ERROR_FOR_DIVISION_BY_ZERO modes."><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr>
                    <th scope="col"><a class="link" href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> Value</th>
                    <th scope="col">Result</th>
                </tr></thead><tbody><tr>
                    <td scope="row"><code class="literal">''</code> (Default)</td>
                    <td>No warning, no error; <code class="literal">i</code> is set to
                        <code class="literal">NULL</code>.</td>
                </tr><tr>
                    <td scope="row">strict</td>
                    <td>No warning, no error; <code class="literal">i</code> is set to
                        <code class="literal">NULL</code>.</td>
                </tr><tr>
                    <td scope="row"><a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a></td>
                    <td>Warning, no error; <code class="literal">i</code> is set to
                        <code class="literal">NULL</code>.</td>
                </tr><tr>
                    <td scope="row">strict,<a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a></td>
                    <td>Error condition; no row is inserted.</td>
                </tr></tbody></table>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="precision-math-rounding"></a>12.22.4&nbsp;Rounding Behavior</h3>

                    </div>

                </div>

            </div>
            <p>
                This section discusses precision math rounding for the
                <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> function and for inserts
                into columns with exact-value types
                (<a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> and integer).
            </p><p style="color:blue;">本节讨论round（）函数和具有精确值类型（十进制和整数）的列的插入的精确数学舍入。</p><p>
            The <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> function rounds
            differently depending on whether its argument is exact or
            approximate:
        </p><p style="color:blue;">圆（）函数根据其参数是否精确或近似而不同地旋转：</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    For exact-value numbers,
                    <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> uses the <span class="quote">“<span class="quote">round
          half up</span>”</span> rule: A value with a fractional part of .5 or
                    greater is rounded up to the next integer if positive or down
                    to the next integer if negative. (In other words, it is
                    rounded away from zero.) A value with a fractional part less
                    than .5 is rounded down to the next integer if positive or up
                    to the next integer if negative. (In other words, it is
                    rounded toward zero.)
                </p><p style="color:blue;">对于精确的数值，round（）使用“向上舍入一半”规则：小数部分为.5或更大的值，如果为正，则向上舍入到下一个整数；如果为负，则向下舍入到下一个整数。（换言之，从零开始四舍五入。）小数部分小于.5的值，如果为正，则向下舍入到下一个整数；如果为负，则向上舍入到下一个整数。（换句话说，它是向零舍入的。）</p></li><li class="listitem"><p>
                    For approximate-value numbers, the result depends on the C
                    library. On many systems, this means that
                    <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> uses the <span class="quote">“<span class="quote">round
          to nearest even</span>”</span> rule: A value with a fractional part
                    exactly half way between two integers is rounded to the
                    nearest even integer.
                </p><p style="color:blue;">对于近似值数字，结果依赖于C库。在许多系统中，这意味着round（）使用“舍入到最接近的偶数”规则：小数部分正好位于两个整数之间一半的值被舍入到最接近的偶数整数。</p></li></ul>
            </div>
            <p>
                The following example shows how rounding differs for exact and
                approximate values:
            </p><p style="color:blue;">下面的示例显示舍入对于精确值和近似值的不同：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROUND(2.5), ROUND(25E-1);</code></strong>
+------------+--------------+
| ROUND(2.5) | ROUND(25E-1) |
+------------+--------------+
| 3          |            2 |
+------------+--------------+
</pre><p>
            For inserts into a <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> or
            integer column, the target is an exact data type, so rounding uses
            <span class="quote">“<span class="quote">round half away from zero,</span>”</span> regardless of whether
            the value to be inserted is exact or approximate:
        </p><p style="color:blue;">对于插入到十进制或整数列中，目标是一种精确的数据类型，因此舍入使用“从零开始的半圆”，而不管插入的值是精确的还是近似的：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t (d DECIMAL(10,0));</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES(2.5),(2.5E0);</code></strong>
Query OK, 2 rows affected, 2 warnings (0.00 sec)
Records: 2  Duplicates: 0  Warnings: 2

mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
+-------+------+----------------------------------------+
| Level | Code | Message                                |
+-------+------+----------------------------------------+
| Note  | 1265 | Data truncated for column 'd' at row 1 |
| Note  | 1265 | Data truncated for column 'd' at row 2 |
+-------+------+----------------------------------------+
2 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT d FROM t;</code></strong>
+------+
| d    |
+------+
|    3 |
|    3 |
+------+
2 rows in set (0.00 sec)
</pre><p>
            The <a class="link" href="sql-syntax.html#show-warnings" title="13.7.5.40&nbsp;SHOW WARNINGS Syntax"><code class="literal">SHOW WARNINGS</code></a> statement
            displays the notes that are generated by truncation due to
            rounding of the fractional part. Such truncation is not an error,
            even in strict SQL mode (see
            <a class="xref" href="functions.html#precision-math-expressions" title="12.22.3&nbsp;Expression Handling">Section&nbsp;12.22.3, “Expression Handling”</a>).
        </p><p style="color:blue;">show warnings语句显示由于小数部分舍入而被截断生成的注释。即使在严格的sql模式下，这种截断也不是错误（请参阅第12.22.3节“表达式处理”）。</p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="precision-math-examples"></a>12.22.5&nbsp;Precision Math Examples</h3>

                    </div>

                </div>

            </div>
            <p>
                This section provides some examples that show precision math query
                results in MySQL. These examples demonstrate the principles
                described in <a class="xref" href="functions.html#precision-math-expressions" title="12.22.3&nbsp;Expression Handling">Section&nbsp;12.22.3, “Expression Handling”</a>, and
                <a class="xref" href="functions.html#precision-math-rounding" title="12.22.4&nbsp;Rounding Behavior">Section&nbsp;12.22.4, “Rounding Behavior”</a>.
            </p><p style="color:blue;">本节提供一些示例，展示MySQL中的精确数学查询结果。这些示例演示了第12.22.3节“表达式处理”和第12.22.4节“舍入行为”中描述的原则。</p><p>
            <span class="bold"><strong>Example 1</strong></span>. Numbers are used with
            their exact value as given when possible:
        </p><p style="color:blue;">例1。在可能的情况下，数字与其精确值一起使用：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT (.1 + .2) = .3;</code></strong>
+----------------+
| (.1 + .2) = .3 |
+----------------+
|              1 |
+----------------+
</pre><p>
            For floating-point values, results are inexact:
        </p><p style="color:blue;">对于浮点值，结果是不精确的：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT (.1E0 + .2E0) = .3E0;</code></strong>
+----------------------+
| (.1E0 + .2E0) = .3E0 |
+----------------------+
|                    0 |
+----------------------+
</pre><p>
            Another way to see the difference in exact and approximate value
            handling is to add a small number to a sum many times. Consider
            the following stored procedure, which adds
            <code class="literal">.0001</code> to a variable 1,000 times.
        </p><p style="color:blue;">另一种在精确和近似值处理中看出差异的方法是把一个小数加到许多次中。考虑下面的存储过程，它将.0001添加到变量1000次。</p><pre data-lang="sql" class="programlisting">CREATE PROCEDURE p ()
BEGIN
  DECLARE i INT DEFAULT 0;
  DECLARE d DECIMAL(10,4) DEFAULT 0;
  DECLARE f FLOAT DEFAULT 0;
  WHILE i &lt; 10000 DO
    SET d = d + .0001;
    SET f = f + .0001E0;
    SET i = i + 1;
  END WHILE;
  SELECT d, f;
END;
</pre><p>
            The sum for both <code class="literal">d</code> and <code class="literal">f</code>
            logically should be 1, but that is true only for the decimal
            calculation. The floating-point calculation introduces small
            errors:
        </p><p style="color:blue;">在逻辑上，d和f的和都应为1，但这仅适用于十进制计算。浮点计算引入了小误差：</p><pre data-lang="none" class="programlisting">+--------+------------------+
| d      | f                |
+--------+------------------+
| 1.0000 | 0.99999999999991 |
+--------+------------------+
</pre><p>
            <span class="bold"><strong>Example 2</strong></span>. Multiplication is
            performed with the scale required by standard SQL. That is, for
            two numbers <em class="replaceable"><code>X1</code></em> and
            <em class="replaceable"><code>X2</code></em> that have scale
            <em class="replaceable"><code>S1</code></em> and <em class="replaceable"><code>S2</code></em>,
            the scale of the result is <code class="literal"><em class="replaceable"><code>S1</code></em>
            + <em class="replaceable"><code>S2</code></em></code>:
        </p><p style="color:blue;">例2。乘法是按照标准sql所要求的比例执行的。也就是说，对于具有刻度s1和s2的两个数字x1和x2，结果的刻度是s1+s2：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT .01 * .01;</code></strong>
+-----------+
| .01 * .01 |
+-----------+
| 0.0001    |
+-----------+
</pre><p>
            <span class="bold"><strong>Example 3</strong></span>. Rounding behavior for
            exact-value numbers is well-defined:
        </p><p style="color:blue;">例3。精确值数字的舍入行为定义良好：</p><p>
            Rounding behavior (for example, with the
            <a class="link" href="functions.html#function_round"><code class="literal">ROUND()</code></a> function) is independent of
            the implementation of the underlying C library, which means that
            results are consistent from platform to platform.
        </p><p style="color:blue;">舍入行为（例如，使用round（）函数）独立于底层C库的实现，这意味着不同平台的结果是一致的。</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Rounding for exact-value columns
                    (<a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a> and integer) and
                    exact-valued numbers uses the <span class="quote">“<span class="quote">round half away from
          zero</span>”</span> rule. A value with a fractional part of .5 or
                    greater is rounded away from zero to the nearest integer, as
                    shown here:
                </p><p style="color:blue;">精确值列（十进制和整数）和精确值数字的舍入使用“舍入到零的一半”规则。小数部分为.5或更大的值从零舍入到最接近的整数，如下所示：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROUND(2.5), ROUND(-2.5);</code></strong>
+------------+-------------+
| ROUND(2.5) | ROUND(-2.5) |
+------------+-------------+
| 3          | -3          |
+------------+-------------+
</pre></li><li class="listitem"><p>
                    Rounding for floating-point values uses the C library, which
                    on many systems uses the <span class="quote">“<span class="quote">round to nearest even</span>”</span>
                    rule. A value with a fractional part exactly half way between
                    two integers is rounded to the nearest even integer:
                </p><p style="color:blue;">浮点值的舍入使用C库，在许多系统上，C库使用“舍入到最接近的偶数”规则。小数部分正好位于两个整数中间的值四舍五入为最接近的偶数整数：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROUND(2.5E0), ROUND(-2.5E0);</code></strong>
+--------------+---------------+
| ROUND(2.5E0) | ROUND(-2.5E0) |
+--------------+---------------+
|            2 |            -2 |
+--------------+---------------+
</pre></li></ul>
            </div>
            <p>
                <span class="bold"><strong>Example 4</strong></span>. In strict mode,
                inserting a value that is out of range for a column causes an
                error, rather than truncation to a legal value.
            </p><p style="color:blue;">例4。在严格模式下，插入超出列范围的值会导致错误，而不是截断为合法值。</p><p>
            When MySQL is not running in strict mode, truncation to a legal
            value occurs:
        </p><p style="color:blue;">当mysql不在严格模式下运行时，将发生对合法值的截断：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_mode='';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>CREATE TABLE t (i TINYINT);</code></strong>
Query OK, 0 rows affected (0.01 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t SET i = 128;</code></strong>
Query OK, 1 row affected, 1 warning (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT i FROM t;</code></strong>
+------+
| i    |
+------+
|  127 |
+------+
1 row in set (0.00 sec)
</pre><p>
            However, an error occurs if strict mode is in effect:
        </p><p style="color:blue;">但是，如果“严格”模式有效，则会发生错误：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_mode='STRICT_ALL_TABLES';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>CREATE TABLE t (i TINYINT);</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t SET i = 128;</code></strong>
ERROR 1264 (22003): Out of range value adjusted for column 'i' at row 1

mysql&gt; <strong class="userinput"><code>SELECT i FROM t;</code></strong>
Empty set (0.00 sec)
</pre><p>
            <span class="bold"><strong>Example 5</strong></span>: In strict mode and
            with <a class="link" href="server-administration.html#sqlmode_error_for_division_by_zero"><code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code></a>
            set, division by zero causes an error, not a result of
            <code class="literal">NULL</code>.
        </p><p style="color:blue;">例5：在严格模式下，如果除法为零集，除法为零会导致错误，而不是空的结果。</p><p>
            In nonstrict mode, division by zero has a result of
            <code class="literal">NULL</code>:
        </p><p style="color:blue;">在非严格模式下，除以零的结果为空：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_mode='';</code></strong>
Query OK, 0 rows affected (0.01 sec)

mysql&gt; <strong class="userinput"><code>CREATE TABLE t (i TINYINT);</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t SET i = 1 / 0;</code></strong>
Query OK, 1 row affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT i FROM t;</code></strong>
+------+
| i    |
+------+
| NULL |
+------+
1 row in set (0.03 sec)
</pre><p>
            However, division by zero is an error if the proper SQL modes are
            in effect:
        </p><p style="color:blue;">但是，如果正确的SQL模式有效，则除以零是一个错误：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET sql_mode='STRICT_ALL_TABLES,ERROR_FOR_DIVISION_BY_ZERO';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>CREATE TABLE t (i TINYINT);</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t SET i = 1 / 0;</code></strong>
ERROR 1365 (22012): Division by 0

mysql&gt; <strong class="userinput"><code>SELECT i FROM t;</code></strong>
Empty set (0.01 sec)
</pre><p>
            <span class="bold"><strong>Example 6</strong></span>. Exact-value literals
            are evaluated as exact values.
        </p><p style="color:blue;">例6。精确值文本被计算为精确值。</p><p>
            Approximate-value literals are evaluated using floating point, but
            exact-value literals are handled as
            <a class="link" href="data-types.html#fixed-point-types" title="11.2.2&nbsp;Fixed-Point Types (Exact Value) - DECIMAL, NUMERIC"><code class="literal">DECIMAL</code></a>:
        </p><p style="color:blue;">使用浮点来评估近似值文字，但将精确值文字处理为十进制：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t SELECT 2.5 AS a, 25E-1 AS b;</code></strong>
Query OK, 1 row affected (0.01 sec)
Records: 1  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>DESCRIBE t;</code></strong>
+-------+-----------------------+------+-----+---------+-------+
| Field | Type                  | Null | Key | Default | Extra |
+-------+-----------------------+------+-----+---------+-------+
| a     | decimal(2,1) unsigned | NO   |     | 0.0     |       |
| b     | double                | NO   |     | 0       |       |
+-------+-----------------------+------+-----+---------+-------+
2 rows in set (0.01 sec)
</pre><p>
            <span class="bold"><strong>Example 7</strong></span>. If the argument to an
            aggregate function is an exact numeric type, the result is also an
            exact numeric type, with a scale at least that of the argument.
        </p><p style="color:blue;">例7。如果聚合函数的参数是精确数值类型，则结果也是精确数值类型，其比例至少与参数的比例相同。</p><p>
            Consider these statements:
        </p><p style="color:blue;">请考虑以下声明：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t (i INT, d DECIMAL, f FLOAT);</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES(1,1,1);</code></strong>
mysql&gt; <strong class="userinput"><code>CREATE TABLE y SELECT AVG(i), AVG(d), AVG(f) FROM t;</code></strong>
</pre><p>
            The result is a double only for the floating-point argument. For
            exact type arguments, the result is also an exact type:
        </p><p style="color:blue;">结果是浮点参数的双精度。对于精确类型参数，结果也是精确类型：</p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>DESCRIBE y;</code></strong>
+--------+---------------+------+-----+---------+-------+
| Field  | Type          | Null | Key | Default | Extra |
+--------+---------------+------+-----+---------+-------+
| AVG(i) | decimal(14,4) | YES  |     | NULL    |       |
| AVG(d) | decimal(14,4) | YES  |     | NULL    |       |
| AVG(f) | double        | YES  |     | NULL    |       |
+--------+---------------+------+-----+---------+-------+
</pre><p>
            The result is a double only for the floating-point argument. For
            exact type arguments, the result is also an exact type.
        </p><p style="color:blue;">结果是浮点参数的双精度。对于精确类型参数，结果也是精确类型。</p>
        </div>

    </div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
    <hr>
    <table width="100%" summary="Navigation footer">
        <tbody><tr>
            <td width="40%" align="left"><a accesskey="p" href="data-types.html">Prev</a></td>
            <td width="20%" align="center"><a accesskey="u" href="">Up</a></td>
            <td width="40%" align="right">&nbsp;<a accesskey="n" href="sql-syntax.html">Next</a></td>
        </tr>
        <tr>
            <td width="40%" align="left" valign="top">Chapter&nbsp;11 Data Types</td>
            <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
            <td width="40%" align="right" valign="top">Chapter&nbsp;13 SQL Statement Syntax</td>
        </tr>
        </tbody></table>
</div>


</body></html>
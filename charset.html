<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Chapter&nbsp;10 Character Sets, Collations, Unicode</title>
    <link rel="stylesheet" href="mvl.css" type="text/css">
    <meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2">
    <link rel="start" href="index.html" title="{book-title}">
    <link rel="up" href="" title="">
    <link rel="prev" href="language-structure.html" title="Chapter&nbsp;9 Language Structure">
    <link rel="next" href="data-types.html" title="Chapter&nbsp;11 Data Types">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script></head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
    <table width="100%" summary="Navigation header">
        <tbody><tr>
            <th colspan="3" align="center">Chapter&nbsp;10 Character Sets, Collations, Unicode</th>
        </tr>
        <tr>
            <td width="20%" align="left"><a accesskey="p" href="language-structure.html">Prev</a>&nbsp;</td>
            <th width="60%" align="center"></th>
            <td width="20%" align="right">&nbsp;<a accesskey="n" href="data-types.html">Next</a></td>
        </tr>
        </tbody></table>
    <hr>
</div>
<div class="chapter">
    <div class="titlepage">
        <div>
            <div>
                <h1 class="title"><a name="charset"></a>Chapter&nbsp;10&nbsp;Character Sets, Collations, Unicode</h1>

            </div>

        </div>

    </div>
    <div class="toc">
        <p><b>Table of Contents</b></p><p style="color:blue;">目录</p><p></p><dl class="toc"><dt><span class="section"><a href="charset.html#charset-general">10.1 Character Sets and Collations in General</a></span></dt><dt><span class="section"><a href="charset.html#charset-mysql">10.2 Character Sets and Collations in MySQL</a></span></dt><dd><dl><dt><span class="section"><a href="charset.html#charset-repertoire">10.2.1 Character Set Repertoire</a></span></dt><dt><span class="section"><a href="charset.html#charset-metadata">10.2.2 UTF-8 for Metadata</a></span></dt></dl></dd><dt><span class="section"><a href="charset.html#charset-syntax">10.3 Specifying Character Sets and Collations</a></span></dt><dd><dl><dt><span class="section"><a href="charset.html#charset-collation-names">10.3.1 Collation Naming Conventions</a></span></dt><dt><span class="section"><a href="charset.html#charset-server">10.3.2 Server Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-database">10.3.3 Database Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-table">10.3.4 Table Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-column">10.3.5 Column Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-literal">10.3.6 Character String Literal Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-national">10.3.7 The National Character Set</a></span></dt><dt><span class="section"><a href="charset.html#charset-introducer">10.3.8 Character Set Introducers</a></span></dt><dt><span class="section"><a href="charset.html#charset-examples">10.3.9 Examples of Character Set and Collation Assignment</a></span></dt><dt><span class="section"><a href="charset.html#charset-compatibility">10.3.10 Compatibility with Other DBMSs</a></span></dt></dl></dd><dt><span class="section"><a href="charset.html#charset-connection">10.4 Connection Character Sets and Collations</a></span></dt><dt><span class="section"><a href="charset.html#charset-applications">10.5 Configuring Application Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-errors">10.6 Error Message Character Set</a></span></dt><dt><span class="section"><a href="charset.html#charset-conversion">10.7 Column Character Set Conversion</a></span></dt><dt><span class="section"><a href="charset.html#charset-collations">10.8 Collation Issues</a></span></dt><dd><dl><dt><span class="section"><a href="charset.html#charset-collate">10.8.1 Using COLLATE in SQL Statements</a></span></dt><dt><span class="section"><a href="charset.html#charset-collate-precedence">10.8.2 COLLATE Clause Precedence</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-compatibility">10.8.3 Character Set and Collation Compatibility</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-coercibility">10.8.4 Collation Coercibility in Expressions</a></span></dt><dt><span class="section"><a href="charset.html#charset-binary-collations">10.8.5 The binary Collation Compared to _bin Collations</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-effect">10.8.6 Examples of the Effect of Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-information-schema">10.8.7 Using Collation in INFORMATION_SCHEMA Searches</a></span></dt></dl></dd><dt><span class="section"><a href="charset.html#charset-unicode">10.9 Unicode Support</a></span></dt><dd><dl><dt><span class="section"><a href="charset.html#charset-unicode-utf8mb4">10.9.1 The utf8mb4 Character Set (4-Byte UTF-8 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf8mb3">10.9.2 The utf8mb3 Character Set (3-Byte UTF-8 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf8">10.9.3 The utf8 Character Set (Alias for utf8mb3)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-ucs2">10.9.4 The ucs2 Character Set (UCS-2 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf16">10.9.5 The utf16 Character Set (UTF-16 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf16le">10.9.6 The utf16le Character Set (UTF-16LE Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf32">10.9.7 The utf32 Character Set (UTF-32 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-conversion">10.9.8 Converting Between 3-Byte and 4-Byte Unicode Character Sets</a></span></dt></dl></dd><dt><span class="section"><a href="charset.html#charset-charsets">10.10 Supported Character Sets and Collations</a></span></dt><dd><dl><dt><span class="section"><a href="charset.html#charset-unicode-sets">10.10.1 Unicode Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-we-sets">10.10.2 West European Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-ce-sets">10.10.3 Central European Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-se-me-sets">10.10.4 South European and Middle East Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-baltic-sets">10.10.5 Baltic Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-cyrillic-sets">10.10.6 Cyrillic Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-asian-sets">10.10.7 Asian Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-binary-set">10.10.8 The Binary Character Set</a></span></dt></dl></dd><dt><span class="section"><a href="charset.html#charset-restrictions">10.11 Restrictions on Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#error-message-language">10.12 Setting the Error Message Language</a></span></dt><dt><span class="section"><a href="charset.html#adding-character-set">10.13 Adding a Character Set</a></span></dt><dd><dl><dt><span class="section"><a href="charset.html#character-arrays">10.13.1 Character Definition Arrays</a></span></dt><dt><span class="section"><a href="charset.html#string-collating">10.13.2 String Collating Support for Complex Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#multibyte-characters">10.13.3 Multi-Byte Character Support for Complex Character Sets</a></span></dt></dl></dd><dt><span class="section"><a href="charset.html#adding-collation">10.14 Adding a Collation to a Character Set</a></span></dt><dd><dl><dt><span class="section"><a href="charset.html#charset-collation-implementations">10.14.1 Collation Implementation Types</a></span></dt><dt><span class="section"><a href="charset.html#adding-collation-choosing-id">10.14.2 Choosing a Collation ID</a></span></dt><dt><span class="section"><a href="charset.html#adding-collation-simple-8bit">10.14.3 Adding a Simple Collation to an 8-Bit Character Set</a></span></dt><dt><span class="section"><a href="charset.html#adding-collation-unicode-uca">10.14.4 Adding a UCA Collation to a Unicode Character Set</a></span></dt></dl></dd><dt><span class="section"><a href="charset.html#charset-configuration">10.15 Character Set Configuration</a></span></dt><dt><span class="section"><a href="charset.html#locale-support">10.16 MySQL Server Locale Support</a></span></dt></dl>
    </div>
    <a class="indexterm" name="idm140286865392256"></a><a class="indexterm" name="idm140286865391216"></a><a class="indexterm" name="idm140286865390144"></a><a class="indexterm" name="idm140286865389072"></a><a class="indexterm" name="idm140286865388000"></a><p>
    MySQL includes character set support that enables you to store data
    using a variety of character sets and perform comparisons according
    to a variety of collations. You can specify character sets at the
    server, database, table, and column level.
</p><p style="color:blue;">mysql包含字符集支持，使您能够使用各种字符集存储数据，并根据各种排序规则执行比较。可以在服务器、数据库、表和列级别指定字符集。</p><p></p><p>
    This chapter discusses the following topics:
</p><p style="color:blue;">本章讨论以下主题：</p><p></p>
    <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            What are character sets and collations?
        </p><p style="color:blue;">什么是字符集和排序规则？</p><p></p></li><li class="listitem"><p>
            The multiple-level default system for character set assignment.
        </p><p style="color:blue;">字符集分配的多级默认系统。</p><p></p></li><li class="listitem"><p>
            Syntax for specifying character sets and collations.
        </p><p style="color:blue;">指定字符集和排序规则的语法。</p><p></p></li><li class="listitem"><p>
            Affected functions and operations.
        </p><p style="color:blue;">受影响的功能和操作。</p><p></p></li><li class="listitem"><p>
            Unicode support.
        </p><p style="color:blue;">Unicode支持。</p><p></p></li><li class="listitem"><p>
            The character sets and collations that are available, with
            notes.
        </p><p style="color:blue;">可用的字符集和排序规则，带有注释。</p><p></p></li><li class="listitem"><p>
            Selecting the language for error messages.
        </p><p style="color:blue;">选择错误消息的语言。</p><p></p></li><li class="listitem"><p>
            Selecting the locale for day and month names.
        </p><p style="color:blue;">为日和月名称选择区域设置。</p><p></p></li></ul>
    </div>
    <p>
        Character set issues affect not only data storage, but also
        communication between client programs and the MySQL server. If you
        want the client program to communicate with the server using a
        character set different from the default, you'll need to indicate
        which one. For example, to use the <code class="literal">utf8</code> Unicode
        character set, issue this statement after connecting to the server:
    </p><p style="color:blue;">字符集问题不仅影响数据存储，还影响客户端程序与mysql服务器之间的通信。如果希望客户机程序使用不同于默认值的字符集与服务器通信，则需要指明哪一个字符集。例如，要使用utf8 unicode字符集，请在连接到服务器后发出以下语句：</p><p></p><pre data-lang="sql" class="programlisting">SET NAMES 'utf8';
</pre><p>
    For more information about configuring character sets for
    application use and character set-related issues in client/server
    communication, see <a class="xref" href="charset.html#charset-applications" title="10.5&nbsp;Configuring Application Character Set and Collation">Section&nbsp;10.5, “Configuring Application Character Set and Collation”</a>, and
    <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>.
</p><p style="color:blue;">有关为客户端/服务器通信中的应用程序使用和字符集相关问题配置字符集的详细信息，请参阅第10.5节“配置应用程序字符集和排序规则”和第10.4节“连接字符集和排序规则”。</p><p></p>
    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-general"></a>10.1&nbsp;Character Sets and Collations in General</h2>
                </div>
            </div>
        </div>
        <p>
            A <span class="firstterm">character set</span> is a set of
            symbols and encodings. A
            <span class="firstterm">collation</span> is a set of rules
            for comparing characters in a character set. Let's make the
            distinction clear with an example of an imaginary character set.
        </p><p style="color:blue;">字符集是一组符号和编码。排序规则是一组用于比较字符集中字符的规则。让我们用一个虚构的字符集的例子来说明这个区别。</p><p></p><p>
        Suppose that we have an alphabet with four letters:
        <code class="literal">A</code>, <code class="literal">B</code>, <code class="literal">a</code>,
        <code class="literal">b</code>. We give each letter a number:
        <code class="literal">A</code> = 0, <code class="literal">B</code> = 1,
        <code class="literal">a</code> = 2, <code class="literal">b</code> = 3. The letter
        <code class="literal">A</code> is a symbol, the number 0 is the
        <span class="emphasis"><em>encoding</em></span> for <code class="literal">A</code>, and the
        combination of all four letters and their encodings is a
        <span class="emphasis"><em>character set</em></span>.
    </p><p style="color:blue;">假设我们有一个四个字母的字母表：A，B，A，B。我们给每个字母一个数字：A=0，B=1，A=2，B=3。字母A是一个符号，数字0是A的编码，四个字母及其编码的组合是一个字符集。</p><p></p><p>
        Suppose that we want to compare two string values,
        <code class="literal">A</code> and <code class="literal">B</code>. The simplest way to
        do this is to look at the encodings: 0 for <code class="literal">A</code>
        and 1 for <code class="literal">B</code>. Because 0 is less than 1, we say
        <code class="literal">A</code> is less than <code class="literal">B</code>. What we've
        just done is apply a collation to our character set. The collation
        is a set of rules (only one rule in this case): <span class="quote">“<span class="quote">compare the
      encodings.</span>”</span> We call this simplest of all possible
        collations a <span class="firstterm">binary</span>
        collation.
    </p><p style="color:blue;">假设我们要比较两个字符串值A和B。最简单的方法是查看编码：A为0，B为1。因为0小于1，我们说A小于B。我们刚刚做的是对字符集应用排序规则。排序规则是一组规则（在这种情况下只有一个规则）：“比较编码”。我们称这种最简单的排序规则为二进制排序规则。</p><p></p><p>
        But what if we want to say that the lowercase and uppercase
        letters are equivalent? Then we would have at least two rules: (1)
        treat the lowercase letters <code class="literal">a</code> and
        <code class="literal">b</code> as equivalent to <code class="literal">A</code> and
        <code class="literal">B</code>; (2) then compare the encodings. We call this
        a <span class="firstterm">case-insensitive</span>
        collation. It is a little more complex than a binary collation.
    </p><p style="color:blue;">但是如果我们想说小写字母和大写字母是等价的呢？然后我们至少有两个规则：（1）将小写字母a和b视为a和b的等价物；（2）然后比较编码。我们称之为不区分大小写的排序规则。它比二进制排序规则稍微复杂一点。</p><p></p><p>
        In real life, most character sets have many characters: not just
        <code class="literal">A</code> and <code class="literal">B</code> but whole alphabets,
        sometimes multiple alphabets or eastern writing systems with
        thousands of characters, along with many special symbols and
        punctuation marks. Also in real life, most collations have many
        rules, not just for whether to distinguish lettercase, but also
        for whether to distinguish accents (an <span class="quote">“<span class="quote">accent</span>”</span> is a
        mark attached to a character as in German <code class="literal">Ö</code>),
        and for multiple-character mappings (such as the rule that
        <code class="literal">Ö</code> = <code class="literal">OE</code> in one of the two
        German collations).
    </p><p style="color:blue;">在现实生活中，大多数字符集都有许多字符：不仅仅是a和b，还有整个字母表，有时还有多个字母表或数千个字符的东方书写系统，还有许多特殊的符号和标点符号。同样在现实生活中，大多数排序规则都有很多规则，不仅仅是区分字母大小写，还包括是否区分重音（“重音”是附加在字符上的标记，如德语中的_），以及多字符映射（如两个德语排序规则之一中的_=oE的规则）。</p><p></p><p>
        MySQL can do these things for you:
    </p><p style="color:blue;">mysql可以为您做以下事情：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Store strings using a variety of character sets.
            </p><p style="color:blue;">使用各种字符集存储字符串。</p><p></p></li><li class="listitem"><p>
                Compare strings using a variety of collations.
            </p><p style="color:blue;">使用各种排序规则比较字符串。</p><p></p></li><li class="listitem"><p>
                Mix strings with different character sets or collations in the
                same server, the same database, or even the same table.
            </p><p style="color:blue;">在同一个服务器、同一个数据库甚至同一个表中混合具有不同字符集或排序规则的字符串。</p><p></p></li><li class="listitem"><p>
                Enable specification of character set and collation at any
                level.
            </p><p style="color:blue;">在任何级别启用字符集和排序规则的规范。</p><p></p></li></ul>
        </div>
        <p>
            To use these features effectively, you must know what character
            sets and collations are available, how to change the defaults, and
            how they affect the behavior of string operators and functions.
        </p><p style="color:blue;">要有效地使用这些功能，必须知道哪些字符集和排序规则可用，如何更改默认值，以及它们如何影响字符串运算符和函数的行为。</p><p></p>
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-mysql"></a>10.2&nbsp;Character Sets and Collations in MySQL</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="charset.html#charset-repertoire">10.2.1 Character Set Repertoire</a></span></dt><dt><span class="section"><a href="charset.html#charset-metadata">10.2.2 UTF-8 for Metadata</a></span></dt></dl>
        </div>
        <p>
            MySQL Server supports multiple character sets. To display the
            available character sets, use the
            <code class="literal">INFORMATION_SCHEMA</code>
            <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table or the
            <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER SET</code></a> statement. A
            partial listing follows. For more complete information, see
            <a class="xref" href="charset.html#charset-charsets" title="10.10&nbsp;Supported Character Sets and Collations">Section&nbsp;10.10, “Supported Character Sets and Collations”</a>.
        </p><p style="color:blue;">mysql服务器支持多个字符集。要显示可用的字符集，请使用信息架构字符集表或show character set语句。下面是一个部分列表。有关详细信息，请参阅第10.10节“支持的字符集和排序规则”。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW CHARACTER SET;</code></strong>
+----------+---------------------------------+---------------------+--------+
| Charset  | Description                     | Default collation   | Maxlen |
+----------+---------------------------------+---------------------+--------+
| big5     | Big5 Traditional Chinese        | big5_chinese_ci     |      2 |
...
| latin1   | cp1252 West European            | latin1_swedish_ci   |      1 |
| latin2   | ISO 8859-2 Central European     | latin2_general_ci   |      1 |
...
| utf8     | UTF-8 Unicode                   | utf8_general_ci     |      3 |
| ucs2     | UCS-2 Unicode                   | ucs2_general_ci     |      2 |
...
| utf8mb4  | UTF-8 Unicode                   | utf8mb4_general_ci  |      4 |
...
| binary   | Binary pseudo charset           | binary              |      1 |
...
</pre><p>
        By default, the <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER SET</code></a>
        statement displays all available character sets. It takes an
        optional <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> or
        <code class="literal">WHERE</code> clause that indicates which character set
        names to match. For example:
    </p><p style="color:blue;">默认情况下，show character set语句显示所有可用的字符集。它接受一个可选的like或where子句，该子句指示要匹配的字符集名称。例如：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW CHARACTER SET LIKE 'latin%';</code></strong>
+---------+-----------------------------+-------------------+--------+
| Charset | Description                 | Default collation | Maxlen |
+---------+-----------------------------+-------------------+--------+
| latin1  | cp1252 West European        | latin1_swedish_ci |      1 |
| latin2  | ISO 8859-2 Central European | latin2_general_ci |      1 |
| latin5  | ISO 8859-9 Turkish          | latin5_turkish_ci |      1 |
| latin7  | ISO 8859-13 Baltic          | latin7_general_ci |      1 |
+---------+-----------------------------+-------------------+--------+
</pre><p>
        A given character set always has at least one collation, and most
        character sets have several. To list the display collations for a
        character set, use the <code class="literal">INFORMATION_SCHEMA</code>
        <a class="link" href="information-schema.html#collations-table" title="24.3&nbsp;The INFORMATION_SCHEMA COLLATIONS Table"><code class="literal">COLLATIONS</code></a> table or the
        <a class="link" href="sql-syntax.html#show-collation" title="13.7.5.4&nbsp;SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> statement.
    </p><p style="color:blue;">给定的字符集总是至少有一个排序规则，而大多数字符集都有几个排序规则。要列出字符集的显示排序规则，请使用信息架构排序规则表或show collation语句。</p><p></p><p>
        By default, the <a class="link" href="sql-syntax.html#show-collation" title="13.7.5.4&nbsp;SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a>
        statement displays all available collations. It takes an optional
        <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> or <code class="literal">WHERE</code>
        clause that indicates which collation names to display. For
        example, to see the collations for the default character set,
        <code class="literal">latin1</code> (cp1252 West European), use this
        statement:
    </p><p style="color:blue;">默认情况下，show collation语句显示所有可用的排序规则。它接受一个可选的like或where子句，该子句指示要显示的排序规则名称。例如，要查看默认字符集latin1（cp1252西欧）的排序规则，请使用以下语句：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW COLLATION WHERE Charset = 'latin1';</code></strong>
+-------------------+---------+----+---------+----------+---------+
| Collation         | Charset | Id | Default | Compiled | Sortlen |
+-------------------+---------+----+---------+----------+---------+
| latin1_german1_ci | latin1  |  5 |         | Yes      |       1 |
| latin1_swedish_ci | latin1  |  8 | Yes     | Yes      |       1 |
| latin1_danish_ci  | latin1  | 15 |         | Yes      |       1 |
| latin1_german2_ci | latin1  | 31 |         | Yes      |       2 |
| latin1_bin        | latin1  | 47 |         | Yes      |       1 |
| latin1_general_ci | latin1  | 48 |         | Yes      |       1 |
| latin1_general_cs | latin1  | 49 |         | Yes      |       1 |
| latin1_spanish_ci | latin1  | 94 |         | Yes      |       1 |
+-------------------+---------+----+---------+----------+---------+
</pre><p>
        The <code class="literal">latin1</code> collations have the following
        meanings.
    </p><p style="color:blue;">拉丁文校勘具有以下含义。</p><p></p><a class="indexterm" name="idm140286865313872"></a><a class="indexterm" name="idm140286865312784"></a><a class="indexterm" name="idm140286865311696"></a><a class="indexterm" name="idm140286865310608"></a>
        <div class="informaltable">
            <table summary="latin1 character set collations, as described in the preceding example, and the meaning of each collation."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
                <th scope="col">Collation</th>
                <th scope="col">Meaning</th>
            </tr></thead><tbody><tr>
                <td scope="row"><code class="literal">latin1_bin</code></td>
                <td>Binary according to <code class="literal">latin1</code> encoding</td>
            </tr><tr>
                <td scope="row"><code class="literal">latin1_danish_ci</code></td>
                <td>Danish/Norwegian</td>
            </tr><tr>
                <td scope="row"><code class="literal">latin1_general_ci</code></td>
                <td>Multilingual (Western European)</td>
            </tr><tr>
                <td scope="row"><code class="literal">latin1_general_cs</code></td>
                <td>Multilingual (ISO Western European), case-sensitive</td>
            </tr><tr>
                <td scope="row"><code class="literal">latin1_german1_ci</code></td>
                <td>German DIN-1 (dictionary order)</td>
            </tr><tr>
                <td scope="row"><code class="literal">latin1_german2_ci</code></td>
                <td>German DIN-2 (phone book order)</td>
            </tr><tr>
                <td scope="row"><code class="literal">latin1_spanish_ci</code></td>
                <td>Modern Spanish</td>
            </tr><tr>
                <td scope="row"><code class="literal">latin1_swedish_ci</code></td>
                <td>Swedish/Finnish</td>
            </tr></tbody></table>
        </div>
        <p>
            Collations have these general characteristics:
        </p><p style="color:blue;">排序规则具有以下一般特征：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Two different character sets cannot have the same collation.
            </p><p style="color:blue;">两个不同的字符集不能具有相同的排序规则。</p><p></p></li><li class="listitem"><p>
                Each character set has a <span class="emphasis"><em>default
          collation</em></span>. For example, the default collations for
                <code class="literal">latin1</code> and <code class="literal">utf8</code> are
                <code class="literal">latin1_swedish_ci</code> and
                <code class="literal">utf8_general_ci</code>, respectively. The
                <code class="literal">INFORMATION_SCHEMA</code>
                <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table and the
                <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER SET</code></a> statement
                indicate the default collation for each character set. The
                <code class="literal">INFORMATION_SCHEMA</code>
                <a class="link" href="information-schema.html#collations-table" title="24.3&nbsp;The INFORMATION_SCHEMA COLLATIONS Table"><code class="literal">COLLATIONS</code></a> table and the
                <a class="link" href="sql-syntax.html#show-collation" title="13.7.5.4&nbsp;SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> statement have a
                column that indicates for each collation whether it is the
                default for its character set (<code class="literal">Yes</code> if so,
                empty if not).
            </p><p style="color:blue;">每个字符集都有一个默认的排序规则。例如，latin1和utf8的默认排序规则分别是latin1_-swedish_-ci和utf8_-general_-ci。information_schema character_sets表和show character set语句指示每个字符集的默认排序规则。information_schema collations表和show collation语句有一个列，指示每个排序规则是否是其字符集的默认值（如果是，则为空）。</p><p></p></li><li class="listitem"><p>
                Collation names start with the name of the character set with
                which they are associated, generally followed by one or more
                suffixes indicating other collation characteristics. For
                additional information about naming conventions, see
                <a class="xref" href="charset.html#charset-collation-names" title="10.3.1&nbsp;Collation Naming Conventions">Section&nbsp;10.3.1, “Collation Naming Conventions”</a>.
            </p><p style="color:blue;">排序规则名称以与之关联的字符集的名称开头，通常后跟一个或多个表示其他排序规则特征的后缀。有关命名约定的其他信息，请参见第10.3.1节“排序规则命名约定”。</p><p></p></li></ul>
        </div>
        <p>
            When a character set has multiple collations, it might not be
            clear which collation is most suitable for a given application. To
            avoid choosing an inappropriate collation, perform some
            comparisons with representative data values to make sure that a
            given collation sorts values the way you expect.
        </p><p style="color:blue;">当字符集有多个排序规则时，可能不清楚哪个排序规则最适合给定的应用程序。为了避免选择不适当的排序规则，请与代表性数据值进行一些比较，以确保给定的排序规则按预期方式对值进行排序。</p><p></p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-repertoire"></a>10.2.1&nbsp;Character Set Repertoire</h3>
                    </div>
                </div>
            </div>
            <a class="indexterm" name="idm140286865263520"></a><a class="indexterm" name="idm140286865262064"></a><a class="indexterm" name="idm140286865260576"></a><a class="indexterm" name="idm140286865259088"></a><p>
            The <span class="firstterm">repertoire</span> of a
            character set is the collection of characters in the set.
        </p><p style="color:blue;">字符集的曲目是字符集中字符的集合。</p><p></p><p>
            String expressions have a repertoire attribute, which can have
            two values:
        </p><p style="color:blue;">字符串表达式有一个repertoire属性，该属性可以有两个值：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">ASCII</code>: The expression can contain only
                    characters in the Unicode range <code class="literal">U+0000</code> to
                    <code class="literal">U+007F</code>.
                </p><p style="color:blue;">ascii：表达式只能包含unicode范围从u+0000到u+007f的字符。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">UNICODE</code>: The expression can contain
                    characters in the Unicode range <code class="literal">U+0000</code> to
                    <code class="literal">U+10FFFF</code>. This includes characters in the
                    Basic Multilingual Plane (BMP) range
                    (<code class="literal">U+0000</code> to <code class="literal">U+FFFF</code>) and
                    supplementary characters outside the BMP range
                    (<code class="literal">U+10000</code> to <code class="literal">U+10FFFF</code>).
                </p><p style="color:blue;">Unicode：表达式可以包含Unicode范围从U+0000到U+10ffff的字符。这包括基本多语言平面（BMP）范围内的字符（U+0000到U+FFFF）和BMP范围外的补充字符（U+10000到U+10FFFF）。</p><p></p></li></ul>
            </div>
            <p>
                The <code class="literal">ASCII</code> range is a subset of
                <code class="literal">UNICODE</code> range, so a string with
                <code class="literal">ASCII</code> repertoire can be converted safely
                without loss of information to the character set of any string
                with <code class="literal">UNICODE</code> repertoire or to a character set
                that is a superset of <code class="literal">ASCII</code>. (All MySQL
                character sets are supersets of <code class="literal">ASCII</code> with
                the exception of <code class="literal">swe7</code>, which reuses some
                punctuation characters for Swedish accented characters.) The use
                of repertoire enables character set conversion in expressions
                for many cases where MySQL would otherwise return an
                <span class="quote">“<span class="quote">illegal mix of collations</span>”</span> error.
            </p><p style="color:blue;">ascii范围是unicode范围的子集，因此具有ascii指令集的字符串可以安全地转换为具有unicode指令集的任何字符串的字符集或ascii超集的字符集，而不会丢失信息。（除swe7外，所有mysql字符集都是ascii的超集，swe7对瑞典语重音字符使用了一些标点符号。）在表达式中使用repertoire可以在许多情况下进行字符集转换，否则mysql将返回“非法混合排序规则”错误。</p><p></p><p>
            The following discussion provides examples of expressions and
            their repertoires, and describes how the use of repertoire
            changes string expression evaluation:
        </p><p style="color:blue;">下面的讨论提供了表达式及其指令集的示例，并描述了指令集的使用如何更改字符串表达式求值：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The repertoire for a string constant depends on string
                    content and may differ from the repertoire of the string
                    character set. Consider these statements:
                </p><p style="color:blue;">字符串常量的曲目取决于字符串内容，并且可能不同于字符串字符集的曲目。请考虑以下声明：</p><p></p><pre data-lang="sql" class="programlisting">SET NAMES utf8; SELECT 'abc';
SELECT _utf8'def';
SELECT N'MySQL';
</pre><p>
                    Although the character set is <code class="literal">utf8</code> in
                    each of the preceding cases, the strings do not actually
                    contain any characters outside the ASCII range, so their
                    repertoire is <code class="literal">ASCII</code> rather than
                    <code class="literal">UNICODE</code>.
                </p><p style="color:blue;">尽管在前面的每种情况下字符集都是utf8，但字符串实际上不包含ascii范围之外的任何字符，因此它们的指令集是ascii而不是unicode。</p><p></p></li><li class="listitem"><p>
                    A column having the <code class="literal">ascii</code> character set
                    has <code class="literal">ASCII</code> repertoire because of its
                    character set. In the following table, <code class="literal">c1</code>
                    has <code class="literal">ASCII</code> repertoire:
                </p><p style="color:blue;">具有ascii字符集的列由于其字符集而具有ascii指令集。在下表中，c1具有ascii指令集：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1 (c1 CHAR(1) CHARACTER SET ascii);
</pre><p>
                    The following example illustrates how repertoire enables a
                    result to be determined in a case where an error occurs
                    without repertoire:
                </p><p style="color:blue;">下面的示例演示了在没有曲目的情况下发生错误时，如何使用曲目来确定结果：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1 (
  c1 CHAR(1) CHARACTER SET latin1,
  c2 CHAR(1) CHARACTER SET ascii
);
INSERT INTO t1 VALUES ('a','b');
SELECT CONCAT(c1,c2) FROM t1;
</pre><p>
                    Without repertoire, this error occurs:
                </p><p style="color:blue;">如果没有曲目，则会发生以下错误：</p><p></p><pre data-lang="none" class="programlisting">ERROR 1267 (HY000): Illegal mix of collations (latin1_swedish_ci,IMPLICIT)
and (ascii_general_ci,IMPLICIT) for operation 'concat'
</pre><p>
                    Using repertoire, subset to superset
                    (<code class="literal">ascii</code> to <code class="literal">latin1</code>)
                    conversion can occur and a result is returned:
                </p><p style="color:blue;">使用剧目，可以进行子集到超集（ascii到latin1）的转换，并返回结果：</p><p></p><pre data-lang="simple" class="programlisting">+---------------+
| CONCAT(c1,c2) |
+---------------+
| ab            |
+---------------+
</pre></li><li class="listitem"><p>
                    Functions with one string argument inherit the repertoire of
                    their argument. The result of
                    <a class="link" href="functions.html#function_upper"><code class="literal">UPPER(_utf8'<em class="replaceable"><code>abc</code></em>')</code></a>
                    has <code class="literal">ASCII</code> repertoire because its argument
                    has <code class="literal">ASCII</code> repertoire.
                </p><p style="color:blue;">具有一个字符串参数的函数继承其参数的全部内容。upper（_utf8'abc'）的结果具有ascii指令集，因为其参数具有ascii指令集。</p><p></p></li><li class="listitem"><p>
                    For functions that return a string but do not have string
                    arguments and use
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> as
                    the result character set, the result repertoire is
                    <code class="literal">ASCII</code> if
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> is
                    <code class="literal">ascii</code>, and <code class="literal">UNICODE</code>
                    otherwise:
                </p><p style="color:blue;">对于返回字符串但没有字符串参数并使用character-set-u连接作为结果字符集的函数，如果character-set-u连接是ascii，则结果指令集是ascii，否则是unicode：</p><p></p><pre data-lang="sql" class="programlisting">FORMAT(<em class="replaceable"><code>numeric_column</code></em>, 4);
</pre><p>
                    Use of repertoire changes how MySQL evaluates the following
                    example:
                </p><p style="color:blue;">使用repertoire会更改mysql如何计算以下示例：</p><p></p><pre data-lang="sql" class="programlisting">SET NAMES ascii;
CREATE TABLE t1 (a INT, b VARCHAR(10) CHARACTER SET latin1);
INSERT INTO t1 VALUES (1,'b');
SELECT CONCAT(FORMAT(a, 4), b) FROM t1;
</pre><p>
                    Without repertoire, this error occurs:
                </p><p style="color:blue;">如果没有曲目，则会发生以下错误：</p><p></p><pre data-lang="none" class="programlisting">ERROR 1267 (HY000): Illegal mix of collations (ascii_general_ci,COERCIBLE)
and (latin1_swedish_ci,IMPLICIT) for operation 'concat'
</pre><p>
                    With repertoire, a result is returned:
                </p><p style="color:blue;">对于曲目，返回结果：</p><p></p><pre data-lang="sql" class="programlisting">+-------------------------+
| CONCAT(FORMAT(a, 4), b) |
+-------------------------+
| 1.0000b                 |
+-------------------------+
</pre></li><li class="listitem"><p>
                    Functions with two or more string arguments use the
                    <span class="quote">“<span class="quote">widest</span>”</span> argument repertoire for the result
                    repertoire (<code class="literal">UNICODE</code> is wider than
                    <code class="literal">ASCII</code>). Consider the following
                    <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> calls:
                </p><p style="color:blue;">具有两个或多个字符串参数的函数使用“最宽”参数表作为结果表（unicode比ascii宽）。考虑以下concat（）调用：</p><p></p><pre data-lang="sql" class="programlisting">CONCAT(_ucs2 X'0041', _ucs2 X'0042')
CONCAT(_ucs2 X'0041', _ucs2 X'00C2')
</pre><p>
                    For the first call, the repertoire is
                    <code class="literal">ASCII</code> because both arguments are within
                    the range of the <code class="literal">ascii</code> character set. For
                    the second call, the repertoire is
                    <code class="literal">UNICODE</code> because the second argument is
                    outside the <code class="literal">ascii</code> character set range.
                </p><p style="color:blue;">对于第一个调用，指令集是ascii，因为两个参数都在ascii字符集的范围内。对于第二个调用，指令集是unicode，因为第二个参数不在ascii字符集范围内。</p><p></p></li><li class="listitem"><p>
                    The repertoire for function return values is determined
                    based only on the repertoire of the arguments that affect
                    the result's character set and collation.
                </p><p style="color:blue;">函数返回值的指令集仅基于影响结果的字符集和排序规则的参数指令集确定。</p><p></p><pre data-lang="sql" class="programlisting">IF(column1 &lt; column2, 'smaller', 'greater')
</pre><p>
                    The result repertoire is <code class="literal">ASCII</code> because
                    the two string arguments (the second argument and the third
                    argument) both have <code class="literal">ASCII</code> repertoire. The
                    first argument does not matter for the result repertoire,
                    even if the expression uses string values.
                </p><p style="color:blue;">结果指令集是ascii，因为两个字符串参数（第二个参数和第三个参数）都有ascii指令集。即使表达式使用字符串值，第一个参数对于结果列表也不重要。</p><p></p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-metadata"></a>10.2.2&nbsp;UTF-8 for Metadata</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286865193616"></a><a class="indexterm" name="idm140286865192128"></a><a class="indexterm" name="idm140286865190640"></a><p>
            <span class="firstterm">Metadata</span> is <span class="quote">“<span class="quote">the
        data about the data.</span>”</span> Anything that
            <span class="emphasis"><em>describes</em></span> the database—as opposed to
            being the <span class="emphasis"><em>contents</em></span> of the database—is
            metadata. Thus column names, database names, user names, version
            names, and most of the string results from
            <a class="link" href="sql-syntax.html#show" title="13.7.5&nbsp;SHOW Syntax"><code class="literal">SHOW</code></a> are metadata. This is also
            true of the contents of tables in
            <code class="literal">INFORMATION_SCHEMA</code> because those tables by
            definition contain information about database objects.
        </p><p style="color:blue;">元数据是“关于数据的数据”。任何描述数据库而不是数据库内容的东西都是元数据。因此，列名、数据库名、用户名、版本名和show的大多数字符串结果都是元数据。信息架构中表的内容也是如此，因为根据定义，这些表包含有关数据库对象的信息。</p><p></p><p>
            Representation of metadata must satisfy these requirements:
        </p><p style="color:blue;">元数据的表示必须满足以下要求：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    All metadata must be in the same character set. Otherwise,
                    neither the <a class="link" href="sql-syntax.html#show" title="13.7.5&nbsp;SHOW Syntax"><code class="literal">SHOW</code></a> statements
                    nor <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statements for
                    tables in <code class="literal">INFORMATION_SCHEMA</code> would work
                    properly because different rows in the same column of the
                    results of these operations would be in different character
                    sets.
                </p><p style="color:blue;">所有元数据必须在同一个字符集中。否则，信息架构中表的show语句和select语句都无法正常工作，因为这些操作结果的同一列中的不同行将位于不同的字符集中。</p><p></p></li><li class="listitem"><p>
                    Metadata must include all characters in all languages.
                    Otherwise, users would not be able to name columns and
                    tables using their own languages.
                </p><p style="color:blue;">元数据必须包含所有语言中的所有字符。否则，用户将无法使用自己的语言命名列和表。</p><p></p></li></ul>
            </div>
            <p>
                To satisfy both requirements, MySQL stores metadata in a Unicode
                character set, namely UTF-8. This does not cause any disruption
                if you never use accented or non-Latin characters. But if you
                do, you should be aware that metadata is in UTF-8.
            </p><p style="color:blue;">为了满足这两个需求，mysql将元数据存储在unicode字符集中，即utf-8。如果从不使用重音或非拉丁字符，则不会造成任何中断。但如果这样做了，就应该知道元数据是utf-8格式的。</p><p></p><p>
            The metadata requirements mean that the return values of the
            <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a>,
            <a class="link" href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>,
            <a class="link" href="functions.html#function_session-user"><code class="literal">SESSION_USER()</code></a>,
            <a class="link" href="functions.html#function_system-user"><code class="literal">SYSTEM_USER()</code></a>,
            <a class="link" href="functions.html#function_database"><code class="literal">DATABASE()</code></a>, and
            <a class="link" href="functions.html#function_version"><code class="literal">VERSION()</code></a> functions have the
            UTF-8 character set by default.
        </p><p style="color:blue;">元数据要求意味着user（）、current_user（）、session_user（）、system_user（）、database（）和version（）函数的返回值默认为utf-8字符集。</p><p></p><p>
            The server sets the
            <a class="link" href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a> system
            variable to the name of the metadata character set:
        </p><p style="color:blue;">服务器将字符集系统变量设置为元数据字符集的名称：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'character_set_system';</code></strong>
+----------------------+-------+
| Variable_name        | Value |
+----------------------+-------+
| character_set_system | utf8  |
+----------------------+-------+
</pre><p>
            Storage of metadata using Unicode does <span class="emphasis"><em>not</em></span>
            mean that the server returns headers of columns and the results
            of <a class="link" href="sql-syntax.html#describe" title="13.8.1&nbsp;DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> functions in the
            <a class="link" href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a> character
            set by default. When you use <code class="literal">SELECT column1 FROM
            t</code>, the name <code class="literal">column1</code> itself is
            returned from the server to the client in the character set
            determined by the value of the
            <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> system
            variable, which has a default value of <code class="literal">utf8</code>.
            If you want the server to pass metadata results back in a
            different character set, use the <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET
            NAMES</code></a> statement to force the server to perform
            character set conversion. <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET
            NAMES</code></a> sets the
            <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> and other
            related system variables. (See
            <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>.) Alternatively, a client
            program can perform the conversion after receiving the result
            from the server. It is more efficient for the client to perform
            the conversion, but this option is not always available for all
            clients.
        </p><p style="color:blue;">使用Unicode存储元数据并不意味着默认情况下，服务器会在字符集系统字符集中返回列的标题和描述函数的结果。当您使用select column1 from t t时，名称column1本身将以字符集的形式从服务器返回到客户端，该字符集由character set_results系统变量的值确定，该系统变量的默认值为utf8。如果希望服务器将元数据结果传递回其他字符集，请使用SET NAMES语句强制服务器执行字符集转换。set names设置字符集结果和其他相关系统变量。（参见第10.4节“连接字符集和排序规则”。）或者，客户端程序可以在从服务器接收结果后执行转换。客户机执行转换的效率更高，但并非所有客户机都可以使用此选项。</p><p></p><p>
            If <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> is set
            to <code class="literal">NULL</code>, no conversion is performed and the
            server returns metadata using its original character set (the
            set indicated by
            <a class="link" href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a>).
        </p><p style="color:blue;">如果character_set_results设置为空，则不执行转换，服务器使用其原始字符集（character_set_system指示的集）返回元数据。</p><p></p><p>
            Error messages returned from the server to the client are
            converted to the client character set automatically, as with
            metadata.
        </p><p style="color:blue;">与元数据一样，从服务器返回到客户端的错误消息将自动转换为客户端字符集。</p><p></p><p>
            If you are using (for example) the
            <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a> function for comparison or
            assignment within a single statement, don't worry. MySQL
            performs some automatic conversion for you.
        </p><p style="color:blue;">如果您使用（例如）user（）函数在单个语句中进行比较或赋值，请不要担心。mysql为您执行一些自动转换。</p><p></p><pre data-lang="sql" class="programlisting">SELECT * FROM t1 WHERE USER() = latin1_column;
</pre><p>
            This works because the contents of
            <code class="literal">latin1_column</code> are automatically converted to
            UTF-8 before the comparison.
        </p><p style="color:blue;">这是因为latin1_列的内容在比较之前自动转换为utf-8。</p><p></p><pre data-lang="sql" class="programlisting">INSERT INTO t1 (latin1_column) SELECT USER();
</pre><p>
            This works because the contents of
            <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a> are automatically
            converted to <code class="literal">latin1</code> before the assignment.
        </p><p style="color:blue;">这是因为user（）的内容在赋值之前自动转换为latin1。</p><p></p><p>
            Although automatic conversion is not in the SQL standard, the
            standard does say that every character set is (in terms of
            supported characters) a <span class="quote">“<span class="quote">subset</span>”</span> of Unicode.
            Because it is a well-known principle that <span class="quote">“<span class="quote">what applies to
        a superset can apply to a subset,</span>”</span> we believe that a
            collation for Unicode can apply for comparisons with non-Unicode
            strings. For more information about coercion of strings, see
            <a class="xref" href="charset.html#charset-collation-coercibility" title="10.8.4&nbsp;Collation Coercibility in Expressions">Section&nbsp;10.8.4, “Collation Coercibility in Expressions”</a>.
        </p><p style="color:blue;">尽管自动转换不在sql标准中，但该标准确实规定每个字符集（就支持的字符而言）都是unicode的“子集”。因为“应用于超集的内容可以应用于子集”是一个众所周知的原则，所以我们相信Unicode的排序规则可以应用于与非Unicode字符串的比较。有关字符串强制的更多信息，请参阅第10.8.4节“表达式中的排序规则强制性”。</p><p></p>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-syntax"></a>10.3&nbsp;Specifying Character Sets and Collations</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="charset.html#charset-collation-names">10.3.1 Collation Naming Conventions</a></span></dt><dt><span class="section"><a href="charset.html#charset-server">10.3.2 Server Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-database">10.3.3 Database Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-table">10.3.4 Table Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-column">10.3.5 Column Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-literal">10.3.6 Character String Literal Character Set and Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-national">10.3.7 The National Character Set</a></span></dt><dt><span class="section"><a href="charset.html#charset-introducer">10.3.8 Character Set Introducers</a></span></dt><dt><span class="section"><a href="charset.html#charset-examples">10.3.9 Examples of Character Set and Collation Assignment</a></span></dt><dt><span class="section"><a href="charset.html#charset-compatibility">10.3.10 Compatibility with Other DBMSs</a></span></dt></dl>
        </div>
        <p>
            There are default settings for character sets and collations at
            four levels: server, database, table, and column. The description
            in the following sections may appear complex, but it has been
            found in practice that multiple-level defaulting leads to natural
            and obvious results.
        </p><p style="color:blue;">字符集和排序规则有四个级别的默认设置：服务器、数据库、表和列。以下各节的描述可能看起来很复杂，但在实践中发现，多级违约会导致自然而明显的结果。</p><p></p><p>
        <code class="literal">CHARACTER SET</code> is used in clauses that specify a
        character set. <code class="literal">CHARSET</code> can be used as a synonym
        for <code class="literal">CHARACTER SET</code>.
    </p><p style="color:blue;">字符集用于指定字符集的子句中。字符集可以用作字符集的同义词。</p><p></p><p>
        Character set issues affect not only data storage, but also
        communication between client programs and the MySQL server. If you
        want the client program to communicate with the server using a
        character set different from the default, you'll need to indicate
        which one. For example, to use the <code class="literal">utf8</code> Unicode
        character set, issue this statement after connecting to the
        server:
    </p><p style="color:blue;">字符集问题不仅影响数据存储，还影响客户端程序与mysql服务器之间的通信。如果希望客户机程序使用不同于默认值的字符集与服务器通信，则需要指明哪一个字符集。例如，要使用utf8 unicode字符集，请在连接到服务器后发出以下语句：</p><p></p><pre data-lang="sql" class="programlisting">SET NAMES 'utf8';
</pre><p>
        For more information about character set-related issues in
        client/server communication, see
        <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>.
    </p><p style="color:blue;">有关客户机/服务器通信中与字符集相关的问题的更多信息，请参阅第10.4节“连接字符集和排序规则”。</p><p></p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collation-names"></a>10.3.1&nbsp;Collation Naming Conventions</h3>
                    </div>
                </div>
            </div>
            <a class="indexterm" name="idm140286865129904"></a><p>
            MySQL collation names follow these conventions:
        </p><p style="color:blue;">mysql排序规则名称遵循以下约定：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    A collation name starts with the name of the character set
                    with which it is associated, generally followed by one or
                    more suffixes indicating other collation characteristics.
                    For example, <code class="literal">utf8_general_ci</code> and
                    <code class="literal">latin1_swedish_ci</code> are collations for the
                    <code class="literal">utf8</code> and <code class="literal">latin1</code>
                    character sets, respectively. The <code class="literal">binary</code>
                    character set has a single collation, also named
                    <code class="literal">binary</code>, with no suffixes.
                </p><p style="color:blue;">排序规则名称以与其关联的字符集的名称开头，通常后跟一个或多个表示其他排序规则特征的后缀。例如，utf8_general_ci和latin1_瑞典语_ci分别是utf8和latin1字符集的排序规则。二进制字符集有一个排序规则，也称为binary，没有后缀。</p><p></p></li><li class="listitem"><p>
                    A language-specific collation includes a language name. For
                    example, <code class="literal">utf8_turkish_ci</code> and
                    <code class="literal">utf8_hungarian_ci</code> sort characters for the
                    <code class="literal">utf8</code> character set using the rules of
                    Turkish and Hungarian, respectively.
                </p><p style="color:blue;">特定于语言的排序规则包括语言名称。例如，utf8_Turkish_Ci和utf8_Hungarian_Ci分别使用土耳其语和匈牙利语的规则对utf8字符集的字符进行排序。</p><p></p></li><li class="listitem"><p>
                    Collation suffixes indicate whether a collation is case and
                    accent sensitive, or binary. The following table shows the
                    suffixes used to indicate these characteristics.
                </p><p style="color:blue;">排序规则后缀指示排序规则是区分大小写和重音，还是区分二进制。下表显示了用于指示这些特性的后缀。</p><p></p><a class="indexterm" name="idm140286865118256"></a><a class="indexterm" name="idm140286865117184"></a><a class="indexterm" name="idm140286865115696"></a><a class="indexterm" name="idm140286865114624"></a><a class="indexterm" name="idm140286865113136"></a><a class="indexterm" name="idm140286865112064"></a><a class="indexterm" name="idm140286865110576"></a><a class="indexterm" name="idm140286865109504"></a><a class="indexterm" name="idm140286865108016"></a><a class="indexterm" name="idm140286865106944"></a>
                    <div class="table">
                        <a name="charset-collation-sensitivity-suffixes"></a><p class="title"><b>Table&nbsp;10.1&nbsp;Collation Case Sensitivity Suffixes</b></p><p style="color:blue;">表10.1排序区分大小写后缀</p><p></p>
                        <div class="table-contents">
                            <table summary="Collation suffixes that indicate case and accent sensitivity."><colgroup><col width="20%"><col width="80%"></colgroup><thead><tr>
                                <th scope="col">Suffix</th>
                                <th scope="col">Meaning</th>
                            </tr></thead><tbody><tr>
                                <td scope="row"><code class="literal">_ai</code></td>
                                <td>Accent insensitive</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">_as</code></td>
                                <td>Accent sensitive</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">_ci</code></td>
                                <td>Case insensitive</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">_cs</code></td>
                                <td>Case sensitive</td>
                            </tr><tr>
                                <td scope="row"><code class="literal">_bin</code></td>
                                <td>Binary</td>
                            </tr></tbody></table>
                        </div>

                    </div>
                    <br class="table-break"><p>
                        For nonbinary collation names that do not specify accent
                        sensitivity, it is determined by case sensitivity. If a
                        collation name does not contain <code class="literal">_ai</code> or
                        <code class="literal">_as</code>, <code class="literal">_ci</code> in the name
                        implies <code class="literal">_ai</code> and <code class="literal">_cs</code> in
                        the name implies <code class="literal">_as</code>. For example,
                        <code class="literal">latin1_general_ci</code> is explicitly case
                        insensitive and implicitly accent insensitive, and
                        <code class="literal">latin1_general_cs</code> is explicitly case
                        sensitive and implicitly accent sensitive.
                    </p><p style="color:blue;">对于不指定区分重音的非二进制排序规则名称，它由区分大小写决定。如果排序规则名称不包含“ai”或“as”，则名称中的“ci”表示“ai”，名称中的“cs”表示“as”。例如，Latin1_General_-Ci显式不区分大小写且隐式不区分重音，Latin1_General_-Cs显式区分大小写且隐式区分重音。</p><p></p><p>
                        For the <code class="literal">binary</code> collation of the
                        <code class="literal">binary</code> character set, comparisons are
                        based on numeric byte values. For the
                        <code class="literal">_bin</code> collation of a nonbinary character
                        set, comparisons are based on numeric character code values,
                        which differ from byte values for multibyte characters. For
                        more information, see
                        <a class="xref" href="charset.html#charset-binary-collations" title="10.8.5&nbsp;The binary Collation Compared to _bin Collations">Section&nbsp;10.8.5, “The binary Collation Compared to _bin Collations”</a>.
                    </p><p style="color:blue;">对于二进制字符集的二进制排序规则，比较基于数字字节值。对于非二进制字符集的二进制排序规则，比较基于数字字符代码值，这与多字节字符的字节值不同。有关详细信息，请参阅第10.8.5节“二进制排序规则与二进制排序规则的比较”。</p><p></p></li><li class="listitem"><p>
                    For Unicode character sets, collation names may include a
                    version number to indicate the version of the Unicode
                    Collation Algorithm (UCA) on which the collation is based.
                    UCA-based collations without a version number in the name
                    use the version-4.0.0 UCA weight keys. For example:
                </p><p style="color:blue;">对于Unicode字符集，排序规则名称可以包含一个版本号，以指示排序规则所基于的Unicode排序规则算法（UCA）的版本。名称中没有版本号的基于uca的排序规则使用version-4.0.0uca权重键。例如：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">utf8_unicode_520_ci</code> is based on UCA
                            5.2.0 weight keys
                            (<a class="ulink" href="http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt" target="_top">http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt</a>).
                        </p><p style="color:blue;">utf8_unicode_520_ci基于uca 5.2.0权重键（http://www.unicode.org/public/uca/5.2.0/allkeys.txt）。</p><p></p></li><li class="listitem"><p>
                            <code class="literal">utf8_unicode_ci</code> (with no version
                            named) is based on UCA 4.0.0 weight keys
                            (<a class="ulink" href="http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top">http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt</a>).
                        </p><p style="color:blue;">utf8_unicode_ci（未命名版本）基于uca 4.0.0权重键（http://www.unicode.org/public/uca/4.0.0/allkeys-4.0.0.txt）。</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    For Unicode character sets, the
                    <code class="literal"><em class="replaceable"><code>xxx</code></em>_general_mysql500_ci</code>
                    collations preserve the pre-5.1.24 ordering of the original
                    <code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code>
                    collations and permit upgrades for tables created before
                    MySQL 5.1.24 (Bug #27877).
                </p><p style="color:blue;">对于Unicode字符集，XXX_General_mysql500_CI排序规则保留原始XXX_General_CI排序规则的5.1.24之前的顺序，并允许对MySQL 5.1.24之前创建的表进行升级（错误27877）。</p><p></p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-server"></a>10.3.2&nbsp;Server Character Set and Collation</h3>

                    </div>

                </div>

            </div>
            <p>
                MySQL Server has a server character set and a server collation.
                These can be set at server startup on the command line or in an
                option file and changed at runtime.
            </p><p style="color:blue;">mysql服务器有一个服务器字符集和一个服务器排序规则。这些可以在服务器启动时在命令行或选项文件中设置，并在运行时更改。</p><p></p><p>
            Initially, the server character set and collation depend on the
            options that you use when you start <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
            You can use
            <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character-set-server</code></a> for the
            character set. Along with it, you can add
            <a class="link" href="server-administration.html#sysvar_collation_server"><code class="option">--collation-server</code></a> for the
            collation. If you don't specify a character set, that is the
            same as saying
            <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character-set-server=latin1</code></a>. If
            you specify only a character set (for example,
            <code class="literal">latin1</code>) but not a collation, that is the same
            as saying
            <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character-set-server=latin1</code></a>
            <a class="link" href="server-administration.html#sysvar_collation_server"><code class="option">--collation-server=latin1_swedish_ci</code></a>
            because <code class="literal">latin1_swedish_ci</code> is the default
            collation for <code class="literal">latin1</code>. Therefore, the
            following three commands all have the same effect:
        </p><p style="color:blue;">最初，服务器字符集和排序规则取决于启动mysqld时使用的选项。可以对字符集使用--character set server。除了它，您还可以为排序规则添加--collation服务器。如果不指定字符集，这与所说的——character set server=latin1相同。如果只指定字符集（例如，latin1），而不指定排序规则，则这与--character set server=latin1--collation server=latin1_-swedish_-ci相同，因为latin1_-swedish_-ci是latin1的默认排序规则。因此，以下三个命令都具有相同的效果：</p><p></p><pre data-lang="terminal" class="programlisting">mysqld
mysqld --character-set-server=latin1
mysqld --character-set-server=latin1 \
  --collation-server=latin1_swedish_ci
</pre><p>
            One way to change the settings is by recompiling. To change the
            default server character set and collation when building from
            sources, use the <a class="link" href="installing.html#option_cmake_default_charset"><code class="option">DEFAULT_CHARSET</code></a>
            and <a class="link" href="installing.html#option_cmake_default_collation"><code class="option">DEFAULT_COLLATION</code></a> options for
            <span class="command"><strong>CMake</strong></span>. For example:
        </p><p style="color:blue;">更改设置的一种方法是重新编译。要在从源代码生成时更改默认服务器字符集和排序规则，请使用cmake的默认字符集和默认排序规则选项。例如：</p><p></p><pre data-lang="terminal" class="programlisting">cmake . -DDEFAULT_CHARSET=latin1
</pre><p>
            Or:
        </p><p style="color:blue;">或：</p><p></p><pre data-lang="terminal" class="programlisting">cmake . -DDEFAULT_CHARSET=latin1 \
  -DDEFAULT_COLLATION=latin1_german1_ci
</pre><p>
            Both <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> and <span class="command"><strong>CMake</strong></span>
            verify that the character set/collation combination is valid. If
            not, each program displays an error message and terminates.
        </p><p style="color:blue;">mysqld和cmake都验证字符集/排序规则组合是否有效。否则，每个程序都会显示一条错误消息并终止。</p><p></p><p>
            The server character set and collation are used as default
            values if the database character set and collation are not
            specified in <a class="link" href="sql-syntax.html#create-database" title="13.1.11&nbsp;CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>
            statements. They have no other purpose.
        </p><p style="color:blue;">如果在CREATE DATABASE语句中未指定数据库字符集和排序规则，则将服务器字符集和排序规则用作默认值。他们没有别的目的。</p><p></p><p>
            The current server character set and collation can be determined
            from the values of the
            <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a> and
            <a class="link" href="server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a> system
            variables. These variables can be changed at runtime.
        </p><p style="color:blue;">当前服务器字符集和排序规则可以由字符集服务器和排序规则服务器系统变量的值确定。这些变量可以在运行时更改。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-database"></a>10.3.3&nbsp;Database Character Set and Collation</h3>

                    </div>

                </div>

            </div>
            <p>
                Every database has a database character set and a database
                collation. The <a class="link" href="sql-syntax.html#create-database" title="13.1.11&nbsp;CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>
                and <a class="link" href="sql-syntax.html#alter-database" title="13.1.1&nbsp;ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE</code></a> statements
                have optional clauses for specifying the database character set
                and collation:
            </p><p style="color:blue;">每个数据库都有一个数据库字符集和一个数据库排序规则。create database和alter database语句具有用于指定数据库字符集和排序规则的可选子句：</p><p></p><pre data-lang="sql" class="programlisting">CREATE DATABASE <em class="replaceable"><code>db_name</code></em>
    [[DEFAULT] CHARACTER SET <em class="replaceable"><code>charset_name</code></em>]
    [[DEFAULT] COLLATE <em class="replaceable"><code>collation_name</code></em>]

ALTER DATABASE <em class="replaceable"><code>db_name</code></em>
    [[DEFAULT] CHARACTER SET <em class="replaceable"><code>charset_name</code></em>]
    [[DEFAULT] COLLATE <em class="replaceable"><code>collation_name</code></em>]
</pre><p>
            The keyword <code class="literal">SCHEMA</code> can be used instead of
            <code class="literal">DATABASE</code>.
        </p><p style="color:blue;">关键字架构可以代替数据库使用。</p><p></p><p>
            All database options are stored in a text file named
            <code class="filename">db.opt</code> that can be found in the database
            directory.
        </p><p style="color:blue;">所有数据库选项都存储在名为db.opt的文本文件中，该文件可以在数据库目录中找到。</p><p></p><p>
            The <code class="literal">CHARACTER SET</code> and
            <code class="literal">COLLATE</code> clauses make it possible to create
            databases with different character sets and collations on the
            same MySQL server.
        </p><p style="color:blue;">字符集和collate子句使在同一台mysql服务器上创建具有不同字符集和排序规则的数据库成为可能。</p><p></p><p>
            Example:
        </p><p style="color:blue;">例子：</p><p></p><pre data-lang="sql" class="programlisting">CREATE DATABASE <em class="replaceable"><code>db_name</code></em> CHARACTER SET latin1 COLLATE latin1_swedish_ci;
</pre><p>
            MySQL chooses the database character set and database collation
            in the following manner:
        </p><p style="color:blue;">mysql按以下方式选择数据库字符集和数据库排序规则：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If both <code class="literal">CHARACTER SET
                    <em class="replaceable"><code>charset_name</code></em></code> and
                    <code class="literal">COLLATE
                        <em class="replaceable"><code>collation_name</code></em></code> are
                    specified, character set
                    <em class="replaceable"><code>charset_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                </p><p style="color:blue;">如果同时指定了字符集字符集名称和排序规则名称，则使用字符集字符集名称和排序规则名称。</p><p></p></li><li class="listitem"><p>
                    If <code class="literal">CHARACTER SET
                    <em class="replaceable"><code>charset_name</code></em></code> is
                    specified without <code class="literal">COLLATE</code>, character set
                    <em class="replaceable"><code>charset_name</code></em> and its default
                    collation are used. To see the default collation for each
                    character set, use the <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER
                    SET</code></a> statement or query the
                    <code class="literal">INFORMATION_SCHEMA</code>
                    <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table.
                </p><p style="color:blue;">如果指定的字符集字符集名称不带排序规则，则使用字符集字符集名称及其默认排序规则。若要查看每个字符集的默认排序规则，请使用show character set语句或查询信息架构字符集表。</p><p></p></li><li class="listitem"><p>
                    If <code class="literal">COLLATE
                    <em class="replaceable"><code>collation_name</code></em></code> is
                    specified without <code class="literal">CHARACTER SET</code>, the
                    character set associated with
                    <em class="replaceable"><code>collation_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                </p><p style="color:blue;">如果指定的排序规则名称没有字符集，则使用与排序规则名称和排序规则名称关联的字符集。</p><p></p></li><li class="listitem"><p>
                    Otherwise (neither <code class="literal">CHARACTER SET</code> nor
                    <code class="literal">COLLATE</code> is specified), the server
                    character set and server collation are used.
                </p><p style="color:blue;">否则（既不指定字符集也不指定排序规则），将使用服务器字符集和服务器排序规则。</p><p></p></li></ul>
            </div>
            <p>
                The character set and collation for the default database can be
                determined from the values of the
                <a class="link" href="server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a> and
                <a class="link" href="server-administration.html#sysvar_collation_database"><code class="literal">collation_database</code></a> system
                variables. The server sets these variables whenever the default
                database changes. If there is no default database, the variables
                have the same value as the corresponding server-level system
                variables, <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a>
                and <a class="link" href="server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a>.
            </p><p style="color:blue;">默认数据库的字符集和排序规则可以由字符集数据库和排序规则数据库系统变量的值确定。服务器在默认数据库更改时设置这些变量。如果没有默认数据库，则变量的值与相应的服务器级系统变量、字符集服务器和排序服务器的值相同。</p><p></p><p>
            To see the default character set and collation for a given
            database, use these statements:
        </p><p style="color:blue;">要查看给定数据库的默认字符集和排序规则，请使用以下语句：</p><p></p><pre data-lang="sql" class="programlisting">USE <em class="replaceable"><code>db_name</code></em>;
SELECT @@character_set_database, @@collation_database;
</pre><p>
            Alternatively, to display the values without changing the
            default database:
        </p><p style="color:blue;">或者，要在不更改默认数据库的情况下显示值：</p><p></p><pre data-lang="sql" class="programlisting">SELECT DEFAULT_CHARACTER_SET_NAME, DEFAULT_COLLATION_NAME
FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME = '<em class="replaceable"><code>db_name</code></em>';
</pre><p>
            The database character set and collation affect these aspects of
            server operation:
        </p><p style="color:blue;">数据库字符集和排序规则影响服务器操作的以下方面：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    For <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statements,
                    the database character set and collation are used as default
                    values for table definitions if the table character set and
                    collation are not specified. To override this, provide
                    explicit <code class="literal">CHARACTER SET</code> and
                    <code class="literal">COLLATE</code> table options.
                </p><p style="color:blue;">对于CREATE TABLE语句，如果未指定表字符集和排序规则，则将数据库字符集和排序规则用作表定义的默认值。要覆盖此选项，请提供显式字符集和整理表选项。</p><p></p></li><li class="listitem"><p>
                    For <a class="link" href="sql-syntax.html#load-data" title="13.2.6&nbsp;LOAD DATA Syntax"><code class="literal">LOAD DATA</code></a> statements that
                    include no <code class="literal">CHARACTER SET</code> clause, the
                    server uses the character set indicated by the
                    <a class="link" href="server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a>
                    system variable to interpret the information in the file. To
                    override this, provide an explicit <code class="literal">CHARACTER
                    SET</code> clause.
                </p><p style="color:blue;">对于不包含字符集子句的LOAD DATA语句，服务器使用字符集数据库系统变量指示的字符集来解释文件中的信息。要重写此语句，请提供显式字符集子句。</p><p></p></li><li class="listitem"><p>
                    For stored routines (procedures and functions), the database
                    character set and collation in effect at routine creation
                    time are used as the character set and collation of
                    character data parameters for which the declaration includes
                    no <code class="literal">CHARACTER SET</code> or a
                    <code class="literal">COLLATE</code> attribute. To override this,
                    provide <code class="literal">CHARACTER SET</code> and
                    <code class="literal">COLLATE</code> explicitly.
                </p><p style="color:blue;">对于存储例程（过程和函数），在例程创建时生效的数据库字符集和排序规则用作声明不包含字符集或排序属性的字符数据参数的字符集和排序规则。若要重写此项，请提供字符集并显式整理。</p><p></p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-table"></a>10.3.4&nbsp;Table Character Set and Collation</h3>

                    </div>

                </div>

            </div>
            <p>
                Every table has a table character set and a table collation. The
                <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> and
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements have
                optional clauses for specifying the table character set and
                collation:
            </p><p style="color:blue;">每个表都有一个表字符集和一个表排序规则。create table和alter table语句具有用于指定表字符集和排序规则的可选子句：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE <em class="replaceable"><code>tbl_name</code></em> (<em class="replaceable"><code>column_list</code></em>)
    [[DEFAULT] CHARACTER SET <em class="replaceable"><code>charset_name</code></em>]
    [COLLATE <em class="replaceable"><code>collation_name</code></em>]]

ALTER TABLE <em class="replaceable"><code>tbl_name</code></em>
    [[DEFAULT] CHARACTER SET <em class="replaceable"><code>charset_name</code></em>]
    [COLLATE <em class="replaceable"><code>collation_name</code></em>]
</pre><p>
            Example:
        </p><p style="color:blue;">例子：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1 ( ... )
CHARACTER SET latin1 COLLATE latin1_danish_ci;
</pre><p>
            MySQL chooses the table character set and collation in the
            following manner:
        </p><p style="color:blue;">mysql按以下方式选择表字符集和排序规则：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If both <code class="literal">CHARACTER SET
                    <em class="replaceable"><code>charset_name</code></em></code> and
                    <code class="literal">COLLATE
                        <em class="replaceable"><code>collation_name</code></em></code> are
                    specified, character set
                    <em class="replaceable"><code>charset_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                </p><p style="color:blue;">如果同时指定了字符集字符集名称和排序规则名称，则使用字符集字符集名称和排序规则名称。</p><p></p></li><li class="listitem"><p>
                    If <code class="literal">CHARACTER SET
                    <em class="replaceable"><code>charset_name</code></em></code> is
                    specified without <code class="literal">COLLATE</code>, character set
                    <em class="replaceable"><code>charset_name</code></em> and its default
                    collation are used. To see the default collation for each
                    character set, use the <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER
                    SET</code></a> statement or query the
                    <code class="literal">INFORMATION_SCHEMA</code>
                    <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table.
                </p><p style="color:blue;">如果指定的字符集字符集名称不带排序规则，则使用字符集字符集名称及其默认排序规则。若要查看每个字符集的默认排序规则，请使用show character set语句或查询信息架构字符集表。</p><p></p></li><li class="listitem"><p>
                    If <code class="literal">COLLATE
                    <em class="replaceable"><code>collation_name</code></em></code> is
                    specified without <code class="literal">CHARACTER SET</code>, the
                    character set associated with
                    <em class="replaceable"><code>collation_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                </p><p style="color:blue;">如果指定的排序规则名称没有字符集，则使用与排序规则名称和排序规则名称关联的字符集。</p><p></p></li><li class="listitem"><p>
                    Otherwise (neither <code class="literal">CHARACTER SET</code> nor
                    <code class="literal">COLLATE</code> is specified), the database
                    character set and collation are used.
                </p><p style="color:blue;">否则（既不指定字符集也不指定排序规则），将使用数据库字符集和排序规则。</p><p></p></li></ul>
            </div>
            <p>
                The table character set and collation are used as default values
                for column definitions if the column character set and collation
                are not specified in individual column definitions. The table
                character set and collation are MySQL extensions; there are no
                such things in standard SQL.
            </p><p style="color:blue;">如果在单个列定义中未指定列字符集和排序规则，则将表字符集和排序规则用作列定义的默认值。表字符集和排序规则是mysql扩展；在标准sql中没有这样的东西。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-column"></a>10.3.5&nbsp;Column Character Set and Collation</h3>

                    </div>

                </div>

            </div>
            <p>
                Every <span class="quote">“<span class="quote">character</span>”</span> column (that is, a column of type
                <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
                <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, a
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> type, or any synonym) has a
                column character set and a column collation. Column definition
                syntax for <a class="link" href="sql-syntax.html#create-table" title="13.1.18&nbsp;CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> and
                <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> has optional clauses
                for specifying the column character set and collation:
            </p><p style="color:blue;">每个“字符”列（即char、varchar、文本类型或任何同义词类型的列）都有一个列字符集和列排序规则。create table和alter table的列定义语法具有用于指定列字符集和排序规则的可选子句：</p><p></p><pre data-lang="sql" class="programlisting"><em class="replaceable"><code>col_name</code></em> {CHAR | VARCHAR | TEXT} (<em class="replaceable"><code>col_length</code></em>)
    [CHARACTER SET <em class="replaceable"><code>charset_name</code></em>]
    [COLLATE <em class="replaceable"><code>collation_name</code></em>]
</pre><p>
            These clauses can also be used for
            <a class="link" href="data-types.html#enum" title="11.4.4&nbsp;The ENUM Type"><code class="literal">ENUM</code></a> and
            <a class="link" href="data-types.html#set" title="11.4.5&nbsp;The SET Type"><code class="literal">SET</code></a> columns:
        </p><p style="color:blue;">这些子句也可用于枚举和设置列：</p><p></p><pre data-lang="sql" class="programlisting"><em class="replaceable"><code>col_name</code></em> {ENUM | SET} (<em class="replaceable"><code>val_list</code></em>)
    [CHARACTER SET <em class="replaceable"><code>charset_name</code></em>]
    [COLLATE <em class="replaceable"><code>collation_name</code></em>]
</pre><p>
            Examples:
        </p><p style="color:blue;">示例：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    col1 VARCHAR(5)
      CHARACTER SET latin1
      COLLATE latin1_german1_ci
);

ALTER TABLE t1 MODIFY
    col1 VARCHAR(5)
      CHARACTER SET latin1
      COLLATE latin1_swedish_ci;
</pre><p>
            MySQL chooses the column character set and collation in the
            following manner:
        </p><p style="color:blue;">mysql按以下方式选择列字符集和排序规则：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If both <code class="literal">CHARACTER SET
                    <em class="replaceable"><code>charset_name</code></em></code> and
                    <code class="literal">COLLATE
                        <em class="replaceable"><code>collation_name</code></em></code> are
                    specified, character set
                    <em class="replaceable"><code>charset_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                </p><p style="color:blue;">如果同时指定了字符集字符集名称和排序规则名称，则使用字符集字符集名称和排序规则名称。</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    col1 CHAR(10) CHARACTER SET utf8 COLLATE utf8_unicode_ci
) CHARACTER SET latin1 COLLATE latin1_bin;
</pre><p>
                    The character set and collation are specified for the
                    column, so they are used. The column has character set
                    <code class="literal">utf8</code> and collation
                    <code class="literal">utf8_unicode_ci</code>.
                </p><p style="color:blue;">为列指定了字符集和排序规则，因此使用它们。该列具有字符集utf8和排序规则utf8_unicode_ci。</p><p></p></li><li class="listitem"><p>
                    If <code class="literal">CHARACTER SET
                    <em class="replaceable"><code>charset_name</code></em></code> is
                    specified without <code class="literal">COLLATE</code>, character set
                    <em class="replaceable"><code>charset_name</code></em> and its default
                    collation are used.
                </p><p style="color:blue;">如果指定的字符集字符集名称不带排序规则，则使用字符集字符集名称及其默认排序规则。</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    col1 CHAR(10) CHARACTER SET utf8
) CHARACTER SET latin1 COLLATE latin1_bin;
</pre><p>
                    The character set is specified for the column, but the
                    collation is not. The column has character set
                    <code class="literal">utf8</code> and the default collation for
                    <code class="literal">utf8</code>, which is
                    <code class="literal">utf8_general_ci</code>. To see the default
                    collation for each character set, use the
                    <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER SET</code></a> statement
                    or query the <code class="literal">INFORMATION_SCHEMA</code>
                    <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table.
                </p><p style="color:blue;">为列指定了字符集，但排序规则不是。该列具有字符集utf8和utf8的默认排序规则，即utf8_general_ci。若要查看每个字符集的默认排序规则，请使用show character set语句或查询信息架构字符集表。</p><p></p></li><li class="listitem"><p>
                    If <code class="literal">COLLATE
                    <em class="replaceable"><code>collation_name</code></em></code> is
                    specified without <code class="literal">CHARACTER SET</code>, the
                    character set associated with
                    <em class="replaceable"><code>collation_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                </p><p style="color:blue;">如果指定的排序规则名称没有字符集，则使用与排序规则名称和排序规则名称关联的字符集。</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    col1 CHAR(10) COLLATE utf8_polish_ci
) CHARACTER SET latin1 COLLATE latin1_bin;
</pre><p>
                    The collation is specified for the column, but the character
                    set is not. The column has collation
                    <code class="literal">utf8_polish_ci</code> and the character set is
                    the one associated with the collation, which is
                    <code class="literal">utf8</code>.
                </p><p style="color:blue;">已为列指定排序规则，但字符集未指定。该列具有排序规则utf8_polish_ci，字符集是与排序规则关联的字符集，即utf8。</p><p></p></li><li class="listitem"><p>
                    Otherwise (neither <code class="literal">CHARACTER SET</code> nor
                    <code class="literal">COLLATE</code> is specified), the table
                    character set and collation are used.
                </p><p style="color:blue;">否则（既不指定字符集也不指定排序规则），将使用表字符集和排序规则。</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    col1 CHAR(10)
) CHARACTER SET latin1 COLLATE latin1_bin;
</pre><p>
                    Neither the character set nor collation is specified for the
                    column, so the table defaults are used. The column has
                    character set <code class="literal">latin1</code> and collation
                    <code class="literal">latin1_bin</code>.
                </p><p style="color:blue;">没有为列指定字符集或排序规则，因此使用表默认值。列具有字符集latin1和排序规则latin1_bin。</p><p></p></li></ul>
            </div>
            <p>
                The <code class="literal">CHARACTER SET</code> and
                <code class="literal">COLLATE</code> clauses are standard SQL.
            </p><p style="color:blue;">字符集和COLLATE子句是标准SQL。</p><p></p><p>
            If you use <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to convert
            a column from one character set to another, MySQL attempts to
            map the data values, but if the character sets are incompatible,
            there may be data loss.
        </p><p style="color:blue;">如果使用alter table将列从一个字符集转换为另一个字符集，mysql会尝试映射数据值，但如果字符集不兼容，则可能会丢失数据。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-literal"></a>10.3.6&nbsp;Character String Literal Character Set and Collation</h3>

                    </div>

                </div>

            </div>
            <p>
                Every character string literal has a character set and a
                collation.
            </p><p style="color:blue;">每个字符串文本都有一个字符集和一个排序规则。</p><p></p><p>
            For the simple statement <code class="literal">SELECT
            '<em class="replaceable"><code>string</code></em>'</code>, the string has
            the connection default character set and collation defined by
            the <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
            and <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> system
            variables.
        </p><p style="color:blue;">对于简单语句select'string'，字符串具有由character set_connection和collation_connection系统变量定义的连接默认字符集和排序规则。</p><p></p><p>
            A character string literal may have an optional character set
            introducer and <code class="literal">COLLATE</code> clause, to designate
            it as a string that uses a particular character set and
            collation:
        </p><p style="color:blue;">字符串文字可以有可选的字符集介绍人和COLLATE子句，以将其指定为使用特定字符集和排序规则的字符串：</p><p></p><a class="indexterm" name="idm140286864899632"></a><a class="indexterm" name="idm140286864898144"></a><pre data-lang="sql" class="programlisting">[_<em class="replaceable"><code>charset_name</code></em>]'<em class="replaceable"><code>string</code></em>' [COLLATE <em class="replaceable"><code>collation_name</code></em>]
</pre><p>
            The <code class="literal">_<em class="replaceable"><code>charset_name</code></em></code>
            expression is formally called an
            <span class="emphasis"><em>introducer</em></span>. It tells the parser, <span class="quote">“<span class="quote">the
        string that follows uses character set
        <em class="replaceable"><code>charset_name</code></em>.</span>”</span> An introducer
            does not change the string to the introducer character set like
            <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> would do. It does not
            change the string value, although padding may occur. The
            introducer is just a signal. See
            <a class="xref" href="charset.html#charset-introducer" title="10.3.8&nbsp;Character Set Introducers">Section&nbsp;10.3.8, “Character Set Introducers”</a>.
        </p><p style="color:blue;">charset名称表达式正式地称为介绍人。它告诉解析器，“后面的字符串使用字符集字符集名称。”介绍人不会像convert（）那样将字符串更改为介绍人字符集。它不会更改字符串值，尽管可能会出现填充。介绍人只是个信号。见第10.3.8节“字符集介绍人”。</p><p></p><p>
            Examples:
        </p><p style="color:blue;">示例：</p><p></p><pre data-lang="sql" class="programlisting">SELECT 'abc';
SELECT _latin1'abc';
SELECT _binary'abc';
SELECT _utf8'abc' COLLATE utf8_danish_ci;
</pre><p>
            Character set introducers and the <code class="literal">COLLATE</code>
            clause are implemented according to standard SQL specifications.
        </p><p style="color:blue;">字符集介绍人和collate子句是根据标准sql规范实现的。</p><p></p><p>
            MySQL determines the character set and collation of a character
            string literal in the following manner:
        </p><p style="color:blue;">mysql按以下方式确定字符串文本的字符集和排序规则：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If both <em class="replaceable"><code>_charset_name</code></em> and
                    <code class="literal">COLLATE
                        <em class="replaceable"><code>collation_name</code></em></code> are
                    specified, character set
                    <em class="replaceable"><code>charset_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                    <em class="replaceable"><code>collation_name</code></em> must be a
                    permitted collation for
                    <em class="replaceable"><code>charset_name</code></em>.
                </p><p style="color:blue;">如果同时指定了字符集名称和排序规则名称，则使用字符集字符集名称和排序规则名称。排序规则名称必须是字符集名称允许的排序规则。</p><p></p></li><li class="listitem"><p>
                    If <em class="replaceable"><code>_charset_name</code></em> is specified but
                    <code class="literal">COLLATE</code> is not specified, character set
                    <em class="replaceable"><code>charset_name</code></em> and its default
                    collation are used. To see the default collation for each
                    character set, use the <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER
                    SET</code></a> statement or query the
                    <code class="literal">INFORMATION_SCHEMA</code>
                    <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table.
                </p><p style="color:blue;">如果指定了字符集名称但未指定排序规则，则使用字符集字符集名称及其默认排序规则。若要查看每个字符集的默认排序规则，请使用show character set语句或查询信息架构字符集表。</p><p></p></li><li class="listitem"><p>
                    If <em class="replaceable"><code>_charset_name</code></em> is not specified
                    but <code class="literal">COLLATE
                    <em class="replaceable"><code>collation_name</code></em></code> is
                    specified, the connection default character set given by the
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
                    system variable and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                    <em class="replaceable"><code>collation_name</code></em> must be a
                    permitted collation for the connection default character
                    set.
                </p><p style="color:blue;">如果未指定字符集名称，但指定了排序规则名称，则使用字符集连接系统变量给定的连接默认字符集和排序规则名称。排序规则名称必须是连接默认字符集允许的排序规则。</p><p></p></li><li class="listitem"><p>
                    Otherwise (neither <em class="replaceable"><code>_charset_name</code></em>
                    nor <code class="literal">COLLATE
                    <em class="replaceable"><code>collation_name</code></em></code> is
                    specified), the connection default character set and
                    collation given by the
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
                    and <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a>
                    system variables are used.
                </p><p style="color:blue;">否则（既不指定字符集名称也不指定排序规则名称），将使用由字符集连接和排序规则连接系统变量给定的连接默认字符集和排序规则。</p><p></p></li></ul>
            </div>
            <p>
                Examples:
            </p><p style="color:blue;">示例：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    A nonbinary string with <code class="literal">latin1</code> character
                    set and <code class="literal">latin1_german1_ci</code> collation:
                </p><p style="color:blue;">具有Latin1字符集和Latin1_German1_CI排序规则的非二进制字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT _latin1'Müller' COLLATE latin1_german1_ci;
</pre></li><li class="listitem"><p>
                    A nonbinary string with <code class="literal">utf8</code> character
                    set and its default collation (that is,
                    <code class="literal">utf8_general_ci</code>):
                </p><p style="color:blue;">具有utf8字符集及其默认排序规则（即utf8_general_ci）的非二进制字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT _utf8'Müller';
</pre></li><li class="listitem"><p>
                    A binary string with <code class="literal">binary</code> character set
                    and its default collation (that is,
                    <code class="literal">binary</code>):
                </p><p style="color:blue;">具有二进制字符集及其默认排序规则（即二进制）的二进制字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT _binary'Müller';
</pre></li><li class="listitem"><p>
                    A nonbinary string with the connection default character set
                    and <code class="literal">utf8_general_ci</code> collation (fails if
                    the connection character set is not
                    <code class="literal">utf8</code>):
                </p><p style="color:blue;">具有连接默认字符集和utf8_general_ci排序规则的非二进制字符串（如果连接字符集不是utf8，则失败）：</p><p></p><pre data-lang="sql" class="programlisting">SELECT 'Müller' COLLATE utf8_general_ci;
</pre></li><li class="listitem"><p>
                    A string with the connection default character set and
                    collation:
                </p><p style="color:blue;">具有连接默认字符集和排序规则的字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT 'Müller';
</pre></li></ul>
            </div>
            <p>
                An introducer indicates the character set for the following
                string, but does not change how the parser performs escape
                processing within the string. Escapes are always interpreted by
                the parser according to the character set given by
                <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>.
            </p><p style="color:blue;">介绍人指示以下字符串的字符集，但不更改解析器在字符串中执行转义处理的方式。转义始终由解析器根据character_set_connection给定的字符集进行解释。</p><p></p><p>
            The following examples show that escape processing occurs using
            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> even
            in the presence of an introducer. The examples use
            <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> (which changes
            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>, as
            discussed in <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>), and display
            the resulting strings using the
            <a class="link" href="functions.html#function_hex"><code class="literal">HEX()</code></a> function so that the exact
            string contents can be seen.
        </p><p style="color:blue;">以下示例表明，即使在介绍人在场的情况下，转义处理也会使用character_set_连接进行。示例使用集合名称（如第10.4节“连接字符集和排序规则”中所述，它更改字符集连接），并使用hex（）函数显示结果字符串，以便可以看到确切的字符串内容。</p><p></p><p>
            Example 1:
        </p><p style="color:blue;">例1：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES latin1;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT HEX('à\n'), HEX(_sjis'à\n');</code></strong>
+------------+-----------------+
| HEX('à\n')  | HEX(_sjis'à\n')  |
+------------+-----------------+
| E00A       | E00A            |
+------------+-----------------+
</pre><p>
            Here, <code class="literal">à</code> (hexadecimal value
            <code class="literal">E0</code>) is followed by <code class="literal">\n</code>, the
            escape sequence for newline. The escape sequence is interpreted
            using the
            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> value
            of <code class="literal">latin1</code> to produce a literal newline
            (hexadecimal value <code class="literal">0A</code>). This happens even for
            the second string. That is, the <code class="literal">_sjis</code>
            introducer does not affect the parser's escape processing.
        </p><p style="color:blue;">这里，a（十六进制值e0）后面是换行符的转义序列。转义序列使用latin1的字符集连接值来解释，以生成文本换行符（十六进制值0a）。即使是第二根弦也会发生这种情况。也就是说，sjis介绍人不影响解析器的转义处理。</p><p></p><p>
            Example 2:
        </p><p style="color:blue;">例2：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES sjis;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT HEX('à\n'), HEX(_latin1'à\n');</code></strong>
+------------+-------------------+
| HEX('à\n')  | HEX(_latin1'à\n')  |
+------------+-------------------+
| E05C6E     | E05C6E            |
+------------+-------------------+
</pre><p>
            Here, <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
            is <code class="literal">sjis</code>, a character set in which the
            sequence of <code class="literal">à</code> followed by
            <code class="literal">\</code> (hexadecimal values <code class="literal">05</code>
            and <code class="literal">5C</code>) is a valid multibyte character.
            Hence, the first two bytes of the string are interpreted as a
            single <code class="literal">sjis</code> character, and the
            <code class="literal">\</code> is not interpreted as an escape character.
            The following <code class="literal">n</code> (hexadecimal value
            <code class="literal">6E</code>) is not interpreted as part of an escape
            sequence. This is true even for the second string; the
            <code class="literal">_latin1</code> introducer does not affect escape
            processing.
        </p><p style="color:blue;">这里，character_set_connection是sjis，一种字符集，在该字符集中，后跟\（十六进制值05和5c）的顺序是有效的多字节字符。因此，字符串的前两个字节被解释为单个sjis字符，而\不被解释为转义字符。以下n（十六进制值6e）不解释为转义序列的一部分。即使对于第二个字符串也是如此；拉丁介绍人不影响转义处理。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-national"></a>10.3.7&nbsp;The National Character Set</h3>

                    </div>

                </div>

            </div>
            <p>
                Standard SQL defines <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">NCHAR</code></a> or
                <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">NATIONAL CHAR</code></a> as a way to
                indicate that a <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> column
                should use some predefined character set. MySQL uses
                <code class="literal">utf8</code> as this predefined character set. For
                example, these data type declarations are equivalent:
            </p><p style="color:blue;">标准sql将nchar或national char定义为一种指示char列应该使用一些预定义字符集的方式。mysql使用utf8作为这个预定义的字符集。例如，这些数据类型声明是等效的：</p><p></p><pre data-lang="sql" class="programlisting">CHAR(10) CHARACTER SET utf8
NATIONAL CHARACTER(10)
NCHAR(10)
</pre><p>
            As are these:
        </p><p style="color:blue;">这些是：</p><p></p><pre data-lang="sql" class="programlisting">VARCHAR(10) CHARACTER SET utf8
NATIONAL VARCHAR(10)
NVARCHAR(10)
NCHAR VARCHAR(10)
NATIONAL CHARACTER VARYING(10)
NATIONAL CHAR VARYING(10)
</pre><p>
            You can use
            <code class="literal">N'<em class="replaceable"><code>literal</code></em>'</code> (or
            <code class="literal">n'<em class="replaceable"><code>literal</code></em>'</code>) to
            create a string in the national character set. These statements
            are equivalent:
        </p><p style="color:blue;">可以使用n'literal'（或n'literal'）在国家字符集中创建字符串。这些陈述相当于：</p><p></p><pre data-lang="sql" class="programlisting">SELECT N'some text';
SELECT n'some text';
SELECT _utf8'some text';
</pre>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-introducer"></a>10.3.8&nbsp;Character Set Introducers</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286864807136"></a><a class="indexterm" name="idm140286864805680"></a><p>
            A character string literal, hexadecimal literal, or bit-value
            literal may have an optional character set introducer and
            <code class="literal">COLLATE</code> clause, to designate it as a string
            that uses a particular character set and collation:
        </p><p style="color:blue;">字符串文本、十六进制文本或位值文本可以具有可选的字符集介绍人和COLLATE子句，以将其指定为使用特定字符集和排序规则的字符串：</p><p></p><pre data-lang="sql" class="programlisting">[_<em class="replaceable"><code>charset_name</code></em>] <em class="replaceable"><code>literal</code></em> [COLLATE <em class="replaceable"><code>collation_name</code></em>]
</pre><p>
            The <code class="literal">_<em class="replaceable"><code>charset_name</code></em></code>
            expression is formally called an
            <span class="emphasis"><em>introducer</em></span>. It tells the parser, <span class="quote">“<span class="quote">the
        string that follows uses character set
        <em class="replaceable"><code>charset_name</code></em>.</span>”</span> An introducer
            does not change the string to the introducer character set like
            <a class="link" href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> would do. It does not
            change the string value, although padding may occur. The
            introducer is just a signal.
        </p><p style="color:blue;">charset名称表达式正式地称为介绍人。它告诉解析器，“后面的字符串使用字符集字符集名称。”介绍人不会像convert（）那样将字符串更改为介绍人字符集。它不会更改字符串值，尽管可能会出现填充。介绍人只是个信号。</p><p></p><p>
            For character string literals, space between the introducer and
            the string is permitted but optional.
        </p><p style="color:blue;">对于字符串文本，介绍人和字符串之间的空格是允许的，但是可选的。</p><p></p><p>
            Examples:
        </p><p style="color:blue;">示例：</p><p></p><pre data-lang="sql" class="programlisting">SELECT 'abc';
SELECT _latin1'abc';
SELECT _binary'abc';
SELECT _utf8'abc' COLLATE utf8_danish_ci;

SELECT _latin1 X'4D7953514C';
SELECT _utf8 0x4D7953514C COLLATE utf8_danish_ci;

SELECT _latin1 b'1000001';
SELECT _utf8 0b1000001 COLLATE utf8_danish_ci;
</pre><p>
            Character set introducers and the <code class="literal">COLLATE</code>
            clause are implemented according to standard SQL specifications.
        </p><p style="color:blue;">字符集介绍人和collate子句是根据标准sql规范实现的。</p><p></p><p>
            Character string literals can be designated as binary strings by
            using the <code class="literal">_binary</code> introducer. Hexadecimal
            literals and bit-value literals are binary strings by default,
            so <code class="literal">_binary</code> is permitted, but unnecessary.
        </p><p style="color:blue;">字符串文字可以通过使用二进制介入器指定为二进制字符串。默认情况下，十六进制文本和位值文本是二进制字符串，因此允许使用二进制，但不必要。</p><p></p><p>
            MySQL determines the character set and collation of a character
            string literal, hexadecimal literal, or bit-value literal in the
            following manner:
        </p><p style="color:blue;">mysql按以下方式确定字符串文本、十六进制文本或位值文本的字符集和排序规则：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If both <em class="replaceable"><code>_charset_name</code></em> and
                    <code class="literal">COLLATE
                        <em class="replaceable"><code>collation_name</code></em></code> are
                    specified, character set
                    <em class="replaceable"><code>charset_name</code></em> and collation
                    <em class="replaceable"><code>collation_name</code></em> are used.
                    <em class="replaceable"><code>collation_name</code></em> must be a
                    permitted collation for
                    <em class="replaceable"><code>charset_name</code></em>.
                </p><p style="color:blue;">如果同时指定了字符集名称和排序规则名称，则使用字符集字符集名称和排序规则名称。排序规则名称必须是字符集名称允许的排序规则。</p><p></p></li><li class="listitem"><p>
                    If <em class="replaceable"><code>_charset_name</code></em> is specified but
                    <code class="literal">COLLATE</code> is not specified, character set
                    <em class="replaceable"><code>charset_name</code></em> and its default
                    collation are used. To see the default collation for each
                    character set, use the <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER
                    SET</code></a> statement or query the
                    <code class="literal">INFORMATION_SCHEMA</code>
                    <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table.
                </p><p style="color:blue;">如果指定了字符集名称但未指定排序规则，则使用字符集字符集名称及其默认排序规则。若要查看每个字符集的默认排序规则，请使用show character set语句或查询信息架构字符集表。</p><p></p></li><li class="listitem"><p>
                    If <em class="replaceable"><code>_charset_name</code></em> is not specified
                    but <code class="literal">COLLATE
                    <em class="replaceable"><code>collation_name</code></em></code> is
                    specified:
                </p><p style="color:blue;">如果未指定字符集名称，但指定了排序规则名称：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            For a character string literal, the connection default
                            character set given by the
                            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
                            system variable and collation
                            <em class="replaceable"><code>collation_name</code></em> are used.
                            <em class="replaceable"><code>collation_name</code></em> must be a
                            permitted collation for the connection default character
                            set.
                        </p><p style="color:blue;">对于字符串文字，将使用character set_connection系统变量和排序规则名给定的连接默认字符集。排序规则名称必须是连接默认字符集允许的排序规则。</p><p></p></li><li class="listitem"><p>
                            For a hexadecimal literal or bit-value literal, the only
                            permitted collation is <code class="literal">binary</code> because
                            these types of literals are binary strings by default.
                        </p><p style="color:blue;">对于十六进制文本或位值文本，唯一允许的排序规则是二进制的，因为默认情况下，这些类型的文本是二进制字符串。</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    Otherwise (neither <em class="replaceable"><code>_charset_name</code></em>
                    nor <code class="literal">COLLATE
                    <em class="replaceable"><code>collation_name</code></em></code> is
                    specified):
                </p><p style="color:blue;">否则（既没有指定字符集名称，也没有指定整理排序规则名称）：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            For a character string literal, the connection default
                            character set and collation given by the
                            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
                            and
                            <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a>
                            system variables are used.
                        </p><p style="color:blue;">对于字符串文字，使用字符集连接和排序规则连接系统变量给定的连接默认字符集和排序规则。</p><p></p></li><li class="listitem"><p>
                            For a hexadecimal literal or bit-value literal, the
                            character set and collation are
                            <code class="literal">binary</code>.
                        </p><p style="color:blue;">对于十六进制文字或位值文字，字符集和排序规则是二进制的。</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>
            <p>
                Examples:
            </p><p style="color:blue;">示例：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Nonbinary strings with <code class="literal">latin1</code> character
                    set and <code class="literal">latin1_german1_ci</code> collation:
                </p><p style="color:blue;">具有Latin1字符集和Latin1_German1_CI排序规则的非二进制字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT _latin1'Müller' COLLATE latin1_german1_ci;
SELECT _latin1 X'0A0D' COLLATE latin1_german1_ci;
SELECT _latin1 b'0110' COLLATE latin1_german1_ci;
</pre></li><li class="listitem"><p>
                    Nonbinary strings with <code class="literal">utf8</code> character set
                    and its default collation (that is,
                    <code class="literal">utf8_general_ci</code>):
                </p><p style="color:blue;">具有utf8字符集及其默认排序规则（即utf8_general_ci）的非二进制字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT _utf8'Müller';
SELECT _utf8 X'0A0D';
SELECT _utf8 b'0110';
</pre></li><li class="listitem"><p>
                    Binary strings with <code class="literal">binary</code> character set
                    and its default collation (that is,
                    <code class="literal">binary</code>):
                </p><p style="color:blue;">具有二进制字符集及其默认排序规则（即二进制）的二进制字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT _binary'Müller';
SELECT X'0A0D';
SELECT b'0110';
</pre><p>
                    The hexadecimal literal and bit-value literal need no
                    introducer because they are binary strings by default.
                </p><p style="color:blue;">十六进制文字和位值文字不需要介词，因为它们默认是二进制字符串。</p><p></p></li><li class="listitem"><p>
                    A nonbinary string with the connection default character set
                    and <code class="literal">utf8_general_ci</code> collation (fails if
                    the connection character set is not
                    <code class="literal">utf8</code>):
                </p><p style="color:blue;">具有连接默认字符集和utf8_general_ci排序规则的非二进制字符串（如果连接字符集不是utf8，则失败）：</p><p></p><pre data-lang="sql" class="programlisting">SELECT 'Müller' COLLATE utf8_general_ci;
</pre><p>
                    This construction (<code class="literal">COLLATE</code> only) does not
                    work for hexadecimal literals or bit literals because their
                    character set is <code class="literal">binary</code> no matter the
                    connection character set, and <code class="literal">binary</code> is
                    not compatible with the <code class="literal">utf8_general_ci</code>
                    collation. The only permitted <code class="literal">COLLATE</code>
                    clause in the absence of an introducer is <code class="literal">COLLATE
                    binary</code>.
                </p><p style="color:blue;">此构造（仅限排序）不适用于十六进制文字或位文字，因为无论连接字符集如何，它们的字符集都是二进制的，并且二进制与utf8_general_ci排序规则不兼容。在没有介绍人的情况下，唯一允许的collate子句是collate binary。</p><p></p></li><li class="listitem"><p>
                    A string with the connection default character set and
                    collation:
                </p><p style="color:blue;">具有连接默认字符集和排序规则的字符串：</p><p></p><pre data-lang="sql" class="programlisting">SELECT 'Müller';
</pre></li></ul>
            </div>
            <p>
                For character set literals, an introducer indicates the
                character set for the following string, but does not change how
                the parser performs escape processing within the string. Escapes
                are always interpreted by the parser according to the character
                set given by
                <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>. For
                additional discussion and examples, see
                <a class="xref" href="charset.html#charset-literal" title="10.3.6&nbsp;Character String Literal Character Set and Collation">Section&nbsp;10.3.6, “Character String Literal Character Set and Collation”</a>.
            </p><p style="color:blue;">对于字符集文本，介绍人指示以下字符串的字符集，但不更改解析器在字符串中执行转义处理的方式。转义始终由解析器根据character_set_connection给定的字符集进行解释。有关其他讨论和示例，请参阅第10.3.6节“字符串文字字符集和排序规则”。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-examples"></a>10.3.9&nbsp;Examples of Character Set and Collation Assignment</h3>

                    </div>

                </div>

            </div>
            <p>
                The following examples show how MySQL determines default
                character set and collation values.
            </p><p style="color:blue;">下面的示例演示mysql如何确定默认字符集和排序规则值。</p><p></p><p>
        <span class="bold"><strong>Example 1: Table and Column
        Definition</strong></span>
        </p><p style="color:blue;">示例1：表和列定义</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    c1 CHAR(10) CHARACTER SET latin1 COLLATE latin1_german1_ci
) DEFAULT CHARACTER SET latin2 COLLATE latin2_bin;
</pre><p>
            Here we have a column with a <code class="literal">latin1</code> character
            set and a <code class="literal">latin1_german1_ci</code> collation. The
            definition is explicit, so that is straightforward. Notice that
            there is no problem with storing a <code class="literal">latin1</code>
            column in a <code class="literal">latin2</code> table.
        </p><p style="color:blue;">这里我们有一个带有Latin1字符集和Latin1_German1_CI排序规则的列。定义是明确的，所以很简单。注意，在Latin2表中存储Latin1列没有问题。</p><p></p><p>
        <span class="bold"><strong>Example 2: Table and Column
        Definition</strong></span>
        </p><p style="color:blue;">示例2：表和列定义</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    c1 CHAR(10) CHARACTER SET latin1
) DEFAULT CHARACTER SET latin1 COLLATE latin1_danish_ci;
</pre><p>
            This time we have a column with a <code class="literal">latin1</code>
            character set and a default collation. Although it might seem
            natural, the default collation is not taken from the table
            level. Instead, because the default collation for
            <code class="literal">latin1</code> is always
            <code class="literal">latin1_swedish_ci</code>, column
            <code class="literal">c1</code> has a collation of
            <code class="literal">latin1_swedish_ci</code> (not
            <code class="literal">latin1_danish_ci</code>).
        </p><p style="color:blue;">这一次，我们有一个带有Latin1字符集和默认排序规则的列。尽管看起来很自然，但默认的排序规则不是从表级别获取的。相反，因为Latin1的默认排序规则始终是Latin1_-Swedish_-Ci，所以C1列有Latin1_-Swedish_-Ci的排序规则（不是Latin1_-Danish_-Ci）。</p><p></p><p>
        <span class="bold"><strong>Example 3: Table and Column
        Definition</strong></span>
        </p><p style="color:blue;">例3：表和列定义</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1
(
    c1 CHAR(10)
) DEFAULT CHARACTER SET latin1 COLLATE latin1_danish_ci;
</pre><p>
            We have a column with a default character set and a default
            collation. In this circumstance, MySQL checks the table level to
            determine the column character set and collation. Consequently,
            the character set for column <code class="literal">c1</code> is
            <code class="literal">latin1</code> and its collation is
            <code class="literal">latin1_danish_ci</code>.
        </p><p style="color:blue;">我们有一个具有默认字符集和默认排序规则的列。在这种情况下，mysql检查表级别以确定列字符集和排序规则。因此，c1列的字符集是latin1，其排序规则是latin1_danish_ci。</p><p></p><p>
        <span class="bold"><strong>Example 4: Database, Table, and Column
        Definition</strong></span>
        </p><p style="color:blue;">示例4：数据库、表和列定义</p><p></p><pre data-lang="sql" class="programlisting">CREATE DATABASE d1
    DEFAULT CHARACTER SET latin2 COLLATE latin2_czech_ci;
USE d1;
CREATE TABLE t1
(
    c1 CHAR(10)
);
</pre><p>
            We create a column without specifying its character set and
            collation. We're also not specifying a character set and a
            collation at the table level. In this circumstance, MySQL checks
            the database level to determine the table settings, which
            thereafter become the column settings.) Consequently, the
            character set for column <code class="literal">c1</code> is
            <code class="literal">latin2</code> and its collation is
            <code class="literal">latin2_czech_ci</code>.
        </p><p style="color:blue;">创建列时不指定其字符集和排序规则。我们也没有在表级别指定字符集和排序规则。在这种情况下，mysql检查数据库级别以确定表设置，表设置随后成为列设置。）因此，列c1的字符集是latin2，其排序规则是latin2_czech_ci。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-compatibility"></a>10.3.10&nbsp;Compatibility with Other DBMSs</h3>

                    </div>

                </div>

            </div>
            <p>
                For MaxDB compatibility these two statements are the same:
            </p><p style="color:blue;">对于maxdb兼容性，这两个语句是相同的：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1 (f1 CHAR(<em class="replaceable"><code>N</code></em>) UNICODE);
CREATE TABLE t1 (f1 CHAR(<em class="replaceable"><code>N</code></em>) CHARACTER SET ucs2);
</pre>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-connection"></a>10.4&nbsp;Connection Character Sets and Collations</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286864711264"></a><a class="indexterm" name="idm140286864709840"></a><p>
        A <span class="quote">“<span class="quote">connection</span>”</span> is what a client program makes when it
        connects to the server, to begin a session within which it
        interacts with the server. The client sends SQL statements, such
        as queries, over the session connection. The server sends
        responses, such as result sets or error messages, over the
        connection back to the client.
    </p><p style="color:blue;">“连接”是客户端程序在连接到服务器时所做的操作，以开始与服务器交互的会话。客户机通过会话连接发送SQL语句（如查询）。服务器通过连接将响应（如结果集或错误消息）发送回客户端。</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="charset.html#charset-connection-system-variables" title="Connection Character Set and Collation System Variables">Connection Character Set and Collation System Variables</a></p><p style="color:blue;">连接字符集和排序系统变量</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a></p><p style="color:blue;">不允许的客户端字符集</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-connection-client-configuration" title="Client Program Connection Character Set Configuration">Client Program Connection Character Set Configuration</a></p><p style="color:blue;">客户端程序连接字符集配置</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-connection-sql-statements" title="SQL Statements for Connection Character Set Configuration">SQL Statements for Connection Character Set Configuration</a></p><p style="color:blue;">用于连接字符集配置的SQL语句</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-connection-error-handling" title="Connection Character Set Error Handling">Connection Character Set Error Handling</a></p><p style="color:blue;">连接字符集错误处理</p><p></p></li></ul>
        </div>

        <div class="simplesect">

            <div class="titlepage">
                <div>

                    <div class="simple">
                        <h3 class="title"><a name="charset-connection-system-variables"></a>Connection Character Set and Collation System Variables</h3>

                    </div>

                </div>

            </div>
            <p>
                Several character set and collation system variables relate to a
                client's interaction with the server. Some of these have been
                mentioned in earlier sections:
            </p><p style="color:blue;">几个字符集和排序系统变量与客户端与服务器的交互有关。其中一些在前面的章节中已经提到：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a>
                    and <a class="link" href="server-administration.html#sysvar_collation_server"><code class="literal">collation_server</code></a> system
                    variables indicate the server character set and collation.
                    See <a class="xref" href="charset.html#charset-server" title="10.3.2&nbsp;Server Character Set and Collation">Section&nbsp;10.3.2, “Server Character Set and Collation”</a>.
                </p><p style="color:blue;">字符集服务器和排序规则服务器系统变量指示服务器字符集和排序规则。见第10.3.2节“服务器字符集和排序规则”。</p><p></p></li><li class="listitem"><p>
                    The <a class="link" href="server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a>
                    and <a class="link" href="server-administration.html#sysvar_collation_database"><code class="literal">collation_database</code></a>
                    system variables indicate the character set and collation of
                    the default database. See
                    <a class="xref" href="charset.html#charset-database" title="10.3.3&nbsp;Database Character Set and Collation">Section&nbsp;10.3.3, “Database Character Set and Collation”</a>.
                </p><p style="color:blue;">字符集数据库和排序规则数据库系统变量指示默认数据库的字符集和排序规则。见第10.3.3节“数据库字符集和排序规则”。</p><p></p></li></ul>
            </div>
            <p>
                Additional character set and collation system variables are
                involved in handling traffic for the connection between a client
                and the server. Every client has session-specific
                connection-related character set and collation system variables.
                These session system variable values are initialized at connect
                time, but can be changed within the session.
            </p><p style="color:blue;">在处理客户机和服务器之间连接的通信量时，还涉及其他字符集和排序系统变量。每个客户机都有特定于会话的连接相关字符集和排序规则系统变量。这些会话系统变量值在连接时初始化，但可以在会话中更改。</p><p></p><p>
            Several questions about character set and collation handling for
            client connections can be answered in terms of system variables:
        </p><p style="color:blue;">有关客户端连接的字符集和排序规则处理的几个问题可以用系统变量来回答：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    What character set are statements in when they leave the
                    client?
                </p><p style="color:blue;">当语句离开客户机时，它们是什么字符集？</p><p></p><p>
                    The server takes the
                    <a class="link" href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> system
                    variable to be the character set in which statements are
                    sent by the client.
                </p><p style="color:blue;">服务器将字符集客户机系统变量作为客户机发送语句的字符集。</p><p></p>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            Some character sets cannot be used as the client character
                            set. See
                            <a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a>.
                        </p><p style="color:blue;">某些字符集不能用作客户端字符集。请参见不允许的客户端字符集。</p><p></p>
                    </div>
                </li><li class="listitem"><p>
                    What character set should the server translate statements to
                    after receiving them?
                </p><p style="color:blue;">服务器在接收到语句后应该将其转换为什么字符集？</p><p></p><p>
                    To determine this, the server uses the
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
                    and <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a>
                    system variables:
                </p><p style="color:blue;">要确定这一点，服务器使用字符集连接和排序规则连接系统变量：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            The server converts statements sent by the client from
                            <a class="link" href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> to
                            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>.
                            Exception: For string literals that have an introducer
                            such as <code class="literal">_utf8mb4</code> or
                            <code class="literal">_latin2</code>, the introducer determines
                            the character set. See
                            <a class="xref" href="charset.html#charset-introducer" title="10.3.8&nbsp;Character Set Introducers">Section&nbsp;10.3.8, “Character Set Introducers”</a>.
                        </p><p style="color:blue;">服务器将客户端发送的语句从字符集客户端转换为字符集连接。例外：对于具有介绍人（如utf8mb4或latin2）的字符串文本，介绍人确定字符集。见第10.3.8节“字符集介绍人”。</p><p></p></li><li class="listitem"><p>
                            <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> is
                            important for comparisons of literal strings. For
                            comparisons of strings with column values,
                            <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a>
                            does not matter because columns have their own
                            collation, which has a higher collation precedence (see
                            <a class="xref" href="charset.html#charset-collation-coercibility" title="10.8.4&nbsp;Collation Coercibility in Expressions">Section&nbsp;10.8.4, “Collation Coercibility in Expressions”</a>).
                        </p><p style="color:blue;">排序规则连接对于文本字符串的比较非常重要。对于字符串与列值的比较，collation_connection无关紧要，因为列有自己的排序规则，它具有更高的排序规则优先级（请参阅第10.8.4节“表达式中的排序规则强制性”）。</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    What character set should the server translate query results
                    to before shipping them back to the client?
                </p><p style="color:blue;">在将查询结果发送回客户端之前，服务器应将其转换为什么字符集？</p><p></p><p>
                    The <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
                    system variable indicates the character set in which the
                    server returns query results to the client. This includes
                    result data such as column values, result metadata such as
                    column names, and error messages.
                </p><p style="color:blue;">character_set_results系统变量指示服务器向客户端返回查询结果的字符集。这包括结果数据（如列值）、结果元数据（如列名）和错误消息。</p><p></p><p>
                    To tell the server to perform no conversion of result sets
                    or error messages, set
                    <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> to
                    <code class="literal">NULL</code> or <code class="literal">binary</code>:
                </p><p style="color:blue;">要告诉服务器不执行结果集或错误消息的转换，请将character\u set\u results设置为null或binary：</p><p></p><pre data-lang="sql" class="programlisting">SET character_set_results = NULL;
SET character_set_results = binary;
</pre><p>
                    For more information about character sets and error
                    messages, see <a class="xref" href="charset.html#charset-errors" title="10.6&nbsp;Error Message Character Set">Section&nbsp;10.6, “Error Message Character Set”</a>.
                </p><p style="color:blue;">有关字符集和错误消息的详细信息，请参阅第10.6节“错误消息字符集”。</p><p></p></li></ul>
            </div>
            <p>
                To see the values of the character set and collation system
                variables that apply to the current session, use this statement:
            </p><p style="color:blue;">要查看应用于当前会话的字符集和排序规则系统变量的值，请使用以下语句：</p><p></p><pre data-lang="sql" class="programlisting">SELECT * FROM performance_schema.session_variables
WHERE VARIABLE_NAME IN (
'character_set_client', 'character_set_connection',
'character_set_results', 'collation_connection'
) ORDER BY VARIABLE_NAME;
</pre><p>
            The following simpler statements also display the connection
            variables, but include other related variables as well. They can
            be useful to see <span class="emphasis"><em>all</em></span> character set and
            collation system variables:
        </p><p style="color:blue;">下面的简单语句还显示连接变量，但也包括其他相关变量。它们可以用于查看所有字符集和排序系统变量：</p><p></p><pre data-lang="sql" class="programlisting">SHOW SESSION VARIABLES LIKE 'character\_set\_%';
SHOW SESSION VARIABLES LIKE 'collation\_%';
</pre><p>
            Clients can fine-tune the settings for these variables, or
            depend on the defaults (in which case, you can skip the rest of
            this section). If you do not use the defaults, you must change
            the character settings <span class="emphasis"><em>for each connection to the
        server.</em></span>
        </p><p style="color:blue;">客户机可以微调这些变量的设置，或者依赖于默认值（在这种情况下，可以跳过本节的其余部分）。如果不使用默认值，则必须更改到服务器的每个连接的字符设置。</p><p></p>
        </div>
        <div class="simplesect">
            <div class="titlepage">
                <div>
                    <div class="simple">
                        <h3 class="title"><a name="charset-connection-impermissible-client-charset"></a>Impermissible Client Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286864656496"></a><a class="indexterm" name="idm140286864655008"></a><a class="indexterm" name="idm140286864653520"></a><a class="indexterm" name="idm140286864652032"></a><p>
            The <a class="link" href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> system
            variable cannot be set to certain character sets:
        </p><p style="color:blue;">字符集客户端系统变量不能设置为某些字符集：</p><p></p><pre data-lang="simple" class="programlisting">ucs2
utf16
utf16le
utf32
</pre><p>
            Attempting to use any of those character sets as the client
            character set produces an error:
        </p><p style="color:blue;">尝试使用这些字符集中的任何一个作为客户端字符集会产生错误：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET character_set_client = 'ucs2';</code></strong>
ERROR 1231 (42000): Variable 'character_set_client'
can't be set to the value of 'ucs2'
</pre><p>
            The same error occurs if any of those character sets are used in
            the following contexts, all of which result in an attempt to set
            <a class="link" href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> to the
            named character set:
        </p><p style="color:blue;">如果这些字符集中的任何一个在以下上下文中使用，则会出现相同的错误，所有这些都会导致尝试将character-set-client设置为命名字符集：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The
                    <a class="link" href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=<em class="replaceable"><code>charset_name</code></em></code></a>
                    command option used by MySQL client programs such as
                    <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> and <a class="link" href="programs.html#mysqladmin" title="4.5.2&nbsp;mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>.
                </p><p style="color:blue;">mysql和mysqladmin等mysql客户端程序使用的--default character set=charset_name命令选项。</p><p></p></li><li class="listitem"><p>
                    The <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES
                    '<em class="replaceable"><code>charset_name</code></em>'</code></a>
                    statement.
                </p><p style="color:blue;">set names'charset\u name'语句。</p><p></p></li><li class="listitem"><p>
                    The <a class="link" href="sql-syntax.html#set-character-set" title="13.7.4.2&nbsp;SET CHARACTER SET Syntax"><code class="literal">SET
                    CHARACTER SET
                    '<em class="replaceable"><code>charset_name</code></em>'</code></a>
                    statement.
                </p><p style="color:blue;">set character set'charset_name'语句。</p><p></p></li></ul>
            </div>

        </div>
        <div class="simplesect">
            <div class="titlepage">
                <div>
                    <div class="simple">
                        <h3 class="title"><a name="charset-connection-client-configuration"></a>Client Program Connection Character Set Configuration</h3>

                    </div>

                </div>

            </div>
            <p>
                When a client connects to the server, it indicates which
                character set it wants to use for communication with the server.
                (Actually, the client indicates the default collation for that
                character set, from which the server can determine the character
                set.) The server uses this information to set the
                <a class="link" href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a>,
                <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>,
                <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> system
                variables to the character set, and
                <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> to the
                character set default collation. In effect, the server performs
                the equivalent of a <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a>
                operation.
            </p><p style="color:blue;">当客户端连接到服务器时，它指示要使用哪个字符集与服务器通信。（实际上，客户端指示该字符集的默认排序规则，服务器可以从中确定字符集。）服务器使用此信息将字符集客户端、字符集结果、字符集连接系统变量设置为字符集，与字符集默认排序规则的连接。实际上，服务器执行的操作相当于set names操作。</p><p></p><p>
            If the server does not support the requested character set or
            collation, it falls back to using the server character set and
            collation to configure the connection. For additional detail
            about this fallback behavior, see
            <a class="xref" href="charset.html#charset-connection-error-handling" title="Connection Character Set Error Handling">Connection Character Set Error Handling</a>.
        </p><p style="color:blue;">如果服务器不支持请求的字符集或排序规则，则返回使用服务器字符集和排序规则配置连接。有关此回退行为的其他详细信息，请参阅连接字符集错误处理。</p><p></p><p>
            The <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>, <a class="link" href="programs.html#mysqladmin" title="4.5.2&nbsp;mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin</strong></span></a>,
            <a class="link" href="programs.html#mysqlcheck" title="4.5.3&nbsp;mysqlcheck — A Table Maintenance Program"><span class="command"><strong>mysqlcheck</strong></span></a>, <a class="link" href="programs.html#mysqlimport" title="4.5.5&nbsp;mysqlimport — A Data Import Program"><span class="command"><strong>mysqlimport</strong></span></a>,
            and <a class="link" href="programs.html#mysqlshow" title="4.5.7&nbsp;mysqlshow — Display Database, Table, and Column Information"><span class="command"><strong>mysqlshow</strong></span></a> client programs determine the
            default character set to use as follows:
        </p><p style="color:blue;">mysql、mysqladmin、mysqlcheck、mysqlimport和mysqlshow客户端程序确定要使用的默认字符集，如下所示：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    In the absence of other information, each client uses the
                    compiled-in default character set, usually
                    <code class="literal">latin1</code>.
                </p><p style="color:blue;">在没有其他信息的情况下，每个客户机使用默认的编译字符集，通常是latin1。</p><p></p></li><li class="listitem"><p>
                    Each client can autodetect which character set to use based
                    on the operating system setting, such as the value of the
                    <code class="literal">LANG</code> or <code class="literal">LC_ALL</code> locale
                    environment variable on Unix systems or the code page
                    setting on Windows systems. For systems on which the locale
                    is available from the OS, the client uses it to set the
                    default character set rather than using the compiled-in
                    default. For example, setting <code class="literal">LANG</code> to
                    <code class="literal">ru_RU.KOI8-R</code> causes the
                    <code class="literal">koi8r</code> character set to be used. Thus,
                    users can configure the locale in their environment for use
                    by MySQL clients.
                </p><p style="color:blue;">每个客户端都可以根据操作系统设置自动检测要使用的字符集，例如UNIX系统上的lang或lc_all locale环境变量的值或Windows系统上的代码页设置。对于本地语言环境可从操作系统获得的系统，客户端使用它来设置默认字符集，而不是使用默认编译的字符集。例如，设置郎到RuiRu.Kii-r会导致Koi8r字符集被使用。因此，用户可以在其环境中配置本地语言环境以供mysql客户端使用。</p><p></p><p>
                    The OS character set is mapped to the closest MySQL
                    character set if there is no exact match. If the client does
                    not support the matching character set, it uses the
                    compiled-in default. For example, <code class="literal">ucs2</code> is
                    not supported as a connection character set, so it maps to
                    the compiled-in default.
                </p><p style="color:blue;">如果没有完全匹配，则OS字符集将映射到最近的MySQL字符集。如果客户端不支持匹配的字符集，则使用默认编译的。例如，不支持将ucs2作为连接字符集，因此它将映射到默认编译的。</p><p></p><p>
                    C applications can use character set autodetection based on
                    the OS setting by invoking
                    <a class="link" href="connectors-apis.html#mysql-options" title="27.8.7.50&nbsp;mysql_options()"><code class="literal">mysql_options()</code></a> as follows
                    before connecting to the server:
                </p><p style="color:blue;">在连接到服务器之前，C应用程序可以通过调用mysql_options（）根据操作系统设置使用字符集自动检测：</p><p></p><pre data-lang="c" class="programlisting">mysql_options(mysql,
              MYSQL_SET_CHARSET_NAME,
              MYSQL_AUTODETECT_CHARSET_NAME);
</pre></li><li class="listitem"><p>
                    Each client supports a
                    <a class="link" href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set</code></a>
                    option, which enables users to specify the character set
                    explicitly to override whatever default the client otherwise
                    determines.
                </p><p style="color:blue;">每个客户机都支持--default字符集选项，该选项允许用户显式指定字符集，以覆盖客户机另行确定的任何默认值。</p><p></p>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            Some character sets cannot be used as the client character
                            set. Attempting to use them with
                            <a class="link" href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set</code></a>
                            produces an error. See
                            <a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a>.
                        </p><p style="color:blue;">某些字符集不能用作客户端字符集。尝试将它们与--默认字符集一起使用会产生错误。请参见不允许的客户端字符集。</p><p></p>
                    </div>
                </li></ul>
            </div>
            <p>
                With the <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client, to use a character set
                different from the default, you could explicitly execute a
                <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> statement every time
                you connect to the server (see
                <a class="xref" href="charset.html#charset-connection-client-configuration" title="Client Program Connection Character Set Configuration">Client Program Connection Character Set Configuration</a>). To
                accomplish the same result more easily, specify the character
                set in your option file. For example, the following option file
                setting changes the three connection-related character set
                system variables set to <code class="literal">koi8r</code> each time you
                invoke <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>:
            </p><p style="color:blue;">对于mysql客户端，要使用不同于默认值的字符集，可以在每次连接到服务器时显式执行set names语句（请参阅客户端程序连接字符集配置）。要更容易地完成相同的结果，请在选项文件中指定字符集。例如，以下选项文件设置在每次调用mysql时将三个与连接相关的字符集系统变量设置为koi8r：</p><p></p><pre data-lang="ini" class="programlisting">[mysql]
default-character-set=koi8r
</pre><p>
            If you are using the <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client with
            auto-reconnect enabled (which is not recommended), it is
            preferable to use the <code class="literal">charset</code> command rather
            than <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a>. For example:
        </p><p style="color:blue;">如果您使用的是启用了自动重新连接的mysql客户机（不建议这样做），最好使用charset命令，而不是set names。例如：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>charset koi8r</code></strong>
Charset changed
</pre><p>
            The <code class="literal">charset</code> command issues a
            <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> statement, and also
            changes the default character set that <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>
            uses when it reconnects after the connection has dropped.
        </p><p style="color:blue;">charset命令发出set names语句，并更改mysql在连接断开后重新连接时使用的默认字符集。</p><p></p><p>
            When configuration client programs, you must also consider the
            environment within which they execute. See
            <a class="xref" href="charset.html#charset-applications" title="10.5&nbsp;Configuring Application Character Set and Collation">Section&nbsp;10.5, “Configuring Application Character Set and Collation”</a>.
        </p><p style="color:blue;">在配置客户端程序时，还必须考虑它们在其中执行的环境。参见第10.5节“配置应用程序字符集和排序规则”。</p><p></p>
        </div>
        <div class="simplesect">
            <div class="titlepage">
                <div>
                    <div class="simple">
                        <h3 class="title"><a name="charset-connection-sql-statements"></a>SQL Statements for Connection Character Set Configuration</h3>

                    </div>

                </div>

            </div>
            <p>
                After a connection has been established, clients can change the
                character set and collation system variables for the current
                session. These variables can be changed individually using
                <a class="link" href="sql-syntax.html#set-statement" title="13.7.4&nbsp;SET Syntax"><code class="literal">SET</code></a>
                statements, but two more convenient statements affect the
                connection-related character set sytem variables as a group:
            </p><p style="color:blue;">建立连接后，客户端可以更改当前会话的字符集和排序规则系统变量。可以使用set语句单独更改这些变量，但有两个更方便的语句会将与连接相关的字符集系统变量作为一个组影响：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">SET NAMES '<em class="replaceable"><code>charset_name</code></em>'
                        [COLLATE
                        '<em class="replaceable"><code>collation_name</code></em>']</code>
                </p><p style="color:blue;">设置名称“charset_name”[整理“collation_name”]</p><p></p><p>
                    <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> indicates what
                    character set the client will use to send SQL statements to
                    the server. Thus,
                    <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES
                        'cp1251'</code></a> tells the server, <span class="quote">“<span class="quote">future incoming
            messages from this client are in character set
            <code class="literal">cp1251</code>.</span>”</span> It also specifies the
                    character set that the server should use for sending results
                    back to the client. (For example, it indicates what
                    character set to use for column values if you use a
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement that
                    produces a result set.)
                </p><p style="color:blue;">set names指示客户端将使用哪个字符集向服务器发送sql语句。因此，set names'cp1251'告诉服务器，“来自此客户端的未来传入消息位于字符集cp1251中。”它还指定服务器应用于将结果发送回客户端的字符集。（例如，如果使用生成结果集的select语句，它将指示要用于列值的字符集。）</p><p></p><p>
                    A <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES
                    '<em class="replaceable"><code>charset_name</code></em>'</code></a>
                    statement is equivalent to these three statements:
                </p><p style="color:blue;">set names'charset_name'语句等同于以下三个语句：</p><p></p><pre data-lang="sql" class="programlisting">SET character_set_client = <em class="replaceable"><code>charset_name</code></em>;
SET character_set_results = <em class="replaceable"><code>charset_name</code></em>;
SET character_set_connection = <em class="replaceable"><code>charset_name</code></em>;
</pre><p>
                    Setting
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> to
                    <em class="replaceable"><code>charset_name</code></em> also implicitly sets
                    <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> to the
                    default collation for
                    <em class="replaceable"><code>charset_name</code></em>. It is unnecessary
                    to set that collation explicitly. To specify a particular
                    collation to use for
                    <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a>, add a
                    <code class="literal">COLLATE</code> clause:
                </p><p style="color:blue;">将字符集连接设置为字符集名称也会隐式地将排序规则连接设置为字符集名称的默认排序规则。不必显式设置该排序规则。要指定用于排序规则连接的特定排序规则，请添加一个COLLATE子句：</p><p></p><pre data-lang="sql" class="programlisting">SET NAMES '<em class="replaceable"><code>charset_name</code></em>' COLLATE '<em class="replaceable"><code>collation_name</code></em>'
</pre></li><li class="listitem"><p>
                    <code class="literal">SET CHARACTER SET
                        '<em class="replaceable"><code>charset_name</code></em></code>'
                </p><p style="color:blue;">设置字符集“charset\u name”</p><p></p><p>
                    <a class="link" href="sql-syntax.html#set-character-set" title="13.7.4.2&nbsp;SET CHARACTER SET Syntax"><code class="literal">SET CHARACTER SET</code></a> is similar
                    to <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> but sets
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
                    and <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> to
                    <a class="link" href="server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a> and
                    <a class="link" href="server-administration.html#sysvar_collation_database"><code class="literal">collation_database</code></a> (which,
                    as mentioned previously, indicate the character set and
                    collation of the default database).
                </p><p style="color:blue;">set character set类似于set names，但将character_set_connection和collation_connection设置为character_set_database和collation_database（如前所述，指示默认数据库的字符集和排序规则）。</p><p></p><p>
                    A <a class="link" href="sql-syntax.html#set-character-set" title="13.7.4.2&nbsp;SET CHARACTER SET Syntax"><code class="literal">SET
                    CHARACTER SET
                    <em class="replaceable"><code>charset_name</code></em></code></a> statement
                    is equivalent to these three statements:
                </p><p style="color:blue;">set character set charset_name语句等同于以下三个语句：</p><p></p><pre data-lang="sql" class="programlisting">SET character_set_client = <em class="replaceable"><code>charset_name</code></em>;
SET character_set_results = <em class="replaceable"><code>charset_name</code></em>;
SET collation_connection = @@collation_database;
</pre><p>
                    Setting
                    <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> also
                    implicitly sets
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> to
                    the character set associated with the collation (equivalent
                    to executing <code class="literal">SET character_set_connection =
                    @@character_set_database</code>). It is unnecessary to
                    set
                    <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
                    explicitly.
                </p><p style="color:blue;">设置排序规则连接还隐式地将字符集连接设置为与排序规则关联的字符集（相当于执行集合字符集连接=@@字符集数据库）。不必显式设置字符集连接。</p><p></p></li></ul>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <div class="admon-title">
                    Note
                </div>
                <p>
                    Some character sets cannot be used as the client character
                    set. Attempting to use them with <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET
                    NAMES</code></a> or <a class="link" href="sql-syntax.html#set-character-set" title="13.7.4.2&nbsp;SET CHARACTER SET Syntax"><code class="literal">SET CHARACTER
                    SET</code></a> produces an error. See
                    <a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a>.
                </p><p style="color:blue;">某些字符集不能用作客户端字符集。尝试将它们与集合名称或集合字符集一起使用会产生错误。请参见不允许的客户端字符集。</p><p></p>
            </div>
            <p>
                Example: Suppose that <code class="literal">column1</code> is defined as
                <code class="literal">CHAR(5) CHARACTER SET latin2</code>. If you do not
                say <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> or
                <a class="link" href="sql-syntax.html#set-character-set" title="13.7.4.2&nbsp;SET CHARACTER SET Syntax"><code class="literal">SET CHARACTER SET</code></a>, then for
                <code class="literal">SELECT column1 FROM t</code>, the server sends back
                all the values for <code class="literal">column1</code> using the
                character set that the client specified when it connected. On
                the other hand, if you say <code class="literal">SET NAMES 'latin1'</code>
                or <code class="literal">SET CHARACTER SET 'latin1'</code> before issuing
                the <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> statement, the server
                converts the <code class="literal">latin2</code> values to
                <code class="literal">latin1</code> just before sending results back.
                Conversion may be lossy for characters that are not in both
                character sets.
            </p><p style="color:blue;">示例：假设column1被定义为char（5）字符集latin2。如果不说set names或set character set，那么对于select column1 from t t，服务器使用客户端连接时指定的字符集发送column1的所有值。另一方面，如果在发出select语句之前说set names'latin1'或set character set'latin1'，服务器会在返回结果之前将latin2值转换为latin1。对于不在两个字符集中的字符，转换可能是有损的。</p><p></p>
        </div>
        <div class="simplesect">
            <div class="titlepage">
                <div>
                    <div class="simple">
                        <h3 class="title"><a name="charset-connection-error-handling"></a>Connection Character Set Error Handling</h3>

                    </div>

                </div>

            </div>
            <p>
                Attempts to use an inappropriate connection character set or
                collation can produce an error, or cause the server to fall back
                to its default character set and collation for a given
                connection. This section describes problems that can occur when
                configuring the connection character set. These problems can
                occur when establishing a connection or when changing the
                character set within an established connection.
            </p><p style="color:blue;">尝试使用不正确的连接字符集或排序规则可能会产生错误，或导致服务器返回到给定连接的默认字符集和排序规则。本节描述配置连接字符集时可能出现的问题。在建立连接或更改已建立连接中的字符集时，可能会出现这些问题。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="charset.html#charset-connection-error-handling-connect-time" title="Connect-Time Error Handling">Connect-Time Error Handling</a></p><p style="color:blue;">连接时间错误处理</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-connection-error-handling-runtime" title="Runtime Error Handling">Runtime Error Handling</a></p><p style="color:blue;">运行时错误处理</p><p></p></li></ul>
            </div>
            <h4><a name="charset-connection-error-handling-connect-time"></a>Connect-Time Error Handling</h4>
            <p>
                Some character sets cannot be used as the client character set;
                see
                <a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a>.
                If you specify a character set that is valid but not permitted
                as a client character set, the server returns an error:
            </p><p style="color:blue;">某些字符集不能用作客户端字符集；请参阅不允许的客户端字符集。如果指定的字符集有效但不允许用作客户端字符集，服务器将返回错误：</p><p></p><pre data-lang="terminal" class="programlisting">shell&gt; <strong class="userinput"><code>mysql --default-character-set=ucs2</code></strong>
ERROR 1231 (42000): Variable 'character_set_client' can't be set to
the value of 'ucs2'
</pre><p>
            If you specify a character set that the client does not
            recognize, it produces an error:
        </p><p style="color:blue;">如果指定了客户端无法识别的字符集，则会产生错误：</p><p></p><pre data-lang="terminal" class="programlisting">shell&gt; <strong class="userinput"><code>mysql --default-character-set=bogus</code></strong>
mysql: Character set 'bogus' is not a compiled character set and is
not specified in the '/usr/local/mysql/share/charsets/Index.xml' file
ERROR 2019 (HY000): Can't initialize character set bogus
(path: /usr/local/mysql/share/charsets/)
</pre><p>
            If you specify a character set that the client recognizes but
            the server does not, the server falls back to its default
            character set and collation. Suppose that the server is
            configured to use <code class="literal">latin1</code> and
            <code class="literal">latin1_swedish_ci</code> as its defaults, and that
            it does not recognize <code class="literal">gb18030</code> as a valid
            character set. A client that specifies
            <a class="link" href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=gb18030</code></a> is
            able to connect to the server, but the resulting character set
            is not what the client wants:
        </p><p style="color:blue;">如果指定了客户端可识别但服务器无法识别的字符集，则服务器将返回其默认字符集和排序规则。假设服务器配置为使用Latin1和Latin1_Swedish_CI作为默认值，并且它不将GB18030识别为有效字符集。指定--default character set=GB18030的客户机能够连接到服务器，但生成的字符集不是客户机想要的：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW SESSION VARIABLES LIKE 'character\_set\_%';</code></strong>
+--------------------------+--------+
| Variable_name            | Value  |
+--------------------------+--------+
| character_set_client     | latin1 |
| character_set_connection | latin1 |
...
| character_set_results    | latin1 |
...
+--------------------------+--------+
mysql&gt; <strong class="userinput"><code>SHOW SESSION VARIABLES LIKE 'collation_connection';</code></strong>
+----------------------+-------------------+
| Variable_name        | Value             |
+----------------------+-------------------+
| collation_connection | latin1_swedish_ci |
+----------------------+-------------------+
</pre><p>
            You can see that the connection system variables have been set
            to reflect a character set and collation of
            <code class="literal">latin1</code> and
            <code class="literal">latin1_swedish_ci</code>. This occurs because the
            server cannot satisfy the client character set request and falls
            back to its defaults.
        </p><p style="color:blue;">您可以看到，连接系统变量已设置为反映拉丁语和拉丁语瑞典语的字符集和排序规则。发生这种情况的原因是服务器无法满足客户端字符集请求并返回其默认值。</p><p></p><p>
            In this case, the client cannot use the character set that it
            wants because the server does not support it. The client must
            either be willing to use a different character set, or connect
            to a different server that supports the desired character set.
        </p><p style="color:blue;">在这种情况下，客户端无法使用所需的字符集，因为服务器不支持它。客户端必须愿意使用不同的字符集，或者连接到支持所需字符集的不同服务器。</p><p></p><p>
            The same problem occurs in a more subtle context: When the
            client tells the server to use a character set that the server
            recognizes, but the default collation for that character set on
            the client side is not known on the server side. This occurs,
            for example, when a MySQL 8.0 client wants to connect to a MySQL
            5.7 server using <code class="literal">utf8mb4</code> as the client
            character set. A client that specifies
            <a class="link" href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=utf8mb4</code></a> is
            able to connect to the server. However, as in the previous
            example, the server falls back to its default character set and
            collation, not what the client requested:
        </p><p style="color:blue;">同样的问题出现在一个更微妙的上下文中：当客户端告诉服务器使用服务器识别的字符集时，但服务器端不知道客户端该字符集的默认排序规则。例如，当mysql 8.0客户端想要使用utf8mb4作为客户端字符集连接到mysql 5.7服务器时，就会发生这种情况。指定--default character set=utf8mb4的客户端能够连接到服务器。但是，与上一个示例一样，服务器返回到其默认字符集和排序规则，而不是客户端请求的内容：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW SESSION VARIABLES LIKE 'character\_set\_%';</code></strong>
+--------------------------+--------+
| Variable_name            | Value  |
+--------------------------+--------+
| character_set_client     | latin1 |
| character_set_connection | latin1 |
...
| character_set_results    | latin1 |
...
+--------------------------+--------+
mysql&gt; <strong class="userinput"><code>SHOW SESSION VARIABLES LIKE 'collation_connection';</code></strong>
+----------------------+-------------------+
| Variable_name        | Value             |
+----------------------+-------------------+
| collation_connection | latin1_swedish_ci |
+----------------------+-------------------+
</pre><p>
            Why does this occur? After all, <code class="literal">utf8mb4</code> is
            known to the 8.0 client and the 5.7 server, so both of them
            recognize it. To understand this behavior, it is necessary to
            understand that when the client tells the server which character
            set it wants to use, it really tells the server the default
            collation for that character set. Therefore, the aforementioned
            behavior occurs due to a combination of factors:
        </p><p style="color:blue;">为什么会这样？毕竟，8.0客户端和5.7服务器都知道utf8mb4，所以他们都能识别它。要了解此行为，必须了解，当客户端告诉服务器要使用哪个字符集时，它实际上会告诉服务器该字符集的默认排序规则。因此，上述行为是由以下因素组合而成：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The default collation for <code class="literal">utf8mb4</code> differs
                    between MySQL 5.7 and 8.0
                    (<code class="literal">utf8mb4_general_ci</code> for 5.7,
                    <code class="literal">utf8mb4_0900_ai_ci</code> for 8.0).
                </p><p style="color:blue;">utf8mb4的默认排序规则在mysql 5.7和8.0之间有所不同（utf8mb4_general_ci for 5.7，utf8mb4_0900_ai_ci for 8.0）。</p><p></p></li><li class="listitem"><p>
                    When the 8.0 client requests a character set of
                    <code class="literal">utf8mb4</code>, what it sends to the server is
                    the default 8.0 <code class="literal">utf8mb4</code> collation; that
                    is, the <code class="literal">utf8mb4_0900_ai_ci</code>.
                </p><p style="color:blue;">当8.0客户端请求一个utf8mb4字符集时，它发送给服务器的是默认的8.0utf8mb4排序规则；即utf8mb4_0900_Ai_CI。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">utf8mb4_0900_ai_ci</code> is implemented only as
                    of MySQL 8.0, so the 5.7 server does not recognize it.
                </p><p style="color:blue;">utf8mb4_0900_ai_ci仅从mysql 8.0开始实现，因此5.7服务器无法识别它。</p><p></p></li><li class="listitem"><p>
                    Because the 5.7 server does not recognize
                    <code class="literal">utf8mb4_0900_ai_ci</code>, it cannot satisfy the
                    client character set request, and falls back to its default
                    character set and collation (<code class="literal">latin1</code> and
                    <code class="literal">latin1_swedish_ci</code>).
                </p><p style="color:blue;">由于5.7服务器无法识别utf8mb4_0900_ai_ci，因此无法满足客户端字符集请求，并返回到其默认字符集和排序规则（latin1和latin1_瑞典语_ci）。</p><p></p></li></ul>
            </div>
            <p>
                In this case, the client can still use
                <code class="literal">utf8mb4</code> by issuing a <code class="literal">SET NAMES
                'utf8mb4'</code> statement after connecting. The resulting
                collation is the 5.7 default <code class="literal">utf8mb4</code>
                collation; that is, <code class="literal">utf8mb4_general_ci</code>. If
                the client additionally wants a collation of
                <code class="literal">utf8mb4_0900_ai_ci</code>, it cannot achieve that
                because the server does not recognize that collation. The client
                must either be willing to use a different
                <code class="literal">utf8mb4</code> collation, or connect to a server
                from MySQL 8.0 or higher.
            </p><p style="color:blue;">在这种情况下，客户端仍然可以使用utf8mb4，方法是在连接后发出set names'utf8mb4'语句。生成的排序规则是5.7默认的utf8mb4排序规则；即utf8mb4_general_ci。如果客户端还需要utf8mb4_0900_ai_ci的排序规则，则无法实现，因为服务器无法识别该排序规则。客户端必须愿意使用不同的utf8mb4排序规则，或者从mysql 8.0或更高版本连接到服务器。</p><p></p>
            <h4><a name="charset-connection-error-handling-runtime"></a>Runtime Error Handling</h4>
            <p>
                Within an established connection, the client can request a
                change of connection character set and collation with
                <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> or
                <a class="link" href="sql-syntax.html#set-character-set" title="13.7.4.2&nbsp;SET CHARACTER SET Syntax"><code class="literal">SET CHARACTER SET</code></a>.
            </p><p style="color:blue;">在已建立的连接中，客户端可以请求更改连接字符集，并使用集合名称或集合字符集进行排序。</p><p></p><p>
            Some character sets cannot be used as the client character set;
            see
            <a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a>.
            If you specify a character set that is valid but not permitted
            as a client character set, the server returns an error:
        </p><p style="color:blue;">某些字符集不能用作客户端字符集；请参阅不允许的客户端字符集。如果指定的字符集有效但不允许用作客户端字符集，服务器将返回错误：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'ucs2';</code></strong>
ERROR 1231 (42000): Variable 'character_set_client' can't be set to
the value of 'ucs2'
</pre><p>
            If the server does not recognize the character set (or the
            collation), it produces an error:
        </p><p style="color:blue;">如果服务器无法识别字符集（或排序规则），则会产生错误：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'bogus';</code></strong>
ERROR 1115 (42000): Unknown character set: 'bogus'

mysql&gt; <strong class="userinput"><code>SET NAMES 'utf8mb4' COLLATE 'bogus';</code></strong>
ERROR 1273 (HY000): Unknown collation: 'bogus'
</pre>
            <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Tip
                </div>
                <p>
                    A client that wants to verify whether its requested character
                    set was honored by the server can execute the following
                    statement after connecting and checking that the result is the
                    expected character set:
                </p><p style="color:blue;">要验证服务器是否遵守其请求的字符集的客户端可以在连接并检查结果是否为预期字符集后执行以下语句：</p><p></p><pre data-lang="sql" class="programlisting">SELECT @@character_set_client;
</pre>
            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-applications"></a>10.5&nbsp;Configuring Application Character Set and Collation</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286864467776"></a><p>
        For applications that store data using the default MySQL character
        set and collation (<code class="literal">latin1</code>,
        <code class="literal">latin1_swedish_ci</code>), no special configuration
        should be needed. If applications require data storage using a
        different character set or collation, you can configure character
        set information several ways:
    </p><p style="color:blue;">对于使用默认mysql字符集和排序规则（latin1，latin1_-swedish_-ci）存储数据的应用程序，不需要特殊配置。如果应用程序需要使用不同的字符集或排序规则进行数据存储，则可以通过多种方式配置字符集信息：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Specify character settings per database. For example,
                applications that use one database might use the default of
                <code class="literal">latin1</code>, whereas applications that use
                another database might use <code class="literal">sjis</code>.
            </p><p style="color:blue;">为每个数据库指定字符设置。例如，使用一个数据库的应用程序可能使用latin1的默认值，而使用另一个数据库的应用程序可能使用sjis。</p><p></p></li><li class="listitem"><p>
                Specify character settings at server startup. This causes the
                server to use the given settings for all applications that do
                not make other arrangements.
            </p><p style="color:blue;">在服务器启动时指定字符设置。这将导致服务器对所有未进行其他安排的应用程序使用给定的设置。</p><p></p></li><li class="listitem"><p>
                Specify character settings at configuration time, if you build
                MySQL from source. This causes the server to use the given
                settings as the defaults for all applications, without having
                to specify them at server startup.
            </p><p style="color:blue;">如果从源代码构建MySQL，请在配置时指定字符设置。这将导致服务器使用给定的设置作为所有应用程序的默认设置，而不必在服务器启动时指定这些设置。</p><p></p></li></ul>
        </div>
        <p>
            When different applications require different character settings,
            the per-database technique provides a good deal of flexibility. If
            most or all applications use the same character set, specifying
            character settings at server startup or configuration time may be
            most convenient.
        </p><p style="color:blue;">当不同的应用程序需要不同的字符设置时，每个数据库技术提供了大量的灵活性。如果大多数或所有应用程序使用相同的字符集，则在服务器启动或配置时指定字符设置可能最方便。</p><p></p><p>
        For the per-database or server-startup techniques, the settings
        control the character set for data storage. Applications must also
        tell the server which character set to use for client/server
        communications, as described in the following instructions.
    </p><p style="color:blue;">对于每数据库或服务器启动技术，这些设置控制数据存储的字符集。应用程序还必须告诉服务器要用于客户机/服务器通信的字符集，如以下说明中所述。</p><p></p><p>
        The examples shown here assume use of the <code class="literal">utf8</code>
        character set and <code class="literal">utf8_general_ci</code> collation in
        particular contexts as an alternative to the defaults of
        <code class="literal">latin1</code> and
        <code class="literal">latin1_swedish_ci</code>.
    </p><p style="color:blue;">这里显示的示例假设在特定上下文中使用utf8字符集和utf8_-general_-ci排序规则作为拉丁语和拉丁语-瑞典语默认值的替代。</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Specify character settings per database.&nbsp;</b>
                To create a database such that its tables will use a given
                default character set and collation for data storage, use a
                <a class="link" href="sql-syntax.html#create-database" title="13.1.11&nbsp;CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a> statement
                like this:
            </p><p style="color:blue;">为每个数据库指定字符设置。要创建一个数据库，使其表将使用给定的默认字符集和排序规则进行数据存储，请使用如下CREATE DATABASE语句：</p><p></p><pre data-lang="sql" class="programlisting">CREATE DATABASE mydb
  CHARACTER SET utf8
  COLLATE utf8_general_ci;
</pre><p>
                Tables created in the database will use
                <code class="literal">utf8</code> and <code class="literal">utf8_general_ci</code>
                by default for any character columns.
            </p><p style="color:blue;">默认情况下，数据库中创建的表将对任何字符列使用utf8和utf8_general_ci。</p><p></p><p>
                Applications that use the database should also configure their
                connection to the server each time they connect. This can be
                done by executing a <code class="literal">SET NAMES 'utf8'</code>
                statement after connecting. The statement can be used
                regardless of connection method (the <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>
                client, PHP scripts, and so forth).
            </p><p style="color:blue;">使用数据库的应用程序还应在每次连接时配置与服务器的连接。这可以通过在连接后执行set names'utf8'语句来完成。无论使用何种连接方法（mysql客户端、php脚本等），都可以使用该语句。</p><p></p><p>
                In some cases, it may be possible to configure the connection
                to use the desired character set some other way. For example,
                to connect using <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a>, you can specify the
                <a class="link" href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=utf8</code></a>
                command-line option to achieve the same effect as <code class="literal">SET
                NAMES 'utf8'</code>.
            </p><p style="color:blue;">在某些情况下，可以通过其他方式配置连接以使用所需的字符集。例如，要使用MySQL进行连接，可以指定--default character set=utf8命令行选项来实现与设置名称“utf8”相同的效果。</p><p></p><p>
                For more information about configuring client connections, see
                <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>.
            </p><p style="color:blue;">有关配置客户端连接的详细信息，请参阅第10.4节“连接字符集和排序规则”。</p><p></p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                    <div class="admon-title">
                        Note
                    </div>
                    <p>
                        If you use <a class="link" href="sql-syntax.html#alter-database" title="13.1.1&nbsp;ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE</code></a> to
                        change the database default character set or collation,
                        existing stored routines in the database that use those
                        defaults must be dropped and recreated so that they use the
                        new defaults. (In a stored routine, variables with character
                        data types use the database defaults if the character set or
                        collation are not specified explicitly. See
                        <a class="xref" href="sql-syntax.html#create-procedure" title="13.1.16&nbsp;CREATE PROCEDURE and CREATE FUNCTION Syntax">Section&nbsp;13.1.16, “CREATE PROCEDURE and CREATE FUNCTION Syntax”</a>.)
                    </p><p style="color:blue;">如果使用ALTE数据库更改数据库默认字符集或排序规则，则必须删除和重新创建数据库中使用的现有存储例程，以使它们使用新的默认值。（在存储例程中，如果未显式指定字符集或排序规则，则具有字符数据类型的变量将使用数据库默认值。见第13.1.16节，“创建过程和创建函数语法”。</p><p></p>
                </div>
            </li><li class="listitem"><p><b>Specify character settings at server startup.&nbsp;</b>
                To select a character set and collation at server startup,
                use the
                <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character-set-server</code></a> and
                <a class="link" href="server-administration.html#sysvar_collation_server"><code class="option">--collation-server</code></a> options.
                For example, to specify the options in an option file,
                include these lines:
            </p><p style="color:blue;">在服务器启动时指定字符设置。要在服务器启动时选择字符集和排序规则，请使用--character set server和--collation server选项。例如，要在选项文件中指定选项，请包含以下行：</p><p></p><pre data-lang="ini" class="programlisting">[mysqld]
character-set-server=utf8
collation-server=utf8_general_ci
</pre><p>
                These settings apply server-wide and apply as the defaults for
                databases created by any application, and for tables created
                in those databases.
            </p><p style="color:blue;">这些设置应用于服务器范围，并作为默认值应用于由任何应用程序创建的数据库以及在这些数据库中创建的表。</p><p></p><p>
                It is still necessary for applications to configure their
                connection using <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> or
                equivalent after they connect, as described previously. You
                might be tempted to start the server with the
                <a class="link" href="server-administration.html#sysvar_init_connect"><code class="option">--init_connect="SET NAMES
                    'utf8'"</code></a> option to cause <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET
                NAMES</code></a> to be executed automatically for each client
                that connects. However, this may yield inconsistent results
                because the <a class="link" href="server-administration.html#sysvar_init_connect"><code class="literal">init_connect</code></a>
                value is not executed for users who have the
                <a class="link" href="security.html#priv_super"><code class="literal">SUPER</code></a> privilege.
            </p><p style="color:blue;">如前所述，应用程序在连接后仍有必要使用集合名称或等效名称配置其连接。您可能会尝试使用--init_connect=“set names'utf8'”选项启动服务器，以便为连接的每个客户机自动执行set names。但是，这可能会产生不一致的结果，因为没有为具有超级权限的用户执行init_connect值。</p><p></p></li><li class="listitem"><p><b>Specify character settings at MySQL configuration time.&nbsp;</b>
                To select a character set and collation if you configure and
                build MySQL from source, use the
                <a class="link" href="installing.html#option_cmake_default_charset"><code class="option">DEFAULT_CHARSET</code></a> and
                <a class="link" href="installing.html#option_cmake_default_collation"><code class="option">DEFAULT_COLLATION</code></a>
                <span class="command"><strong>CMake</strong></span> options:
            </p><p style="color:blue;">在mysql配置时指定字符设置。如果从源代码配置和构建MySQL，要选择字符集和排序规则，请使用默认的字符集和排序规则cmake选项：</p><p></p><pre data-lang="terminal" class="programlisting">cmake . -DDEFAULT_CHARSET=utf8 \
  -DDEFAULT_COLLATION=utf8_general_ci
</pre><p>
                The resulting server uses <code class="literal">utf8</code> and
                <code class="literal">utf8_general_ci</code> as the default for
                databases and tables and for client connections. It is
                unnecessary to use
                <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character-set-server</code></a> and
                <a class="link" href="server-administration.html#sysvar_collation_server"><code class="option">--collation-server</code></a> to specify
                those defaults at server startup. It is also unnecessary for
                applications to configure their connection using
                <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a> or equivalent after
                they connect to the server.
            </p><p style="color:blue;">生成的服务器使用utf8和utf8_general_ci作为数据库和表以及客户端连接的默认值。不必在服务器启动时使用--character set server和--collation server来指定这些默认值。应用程序在连接到服务器后，也不必使用集合名称或等效名称配置其连接。</p><p></p></li></ul>
        </div>
        <p>
            Regardless of how you configure the MySQL character set for
            application use, you must also consider the environment within
            which those applications execute. For example, if you will send
            statements using UTF-8 text taken from a file that you create in
            an editor, you should edit the file with the locale of your
            environment set to UTF-8 so that the file encoding is correct and
            so that the operating system handles it correctly. If you use the
            <a class="link" href="programs.html#mysql" title="4.5.1&nbsp;mysql — The MySQL Command-Line Client"><span class="command"><strong>mysql</strong></span></a> client from within a terminal window, the
            window must be configured to use UTF-8 or characters may not
            display properly. For a script that executes in a Web environment,
            the script must handle character encoding properly for its
            interaction with the MySQL server, and it must generate pages that
            correctly indicate the encoding so that browsers know how to
            display the content of the pages. For example, you can include
            this <code class="literal">&lt;meta&gt;</code> tag within your
            <code class="literal">&lt;head&gt;</code> element:
        </p><p style="color:blue;">无论如何配置mysql字符集以供应用程序使用，都必须考虑这些应用程序在其中执行的环境。例如，如果要使用从编辑器中创建的文件中提取的utf-8文本发送语句，则应使用设置为utf-8的环境语言环境编辑该文件，以使文件编码正确，并使操作系统正确处理该文件。如果从终端窗口中使用mysql客户端，则该窗口必须配置为使用utf-8，否则字符可能无法正确显示。对于在web环境中执行的脚本，脚本必须正确处理字符编码，以便与mysql服务器交互，并且必须生成正确指示编码的页面，以便浏览器知道如何显示页面内容。例如，您可以在元素中包含这个<meta>标记：</p><p></p><pre data-lang="html" class="programlisting">&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
</pre>
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-errors"></a>10.6&nbsp;Error Message Character Set</h2>

                </div>

            </div>

        </div>
        <p>
            This section describes how the MySQL server uses character sets
            for constructing error messages. For information about the
            language of error messages (rather than the character set), see
            <a class="xref" href="charset.html#error-message-language" title="10.12&nbsp;Setting the Error Message Language">Section&nbsp;10.12, “Setting the Error Message Language”</a>. For general information
            about configuring error logging, see <a class="xref" href="server-administration.html#error-log" title="5.4.2&nbsp;The Error Log">Section&nbsp;5.4.2, “The Error Log”</a>.
        </p><p style="color:blue;">本节介绍mysql服务器如何使用字符集构造错误消息。有关错误消息的语言（而不是字符集）的信息，请参见第10.12节“设置错误消息语言”。有关配置错误日志的一般信息，请参阅第5.4.2节“错误日志”。</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="charset.html#charset-errors-construction" title="Character Set for Error Message Construction">Character Set for Error Message Construction</a></p><p style="color:blue;">用于错误消息构造的字符集</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-errors-disposition" title="Character Set for Error Message Disposition">Character Set for Error Message Disposition</a></p><p style="color:blue;">错误消息处理的字符集</p><p></p></li></ul>
        </div>

        <div class="simplesect">

            <div class="titlepage">
                <div>

                    <div class="simple">
                        <h3 class="title"><a name="charset-errors-construction"></a>Character Set for Error Message Construction</h3>

                    </div>

                </div>

            </div>
            <p>
                The server constructs error messages as follows:
            </p><p style="color:blue;">服务器按如下方式构造错误消息：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The message template uses UTF-8
                    (<code class="literal">utf8mb3</code>).
                </p><p style="color:blue;">消息模板使用utf-8（utf8mb3）。</p><p></p></li><li class="listitem"><p>
                    Parameters in the message template are replaced with values
                    that apply to a specific error occurrence:
                </p><p style="color:blue;">消息模板中的参数将替换为应用于特定错误发生的值：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            Identifiers such as table or column names use UTF-8
                            internally so they are copied as is.
                        </p><p style="color:blue;">表名或列名等标识符在内部使用utf-8，因此它们按原样复制。</p><p></p></li><li class="listitem"><p>
                            Character (nonbinary) string values are converted from
                            their character set to UTF-8.
                        </p><p style="color:blue;">字符（非二进制）字符串值从其字符集转换为UTF-8。</p><p></p></li><li class="listitem"><p>
                            Binary string values are copied as is for bytes in the
                            range <code class="literal">0x20</code> to
                            <code class="literal">0x7E</code>, and using <code class="literal">\x</code>
                            hexadecimal encoding for bytes outside that range. For
                            example, if a duplicate-key error occurs for an attempt
                            to insert <code class="literal">0x41CF9F</code> into a
                            <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> unique column,
                            the resulting error message uses UTF-8 with some bytes
                            hexadecimal encoded:
                        </p><p style="color:blue;">对于0x20到0x7e范围内的字节，二进制字符串值将按原样复制，对于该范围外的字节，将使用\x十六进制编码。例如，如果尝试将0x41cf9f插入varbinary unique列时发生重复键错误，则生成的错误消息将使用utf-8，并对某些字节进行十六进制编码：</p><p></p><pre data-lang="none" class="programlisting">Duplicate entry 'A\xC3\x9F' for key 1
</pre></li></ul>
                    </div>
                </li></ul>
            </div>

        </div>
        <div class="simplesect">
            <div class="titlepage">
                <div>
                    <div class="simple">
                        <h3 class="title"><a name="charset-errors-disposition"></a>Character Set for Error Message Disposition</h3>

                    </div>

                </div>

            </div>
            <p>
                An error message, once constructed, can be written by the server
                to the error log or sent to clients:
            </p><p style="color:blue;">一旦构建错误消息，服务器就可以将其写入错误日志或发送到客户端：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If the server writes the error message to the error log, it
                    writes it in UTF-8, as constructed, without conversion to
                    another character set.
                </p><p style="color:blue;">如果服务器将错误消息写入错误日志，它将按构造以utf-8格式写入，而不转换为其他字符集。</p><p></p></li><li class="listitem"><p>
                    If the server sends the error message to a client program,
                    the server converts it from UTF-8 to the character set
                    specified by the
                    <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
                    system variable. If
                    <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> has a
                    value of <code class="literal">NULL</code> or
                    <code class="literal">binary</code>, no conversion occurs. No
                    conversion occurs if the variable value is
                    <code class="literal">utf8mb3</code> or <code class="literal">utf8mb4</code>,
                    either, because those character sets have a repertoire that
                    includes all UTF-8 characters used in message construction.
                </p><p style="color:blue;">如果服务器将错误消息发送到客户端程序，则服务器会将其从utf-8转换为character set_results系统变量指定的字符集。如果字符集结果的值为空或二进制，则不会发生转换。如果变量值是utf8mb3或utf8mb4，则不会发生转换，因为这些字符集具有包含消息构造中使用的所有utf-8字符的指令集。</p><p></p><p>
                    If characters cannot be represented in
                    <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>, some
                    encoding may occur during the conversion. The encoding uses
                    Unicode code point values:
                </p><p style="color:blue;">如果字符不能在字符集结果中表示，则在转换过程中可能会发生某些编码。编码使用Unicode码位值：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            Characters in the Basic Multilingual Plane (BMP) range
                            (<code class="literal">0x0000</code> to <code class="literal">0xFFFF</code>)
                            are written using
                            <code class="literal">\<em class="replaceable"><code>nnnn</code></em></code>
                            notation.
                        </p><p style="color:blue;">基本多语言平面（BMP）范围（0x0000到0xFFFF）中的字符使用nnnn表示法写入。</p><p></p></li><li class="listitem"><p>
                            Characters outside the BMP range
                            (<code class="literal">0x10000</code> to
                            <code class="literal">0x10FFFF</code>) are written using
                            <code class="literal">\+<em class="replaceable"><code>nnnnnn</code></em></code>
                            notation.
                        </p><p style="color:blue;">BMP范围以外的字符（0x10000到0x10ffff）使用\+nnnn表示法写入。</p><p></p></li></ul>
                    </div>
                    <p>
                        Clients can set
                        <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> to
                        control the character set in which they receive error
                        messages. The variable can be set directly, or indirectly by
                        means such as <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET NAMES</code></a>. For
                        more information about
                        <a class="link" href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>, see
                        <a class="xref" href="charset.html#charset-connection" title="10.4&nbsp;Connection Character Sets and Collations">Section&nbsp;10.4, “Connection Character Sets and Collations”</a>.
                    </p><p style="color:blue;">客户端可以设置character-set-results来控制接收错误消息的字符集。变量可以直接设置，也可以通过设置名称等方式间接设置。有关字符集结果的详细信息，请参阅第10.4节“连接字符集和排序规则”。</p><p></p></li></ul>
            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-conversion"></a>10.7&nbsp;Column Character Set Conversion</h2>

                </div>

            </div>

        </div>
        <p>
            To convert a binary or nonbinary string column to use a particular
            character set, use <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>. For
            successful conversion to occur, one of the following conditions
            must apply:
        </p><p style="color:blue;">若要将二进制或非二进制字符串列转换为使用特定字符集，请使用alter table。要成功转换，必须满足以下条件之一：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                If the column has a binary data type
                (<a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
                <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>,
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a>), all the values that it
                contains must be encoded using a single character set (the
                character set you're converting the column to). If you use a
                binary column to store information in multiple character sets,
                MySQL has no way to know which values use which character set
                and cannot convert the data properly.
            </p><p style="color:blue;">如果列具有二进制数据类型（binary、varbinary、blob），则它包含的所有值都必须使用单个字符集（要将列转换为的字符集）进行编码。如果使用二进制列将信息存储在多个字符集中，mysql无法知道哪些值使用哪个字符集，并且无法正确转换数据。</p><p></p></li><li class="listitem"><p>
                If the column has a nonbinary data type
                (<a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
                <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>,
                <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a>), its contents should be
                encoded in the column character set, not some other character
                set. If the contents are encoded in a different character set,
                you can convert the column to use a binary data type first,
                and then to a nonbinary column with the desired character set.
            </p><p style="color:blue;">如果列具有非二进制数据类型（char、varchar、text），则其内容应在列字符集中编码，而不是在其他字符集中编码。如果内容是在不同的字符集中编码的，则可以先将列转换为使用二进制数据类型，然后转换为具有所需字符集的非二进制列。</p><p></p></li></ul>
        </div>
        <p>
            Suppose that a table <code class="literal">t</code> has a binary column
            named <code class="literal">col1</code> defined as
            <code class="literal">VARBINARY(50)</code>. Assuming that the information in
            the column is encoded using a single character set, you can
            convert it to a nonbinary column that has that character set. For
            example, if <code class="literal">col1</code> contains binary data
            representing characters in the <code class="literal">greek</code> character
            set, you can convert it as follows:
        </p><p style="color:blue;">假设表t有一个名为col1的二进制列定义为varbinary（50）。假设列中的信息是使用单个字符集编码的，则可以将其转换为具有该字符集的非二进制列。例如，如果col1包含表示希腊字符集中字符的二进制数据，则可以按如下方式进行转换：</p><p></p><pre data-lang="sql" class="programlisting">ALTER TABLE t MODIFY col1 VARCHAR(50) CHARACTER SET greek;
</pre><p>
        If your original column has a type of
        <code class="literal">BINARY(50)</code>, you could convert it to
        <code class="literal">CHAR(50)</code>, but the resulting values will be
        padded with <code class="literal">0x00</code> bytes at the end, which may be
        undesirable. To remove these bytes, use the
        <a class="link" href="functions.html#function_trim"><code class="literal">TRIM()</code></a> function:
    </p><p style="color:blue;">如果原始列的类型为binary（50），则可以将其转换为char（50），但结果值将在末尾填充0x00字节，这可能是不可取的。要删除这些字节，请使用trim（）函数：</p><p></p><pre data-lang="sql" class="programlisting">UPDATE t SET col1 = TRIM(TRAILING 0x00 FROM col1);
</pre><p>
        Suppose that table <code class="literal">t</code> has a nonbinary column
        named <code class="literal">col1</code> defined as <code class="literal">CHAR(50)
        CHARACTER SET latin1</code> but you want to convert it to use
        <code class="literal">utf8</code> so that you can store values from many
        languages. The following statement accomplishes this:
    </p><p style="color:blue;">假设表t有一个名为col1的非二进制列，定义为char（50）character set latin1，但您希望将其转换为使用utf8，以便可以存储来自多种语言的值。以下语句实现了这一点：</p><p></p><pre data-lang="sql" class="programlisting">ALTER TABLE t MODIFY col1 CHAR(50) CHARACTER SET utf8;
</pre><p>
        Conversion may be lossy if the column contains characters that are
        not in both character sets.
    </p><p style="color:blue;">如果列包含不在两个字符集中的字符，则转换可能会有损失。</p><p></p><p>
        A special case occurs if you have old tables from before MySQL 4.1
        where a nonbinary column contains values that actually are encoded
        in a character set different from the server's default character
        set. For example, an application might have stored
        <code class="literal">sjis</code> values in a column, even though MySQL's
        default character set was different. It is possible to convert the
        column to use the proper character set but an additional step is
        required. Suppose that the server's default character set was
        <code class="literal">latin1</code> and <code class="literal">col1</code> is defined
        as <code class="literal">CHAR(50)</code> but its contents are
        <code class="literal">sjis</code> values. The first step is to convert the
        column to a binary data type, which removes the existing character
        set information without performing any character conversion:
    </p><p style="color:blue;">如果有mysql 4.1之前的旧表，其中非二进制列包含实际编码在与服务器默认字符集不同的字符集中的值，则会出现特殊情况。例如，即使mysql的默认字符集不同，应用程序可能已经在列中存储了sjis值。可以将列转换为使用正确的字符集，但还需要一个额外的步骤。假设服务器的默认字符集是latin1，col1被定义为char（50），但其内容是sjis值。第一步是将列转换为二进制数据类型，它在不执行任何字符转换的情况下移除现有字符集信息：</p><p></p><pre data-lang="sql" class="programlisting">ALTER TABLE t MODIFY col1 BLOB;
</pre><p>
        The next step is to convert the column to a nonbinary data type
        with the proper character set:
    </p><p style="color:blue;">下一步是将列转换为具有适当字符集的非二进制数据类型：</p><p></p><pre data-lang="sql" class="programlisting">ALTER TABLE t MODIFY col1 CHAR(50) CHARACTER SET sjis;
</pre><p>
        This procedure requires that the table not have been modified
        already with statements such as
        <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> after an upgrade to MySQL
        4.1 or higher. In that case, MySQL would store new values in the
        column using <code class="literal">latin1</code>, and the column will
        contain a mix of <code class="literal">sjis</code> and
        <code class="literal">latin1</code> values and cannot be converted properly.
    </p><p style="color:blue;">此过程要求表在升级到MySQL4.1或更高版本后，尚未使用INSERT或UPDATE等语句进行修改。在这种情况下，mysql将使用latin1在列中存储新值，该列将包含sjis和latin1的混合值，并且无法正确转换。</p><p></p><p>
        If you specified attributes when creating a column initially, you
        should also specify them when altering the table with
        <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>. For example, if you
        specified <code class="literal">NOT NULL</code> and an explicit
        <code class="literal">DEFAULT</code> value, you should also provide them in
        the <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement.
        Otherwise, the resulting column definition will not include those
        attributes.
    </p><p style="color:blue;">如果在最初创建列时指定了属性，则在使用alter table更改表时也应指定这些属性。例如，如果指定了NOTNULL和显式默认值，则还应在ALTERTABLE语句中提供它们。否则，生成的列定义将不包含这些属性。</p><p></p><p>
        To convert all character columns in a table, the <code class="literal">ALTER
        TABLE ... CONVERT TO CHARACTER SET
        <em class="replaceable"><code>charset</code></em></code> statement may be
        useful. See <a class="xref" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax">Section&nbsp;13.1.8, “ALTER TABLE Syntax”</a>.
    </p><p style="color:blue;">要转换表中的所有字符列，请使用alter table…convert to character set语句可能有用。见第13.1.8节“更改表语法”。</p><p></p>
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-collations"></a>10.8&nbsp;Collation Issues</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="charset.html#charset-collate">10.8.1 Using COLLATE in SQL Statements</a></span></dt><dt><span class="section"><a href="charset.html#charset-collate-precedence">10.8.2 COLLATE Clause Precedence</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-compatibility">10.8.3 Character Set and Collation Compatibility</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-coercibility">10.8.4 Collation Coercibility in Expressions</a></span></dt><dt><span class="section"><a href="charset.html#charset-binary-collations">10.8.5 The binary Collation Compared to _bin Collations</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-effect">10.8.6 Examples of the Effect of Collation</a></span></dt><dt><span class="section"><a href="charset.html#charset-collation-information-schema">10.8.7 Using Collation in INFORMATION_SCHEMA Searches</a></span></dt></dl>
        </div>
        <p>
            The following sections discuss various aspects of character set
            collations.
        </p><p style="color:blue;">以下各节讨论字符集排序的各个方面。</p><p></p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collate"></a>10.8.1&nbsp;Using COLLATE in SQL Statements</h3>
                    </div>
                </div>
            </div>
            <p>
                With the <code class="literal">COLLATE</code> clause, you can override
                whatever the default collation is for a comparison.
                <code class="literal">COLLATE</code> may be used in various parts of SQL
                statements. Here are some examples:
            </p><p style="color:blue;">使用collate子句，您可以覆盖任何用于比较的默认排序规则。collate可用于sql语句的各个部分。下面是一些例子：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    With <code class="literal">ORDER BY</code>:
                </p><p style="color:blue;">订货人：</p><p></p><pre data-lang="sql" class="programlisting">SELECT k
FROM t1
ORDER BY k COLLATE latin1_german2_ci;
</pre></li><li class="listitem"><p>
                    With <code class="literal">AS</code>:
                </p><p style="color:blue;">作为：</p><p></p><pre data-lang="sql" class="programlisting">SELECT k COLLATE latin1_german2_ci AS k1
FROM t1
ORDER BY k1;
</pre></li><li class="listitem"><p>
                    With <code class="literal">GROUP BY</code>:
                </p><p style="color:blue;">分组依据：</p><p></p><pre data-lang="sql" class="programlisting">SELECT k
FROM t1
GROUP BY k COLLATE latin1_german2_ci;
</pre></li><li class="listitem"><p>
                    With aggregate functions:
                </p><p style="color:blue;">具有聚合函数：</p><p></p><pre data-lang="sql" class="programlisting">SELECT MAX(k COLLATE latin1_german2_ci)
FROM t1;
</pre></li><li class="listitem"><p>
                    With <code class="literal">DISTINCT</code>:
                </p><p style="color:blue;">具有独特性：</p><p></p><pre data-lang="sql" class="programlisting">SELECT DISTINCT k COLLATE latin1_german2_ci
FROM t1;
</pre></li><li class="listitem"><p>
                    With <code class="literal">WHERE</code>:
                </p><p style="color:blue;">地点：</p><p></p><pre data-lang="sql" class="programlisting">     SELECT *
     FROM t1
     WHERE _latin1 'Müller' COLLATE latin1_german2_ci = k;
</pre><pre data-lang="sql" class="programlisting">     SELECT *
     FROM t1
     WHERE k LIKE _latin1 'Müller' COLLATE latin1_german2_ci;
</pre></li><li class="listitem"><p>
                    With <code class="literal">HAVING</code>:
                </p><p style="color:blue;">拥有：</p><p></p><pre data-lang="sql" class="programlisting">SELECT k
FROM t1
GROUP BY k
HAVING k = _latin1 'Müller' COLLATE latin1_german2_ci;
</pre></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collate-precedence"></a>10.8.2&nbsp;COLLATE Clause Precedence</h3>

                    </div>

                </div>

            </div>
            <p>
                The <code class="literal">COLLATE</code> clause has high precedence
                (higher than <a class="link" href="functions.html#operator_or"><code class="literal">||</code></a>), so
                the following two expressions are equivalent:
            </p><p style="color:blue;">collate子句的优先级很高（高于），因此以下两个表达式是等效的：</p><p></p><pre data-lang="sql" class="programlisting">x || y COLLATE z
x || (y COLLATE z)
</pre>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collation-compatibility"></a>10.8.3&nbsp;Character Set and Collation Compatibility</h3>

                    </div>

                </div>

            </div>
            <p>
                Each character set has one or more collations, but each
                collation is associated with one and only one character set.
                Therefore, the following statement causes an error message
                because the <code class="literal">latin2_bin</code> collation is not legal
                with the <code class="literal">latin1</code> character set:
            </p><p style="color:blue;">每个字符集都有一个或多个排序规则，但每个排序规则只与一个字符集相关联。因此，以下语句导致错误消息，因为Latin2_bin排序规则与Latin1字符集不合法：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT _latin1 'x' COLLATE latin2_bin;</code></strong>
ERROR 1253 (42000): COLLATION 'latin2_bin' is not valid
for CHARACTER SET 'latin1'
</pre>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collation-coercibility"></a>10.8.4&nbsp;Collation Coercibility in Expressions</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286864285552"></a><a class="indexterm" name="idm140286864284064"></a><p>
            In the great majority of statements, it is obvious what
            collation MySQL uses to resolve a comparison operation. For
            example, in the following cases, it should be clear that the
            collation is the collation of column <code class="literal">x</code>:
        </p><p style="color:blue;">在大多数语句中，mysql使用什么排序规则来解析比较操作是显而易见的。例如，在以下情况下，应该清楚排序规则是列x的排序规则：</p><p></p><pre data-lang="sql" class="programlisting">SELECT x FROM T ORDER BY x;
SELECT x FROM T WHERE x = x;
SELECT DISTINCT x FROM T;
</pre><p>
            However, with multiple operands, there can be ambiguity. For
            example:
        </p><p style="color:blue;">但是，对于多个操作数，可能存在歧义。例如：</p><p></p><pre data-lang="sql" class="programlisting">SELECT x FROM T WHERE x = 'Y';
</pre><p>
            Should the comparison use the collation of the column
            <code class="literal">x</code>, or of the string literal
            <code class="literal">'Y'</code>? Both <code class="literal">x</code> and
            <code class="literal">'Y'</code> have collations, so which collation takes
            precedence?
        </p><p style="color:blue;">比较应该使用列x的排序规则，还是字符串“y”的排序规则？x和y都有排序规则，所以哪个排序规则优先？</p><p></p><p>
            A mix of collations may also occur in contexts other than
            comparison. For example, a multiple-argument concatenation
            operation such as <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT(x,'Y')</code></a>
            combines its arguments to produce a single string. What
            collation should the result have?
        </p><p style="color:blue;">排序组合也可能出现在比较以外的上下文中。例如，一个多参数连接操作，如concat（x，'y'）将其参数组合起来生成一个字符串。结果应该有哪些排序规则？</p><p></p><p>
            To resolve questions like these, MySQL checks whether the
            collation of one item can be coerced to the collation of the
            other. MySQL assigns coercibility values as follows:
        </p><p style="color:blue;">为了解决这些问题，mysql检查是否可以将一个项的排序强制转换为另一个项的排序。mysql按如下方式分配强制值：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    An explicit <code class="literal">COLLATE</code> clause has a
                    coercibility of 0 (not coercible at all).
                </p><p style="color:blue;">显式COLLATE子句的可强制性为0（根本不可强制）。</p><p></p></li><li class="listitem"><p>
                    The concatenation of two strings with different collations
                    has a coercibility of 1.
                </p><p style="color:blue;">具有不同排序规则的两个字符串的连接具有1的强制性。</p><p></p></li><li class="listitem"><p>
                    The collation of a column or a stored routine parameter or
                    local variable has a coercibility of 2.
                </p><p style="color:blue;">列、存储的例程参数或局部变量的排序规则的强制性为2。</p><p></p></li><li class="listitem"><p>
                    A <span class="quote">“<span class="quote">system constant</span>”</span> (the string returned by
                    functions such as <a class="link" href="functions.html#function_user"><code class="literal">USER()</code></a> or
                    <a class="link" href="functions.html#function_version"><code class="literal">VERSION()</code></a>) has a coercibility
                    of 3.
                </p><p style="color:blue;">“系统常量”（由user（）或version（）等函数返回的字符串）具有3的强制性。</p><p></p></li><li class="listitem"><p>
                    The collation of a literal has a coercibility of 4.
                </p><p style="color:blue;">文字的排序规则具有4的强制性。</p><p></p></li><li class="listitem"><p>
                    The collation of a numeric or temporal value has a
                    coercibility of 5.
                </p><p style="color:blue;">数值或时间值的排序规则具有5的强制性。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">NULL</code> or an expression that is derived
                    from <code class="literal">NULL</code> has a coercibility of 6.
                </p><p style="color:blue;">null或从null派生的表达式的强制性为6。</p><p></p></li></ul>
            </div>
            <p>
                MySQL uses coercibility values with the following rules to
                resolve ambiguities:
            </p><p style="color:blue;">MySQL使用强制值和以下规则来解决歧义：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Use the collation with the lowest coercibility value.
                </p><p style="color:blue;">使用强制性值最低的排序规则。</p><p></p></li><li class="listitem"><p>
                    If both sides have the same coercibility, then:
                </p><p style="color:blue;">如果双方具有相同的胁迫性，则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            If both sides are Unicode, or both sides are not
                            Unicode, it is an error.
                        </p><p style="color:blue;">如果两边都是Unicode，或者两边都不是Unicode，则这是一个错误。</p><p></p></li><li class="listitem"><p>
                            If one of the sides has a Unicode character set, and
                            another side has a non-Unicode character set, the side
                            with Unicode character set wins, and automatic character
                            set conversion is applied to the non-Unicode side. For
                            example, the following statement does not return an
                            error:
                        </p><p style="color:blue;">如果其中一方具有Unicode字符集，而另一方具有非Unicode字符集，则具有Unicode字符集的一方获胜，并且将自动字符集转换应用于非Unicode的一方。例如，以下语句不返回错误：</p><p></p><pre data-lang="sql" class="programlisting">SELECT CONCAT(utf8_column, latin1_column) FROM t1;
</pre><p>
                            It returns a result that has a character set of
                            <code class="literal">utf8</code> and the same collation as
                            <code class="literal">utf8_column</code>. Values of
                            <code class="literal">latin1_column</code> are automatically
                            converted to <code class="literal">utf8</code> before
                            concatenating.
                        </p><p style="color:blue;">它返回一个字符集为utf8且排序规则与utf8_列相同的结果。Latin1_列的值在连接之前自动转换为UTF8。</p><p></p></li><li class="listitem"><p>
                            For an operation with operands from the same character
                            set but that mix a <code class="literal">_bin</code> collation and
                            a <code class="literal">_ci</code> or <code class="literal">_cs</code>
                            collation, the <code class="literal">_bin</code> collation is
                            used. This is similar to how operations that mix
                            nonbinary and binary strings evaluate the operands as
                            binary strings, except that it is for collations rather
                            than data types.
                        </p><p style="color:blue;">对于操作数来自同一字符集但混合了一个二进制排序规则和一个ci或cs排序规则的操作，将使用该排序规则。这与混合使用非二进制和二进制字符串的操作将操作数计算为二进制字符串的方式类似，只是它用于排序规则而不是数据类型。</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>
            <p>
                Although automatic conversion is not in the SQL standard, the
                standard does say that every character set is (in terms of
                supported characters) a <span class="quote">“<span class="quote">subset</span>”</span> of Unicode.
                Because it is a well-known principle that <span class="quote">“<span class="quote">what applies to
        a superset can apply to a subset,</span>”</span> we believe that a
                collation for Unicode can apply for comparisons with non-Unicode
                strings.
            </p><p style="color:blue;">尽管自动转换不在sql标准中，但该标准确实规定每个字符集（就支持的字符而言）都是unicode的“子集”。因为“应用于超集的内容可以应用于子集”是一个众所周知的原则，所以我们相信Unicode的排序规则可以应用于与非Unicode字符串的比较。</p><p></p><p>
            The following table illustrates some applications of the
            preceding rules.
        </p><p style="color:blue;">下表说明了上述规则的一些应用。</p><p></p>
            <div class="informaltable">
                <table summary="Comparisons and the collation used for each comparison."><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr>
                    <th scope="col">Comparison</th>
                    <th scope="col">Collation Used</th>
                </tr></thead><tbody><tr>
                    <td scope="row"><code class="literal">column1 = 'A'</code></td>
                    <td>Use collation of <code class="literal">column1</code></td>
                </tr><tr>
                    <td scope="row"><code class="literal">column1 = 'A' COLLATE x</code></td>
                    <td>Use collation of <code class="literal">'A' COLLATE x</code></td>
                </tr><tr>
                    <td scope="row"><code class="literal">column1 COLLATE x = 'A' COLLATE y</code></td>
                    <td>Error</td>
                </tr></tbody></table>
            </div>
            <p>
                To determine the coercibility of a string expression, use the
                <a class="link" href="functions.html#function_coercibility"><code class="literal">COERCIBILITY()</code></a> function (see
                <a class="xref" href="functions.html#information-functions" title="12.15&nbsp;Information Functions">Section&nbsp;12.15, “Information Functions”</a>):
            </p><p style="color:blue;">要确定字符串表达式的可强制性，请使用convertibility（）函数（请参见第12.15节“信息函数”）：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY('A' COLLATE latin1_swedish_ci);</code></strong>
        -&gt; 0
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(VERSION());</code></strong>
        -&gt; 3
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY('A');</code></strong>
        -&gt; 4
mysql&gt; <strong class="userinput"><code>SELECT COERCIBILITY(1000);</code></strong>
        -&gt; 5
</pre><p>
            For implicit conversion of a numeric or temporal value to a
            string, such as occurs for the argument <code class="literal">1</code> in
            the expression <a class="link" href="functions.html#function_concat"><code class="literal">CONCAT(1, 'abc')</code></a>,
            the result is a character (nonbinary) string that has a
            character set and collation determined by the
            <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> and
            <a class="link" href="server-administration.html#sysvar_collation_connection"><code class="literal">collation_connection</code></a> system
            variables. See <a class="xref" href="functions.html#type-conversion" title="12.2&nbsp;Type Conversion in Expression Evaluation">Section&nbsp;12.2, “Type Conversion in Expression Evaluation”</a>.
        </p><p style="color:blue;">对于将数值或时间值隐式转换为字符串（例如表达式concat（1，'abc'）中的参数1），结果是一个字符（非二进制）字符串，其字符集和排序规则由字符集连接和排序规则连接系统变量确定。参见第12.2节“表达式求值中的类型转换”。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-binary-collations"></a>10.8.5&nbsp;The binary Collation Compared to _bin Collations</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286864217056"></a><a class="indexterm" name="idm140286864215984"></a><a class="indexterm" name="idm140286864214496"></a><a class="indexterm" name="idm140286864213424"></a><p>
            This section describes how the <code class="literal">binary</code>
            collation for binary strings compares to <code class="literal">_bin</code>
            collations for nonbinary strings.
        </p><p style="color:blue;">本节介绍二进制字符串的二进制排序规则与非二进制字符串的二进制排序规则的比较。</p><p></p><p>
            Binary strings (as stored using the
            <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
            <a class="link" href="data-types.html#binary-varbinary" title="11.4.2&nbsp;The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, and
            <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data types) have a character
            set and collation named <code class="literal">binary</code>. Binary
            strings are sequences of bytes and the numeric values of those
            bytes determine comparison and sort order.
        </p><p style="color:blue;">二进制字符串（使用binary、varbinary和blob数据类型存储）具有名为binary的字符集和排序规则。二进制字符串是字节序列，这些字节的数值决定比较和排序顺序。</p><p></p><p>
            Nonbinary strings (as stored using the
            <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
            <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, and
            <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> data types) have a character
            set and collation other than <code class="literal">binary</code>. A given
            nonbinary character set can have several collations, each of
            which defines a particular comparison and sort order for the
            characters in the set. One of these is the binary collation for
            the character set, indicated by a <code class="literal">_bin</code> suffix
            in the collation name. For example, the binary collations for
            <code class="literal">utf8</code> and <code class="literal">latin1</code> are named
            <code class="literal">utf8_bin</code> and <code class="literal">latin1_bin</code>,
            respectively.
        </p><p style="color:blue;">非二进制字符串（使用char、varchar和text数据类型存储）具有除二进制以外的字符集和排序规则。一个给定的非二进制字符集可以有多个排序规则，每个排序规则为集合中的字符定义一个特定的比较和排序顺序。其中之一是字符集的二进制排序规则，由排序规则名称中的一个“bin”后缀表示。例如，utf8和latin1的二进制排序规则分别命名为utf8-bin和latin1-bin。</p><p></p><p>
            The <code class="literal">binary</code> collation differs from
            <code class="literal">_bin</code> collations in several respects,
            discussed in the following sections:
        </p><p style="color:blue;">二进制排序规则在几个方面与二进制排序规则不同，将在以下各节中讨论：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="charset.html#charset-binary-collations-comparison-units" title="The Unit for Comparison and Sorting">The Unit for Comparison and Sorting</a></p><p style="color:blue;">比较排序单位</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-binary-collations-charset-conversion" title="Character Set Conversion">Character Set Conversion</a></p><p style="color:blue;">字符集转换</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-binary-collations-lettercase-conversion" title="Lettercase Conversion">Lettercase Conversion</a></p><p style="color:blue;">信盒转换</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-binary-collations-trailing-space-comparisons" title="Trailing Space Handling in Comparisons">Trailing Space Handling in Comparisons</a></p><p style="color:blue;">比较中的尾随空格处理</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-binary-collations-trailing-space-inserts-retrievals" title="Trailing Space Handling for Inserts and Retrievals">Trailing Space Handling for Inserts and Retrievals</a></p><p style="color:blue;">插入和检索的尾随空格处理</p><p></p></li></ul>
            </div>

            <div class="simplesect">

                <div class="titlepage">
                    <div>

                        <div class="simple">
                            <h4 class="title"><a name="charset-binary-collations-comparison-units"></a>The Unit for Comparison and Sorting</h4>

                        </div>

                    </div>

                </div>
                <p>
                    Binary strings are sequences of bytes. For the
                    <code class="literal">binary</code> collation, comparison and sorting
                    are based on numeric byte values. Nonbinary strings are
                    sequences of characters, which might be multibyte. Collations
                    for nonbinary strings define an ordering of the character
                    values for comparison and sorting. For <code class="literal">_bin</code>
                    collations, this ordering is based on numeric character code
                    values, which is similar to ordering for binary strings except
                    that character code values might be multibyte.
                </p><p style="color:blue;">二进制字符串是字节序列。对于二进制排序规则，比较和排序基于数字字节值。非二进制字符串是字符序列，可能是多字节的。非二进制字符串的排序规则定义用于比较和排序的字符值的顺序。对于二进制排序规则，此排序基于数字字符代码值，这与二进制字符串的排序类似，只是字符代码值可能是多字节的。</p><p></p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-binary-collations-charset-conversion"></a>Character Set Conversion</h4>

                        </div>

                    </div>

                </div>
                <p>
                    A nonbinary string has a character set and is automatically
                    converted to another character set in many cases, even when
                    the string has a <code class="literal">_bin</code> collation:
                </p><p style="color:blue;">非二进制字符串有一个字符集，并且在许多情况下会自动转换为另一个字符集，即使该字符串有一个二进制排序规则：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        When assigning column values to another column that has a
                        different character set:
                    </p><p style="color:blue;">将列值分配给另一个具有不同字符集的列时：</p><p></p><pre data-lang="sql" class="programlisting">UPDATE t1 SET utf8_bin_column=latin1_column;
INSERT INTO t1 (latin1_column) SELECT utf8_bin_column FROM t2;
</pre></li><li class="listitem"><p>
                        When assigning column values for
                        <a class="link" href="sql-syntax.html#insert" title="13.2.5&nbsp;INSERT Syntax"><code class="literal">INSERT</code></a> or
                        <a class="link" href="sql-syntax.html#update" title="13.2.11&nbsp;UPDATE Syntax"><code class="literal">UPDATE</code></a> using a string
                        literal:
                    </p><p style="color:blue;">使用字符串文字为INSERT或UPDATE指定列值时：</p><p></p><pre data-lang="sql" class="programlisting">SET NAMES latin1;
INSERT INTO t1 (utf8_bin_column) VALUES ('string-in-latin1');
</pre></li><li class="listitem"><p>
                        When sending results from the server to a client:
                    </p><p style="color:blue;">将结果从服务器发送到客户端时：</p><p></p><pre data-lang="sql" class="programlisting">SET NAMES latin1;
SELECT utf8_bin_column FROM t2;
</pre></li></ul>
                </div>
                <p>
                    For binary string columns, no conversion occurs. For cases
                    similar to those preceding, the string value is copied
                    byte-wise.
                </p><p style="color:blue;">对于二进制字符串列，不进行转换。对于与前面类似的情况，字符串值按字节复制。</p><p></p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-binary-collations-lettercase-conversion"></a>Lettercase Conversion</h4>

                        </div>

                    </div>

                </div>
                <p>
                    Collations for nonbinary character sets provide information
                    about lettercase of characters, so characters in a nonbinary
                    string can be converted from one lettercase to another, even
                    for <code class="literal">_bin</code> collations that ignore lettercase
                    for ordering:
                </p><p style="color:blue;">非二进制字符集的排序规则提供有关字符的字母大小写的信息，因此非二进制字符串中的字符可以从一个字母大小写转换为另一个字母大小写，即使对于忽略字母大小写进行排序的二进制排序规则：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES utf8mb4 COLLATE utf8mb4_bin;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT LOWER('aA'), UPPER('zZ');</code></strong>
+-------------+-------------+
| LOWER('aA') | UPPER('zZ') |
+-------------+-------------+
| aa          | ZZ          |
+-------------+-------------+
</pre><p>
                The concept of lettercase does not apply to bytes in a binary
                string. To perform lettercase conversion, the string must be
                converted to a nonbinary string:
            </p><p style="color:blue;">字母大小写的概念不适用于二进制字符串中的字节。要执行字母大小写转换，必须将字符串转换为非二进制字符串：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES binary;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT LOWER('aA'), LOWER(CONVERT('aA' USING utf8mb4));</code></strong>
+-------------+------------------------------------+
| LOWER('aA') | LOWER(CONVERT('aA' USING utf8mb4)) |
+-------------+------------------------------------+
| aA          | aa                                 |
+-------------+------------------------------------+
</pre>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-binary-collations-trailing-space-comparisons"></a>Trailing Space Handling in Comparisons</h4>

                        </div>

                    </div>

                </div>
                <a class="indexterm" name="idm140286864163184"></a><a class="indexterm" name="idm140286864161696"></a><p>
                Nonbinary strings have PAD SPACE behavior for all collations,
                including <code class="literal">_bin</code> collations. Trailing spaces
                are insignificant in comparisons:
            </p><p style="color:blue;">非二进制字符串对所有排序规则（包括二进制排序规则）都有pad space行为。尾随空格在比较中不重要：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES utf8 COLLATE utf8_bin;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT 'a ' = 'a';</code></strong>
+------------+
| 'a ' = 'a' |
+------------+
|          1 |
+------------+
</pre><p>
                For binary strings, all characters are significant in
                comparisons, including trailing spaces:
            </p><p style="color:blue;">对于二进制字符串，所有字符在比较中都是重要的，包括尾随空格：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES binary;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT 'a ' = 'a';</code></strong>
+------------+
| 'a ' = 'a' |
+------------+
|          0 |
+------------+
</pre>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-binary-collations-trailing-space-inserts-retrievals"></a>Trailing Space Handling for Inserts and Retrievals</h4>

                        </div>

                    </div>

                </div>
                <p>
                    <code class="literal">CHAR(<em class="replaceable"><code>N</code></em>)</code> columns
                    store nonbinary strings. For inserts, values shorter than
                    <em class="replaceable"><code>N</code></em> characters are extended with
                    spaces. For retrievals, trailing spaces are removed.
                </p><p style="color:blue;">char（n）列存储非二进制字符串。对于插入，小于n个字符的值将用空格扩展。对于检索，将删除尾随空格。</p><p></p><p>
                <code class="literal">BINARY(<em class="replaceable"><code>N</code></em>)</code>
                columns store binary strings. For inserts, values shorter than
                <em class="replaceable"><code>N</code></em> bytes are extended with
                <code class="literal">0x00</code> bytes. For retrievals, nothing is
                removed; a value of the declared length is always returned.
            </p><p style="color:blue;">binary（n）列存储二进制字符串。对于插入，小于n字节的值将扩展为0x00字节。对于检索，不删除任何内容；始终返回声明长度的值。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t1 (</code></strong>
       <strong class="userinput"><code>  a CHAR(10) CHARACTER SET utf8 COLLATE utf8_bin,</code></strong>
       <strong class="userinput"><code>  b BINARY(10)</code></strong>
       <strong class="userinput"><code>);</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO t1 VALUES ('a','a');</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT HEX(a), HEX(b) FROM t1;</code></strong>
+--------+----------------------+
| HEX(a) | HEX(b)               |
+--------+----------------------+
| 61     | 61000000000000000000 |
+--------+----------------------+
</pre>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collation-effect"></a>10.8.6&nbsp;Examples of the Effect of Collation</h3>

                    </div>

                </div>

            </div>
            <p>
        <span class="bold"><strong>Example 1: Sorting German
        Umlauts</strong></span>
            </p><p style="color:blue;">示例1：对德语元音变音进行排序</p><p></p><p>
            Suppose that column <code class="literal">X</code> in table
            <code class="literal">T</code> has these <code class="literal">latin1</code> column
            values:
        </p><p style="color:blue;">假设表T中的X列有以下Latin1列值：</p><p></p><pre data-lang="none" class="programlisting">Muffler
Müller
MX Systems
MySQL
</pre><p>
            Suppose also that the column values are retrieved using the
            following statement:
        </p><p style="color:blue;">还假设使用以下语句检索列值：</p><p></p><pre data-lang="sql" class="programlisting">SELECT X FROM T ORDER BY X COLLATE <em class="replaceable"><code>collation_name</code></em>;
</pre><p>
            The following table shows the resulting order of the values if
            we use <code class="literal">ORDER BY</code> with different collations.
        </p><p style="color:blue;">如果将order by与不同的排序规则一起使用，下表将显示值的结果顺序。</p><p></p>
            <div class="informaltable">
                <table summary="An example of the effect of collation, as described in the preceding text. The table shows the resulting order of values for three collations (latin1_swedish_ci, latin1_german1_ci, latin1_german2_ci) when using ORDER BY."><colgroup><col width="30%"><col width="30%"><col width="30%"></colgroup><thead><tr>
                    <th scope="col"><code class="literal">latin1_swedish_ci</code></th>
                    <th scope="col"><code class="literal">latin1_german1_ci</code></th>
                    <th scope="col"><code class="literal">latin1_german2_ci</code></th>
                </tr></thead><tbody><tr>
                    <td scope="row">Muffler</td>
                    <td>Muffler</td>
                    <td>Müller</td>
                </tr><tr>
                    <td scope="row">MX Systems</td>
                    <td>Müller</td>
                    <td>Muffler</td>
                </tr><tr>
                    <td scope="row">Müller</td>
                    <td>MX Systems</td>
                    <td>MX Systems</td>
                </tr><tr>
                    <td scope="row">MySQL</td>
                    <td>MySQL</td>
                    <td>MySQL</td>
                </tr></tbody></table>
            </div>
            <p>
                The character that causes the different sort orders in this
                example is the U with two dots over it
                (<code class="literal">ü</code>), which the Germans call
                <span class="quote">“<span class="quote">U-umlaut.</span>”</span>
            </p><p style="color:blue;">在这个例子中，导致不同排序顺序的字符是u，上面有两个点（u），德国人称之为“u-umlaut”。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The first column shows the result of the
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> using the
                    Swedish/Finnish collating rule, which says that U-umlaut
                    sorts with Y.
                </p><p style="color:blue;">第一列显示了使用瑞典语/芬兰语排序规则选择的结果，该规则表示u-umlaut使用y排序。</p><p></p></li><li class="listitem"><p>
                    The second column shows the result of the
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> using the German DIN-1
                    rule, which says that U-umlaut sorts with U.
                </p><p style="color:blue;">第二列显示了使用德国din-1规则进行选择的结果，该规则表示u-umlaut与u排序。</p><p></p></li><li class="listitem"><p>
                    The third column shows the result of the
                    <a class="link" href="sql-syntax.html#select" title="13.2.9&nbsp;SELECT Syntax"><code class="literal">SELECT</code></a> using the German DIN-2
                    rule, which says that U-umlaut sorts with UE.
                </p><p style="color:blue;">第三列显示了使用德国din-2规则进行选择的结果，该规则表示u-umlaut使用ue进行排序。</p><p></p></li></ul>
            </div>
            <p>
        <span class="bold"><strong>Example 2: Searching for German
        Umlauts</strong></span>
            </p><p style="color:blue;">示例2：搜索德语变音</p><p></p><p>
            Suppose that you have three tables that differ only by the
            character set and collation used:
        </p><p style="color:blue;">假设您有三个表，它们只与使用的字符集和排序规则不同：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES utf8;</code></strong>
mysql&gt; <strong class="userinput"><code>CREATE TABLE german1 (</code></strong>
       <strong class="userinput"><code>  c CHAR(10)</code></strong>
       <strong class="userinput"><code>) CHARACTER SET latin1 COLLATE latin1_german1_ci;</code></strong>
mysql&gt; <strong class="userinput"><code>CREATE TABLE german2 (</code></strong>
       <strong class="userinput"><code>  c CHAR(10)</code></strong>
       <strong class="userinput"><code>) CHARACTER SET latin1 COLLATE latin1_german2_ci;</code></strong>
mysql&gt; <strong class="userinput"><code>CREATE TABLE germanutf8 (</code></strong>
       <strong class="userinput"><code>  c CHAR(10)</code></strong>
       <strong class="userinput"><code>) CHARACTER SET utf8 COLLATE utf8_unicode_ci;</code></strong>
</pre><p>
            Each table contains two records:
        </p><p style="color:blue;">每个表包含两条记录：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO german1 VALUES ('Bar'), ('Bär');</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO german2 VALUES ('Bar'), ('Bär');</code></strong>
mysql&gt; <strong class="userinput"><code>INSERT INTO germanutf8 VALUES ('Bar'), ('Bär');</code></strong>
</pre><p>
            Two of the above collations have an <code class="literal">A = Ä</code>
            equality, and one has no such equality
            (<code class="literal">latin1_german2_ci</code>). For that reason, you'll
            get these results in comparisons:
        </p><p style="color:blue;">上面的两个排序规则有一个a=_相等，而另一个排序规则没有这样的相等（Latin1_German2_Ci）。因此，您将在比较中得到以下结果：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM german1 WHERE c = 'Bär';</code></strong>
+------+
| c    |
+------+
| Bar  |
| Bär  |
+------+
mysql&gt; <strong class="userinput"><code>SELECT * FROM german2 WHERE c = 'Bär';</code></strong>
+------+
| c    |
+------+
| Bär  |
+------+
mysql&gt; <strong class="userinput"><code>SELECT * FROM germanutf8 WHERE c = 'Bär';</code></strong>
+------+
| c    |
+------+
| Bar  |
| Bär  |
+------+
</pre><p>
            This is not a bug but rather a consequence of the sorting
            properties of <code class="literal">latin1_german1_ci</code> and
            <code class="literal">utf8_unicode_ci</code> (the sorting shown is done
            according to the German DIN 5007 standard).
        </p><p style="color:blue;">这不是一个bug，而是Latin1_German1_CI和UTF8_Unicode_CI排序属性的结果（显示的排序是根据德国DIN5007标准完成的）。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collation-information-schema"></a>10.8.7&nbsp;Using Collation in INFORMATION_SCHEMA Searches</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286864080304"></a><a class="indexterm" name="idm140286864078816"></a><p>
            String columns in <code class="literal">INFORMATION_SCHEMA</code> tables
            have a collation of <code class="literal">utf8_general_ci</code>, which is
            case insensitive. However, for values that correspond to objects
            that are represented in the file system, such as databases and
            tables, searches in <code class="literal">INFORMATION_SCHEMA</code> string
            columns can be case-sensitive or insensitive, depending on the
            characteristics of the underlying file system and the value of
            the <a class="link" href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
            system variable. For example, searches may be case-sensitive if
            the file system is case-sensitive. This section describes this
            behavior and how to modify it if necessary; see also Bug #34921.
        </p><p style="color:blue;">信息架构表中的字符串列的排序规则为utf8_general_ci，不区分大小写。但是，对于与文件系统中表示的对象（如数据库和表）相对应的值，在信息架构字符串列中的搜索可以区分大小写，也可以不区分大小写，具体取决于基础文件系统的特性和小写字母表名系统变量的值。例如，如果文件系统区分大小写，则搜索可能区分大小写。本节介绍此行为以及如何在必要时对其进行修改；另请参见Bug 34921。</p><p></p><p>
            Suppose that a query searches the
            <code class="literal">SCHEMATA.SCHEMA_NAME</code> column for the
            <code class="literal">test</code> database. On Linux, file systems are
            case-sensitive, so comparisons of
            <code class="literal">SCHEMATA.SCHEMA_NAME</code> with
            <code class="literal">'test'</code> match, but comparisons with
            <code class="literal">'TEST'</code> do not:
        </p><p style="color:blue;">假设查询在schemata.schema_name列中搜索测试数据库。在Linux上，文件系统区分大小写，因此schemata.schema_name与“test”的比较匹配，但与“test”的比较不：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'test';</code></strong>
+-------------+
| SCHEMA_NAME |
+-------------+
| test        |
+-------------+

mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'TEST';</code></strong>
Empty set (0.00 sec)
</pre><p>
            These results occur with the
            <a class="link" href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> system
            variable set to 0. Changing the value of
            <a class="link" href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> to 1 or
            2 causes the second query to return the same (nonempty) result
            as the first query.
        </p><p style="color:blue;">这些结果是在小写的TABLE U NAMES系统变量设置为0时出现的。将小写表名的值更改为1或2将导致第二个查询返回与第一个查询相同（非空）的结果。</p><p></p><p>
            On Windows or macOS, file systems are not case-sensitive, so
            comparisons match both <code class="literal">'test'</code> and
            <code class="literal">'TEST'</code>:
        </p><p style="color:blue;">在windows或macos上，文件系统不区分大小写，因此比较匹配“test”和“test”：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'test';</code></strong>
+-------------+
| SCHEMA_NAME |
+-------------+
| test        |
+-------------+

mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'TEST';</code></strong>
+-------------+
| SCHEMA_NAME |
+-------------+
| TEST        |
+-------------+
</pre><p>
            The value of
            <a class="link" href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> makes no
            difference in this context.
        </p><p style="color:blue;">小写表名的值在此上下文中没有区别。</p><p></p><p>
            The preceding behavior occurs because the
            <code class="literal">utf8_general_ci</code> collation is not used for
            <code class="literal">INFORMATION_SCHEMA</code> queries when searching for
            values that correspond to objects represented in the file
            system. It is a result of file system-scanning optimizations
            implemented for <code class="literal">INFORMATION_SCHEMA</code> searches.
            For information about these optimizations, see
            <a class="xref" href="optimization.html#information-schema-optimization" title="8.2.3&nbsp;Optimizing INFORMATION_SCHEMA Queries">Section&nbsp;8.2.3, “Optimizing INFORMATION_SCHEMA Queries”</a>.
        </p><p style="color:blue;">出现上述行为是因为在搜索与文件系统中表示的对象相对应的值时，UTF8_General_CI排序规则不用于信息架构查询。这是为信息架构搜索实现的文件系统扫描优化的结果。有关这些优化的信息，请参阅第8.2.3节“优化信息架构查询”。</p><p></p><p>
            If the result of a string operation on an
            <code class="literal">INFORMATION_SCHEMA</code> column differs from
            expectations, a workaround is to use an explicit
            <code class="literal">COLLATE</code> clause to force a suitable collation
            (see <a class="xref" href="charset.html#charset-collate" title="10.8.1&nbsp;Using COLLATE in SQL Statements">Section&nbsp;10.8.1, “Using COLLATE in SQL Statements”</a>). For example, to perform
            a case-insensitive search, use <code class="literal">COLLATE</code> with
            the <code class="literal">INFORMATION_SCHEMA</code> column name:
        </p><p style="color:blue;">如果信息模式列上的字符串操作结果与预期不同，则可以使用显式COLLATE子句强制进行适当的排序（请参阅第10.8.1节“在SQL语句中使用COLLATE”）。例如，要执行不区分大小写的搜索，请使用COLLAT with the information\u schema列名：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME COLLATE utf8_general_ci = 'test';</code></strong>
+-------------+
| SCHEMA_NAME |
+-------------+
| test        |
+-------------+

mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME COLLATE utf8_general_ci = 'TEST';</code></strong>
+-------------+
| SCHEMA_NAME |
+-------------+
| test        |
+-------------+
</pre><p>
            In the preceding queries, it is important to apply the
            <code class="literal">COLLATE</code> clause to the
            <code class="literal">INFORMATION_SCHEMA</code> column name. Applying
            <code class="literal">COLLATE</code> to the comparison value has no
            effect.
        </p><p style="color:blue;">在前面的查询中，将COLLATE子句应用于信息架构列名非常重要。对比较值应用collate没有效果。</p><p></p><p>
            You can also use the <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a> or
            <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a> function:
        </p><p style="color:blue;">也可以使用upper（）或lower（）函数：</p><p></p><pre data-lang="sql" class="programlisting">WHERE UPPER(SCHEMA_NAME) = 'TEST'
WHERE LOWER(SCHEMA_NAME) = 'test'
</pre><p>
            Although a case-insensitive comparison can be performed even on
            platforms with case-sensitive file systems, as just shown, it is
            not necessarily always the right thing to do. On such platforms,
            it is possible to have multiple objects with names that differ
            only in lettercase. For example, tables named
            <code class="literal">city</code>, <code class="literal">CITY</code>, and
            <code class="literal">City</code> can all exist simultaneously. Consider
            whether a search should match all such names or just one and
            write queries accordingly. The first of the following
            comparisons (with <code class="literal">utf8_bin</code>) is case
            sensitive; the others are not:
        </p><p style="color:blue;">尽管不区分大小写的比较甚至可以在具有区分大小写文件系统的平台上执行，如前所示，但这并不一定总是正确的做法。在这样的平台上，可以有多个名称仅在字母大小写上不同的对象。例如，名为“城市”、“城市”和“锡蒂”的表都可以同时存在。考虑一个搜索是否应该匹配所有这样的名称，或者只匹配一个名称并相应地编写查询。以下第一个比较（与utf8_bin）区分大小写；其他比较不区分大小写：</p><p></p><pre data-lang="sql" class="programlisting">WHERE TABLE_NAME COLLATE utf8_bin = 'City'
WHERE TABLE_NAME COLLATE utf8_general_ci = 'city'
WHERE UPPER(TABLE_NAME) = 'CITY'
WHERE LOWER(TABLE_NAME) = 'city'
</pre><p>
            Searches in <code class="literal">INFORMATION_SCHEMA</code> string columns
            for values that refer to <code class="literal">INFORMATION_SCHEMA</code>
            itself do use the <code class="literal">utf8_general_ci</code> collation
            because <code class="literal">INFORMATION_SCHEMA</code> is a
            <span class="quote">“<span class="quote">virtual</span>”</span> database not represented in the file
            system. For example, comparisons with
            <code class="literal">SCHEMATA.SCHEMA_NAME</code> match
            <code class="literal">'information_schema'</code> or
            <code class="literal">'INFORMATION_SCHEMA'</code> regardless of platform:
        </p><p style="color:blue;">在“信息架构字符串”列中搜索引用信息架构本身的值时，确实使用UTF8_General_CI排序规则，因为信息架构是一个“虚拟”数据库，在文件系统中没有表示。例如，与schemata.schema_name的比较与“information_schema”或“information_schema”匹配，而与平台无关：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'information_schema';</code></strong>
+--------------------+
| SCHEMA_NAME        |
+--------------------+
| information_schema |
+--------------------+

mysql&gt; <strong class="userinput"><code>SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA</code></strong>
       <strong class="userinput"><code>WHERE SCHEMA_NAME = 'INFORMATION_SCHEMA';</code></strong>
+--------------------+
| SCHEMA_NAME        |
+--------------------+
| information_schema |
+--------------------+
</pre>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-unicode"></a>10.9&nbsp;Unicode Support</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="charset.html#charset-unicode-utf8mb4">10.9.1 The utf8mb4 Character Set (4-Byte UTF-8 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf8mb3">10.9.2 The utf8mb3 Character Set (3-Byte UTF-8 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf8">10.9.3 The utf8 Character Set (Alias for utf8mb3)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-ucs2">10.9.4 The ucs2 Character Set (UCS-2 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf16">10.9.5 The utf16 Character Set (UTF-16 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf16le">10.9.6 The utf16le Character Set (UTF-16LE Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-utf32">10.9.7 The utf32 Character Set (UTF-32 Unicode Encoding)</a></span></dt><dt><span class="section"><a href="charset.html#charset-unicode-conversion">10.9.8 Converting Between 3-Byte and 4-Byte Unicode Character Sets</a></span></dt></dl>
        </div>
        <p>
            The Unicode Standard includes characters from the Basic
            Multilingual Plane (BMP) and supplementary characters that lie
            outside the BMP. This section describes support for Unicode in
            MySQL. For information about the Unicode Standard itself, visit
            the <a class="ulink" href="http://www.unicode.org/" target="_top">Unicode Consortium
            website</a>.
        </p><p style="color:blue;">Unicode标准包括基本多语言平面（BMP）中的字符和BMP之外的补充字符。本节介绍MySQL中对Unicode的支持。有关Unicode标准本身的信息，请访问Unicode联盟网站。</p><p></p><p>
        BMP characters have these characteristics:
    </p><p style="color:blue;">BMP字符具有以下特征：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Their code point values are between 0 and 65535 (or
                <code class="literal">U+0000</code> and <code class="literal">U+FFFF</code>).
            </p><p style="color:blue;">它们的码位值介于0和65535（或u+0000和u+ffff）之间。</p><p></p></li><li class="listitem"><p>
                They can be encoded in a variable-length encoding using 8, 16,
                or 24 bits (1 to 3 bytes).
            </p><p style="color:blue;">它们可以使用8、16或24位（1到3字节）进行可变长度编码。</p><p></p></li><li class="listitem"><p>
                They can be encoded in a fixed-length encoding using 16 bits
                (2 bytes).
            </p><p style="color:blue;">它们可以用16位（2字节）的固定长度编码。</p><p></p></li><li class="listitem"><p>
                They are sufficient for almost all characters in major
                languages.
            </p><p style="color:blue;">它们对主要语言中的几乎所有字符都是足够的。</p><p></p></li></ul>
        </div>
        <p>
            Supplementary characters lie outside the BMP:
        </p><p style="color:blue;">补充字符位于BMP之外：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Their code point values are between <code class="literal">U+10000</code>
                and <code class="literal">U+10FFFF</code>).
            </p><p style="color:blue;">它们的码位值介于u+10000和u+10ffff之间）。</p><p></p></li><li class="listitem"><p>
                Unicode support for supplementary characters requires
                character sets that have a range outside BMP characters and
                therefore take more space than BMP characters (up to 4 bytes
                per character).
            </p><p style="color:blue;">对补充字符的Unicode支持要求字符集的范围超出BMP字符，因此占用的空间大于BMP字符（每个字符最多4字节）。</p><p></p></li></ul>
        </div>
        <p>
            The UTF-8 (Unicode Transformation Format with 8-bit units) method
            for encoding Unicode data is implemented according to RFC 3629,
            which describes encoding sequences that take from one to four
            bytes. The idea of UTF-8 is that various Unicode characters are
            encoded using byte sequences of different lengths:
        </p><p style="color:blue;">用于编码unicode数据的utf-8（带8位单位的unicode转换格式）方法是根据rfc 3629实现的，rfc3629描述了从1字节到4字节的编码序列。utf-8的思想是使用不同长度的字节序列对各种unicode字符进行编码：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Basic Latin letters, digits, and punctuation signs use one
                byte.
            </p><p style="color:blue;">基本拉丁字母、数字和标点符号使用一个字节。</p><p></p></li><li class="listitem"><p>
                Most European and Middle East script letters fit into a 2-byte
                sequence: extended Latin letters (with tilde, macron, acute,
                grave and other accents), Cyrillic, Greek, Armenian, Hebrew,
                Arabic, Syriac, and others.
            </p><p style="color:blue;">大多数欧洲和中东手写体字母按2字节顺序排列：扩展拉丁字母（带颚化符、长音符、锐音符、抑音符和其他重音）、西里尔字母、希腊字母、亚美尼亚字母、希伯来字母、阿拉伯文字母、叙利亚文字母和其他字母。</p><p></p></li><li class="listitem"><p>
                Korean, Chinese, and Japanese ideographs use 3-byte or 4-byte
                sequences.
            </p><p style="color:blue;">朝鲜语、汉语和日语表意字符使用3字节或4字节序列。</p><p></p></li></ul>
        </div>
        <p>
            MySQL supports these Unicode character sets:
        </p><p style="color:blue;">MySQL支持以下Unicode字符集：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                <code class="literal">utf8mb4</code>: A UTF-8 encoding of the Unicode
                character set using one to four bytes per character.
            </p><p style="color:blue;">utf8mb4:unicode字符集的utf-8编码，每个字符使用一到四个字节。</p><p></p></li><li class="listitem"><p>
                <code class="literal">utf8mb3</code>: A UTF-8 encoding of the Unicode
                character set using one to three bytes per character.
            </p><p style="color:blue;">utf8mb3:unicode字符集的utf-8编码，每个字符使用一到三个字节。</p><p></p></li><li class="listitem"><p>
                <code class="literal">utf8</code>: An alias for
                <code class="literal">utf8mb3</code>.
            </p><p style="color:blue;">utf8：utf8mb3的别名。</p><p></p></li><li class="listitem"><p>
                <code class="literal">ucs2</code>: The UCS-2 encoding of the Unicode
                character set using two bytes per character.
            </p><p style="color:blue;">ucs2:unicode字符集的ucs-2编码，每个字符使用两个字节。</p><p></p></li><li class="listitem"><p>
                <code class="literal">utf16</code>: The UTF-16 encoding for the Unicode
                character set using two or four bytes per character. Like
                <code class="literal">ucs2</code> but with an extension for
                supplementary characters.
            </p><p style="color:blue;">utf16:unicode字符集的utf-16编码，每个字符使用两个或四个字节。类似于ucs2，但带有补充字符的扩展名。</p><p></p></li><li class="listitem"><p>
                <code class="literal">utf16le</code>: The UTF-16LE encoding for the
                Unicode character set. Like <code class="literal">utf16</code> but
                little-endian rather than big-endian.
            </p><p style="color:blue;">utf16le:unicode字符集的utf-16le编码。像UTF16，但小端而不是大端。</p><p></p></li><li class="listitem"><p>
                <code class="literal">utf32</code>: The UTF-32 encoding for the Unicode
                character set using four bytes per character.
            </p><p style="color:blue;">utf32:unicode字符集的utf-32编码，每个字符使用四个字节。</p><p></p></li></ul>
        </div>
        <p>
            <a class="xref" href="charset.html#charset-unicode-charset-characteristics" title="Table&nbsp;10.2&nbsp;Unicode Character Set General Characteristics">Table&nbsp;10.2, “Unicode Character Set General Characteristics”</a>,
            summarizes the general characteristics of Unicode character sets
            supported by MySQL.
        </p><p style="color:blue;">表10.2“Unicode字符集一般特性”总结了MySQL支持的Unicode字符集的一般特性。</p><p></p>
        <div class="table">
            <a name="charset-unicode-charset-characteristics"></a><p class="title"><b>Table&nbsp;10.2&nbsp;Unicode Character Set General Characteristics</b></p><p style="color:blue;">表10.2 Unicode字符集一般特征</p><p></p>
            <div class="table-contents">
                <table summary="General characteristics of Unicode character sets."><colgroup><col width="20%"><col width="40%"><col width="40%"></colgroup><thead><tr>
                    <th scope="col">Character Set</th>
                    <th scope="col">Supported Characters</th>
                    <th scope="col">Required Storage Per Character</th>
                </tr></thead><tbody><tr>
                    <td scope="row"><code class="literal">utf8mb3</code>, <code class="literal">utf8</code></td>
                    <td>BMP only</td>
                    <td>1, 2, or 3 bytes</td>
                </tr><tr>
                    <td scope="row"><code class="literal">ucs2</code></td>
                    <td>BMP only</td>
                    <td>2 bytes</td>
                </tr><tr>
                    <td scope="row"><code class="literal">utf8mb4</code></td>
                    <td>BMP and supplementary</td>
                    <td>1, 2, 3, or 4 bytes</td>
                </tr><tr>
                    <td scope="row"><code class="literal">utf16</code></td>
                    <td>BMP and supplementary</td>
                    <td>2 or 4 bytes</td>
                </tr><tr>
                    <td scope="row"><code class="literal">utf16le</code></td>
                    <td>BMP and supplementary</td>
                    <td>2 or 4 bytes</td>
                </tr><tr>
                    <td scope="row"><code class="literal">utf32</code></td>
                    <td>BMP and supplementary</td>
                    <td>4 bytes</td>
                </tr></tbody></table>
            </div>

        </div>
        <br class="table-break"><p>
        Characters outside the BMP compare as REPLACEMENT CHARACTER and
        convert to <code class="literal">'?'</code> when converted to a Unicode
        character set that supports only BMP characters
        (<code class="literal">utf8mb3</code> or <code class="literal">ucs2</code>).
    </p><p style="color:blue;">bmp以外的字符作为替换字符进行比较并转换为“？”转换为仅支持BMP字符（UTF8MB3或UCS2）的Unicode字符集时。</p><p></p><p>
        If you use character sets that support supplementary characters
        and thus are <span class="quote">“<span class="quote">wider</span>”</span> than the BMP-only
        <code class="literal">utf8mb3</code> and <code class="literal">ucs2</code> character
        sets, there are potential incompatibility issues for your
        applications; see <a class="xref" href="charset.html#charset-unicode-conversion" title="10.9.8&nbsp;Converting Between 3-Byte and 4-Byte Unicode Character Sets">Section&nbsp;10.9.8, “Converting Between 3-Byte and 4-Byte Unicode Character Sets”</a>.
        That section also describes how to convert tables from the
        (3-byte) <code class="literal">utf8mb3</code> to the (4-byte)
        <code class="literal">utf8mb4</code>, and what constraints may apply in
        doing so.
    </p><p style="color:blue;">如果使用支持补充字符的字符集，因此比仅限BMP的UTF8MB3和UCS2字符集“宽”，则应用程序可能存在不兼容问题；请参阅第10.9.8节“在3字节和4字节Unicode字符集之间转换”。该部分还描述了如何将表从（3字节）utf8mb3转换为（4字节）utf8mb4，以及在这样做时可能应用的约束。</p><p></p><p>
        A similar set of collations is available for most Unicode
        character sets. For example, each has a Danish collation, the
        names of which are <code class="literal">utf8mb4_danish_ci</code>,
        <code class="literal">utf8mb3_danish_ci</code>,
        <code class="literal">utf8_danish_ci</code>,
        <code class="literal">ucs2_danish_ci</code>,
        <code class="literal">utf16_danish_ci</code>, and
        <code class="literal">utf32_danish_ci</code>. The exception is
        <code class="literal">utf16le</code>, which has only two collations. For
        information about Unicode collations and their differentiating
        properties, including collation properties for supplementary
        characters, see <a class="xref" href="charset.html#charset-unicode-sets" title="10.10.1&nbsp;Unicode Character Sets">Section&nbsp;10.10.1, “Unicode Character Sets”</a>.
    </p><p style="color:blue;">类似的排序规则集可用于大多数Unicode字符集。例如，每个都有一个丹麦排序规则，其名称为utf8mb4_danish_ci、utf8mb3_danish_ci、utf8_danish_ci、ucs2_danish_ci、utf16_danish_ci和utf32_danish_ci。例外情况是只有两个排序规则的utf16le。有关Unicode排序规则及其区分属性（包括补充字符的排序规则属性）的信息，请参阅第10.10.1节“Unicode字符集”。</p><p></p><p>
        The MySQL implementation of UCS-2, UTF-16, and UTF-32 stores
        characters in big-endian byte order and does not use a byte order
        mark (BOM) at the beginning of values. Other database systems
        might use little-endian byte order or a BOM. In such cases,
        conversion of values will need to be performed when transferring
        data between those systems and MySQL. The implementation of
        UTF-16LE is little-endian.
    </p><p style="color:blue;">ucs-2、utf-16和utf-32的mysql实现以大端字节顺序存储字符，并且在值的开头不使用字节顺序标记（bom）。其他数据库系统可能使用小的字节顺序或bom。在这种情况下，在这些系统和mysql之间传输数据时，需要执行值的转换。utf-16le的实现是小端的。</p><p></p><p>
        MySQL uses no BOM for UTF-8 values.
    </p><p style="color:blue;">mysql对utf-8值不使用bom。</p><p></p><p>
        Client applications that communicate with the server using Unicode
        should set the client character set accordingly (for example, by
        issuing a <code class="literal">SET NAMES 'utf8mb4'</code> statement). Some
        character sets cannot be used as the client character set.
        Attempting to use them with <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET
        NAMES</code></a> or <a class="link" href="sql-syntax.html#set-character-set" title="13.7.4.2&nbsp;SET CHARACTER SET Syntax"><code class="literal">SET CHARACTER
        SET</code></a> produces an error. See
        <a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a>.
    </p><p style="color:blue;">使用unicode与服务器通信的客户端应用程序应相应地设置客户端字符集（例如，通过发出set names'utf8mb4'语句）。某些字符集不能用作客户端字符集。尝试将它们与集合名称或集合字符集一起使用会产生错误。请参见不允许的客户端字符集。</p><p></p><p>
        The following sections provide additional detail on the Unicode
        character sets in MySQL.
    </p><p style="color:blue;">以下各节提供了有关mysql中unicode字符集的其他详细信息。</p><p></p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-utf8mb4"></a>10.9.1&nbsp;The utf8mb4 Character Set (4-Byte UTF-8 Unicode Encoding)</h3>
                    </div>
                </div>
            </div>
            <a class="indexterm" name="idm140286863933872"></a><p>
            The <code class="literal">utfmb4</code> character set has these
            characteristics:
        </p><p style="color:blue;">utfmb4字符集具有以下特征：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Supports BMP and supplementary characters.
                </p><p style="color:blue;">支持BMP和补充字符。</p><p></p></li><li class="listitem"><p>
                    Requires a maximum of four bytes per multibyte character.
                </p><p style="color:blue;">每多字节字符最多需要四字节。</p><p></p></li></ul>
            </div>
            <p>
                <code class="literal">utf8mb4</code> contrasts with the
                <code class="literal">utf8mb3</code> character set, which supports only
                BMP characters and uses a maximum of three bytes per character:
            </p><p style="color:blue;">UTF8Mb4与UTF8Mb3字符集形成对比，UTF8Mb3字符集只支持BMP字符，每个字符最多使用三字节：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    For a BMP character, <code class="literal">utf8mb4</code> and
                    <code class="literal">utf8mb3</code> have identical storage
                    characteristics: same code values, same encoding, same
                    length.
                </p><p style="color:blue;">对于bmp字符，utf8mb4和utf8mb3具有相同的存储特性：相同的代码值、相同的编码、相同的长度。</p><p></p></li><li class="listitem"><p>
                    For a supplementary character, <code class="literal">utf8mb4</code>
                    requires four bytes to store it, whereas
                    <code class="literal">utf8mb3</code> cannot store the character at
                    all. When converting <code class="literal">utf8mb3</code> columns to
                    <code class="literal">utf8mb4</code>, you need not worry about
                    converting supplementary characters because there will be
                    none.
                </p><p style="color:blue;">对于补充字符，utf8mb4需要四个字节来存储，而utf8mb3根本不能存储该字符。将utf8mb3列转换为utf8mb4时，您不必担心转换补充字符，因为不会有任何字符。</p><p></p></li></ul>
            </div>
            <p>
                <code class="literal">utf8mb4</code> is a superset of
                <code class="literal">utf8mb3</code>, so for an operation such as the
                following concatenation, the result has character set
                <code class="literal">utf8mb4</code> and the collation of
                <code class="literal">utf8mb4_col</code>:
            </p><p style="color:blue;">utf8mb4是utf8mb3的超集，因此对于以下串联操作，结果具有字符集utf8mb4和utf8mb4的排序规则：</p><p></p><pre data-lang="sql" class="programlisting">SELECT CONCAT(utf8mb3_col, utf8mb4_col);
</pre><p>
            Similarly, the following comparison in the
            <code class="literal">WHERE</code> clause works according to the collation
            of <code class="literal">utf8mb4_col</code>:
        </p><p style="color:blue;">类似地，where子句中的以下比较根据utf8mb4-col的排序规则工作：</p><p></p><pre data-lang="sql" class="programlisting">SELECT * FROM utf8mb3_tbl, utf8mb4_tbl
WHERE utf8mb3_tbl.utf8mb3_col = utf8mb4_tbl.utf8mb4_col;
</pre><p>
            For information about data type storage as it relates to
            multibyte character sets, see
            <a class="xref" href="data-types.html#data-types-storage-reqs-strings" title="String Type Storage Requirements">String Type Storage Requirements</a>.
        </p><p style="color:blue;">有关与多字节字符集相关的数据类型存储的信息，请参阅字符串类型存储要求。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-utf8mb3"></a>10.9.2&nbsp;The utf8mb3 Character Set (3-Byte UTF-8 Unicode Encoding)</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863910880"></a><a class="indexterm" name="idm140286863909840"></a><a class="indexterm" name="idm140286863908352"></a><p>
            The <code class="literal">utf8mb3</code> character set has these
            characteristics:
        </p><p style="color:blue;">utf8mb3字符集具有以下特征：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Supports BMP characters only (no support for supplementary
                    characters)
                </p><p style="color:blue;">仅支持BMP字符（不支持补充字符）</p><p></p></li><li class="listitem"><p>
                    Requires a maximum of three bytes per multibyte character.
                </p><p style="color:blue;">每多字节字符最多需要三字节。</p><p></p></li></ul>
            </div>
            <p>
                Applications that use UTF-8 data but require supplementary
                character support should use <code class="literal">utf8mb4</code> rather
                than <code class="literal">utf8mb3</code> (see
                <a class="xref" href="charset.html#charset-unicode-utf8mb4" title="10.9.1&nbsp;The utf8mb4 Character Set (4-Byte UTF-8 Unicode Encoding)">Section&nbsp;10.9.1, “The utf8mb4 Character Set (4-Byte UTF-8 Unicode Encoding)”</a>).
            </p><p style="color:blue;">使用utf-8数据但需要补充字符支持的应用程序应使用utf8mb4而不是utf8mb3（请参阅第10.9.1节“utf8mb4字符集（4字节utf-8unicode编码）”。</p><p></p><a class="indexterm" name="idm140286863900784"></a><a class="indexterm" name="idm140286863899696"></a><p>
            Exactly the same set of characters is available in
            <code class="literal">utf8mb3</code> and <code class="literal">ucs2</code>. That is,
            they have the same
            <a class="link" href="glossary.html#glos_repertoire" title="repertoire">repertoire</a>.
        </p><p style="color:blue;">在utf8mb3和ucs2中可以使用完全相同的字符集。也就是说，他们有相同的剧目。</p><p></p><p>
            <code class="literal">utf8</code> is an alias for
            <code class="literal">utf8mb3</code>; the character limit is implicit,
            rather than explicit in the name.
        </p><p style="color:blue;">utf8是utf8mb3的别名；字符限制是隐式的，而不是显式的。</p><p></p><p>
            <code class="literal">utf8mb3</code> can be used in <code class="literal">CHARACTER
            SET</code> clauses, and
            <code class="literal">utf8mb3_<em class="replaceable"><code>collation_substring</code></em></code>
            in <code class="literal">COLLATE</code> clauses, where
            <em class="replaceable"><code>collation_substring</code></em> is
            <code class="literal">bin</code>, <code class="literal">czech_ci</code>,
            <code class="literal">danish_ci</code>, <code class="literal">esperanto_ci</code>,
            <code class="literal">estonian_ci</code>, and so forth. For example:
        </p><p style="color:blue;">utf8mb3可用于字符集子句，utf8mb3_collation_substring可用于collate子句，其中collation_substring是bin、捷克语、丹麦语、世界语、爱沙尼亚语等。例如：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t (s1 CHAR(1) CHARACTER SET utf8mb3;
SELECT * FROM t WHERE s1 COLLATE utf8mb3_general_ci = 'x';
DECLARE x VARCHAR(5) CHARACTER SET utf8mb3 COLLATE utf8mb3_danish_ci;
SELECT CAST('a' AS CHAR CHARACTER SET utf8) COLLATE utf8_czech_ci;
</pre><p>
            MySQL immediately converts instances of
            <code class="literal">utf8mb3</code> in statements to
            <code class="literal">utf8</code>, so in statements such as <code class="literal">SHOW
            CREATE TABLE</code> or <code class="literal">SELECT CHARACTER_SET_NAME
            FROM INFORMATION_SCHEMA.COLUMNS</code> or <code class="literal">SELECT
            COLLATION_NAME FROM INFORMATION_SCHEMA.COLUMNS</code>, users
            will see the name <code class="literal">utf8</code> or
            <code class="literal">utf8_<em class="replaceable"><code>collation_substring</code></em></code>.
        </p><p style="color:blue;">mysql立即将utf8mb3 in语句的实例转换为utf8，因此在show create table或select character_set_name from information_schema.columns或select collation_name from information_schema.columns等语句中，用户将看到名称utf8或utf8_collation_substring。</p><p></p><p>
            <code class="literal">utf8mb3</code> is also valid in contexts other than
            <code class="literal">CHARACTER SET</code> clauses. For example:
        </p><p style="color:blue;">utf8mb3在字符集子句以外的上下文中也有效。例如：</p><p></p><pre data-lang="terminal" class="programlisting">mysqld --character-set-server=utf8mb3
</pre><pre data-lang="sql" class="programlisting">SET NAMES 'utf8mb3'; /* and other SET statements that have similar effect */
SELECT _utf8mb3 'a';
</pre><p>
            For information about data type storage as it relates to
            multibyte character sets, see
            <a class="xref" href="data-types.html#data-types-storage-reqs-strings" title="String Type Storage Requirements">String Type Storage Requirements</a>.
        </p><p style="color:blue;">有关与多字节字符集相关的数据类型存储的信息，请参阅字符串类型存储要求。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-utf8"></a>10.9.3&nbsp;The utf8 Character Set (Alias for utf8mb3)</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863872304"></a><a class="indexterm" name="idm140286863871264"></a><a class="indexterm" name="idm140286863869776"></a><p>
            <code class="literal">utf8</code> is an alias for the
            <code class="literal">utf8mb3</code> character set. For more information,
            see <a class="xref" href="charset.html#charset-unicode-utf8mb3" title="10.9.2&nbsp;The utf8mb3 Character Set (3-Byte UTF-8 Unicode Encoding)">Section&nbsp;10.9.2, “The utf8mb3 Character Set (3-Byte UTF-8 Unicode Encoding)”</a>.
        </p><p style="color:blue;">utf8是utf8mb3字符集的别名。有关更多信息，请参见第10.9.2节“UTF8MB3字符集（3字节UTF-8 Unicode编码）”。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-ucs2"></a>10.9.4&nbsp;The ucs2 Character Set (UCS-2 Unicode Encoding)</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863864400"></a><p>
            In UCS-2, every character is represented by a 2-byte Unicode
            code with the most significant byte first. For example:
            <code class="literal">LATIN CAPITAL LETTER A</code> has the code
            <code class="literal">0x0041</code> and it is stored as a 2-byte sequence:
            <code class="literal">0x00 0x41</code>. <code class="literal">CYRILLIC SMALL LETTER
            YERU</code> (Unicode <code class="literal">0x044B</code>) is stored as
            a 2-byte sequence: <code class="literal">0x04 0x4B</code>. For Unicode
            characters and their codes, please refer to the
            <a class="ulink" href="http://www.unicode.org/" target="_top">Unicode Consortium
                website</a>.
        </p><p style="color:blue;">在ucs-2中，每个字符都由一个2字节的unicode代码表示，其中最重要的字节在前面。例如：拉丁文大写字母A的代码为0x0041，它存储为一个2字节序列：0x000x41。西里尔文小写字母Yeru（Unicode 0x044b）存储为2字节序列：0x04 0x4b。有关Unicode字符及其代码，请参阅Unicode Consortium网站。</p><p></p><p>
            The <code class="literal">ucs2</code> character set has these
            characteristics:
        </p><p style="color:blue;">UCS2字符集具有以下特征：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Supports BMP characters only (no support for supplementary
                    characters)
                </p><p style="color:blue;">仅支持BMP字符（不支持补充字符）</p><p></p></li><li class="listitem"><p>
                    Uses a fixed-length 16-bit encoding and requires two bytes
                    per character.
                </p><p style="color:blue;">使用固定长度的16位编码，每个字符需要两个字节。</p><p></p></li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-utf16"></a>10.9.5&nbsp;The utf16 Character Set (UTF-16 Unicode Encoding)</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863852944"></a><p>
            The <code class="literal">utf16</code> character set is the
            <code class="literal">ucs2</code> character set with an extension that
            enables encoding of supplementary characters:
        </p><p style="color:blue;">UTF16字符集是UCS2字符集，其扩展名允许对补充字符进行编码：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    For a BMP character, <code class="literal">utf16</code> and
                    <code class="literal">ucs2</code> have identical storage
                    characteristics: same code values, same encoding, same
                    length.
                </p><p style="color:blue;">对于bmp字符，utf16和ucs2具有相同的存储特性：相同的代码值、相同的编码、相同的长度。</p><p></p></li><li class="listitem"><p>
                    For a supplementary character, <code class="literal">utf16</code> has
                    a special sequence for representing the character using 32
                    bits. This is called the <span class="quote">“<span class="quote">surrogate</span>”</span> mechanism:
                    For a number greater than <code class="literal">0xffff</code>, take 10
                    bits and add them to <code class="literal">0xd800</code> and put them
                    in the first 16-bit word, take 10 more bits and add them to
                    <code class="literal">0xdc00</code> and put them in the next 16-bit
                    word. Consequently, all supplementary characters require 32
                    bits, where the first 16 bits are a number between
                    <code class="literal">0xd800</code> and <code class="literal">0xdbff</code>, and
                    the last 16 bits are a number between
                    <code class="literal">0xdc00</code> and <code class="literal">0xdfff</code>.
                    Examples are in Section
                    <a class="ulink" href="http://www.unicode.org/versions/Unicode4.0.0/ch15.pdf" target="_top">15.5
                        Surrogates Area</a> of the Unicode 4.0 document.
                </p><p style="color:blue;">对于补充字符，utf16有一个特殊序列，用于使用32位表示字符。这称为“代理”机制：对于大于0xffff的数字，取10位并将其添加到0xd800，然后将其放入第一个16位字中，再取10位并将其添加到0xdc00，然后将其放入下一个16位字中。因此，所有补充字符都需要32位，其中前16位是介于0xd800和0xdbff之间的数字，后16位是介于0xdc00和0xdfff之间的数字。示例见Unicode 4.0文档的15.5代理项区域。</p><p></p></li></ul>
            </div>
            <p>
                Because <code class="literal">utf16</code> supports surrogates and
                <code class="literal">ucs2</code> does not, there is a validity check that
                applies only in <code class="literal">utf16</code>: You cannot insert a
                top surrogate without a bottom surrogate, or vice versa. For
                example:
            </p><p style="color:blue;">因为utf16支持代理项，而ucs2不支持，所以只有utf16中才有一个有效性检查：没有底部代理项，不能插入顶部代理项，反之亦然。例如：</p><p></p><pre data-lang="sql" class="programlisting">INSERT INTO t (ucs2_column) VALUES (0xd800); /* legal */
INSERT INTO t (utf16_column)VALUES (0xd800); /* illegal */
</pre><p>
            There is no validity check for characters that are technically
            valid but are not true Unicode (that is, characters that Unicode
            considers to be <span class="quote">“<span class="quote">unassigned code points</span>”</span> or
            <span class="quote">“<span class="quote">private use</span>”</span> characters or even
            <span class="quote">“<span class="quote">illegals</span>”</span> like <code class="literal">0xffff</code>). For
            example, since <code class="literal">U+F8FF</code> is the Apple Logo, this
            is legal:
        </p><p style="color:blue;">对于技术上有效但不是真正Unicode的字符（即Unicode认为是“未分配代码点”或“专用”字符，甚至是“非法字符”，如0xFFFF），不进行有效性检查。例如，由于u+f8ff是Apple徽标，因此这是合法的：</p><p></p><pre data-lang="sql" class="programlisting">INSERT INTO t (utf16_column)VALUES (0xf8ff); /* legal */
</pre><p>
            Such characters cannot be expected to mean the same thing to
            everyone.
        </p><p style="color:blue;">不能指望这些角色对每个人都有同样的意义。</p><p></p><p>
            Because MySQL must allow for the worst case (that one character
            requires four bytes) the maximum length of a
            <code class="literal">utf16</code> column or index is only half of the
            maximum length for a <code class="literal">ucs2</code> column or index.
            For example, the maximum length of a <code class="literal">MEMORY</code>
            table index key is 3072 bytes, so these statements create tables
            with the longest permitted indexes for <code class="literal">ucs2</code>
            and <code class="literal">utf16</code> columns:
        </p><p style="color:blue;">因为MySQL必须允许最坏的情况（一个字符需要四字节），UTF16列或索引的最大长度仅是UCS2列或索引的最大长度的一半。例如，内存表索引键的最大长度为3072字节，因此这些语句创建具有UCS2和UTF16列的最长允许索引的表：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE tf (s1 VARCHAR(1536) CHARACTER SET ucs2) ENGINE=MEMORY;
CREATE INDEX i ON tf (s1);
CREATE TABLE tg (s1 VARCHAR(768) CHARACTER SET utf16) ENGINE=MEMORY;
CREATE INDEX i ON tg (s1);
</pre>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-utf16le"></a>10.9.6&nbsp;The utf16le Character Set (UTF-16LE Unicode Encoding)</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863823440"></a><p>
            This is the same as <code class="literal">utf16</code> but is
            little-endian rather than big-endian.
        </p><p style="color:blue;">这与utf16相同，但它是小endian而不是大endian。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-utf32"></a>10.9.7&nbsp;The utf32 Character Set (UTF-32 Unicode Encoding)</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863819920"></a><p>
            The <code class="literal">utf32</code> character set is fixed length (like
            <code class="literal">ucs2</code> and unlike <code class="literal">utf16</code>).
            <code class="literal">utf32</code> uses 32 bits for every character,
            unlike <code class="literal">ucs2</code> (which uses 16 bits for every
            character), and unlike <code class="literal">utf16</code> (which uses 16
            bits for some characters and 32 bits for others).
        </p><p style="color:blue;">utf32字符集是固定长度的（类似于ucs2，不同于utf16）。utf32对每个字符使用32位，不像ucs2（对每个字符使用16位），也不像utf16（对某些字符使用16位，对其他字符使用32位）。</p><p></p><p>
            <code class="literal">utf32</code> takes twice as much space as
            <code class="literal">ucs2</code> and more space than
            <code class="literal">utf16</code>, but <code class="literal">utf32</code> has the
            same advantage as <code class="literal">ucs2</code> that it is predictable
            for storage: The required number of bytes for
            <code class="literal">utf32</code> equals the number of characters times
            4. Also, unlike <code class="literal">utf16</code>, there are no tricks
            for encoding in <code class="literal">utf32</code>, so the stored value
            equals the code value.
        </p><p style="color:blue;">utf32占用的空间是ucs2的两倍，比utf16多，但utf32具有与ucs2相同的优点，即存储时可以预测：utf32所需的字节数等于字符数乘以4。此外，与utf16不同，utf32中没有编码技巧，因此存储的值等于代码值。</p><p></p><p>
            To demonstrate how the latter advantage is useful, here is an
            example that shows how to determine a <code class="literal">utf8mb4</code>
            value given the <code class="literal">utf32</code> code value:
        </p><p style="color:blue;">为了演示后一种优势是如何有用的，下面是一个示例，演示如何在给定utf32代码值的情况下确定utf8mb4值：</p><p></p><pre data-lang="sql" class="programlisting">/* Assume code value = 100cc LINEAR B WHEELED CHARIOT */
CREATE TABLE tmp (utf32_col CHAR(1) CHARACTER SET utf32,
                  utf8mb4_col CHAR(1) CHARACTER SET utf8mb4);
INSERT INTO tmp VALUES (0x000100cc,NULL);
UPDATE tmp SET utf8mb4_col = utf32_col;
SELECT HEX(utf32_col),HEX(utf8mb4_col) FROM tmp;
</pre><p>
            MySQL is very forgiving about additions of unassigned Unicode
            characters or private-use-area characters. There is in fact only
            one validity check for <code class="literal">utf32</code>: No code value
            may be greater than <code class="literal">0x10ffff</code>. For example,
            this is illegal:
        </p><p style="color:blue;">mysql对于添加未分配的unicode字符或专用区域字符非常宽容。事实上，对utf32只有一个有效性检查：任何代码值都不能大于0x10ffff。例如，这是非法的：</p><p></p><pre data-lang="sql" class="programlisting">INSERT INTO t (utf32_column) VALUES (0x110000); /* illegal */
</pre>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-conversion"></a>10.9.8&nbsp;Converting Between 3-Byte and 4-Byte Unicode Character Sets</h3>

                    </div>

                </div>

            </div>
            <p>
                This section describes issues that you may face when converting
                character data between the <code class="literal">utf8mb3</code> and
                <code class="literal">utf8mb4</code> character sets.
            </p><p style="color:blue;">本节介绍在utf8mb3和utf8mb4字符集之间转换字符数据时可能遇到的问题。</p><p></p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Note
                </div>
                <p>
                    This discussion focuses primarily on converting between
                    <code class="literal">utf8mb3</code> and <code class="literal">utf8mb4</code>, but
                    similar principles apply to converting between the
                    <code class="literal">ucs2</code> character set and character sets such
                    as <code class="literal">utf16</code> or <code class="literal">utf32</code>.
                </p><p style="color:blue;">本文主要讨论utf8mb3和utf8mb4之间的转换，但类似的原则也适用于ucs2字符集和utf16或utf32等字符集之间的转换。</p><p></p>
            </div>
            <p>
                The <code class="literal">utf8mb3</code> and <code class="literal">utf8mb4</code>
                character sets differ as follows:
            </p><p style="color:blue;">utf8mb3和utf8mb4字符集的区别如下：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">utf8mb3</code> supports only characters in the
                    Basic Multilingual Plane (BMP). <code class="literal">utf8mb4</code>
                    additionally supports supplementary characters that lie
                    outside the BMP.
                </p><p style="color:blue;">utf8mb3只支持基本多语言平面（bmp）中的字符。utf8mb4还支持bmp之外的补充字符。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">utf8mb3</code> uses a maximum of three bytes per
                    character. <code class="literal">utf8mb4</code> uses a maximum of four
                    bytes per character.
                </p><p style="color:blue;">UTF8Mb3使用最多三字节的每个字符。UTF8Mb4每个字符最多使用四字节。</p><p></p></li></ul>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <div class="admon-title">
                    Note
                </div>
                <p>
                    This discussion refers to the <code class="literal">utf8mb3</code> and
                    <code class="literal">utf8mb4</code> character set names to be explicit
                    about referring to 3-byte and 4-byte UTF-8 character set data.
                    The exception is that in table definitions,
                    <code class="literal">utf8</code> is used because MySQL converts
                    instances of <code class="literal">utf8mb3</code> specified in such
                    definitions to <code class="literal">utf8</code>, which is an alias for
                    <code class="literal">utf8mb3</code>.
                </p><p style="color:blue;">这个讨论涉及到utf8mb3和utf8mb4字符集名称，对于引用3字节和4字节的utf-8字符集数据要显式。例外情况是，在表定义中，使用utf8是因为mysql将这些定义中指定的utf8mb3实例转换为utf8，utf8mb3是utf8mb3的别名。</p><p></p>
            </div>
            <p>
                One advantage of converting from <code class="literal">utf8mb3</code> to
                <code class="literal">utf8mb4</code> is that this enables applications to
                use supplementary characters. One tradeoff is that this may
                increase data storage space requirements.
            </p><p style="color:blue;">从utf8mb3转换为utf8mb4的一个优点是，这使应用程序能够使用补充字符。一个折衷方案是，这可能会增加数据存储空间需求。</p><p></p><p>
            In terms of table content, conversion from
            <code class="literal">utf8mb3</code> to <code class="literal">utf8mb4</code>
            presents no problems:
        </p><p style="color:blue;">从表格内容来看，从utf8mb3转换为utf8mb4没有问题：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    For a BMP character, <code class="literal">utf8mb4</code> and
                    <code class="literal">utf8mb3</code> have identical storage
                    characteristics: same code values, same encoding, same
                    length.
                </p><p style="color:blue;">对于bmp字符，utf8mb4和utf8mb3具有相同的存储特性：相同的代码值、相同的编码、相同的长度。</p><p></p></li><li class="listitem"><p>
                    For a supplementary character, <code class="literal">utf8mb4</code>
                    requires four bytes to store it, whereas
                    <code class="literal">utf8mb3</code> cannot store the character at
                    all. When converting <code class="literal">utf8mb3</code> columns to
                    <code class="literal">utf8mb4</code>, you need not worry about
                    converting supplementary characters because there will be
                    none.
                </p><p style="color:blue;">对于补充字符，utf8mb4需要四个字节来存储，而utf8mb3根本不能存储该字符。将utf8mb3列转换为utf8mb4时，您不必担心转换补充字符，因为不会有任何字符。</p><p></p></li></ul>
            </div>
            <p>
                In terms of table structure, these are the primary potential
                incompatibilities:
            </p><p style="color:blue;">就表结构而言，这些是主要的潜在不兼容性：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    For the variable-length character data types
                    (<a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> and the
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
                    permitted length in characters is less for
                    <code class="literal">utf8mb4</code> columns than for
                    <code class="literal">utf8mb3</code> columns.
                </p><p style="color:blue;">对于可变长度字符数据类型（VARCHAR和文本类型），UTF8Mb4列中字符的最大允许长度小于UTF8Mb3列。</p><p></p></li><li class="listitem"><p>
                    For all character data types
                    (<a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
                    <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, and the
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
                    number of characters that can be indexed is less for
                    <code class="literal">utf8mb4</code> columns than for
                    <code class="literal">utf8mb3</code> columns.
                </p><p style="color:blue;">对于所有字符数据类型（CHAR、VARCHAR和文本类型），UTF8Mb4列最多可被索引的字符数比UTF8Mb3列要少。</p><p></p></li></ul>
            </div>
            <p>
                Consequently, to convert tables from <code class="literal">utf8mb3</code>
                to <code class="literal">utf8mb4</code>, it may be necessary to change
                some column or index definitions.
            </p><p style="color:blue;">因此，要将表从utf8mb3转换为utf8mb4，可能需要更改某些列或索引定义。</p><p></p><p>
            Tables can be converted from <code class="literal">utf8mb3</code> to
            <code class="literal">utf8mb4</code> by using <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER
            TABLE</code></a>. Suppose that a table has this definition:
        </p><p style="color:blue;">使用alter table可以将表从utf8mb3转换为utf8mb4。假设一个表具有以下定义：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t1 (
  col1 CHAR(10) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
  col2 CHAR(10) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL
) CHARACTER SET utf8;
</pre><p>
            The following statement converts <code class="literal">t1</code> to use
            <code class="literal">utf8mb4</code>:
        </p><p style="color:blue;">以下语句将T1转换为使用UTF8MB4：</p><p></p><pre data-lang="sql" class="programlisting">ALTER TABLE t1
  DEFAULT CHARACTER SET utf8mb4,
  MODIFY col1 CHAR(10)
    CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  MODIFY col2 CHAR(10)
    CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL;
</pre><p>
            The catch when converting from <code class="literal">utf8mb3</code> to
            <code class="literal">utf8mb4</code> is that the maximum length of a
            column or index key is unchanged in terms of
            <span class="emphasis"><em>bytes</em></span>. Therefore, it is smaller in terms of
            <span class="emphasis"><em>characters</em></span> because the maximum length of a
            character is four bytes instead of three. For the
            <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
            <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>, and
            <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> data types, watch for these
            issues when converting your MySQL tables:
        </p><p style="color:blue;">从UTF8Mb3转换为UTF8Mb4时的捕获是，列或索引键的最大长度在字节方面是不变的。因此，它在字符方面较小，因为字符的最大长度是四字节而不是三字节。对于char、varchar和text数据类型，在转换mysql表时请注意以下问题：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Check all definitions of <code class="literal">utf8mb3</code> columns
                    and make sure they will not exceed the maximum length for
                    the storage engine.
                </p><p style="color:blue;">检查UTF8Mb3列的所有定义，并确保它们不会超过存储引擎的最大长度。</p><p></p></li><li class="listitem"><p>
                    Check all indexes on <code class="literal">utf8mb3</code> columns and
                    make sure they will not exceed the maximum length for the
                    storage engine. Sometimes the maximum can change due to
                    storage engine enhancements.
                </p><p style="color:blue;">检查UTF8Mb3列上的所有索引，并确保它们不会超过存储引擎的最大长度。有时，由于存储引擎的增强，最大值可能会发生变化。</p><p></p></li></ul>
            </div>
            <p>
                If the preceding conditions apply, you must either reduce the
                defined length of columns or indexes, or continue to use
                <code class="literal">utf8mb3</code> rather than
                <code class="literal">utf8mb4</code>.
            </p><p style="color:blue;">如果前面的条件适用，则必须减少定义的列或索引长度，或者继续使用utf8mb3而不是utf8mb4。</p><p></p><p>
            Here are some examples where structural changes may be needed:
        </p><p style="color:blue;">以下是一些可能需要进行结构更改的示例：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    A <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TINYTEXT</code></a> column can hold up
                    to 255 bytes, so it can hold up to 85 3-byte or 63 4-byte
                    characters. Suppose that you have a
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TINYTEXT</code></a> column that uses
                    <code class="literal">utf8mb3</code> but must be able to contain more
                    than 63 characters. You cannot convert it to
                    <code class="literal">utf8mb4</code> unless you also change the data
                    type to a longer type such as
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a>.
                </p><p style="color:blue;">tinytext列最多可容纳255个字节，因此最多可容纳85个3字节或63个4字节字符。假设有一个tinytext列使用utf8mb3，但必须能够包含63个以上的字符。您不能将其转换为utf8mb4，除非您还将数据类型更改为较长的类型，如文本。</p><p></p><p>
                    Similarly, a very long
                    <a class="link" href="data-types.html#char" title="11.4.1&nbsp;The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> column may need to be
                    changed to one of the longer
                    <a class="link" href="data-types.html#blob" title="11.4.3&nbsp;The BLOB and TEXT Types"><code class="literal">TEXT</code></a> types if you want to
                    convert it from <code class="literal">utf8mb3</code> to
                    <code class="literal">utf8mb4</code>.
                </p><p style="color:blue;">类似地，如果要将很长的varchar列从utf8mb3转换为utf8mb4，则可能需要将其更改为较长的文本类型之一。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">InnoDB</code> has a maximum index length of 767
                    bytes for tables that use
                    <code class="literal"><a class="link" href="glossary.html#glos_compact_row_format" title="compact row format">COMPACT</a></code>
                    or
                    <code class="literal"><a class="link" href="glossary.html#glos_redundant_row_format" title="redundant row format">REDUNDANT</a></code>
                    row format, so for <code class="literal">utf8mb3</code> or
                    <code class="literal">utf8mb4</code> columns, you can index a maximum
                    of 255 or 191 characters, respectively. If you currently
                    have <code class="literal">utf8mb3</code> columns with indexes longer
                    than 191 characters, you must index a smaller number of
                    characters.
                </p><p style="color:blue;">对于使用紧凑或冗余行格式的表，InNODB的最大索引长度为767字节，因此对于UTF8Mb3或UTF8Mb4列，可以分别索引最多255个或191个字符。如果当前有索引长度超过191个字符的utf8mb3列，则必须索引较小数量的字符。</p><p></p><p>
                    In an <code class="literal">InnoDB</code> table that uses
                    <code class="literal"><a class="link" href="glossary.html#glos_compact_row_format" title="compact row format">COMPACT</a></code>
                    or
                    <code class="literal"><a class="link" href="glossary.html#glos_redundant_row_format" title="redundant row format">REDUNDANT</a></code>
                    row format, these column and index definitions are legal:
                </p><p style="color:blue;">在使用压缩或冗余行格式的innodb表中，这些列和索引定义是合法的：</p><p></p><pre data-lang="sql" class="programlisting">col1 VARCHAR(500) CHARACTER SET utf8, INDEX (col1(255))
</pre><p>
                    To use <code class="literal">utf8mb4</code> instead, the index must be
                    smaller:
                </p><p style="color:blue;">要改用utf8mb4，索引必须更小：</p><p></p><pre data-lang="sql" class="programlisting">col1 VARCHAR(500) CHARACTER SET utf8mb4, INDEX (col1(191))
</pre>
                    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

                        <div class="admon-title">
                            Note
                        </div>
                        <p>
                            For <code class="literal">InnoDB</code> tables that use
                            <code class="literal"><a class="link" href="glossary.html#glos_compressed_row_format" title="compressed row format">COMPRESSED</a></code>
                            or
                            <code class="literal"><a class="link" href="glossary.html#glos_dynamic_row_format" title="dynamic row format">DYNAMIC</a></code>
                            row format, you can enable the
                            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_large_prefix"><code class="literal">innodb_large_prefix</code></a>
                            option to permit <a class="link" href="glossary.html#glos_index_prefix" title="index prefix">index
                            key prefixes</a> longer than 767 bytes (up to 3072
                            bytes). Creating such tables also requires the option
                            values
                            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_file_format"><code class="literal">innodb_file_format=barracuda</code></a>
                            and
                            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table=true</code></a>.)
                            In this case, enabling the
                            <a class="link" href="innodb-storage-engine.html#sysvar_innodb_large_prefix"><code class="literal">innodb_large_prefix</code></a>
                            option enables you to index a maximum of 1024 or 768
                            characters for <code class="literal">utf8mb3</code> or
                            <code class="literal">utf8mb4</code> columns, respectively. For
                            related information, see
                            <a class="xref" href="innodb-storage-engine.html#innodb-restrictions" title="14.6.1.6&nbsp;Limits on InnoDB Tables">Section&nbsp;14.6.1.6, “Limits on InnoDB Tables”</a>.
                        </p><p style="color:blue;">对于使用压缩或动态行格式的innodb表，可以启用innodb_large_prefix选项以允许索引键前缀超过767字节（最多3072字节）。创建这样的表还需要选项值“NubdIfFielyFrase= BracrUDA和NoNdByFielyPixTabe=真”。在这种情况下，启用NoNdByLARGEGPROFIX选项可以使UTF8Mb3或UTF8Mb4列分别最多1024或768个字符。有关信息，请参阅第14.6.1.6节“InnoDB表的限制”。</p><p></p>
                    </div>
                </li></ul>
            </div>
            <p>
                The preceding types of changes are most likely to be required
                only if you have very long columns or indexes. Otherwise, you
                should be able to convert your tables from
                <code class="literal">utf8mb3</code> to <code class="literal">utf8mb4</code> without
                problems, using <a class="link" href="sql-syntax.html#alter-table" title="13.1.8&nbsp;ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> as
                described previously.
            </p><p style="color:blue;">只有当列或索引很长时，才很可能需要进行上述类型的更改。否则，您应该可以使用前面描述的alter table将表从utf8mb3转换为utf8mb4而不会出现问题。</p><p></p><p>
            The following items summarize other potential incompatibilities:
        </p><p style="color:blue;">以下项目总结了其他潜在的不兼容性：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">SET NAMES 'utf8mb4'</code> causes use of the
                    4-byte character set for connection character sets. As long
                    as no 4-byte characters are sent from the server, there
                    should be no problems. Otherwise, applications that expect
                    to receive a maximum of three bytes per character may have
                    problems. Conversely, applications that expect to send
                    4-byte characters must ensure that the server understands
                    them.
                </p><p style="color:blue;">设置名称“utf8mb4”会导致使用连接字符集的4字节字符集。只要服务器不发送4字节字符，就应该没有问题。否则，期望每个字符最多接收三字节的应用程序可能会出现问题。相反，希望发送4字节字符的应用程序必须确保服务器能够理解它们。</p><p></p></li><li class="listitem"><p>
                    For replication, if character sets that support
                    supplementary characters are to be used on the master, all
                    slaves must understand them as well.
                </p><p style="color:blue;">对于复制，如果要在主机上使用支持补充字符的字符集，则所有从机也必须理解它们。</p><p></p><p>
                    Also, keep in mind the general principle that if a table has
                    different definitions on the master and slave, this can lead
                    to unexpected results. For example, the differences in
                    maximum index key length make it risky to use
                    <code class="literal">utf8mb3</code> on the master and
                    <code class="literal">utf8mb4</code> on the slave.
                </p><p style="color:blue;">此外，请记住一个一般原则，即如果一个表在主表和从表上有不同的定义，这可能会导致意外的结果。例如，在最大索引密钥长度上的差异使得在主站上使用UTF8Mb3和从主站上使用UTF8Mb4变得危险。</p><p></p></li></ul>
            </div>
            <p>
                If you have converted to <code class="literal">utf8mb4</code>,
                <code class="literal">utf16</code>, <code class="literal">utf16le</code>, or
                <code class="literal">utf32</code>, and then decide to convert back to
                <code class="literal">utf8mb3</code> or <code class="literal">ucs2</code> (for
                example, to downgrade to an older version of MySQL), these
                considerations apply:
            </p><p style="color:blue;">如果您已转换为utf8mb4、utf16、utf16le或utf32，然后决定转换回utf8mb3或ucs2（例如，要降级到较旧版本的mysql），则以下注意事项适用：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">utf8mb3</code> and <code class="literal">ucs2</code> data
                    should present no problems.
                </p><p style="color:blue;">utf8mb3和ucs2数据应该没有问题。</p><p></p></li><li class="listitem"><p>
                    The server must be recent enough to recognize definitions
                    referring to the character set from which you are
                    converting.
                </p><p style="color:blue;">服务器必须足够新，以识别引用要从中转换的字符集的定义。</p><p></p></li><li class="listitem"><p>
                    For object definitions that refer to the
                    <code class="literal">utf8mb4</code> character set, you can dump them
                    with <a class="link" href="programs.html#mysqldump" title="4.5.4&nbsp;mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> prior to downgrading, edit
                    the dump file to change instances of
                    <code class="literal">utf8mb4</code> to <code class="literal">utf8</code>, and
                    reload the file in the older server, as long as there are no
                    4-byte characters in the data. The older server will see
                    <code class="literal">utf8</code> in the dump file object definitions
                    and create new objects that use the (3-byte)
                    <code class="literal">utf8</code> character set.
                </p><p style="color:blue;">对于引用utf8mb4字符集的对象定义，可以在降级之前使用mysqldump转储它们，编辑转储文件以将utf8mb4的实例更改为utf8，并在旧服务器中重新加载该文件，只要数据中没有4字节字符。旧服务器将在转储文件对象定义中看到utf8，并创建使用（3字节）utf8字符集的新对象。</p><p></p></li></ul>
            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-charsets"></a>10.10&nbsp;Supported Character Sets and Collations</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="charset.html#charset-unicode-sets">10.10.1 Unicode Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-we-sets">10.10.2 West European Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-ce-sets">10.10.3 Central European Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-se-me-sets">10.10.4 South European and Middle East Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-baltic-sets">10.10.5 Baltic Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-cyrillic-sets">10.10.6 Cyrillic Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-asian-sets">10.10.7 Asian Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#charset-binary-set">10.10.8 The Binary Character Set</a></span></dt></dl>
        </div>
        <p>
            This section indicates which character sets MySQL supports. There
            is one subsection for each group of related character sets. For
            each character set, the permissible collations are listed.
        </p><p style="color:blue;">本节说明mysql支持哪些字符集。每一组相关字符集都有一个小节。对于每个字符集，列出了允许的排序规则。</p><p></p><p>
        To list the available character sets and their default collations,
        use the <a class="link" href="sql-syntax.html#show-character-set" title="13.7.5.3&nbsp;SHOW CHARACTER SET Syntax"><code class="literal">SHOW CHARACTER SET</code></a>
        statement or query the <code class="literal">INFORMATION_SCHEMA</code>
        <a class="link" href="information-schema.html#character-sets-table" title="24.2&nbsp;The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a> table. For example:
    </p><p style="color:blue;">要列出可用的字符集及其默认排序规则，请使用show character set语句或查询information_schema character_sets表。例如：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW CHARACTER SET;</code></strong>
+----------+---------------------------------+---------------------+--------+
| Charset  | Description                     | Default collation   | Maxlen |
+----------+---------------------------------+---------------------+--------+
| big5     | Big5 Traditional Chinese        | big5_chinese_ci     |      2 |
| dec8     | DEC West European               | dec8_swedish_ci     |      1 |
| cp850    | DOS West European               | cp850_general_ci    |      1 |
| hp8      | HP West European                | hp8_english_ci      |      1 |
| koi8r    | KOI8-R Relcom Russian           | koi8r_general_ci    |      1 |
| latin1   | cp1252 West European            | latin1_swedish_ci   |      1 |
| latin2   | ISO 8859-2 Central European     | latin2_general_ci   |      1 |
| swe7     | 7bit Swedish                    | swe7_swedish_ci     |      1 |
| ascii    | US ASCII                        | ascii_general_ci    |      1 |
| ujis     | EUC-JP Japanese                 | ujis_japanese_ci    |      3 |
| sjis     | Shift-JIS Japanese              | sjis_japanese_ci    |      2 |
| hebrew   | ISO 8859-8 Hebrew               | hebrew_general_ci   |      1 |
| tis620   | TIS620 Thai                     | tis620_thai_ci      |      1 |
| euckr    | EUC-KR Korean                   | euckr_korean_ci     |      2 |
| koi8u    | KOI8-U Ukrainian                | koi8u_general_ci    |      1 |
| gb2312   | GB2312 Simplified Chinese       | gb2312_chinese_ci   |      2 |
| greek    | ISO 8859-7 Greek                | greek_general_ci    |      1 |
| cp1250   | Windows Central European        | cp1250_general_ci   |      1 |
| gbk      | GBK Simplified Chinese          | gbk_chinese_ci      |      2 |
| latin5   | ISO 8859-9 Turkish              | latin5_turkish_ci   |      1 |
| armscii8 | ARMSCII-8 Armenian              | armscii8_general_ci |      1 |
| utf8     | UTF-8 Unicode                   | utf8_general_ci     |      3 |
| ucs2     | UCS-2 Unicode                   | ucs2_general_ci     |      2 |
| cp866    | DOS Russian                     | cp866_general_ci    |      1 |
| keybcs2  | DOS Kamenicky Czech-Slovak      | keybcs2_general_ci  |      1 |
| macce    | Mac Central European            | macce_general_ci    |      1 |
| macroman | Mac West European               | macroman_general_ci |      1 |
| cp852    | DOS Central European            | cp852_general_ci    |      1 |
| latin7   | ISO 8859-13 Baltic              | latin7_general_ci   |      1 |
| utf8mb4  | UTF-8 Unicode                   | utf8mb4_general_ci  |      4 |
| cp1251   | Windows Cyrillic                | cp1251_general_ci   |      1 |
| utf16    | UTF-16 Unicode                  | utf16_general_ci    |      4 |
| utf16le  | UTF-16LE Unicode                | utf16le_general_ci  |      4 |
| cp1256   | Windows Arabic                  | cp1256_general_ci   |      1 |
| cp1257   | Windows Baltic                  | cp1257_general_ci   |      1 |
| utf32    | UTF-32 Unicode                  | utf32_general_ci    |      4 |
| binary   | Binary pseudo charset           | binary              |      1 |
| geostd8  | GEOSTD8 Georgian                | geostd8_general_ci  |      1 |
| cp932    | SJIS for Windows Japanese       | cp932_japanese_ci   |      2 |
| eucjpms  | UJIS for Windows Japanese       | eucjpms_japanese_ci |      3 |
| gb18030  | China National Standard GB18030 | gb18030_chinese_ci  |      4 |
+----------+---------------------------------+---------------------+--------+
</pre><p>
        In cases where a character set has multiple collations, it might
        not be clear which collation is most suitable for a given
        application. To avoid choosing the wrong collation, it can be
        helpful to perform some comparisons with representative data
        values to make sure that a given collation sorts values the way
        you expect.
    </p><p style="color:blue;">在字符集有多个排序规则的情况下，可能不清楚哪个排序规则最适合给定的应用程序。为了避免选择错误的排序规则，执行一些与代表性数据值的比较会很有帮助，以确保给定的排序规则按您期望的方式对值进行排序。</p><p></p>
        <div class="section">

            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-unicode-sets"></a>10.10.1&nbsp;Unicode Character Sets</h3>
                    </div>
                </div>
            </div>
            <a class="indexterm" name="idm140286863659072"></a><a class="indexterm" name="idm140286863657584"></a><p>
            This section describes the collations available for Unicode
            character sets and their differentiating properties. For general
            information about Unicode, see
            <a class="xref" href="charset.html#charset-unicode" title="10.9&nbsp;Unicode Support">Section&nbsp;10.9, “Unicode Support”</a>.
        </p><p style="color:blue;">本节介绍Unicode字符集可用的排序规则及其区分属性。有关Unicode的一般信息，请参见第10.9节“Unicode支持”。</p><p></p><p>
            MySQL supports multiple Unicode character sets:
        </p><p style="color:blue;">MySQL支持多个Unicode字符集：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">utf8mb4</code>: A UTF-8 encoding of the Unicode
                    character set using one to four bytes per character.
                </p><p style="color:blue;">utf8mb4:unicode字符集的utf-8编码，每个字符使用一到四个字节。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">utf8mb3</code>: A UTF-8 encoding of the Unicode
                    character set using one to three bytes per character.
                </p><p style="color:blue;">utf8mb3:unicode字符集的utf-8编码，每个字符使用一到三个字节。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">utf8</code>: An alias for
                    <code class="literal">utf8mb3</code>.
                </p><p style="color:blue;">utf8：utf8mb3的别名。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">ucs2</code>: The UCS-2 encoding of the Unicode
                    character set using two bytes per character.
                </p><p style="color:blue;">ucs2:unicode字符集的ucs-2编码，每个字符使用两个字节。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">utf16</code>: The UTF-16 encoding for the
                    Unicode character set using two or four bytes per character.
                    Like <code class="literal">ucs2</code> but with an extension for
                    supplementary characters.
                </p><p style="color:blue;">utf16:unicode字符集的utf-16编码，每个字符使用两个或四个字节。类似于ucs2，但带有补充字符的扩展名。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">utf16le</code>: The UTF-16LE encoding for the
                    Unicode character set. Like <code class="literal">utf16</code> but
                    little-endian rather than big-endian.
                </p><p style="color:blue;">utf16le:unicode字符集的utf-16le编码。像UTF16，但小端而不是大端。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">utf32</code>: The UTF-32 encoding for the
                    Unicode character set using four bytes per character.
                </p><p style="color:blue;">utf32:unicode字符集的utf-32编码，每个字符使用四个字节。</p><p></p></li></ul>
            </div>
            <p>
                <code class="literal">utf8mb4</code>, <code class="literal">utf16</code>,
                <code class="literal">utf16le</code>, and <code class="literal">utf32</code> support
                Basic Multilingual Plane (BMP) characters and supplementary
                characters that lie outside the BMP. <code class="literal">utf8</code> and
                <code class="literal">ucs2</code> support only BMP characters.
            </p><p style="color:blue;">utf8mb4、utf16、utf16le和utf32支持基本的多语言平面（bmp）字符和位于bmp之外的补充字符。utf8和ucs2只支持bmp字符。</p><p></p><p>
            Most Unicode character sets have a general collation (indicated
            by <code class="literal">_general</code> in the name or by the absence of
            a language specifier), a binary collation (indicated by
            <code class="literal">_bin</code> in the name), and several
            language-specific collations (indicated by language specifiers).
            For example, for <code class="literal">utf8mb4</code>,
            <code class="literal">utf8mb4_general_ci</code> and
            <code class="literal">utf8mb4_bin</code> are its general and binary
            collations, and <code class="literal">utf8mb4_danish_ci</code> is one of
            its language-specific collations.
        </p><p style="color:blue;">大多数Unicode字符集都有一个常规排序规则（在名称中用“常规”表示，或者没有语言说明符）、一个二进制排序规则（在名称中用“二进制”表示）和几个特定于语言的排序规则（用语言说明符表示）。例如，对于utf8mb4，utf8mb4_general_ci和utf8mb4_bin是其通用和二进制排序规则，utf8mb4_danish_ci是其特定于语言的排序规则之一。</p><p></p><p>
            Collation support for <code class="literal">utf16le</code> is limited. The
            only collations available are
            <code class="literal">utf16le_general_ci</code> and
            <code class="literal">utf16le_bin</code>. These are similar to
            <code class="literal">utf16_general_ci</code> and
            <code class="literal">utf16_bin</code>.
        </p><p style="color:blue;">对utf16le的排序支持是有限的。唯一可用的排序规则是utf16le_general_ci和utf16le_bin。它们类似于utf16_general_ci和utf16_bin。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="charset.html#charset-unicode-sets-uca" title="Unicode Collation Algorithm (UCA) Versions">Unicode Collation Algorithm (UCA) Versions</a></p><p style="color:blue;">Unicode排序算法（UCA）版本</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-unicode-sets-language-specific-collations" title="Language-Specific Collations">Language-Specific Collations</a></p><p style="color:blue;">特定语言排序规则</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-unicode-sets-general-versus-unicode" title="_general_ci Versus _unicode_ci Collations">_general_ci Versus _unicode_ci Collations</a></p><p style="color:blue;">_常规CI与Unicode CI排序规则</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-unicode-sets-collating-weights" title="Character Collating Weights">Character Collating Weights</a></p><p style="color:blue;">字符排序权重</p><p></p></li><li class="listitem"><p><a class="xref" href="charset.html#charset-unicode-sets-miscellaneous" title="Miscellaneous Information">Miscellaneous Information</a></p><p style="color:blue;">杂项信息</p><p></p></li></ul>
            </div>

            <div class="simplesect">

                <div class="titlepage">
                    <div>

                        <div class="simple">
                            <h4 class="title"><a name="charset-unicode-sets-uca"></a>Unicode Collation Algorithm (UCA) Versions</h4>

                        </div>

                    </div>

                </div>
                <a class="indexterm" name="idm140286863619024"></a><p>
                MySQL implements the
                <code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code>
                collations according to the Unicode Collation Algorithm (UCA)
                described at
                <a class="ulink" href="http://www.unicode.org/reports/tr10/" target="_top">http://www.unicode.org/reports/tr10/</a>. The
                collation uses the version-4.0.0 UCA weight keys:
                <a class="ulink" href="http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top">http://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt</a>.
                The
                <code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code>
                collations have only partial support for the Unicode Collation
                Algorithm. Some characters are not supported, and combining
                marks are not fully supported. This affects primarily
                Vietnamese, Yoruba, and some smaller languages such as Navajo.
                A combined character is considered different from the same
                character written with a single unicode character in string
                comparisons, and the two characters are considered to have a
                different length (for example, as returned by the
                <a class="link" href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a> function or in
                result set metadata).
            </p><p style="color:blue;">mysql根据http://www.unicode.org/reports/tr10/中描述的unicode排序算法（uca）实现xxx-unicode-ci排序。排序规则使用4.0.0版uca权重键：http://www.unicode.org/public/uca/4.0.0/allkeys-4.0.0.txt。xxx_unicode_ci排序规则仅部分支持unicode排序算法。不支持某些字符，并且不完全支持组合标记。这主要影响越南语、约鲁巴语和一些较小的语言，如纳瓦霍语。在字符串比较中，组合字符被视为不同于使用单个Unicode字符编写的同一字符，并且这两个字符被视为具有不同的长度（例如，char_length_（）函数或结果集元数据中返回的长度）。</p><p></p><p>
                Unicode collations based on UCA versions higher than 4.0.0
                include the version in the collation name. Thus,
                <code class="literal">utf8_unicode_520_ci</code> is based on UCA 5.2.0
                weight keys
                (<a class="ulink" href="http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt" target="_top">http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt</a>).
            </p><p style="color:blue;">基于高于4.0.0的UCA版本的Unicode排序规则在排序规则名称中包含该版本。因此，utf8_unicode_520_ci基于uca 5.2.0权重键（http://www.unicode.org/public/uca/5.2.0/allkeys.txt）。</p><p></p><p>
                The <a class="link" href="functions.html#function_lower"><code class="literal">LOWER()</code></a> and
                <a class="link" href="functions.html#function_upper"><code class="literal">UPPER()</code></a> functions perform case
                folding according to the collation of their argument. A
                character that has uppercase and lowercase versions only in a
                Unicode version higher than 4.0.0 is converted by these
                functions only if the argument collation uses a high enough
                UCA version.
            </p><p style="color:blue;">lower（）和upper（）函数根据其参数的排序规则执行大小写折叠。只有当参数排序规则使用足够高的UCA版本时，这些函数才会转换只有Unicode版本高于4.0.0的大写和小写版本的字符。</p><p></p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-unicode-sets-language-specific-collations"></a>Language-Specific Collations</h4>

                        </div>

                    </div>

                </div>
                <p>
                    MySQL implements language-specific Unicode collations if the
                    ordering based only on the Unicode Collation Algorithm (UCA)
                    does not work well for a language. Language-specific
                    collations are UCA-based, with additional language tailoring
                    rules. Examples of such rules appear later in this section.
                    For questions about particular language orderings,
                    <a class="ulink" href="unicode.org" target="_top">unicode.org</a> provides Common Locale Data
                    Repository (CLDR) collation charts at
                    <a class="ulink" href="http://www.unicode.org/cldr/charts/30/collation/index.html" target="_top">http://www.unicode.org/cldr/charts/30/collation/index.html</a>.
                </p><p style="color:blue;">如果仅基于unicode排序规则算法（uca）的排序对语言不起作用，mysql将实现特定于语言的unicode排序规则。特定于语言的排序规则是基于uca的，带有额外的语言裁剪规则。这类规则的示例将在本节后面部分介绍。对于有关特定语言顺序的问题，unicode.org在http://www.unicode.org/cldr/charts/30/collation/index.html上提供了通用语言环境数据存储库（CLDR）排序表。</p><p></p><p>
                A language name shown in the following table indicates a
                language-specific collation. Unicode character sets may
                include collations for one or more of these languages.
            </p><p style="color:blue;">下表中显示的语言名称表示特定于语言的排序规则。Unicode字符集可以包含这些语言中一种或多种语言的排序规则。</p><p></p>
                <div class="table">
                    <a name="charset-unicode-collation-language-specifiers"></a><p class="title"><b>Table&nbsp;10.3&nbsp;Unicode Collation Language Specifiers</b></p><p style="color:blue;">表10.3 Unicode排序语言说明符</p><p></p>
                    <div class="table-contents">
                        <table summary="Language specifiers for Unicode character set collations."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
                            <th scope="col">Language</th>
                            <th scope="col">Language Specifier</th>
                        </tr></thead><tbody><tr>
                            <td scope="row">Classical Latin</td>
                            <td><code class="literal">roman</code></td>
                        </tr><tr>
                            <td scope="row">Croatian</td>
                            <td><code class="literal">croatian</code></td>
                        </tr><tr>
                            <td scope="row">Czech</td>
                            <td><code class="literal">czech</code></td>
                        </tr><tr>
                            <td scope="row">Danish</td>
                            <td><code class="literal">danish</code></td>
                        </tr><tr>
                            <td scope="row">Esperanto</td>
                            <td><code class="literal">esperanto</code></td>
                        </tr><tr>
                            <td scope="row">Estonian</td>
                            <td><code class="literal">estonian</code></td>
                        </tr><tr>
                            <td scope="row">German phone book order</td>
                            <td><code class="literal">german2</code></td>
                        </tr><tr>
                            <td scope="row">Hungarian</td>
                            <td><code class="literal">hungarian</code></td>
                        </tr><tr>
                            <td scope="row">Icelandic</td>
                            <td><code class="literal">icelandic</code></td>
                        </tr><tr>
                            <td scope="row">Latvian</td>
                            <td><code class="literal">latvian</code></td>
                        </tr><tr>
                            <td scope="row">Lithuanian</td>
                            <td><code class="literal">lithuanian</code></td>
                        </tr><tr>
                            <td scope="row">Persian</td>
                            <td><code class="literal">persian</code></td>
                        </tr><tr>
                            <td scope="row">Polish</td>
                            <td><code class="literal">polish</code></td>
                        </tr><tr>
                            <td scope="row">Romanian</td>
                            <td><code class="literal">romanian</code></td>
                        </tr><tr>
                            <td scope="row">Sinhala</td>
                            <td><code class="literal">sinhala</code></td>
                        </tr><tr>
                            <td scope="row">Slovak</td>
                            <td><code class="literal">slovak</code></td>
                        </tr><tr>
                            <td scope="row">Slovenian</td>
                            <td><code class="literal">slovenian</code></td>
                        </tr><tr>
                            <td scope="row">Modern Spanish</td>
                            <td><code class="literal">spanish</code></td>
                        </tr><tr>
                            <td scope="row">Traditional Spanish</td>
                            <td><code class="literal">spanish2</code></td>
                        </tr><tr>
                            <td scope="row">Swedish</td>
                            <td><code class="literal">swedish</code></td>
                        </tr><tr>
                            <td scope="row">Turkish</td>
                            <td><code class="literal">turkish</code></td>
                        </tr><tr>
                            <td scope="row">Vietnamese</td>
                            <td><code class="literal">vietnamese</code></td>
                        </tr></tbody></table>
                    </div>

                </div>
                <br class="table-break"><p>
                Croatian collations are tailored for these Croatian letters:
                <code class="literal">Č</code>, <code class="literal">Ć</code>,
                <code class="literal">Dž</code>, <code class="literal">Đ</code>,
                <code class="literal">Lj</code>, <code class="literal">Nj</code>,
                <code class="literal">Š</code>, <code class="literal">Ž</code>.
            </p><p style="color:blue;">克罗地亚语的校勘是为这些克罗地亚字母量身定制的：_，_，_，_，LJ，NJ，_，_。</p><p></p><p>
                Danish collations may also be used for Norwegian.
            </p><p style="color:blue;">丹麦语校勘也可用于挪威语。</p><p></p><p>
                For Classical Latin collations, <code class="literal">I</code> and
                <code class="literal">J</code> compare as equal, and
                <code class="literal">U</code> and <code class="literal">V</code> compare as
                equal.
            </p><p style="color:blue;">对于古典拉丁语校勘，i和j比较相等，u和v比较相等。</p><p></p><p>
                Spanish collations are available for modern and traditional
                Spanish. For both, <code class="literal">ñ</code> (n-tilde) is a
                separate letter between <code class="literal">n</code> and
                <code class="literal">o</code>. In addition, for traditional Spanish,
                <code class="literal">ch</code> is a separate letter between
                <code class="literal">c</code> and <code class="literal">d</code>, and
                <code class="literal">ll</code> is a separate letter between
                <code class="literal">l</code> and <code class="literal">m</code>.
            </p><p style="color:blue;">西班牙文校勘可用于现代和传统西班牙文。对于这两种语言，n（n-tilde）是n和o之间的一个独立字母。此外，对于传统西班牙语，ch是c和d之间的一个独立字母，l l是l和m之间的一个独立字母。</p><p></p><p>
                Traditional Spanish collations may also be used for Asturian
                and Galician.
            </p><p style="color:blue;">传统的西班牙语校勘也可用于阿斯图里安语和加利西亚语。</p><p></p><p>
                Swedish collations include Swedish rules. For example, in
                Swedish, the following relationship holds, which is not
                something expected by a German or French speaker:
            </p><p style="color:blue;">瑞典语校勘包括瑞典语规则。例如，在瑞典语中，以下关系成立，这不是德语或法语使用者所期望的：</p><p></p><pre data-lang="none" class="programlisting">Ü = Y &lt; Ö
</pre>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-unicode-sets-general-versus-unicode"></a>_general_ci Versus _unicode_ci Collations</h4>

                        </div>

                    </div>

                </div>
                <p>
                    For any Unicode character set, operations performed using the
                    <code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code>
                    collation are faster than those for the
                    <code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code>
                    collation. For example, comparisons for the
                    <code class="literal">utf8_general_ci</code> collation are faster, but
                    slightly less correct, than comparisons for
                    <code class="literal">utf8_unicode_ci</code>. The reason is that
                    <code class="literal">utf8_unicode_ci</code> supports mappings such as
                    expansions; that is, when one character compares as equal to
                    combinations of other characters. For example,
                    <code class="literal">ß</code> is equal to <code class="literal">ss</code> in
                    German and some other languages.
                    <code class="literal">utf8_unicode_ci</code> also supports contractions
                    and ignorable characters. <code class="literal">utf8_general_ci</code>
                    is a legacy collation that does not support expansions,
                    contractions, or ignorable characters. It can make only
                    one-to-one comparisons between characters.
                </p><p style="color:blue;">对于任何unicode字符集，使用xxx_-general_-ci排序规则执行的操作都比使用xxx_-unicode_-ci排序规则执行的操作快。例如，与utf8_unicode_ci的比较相比，utf8_general_ci排序规则的比较速度更快，但准确性稍差。原因是utf8_unicode_ci支持诸如扩展之类的映射；也就是说，当一个字符与其他字符的组合相等时。例如，_在德语和其他一些语言中等于ss。utf8_unicode_ci还支持压缩和可忽略字符。utf8_general_ci是不支持扩展、压缩或可忽略字符的传统排序规则。它只能在字符之间进行一对一的比较。</p><p></p><p>
                To further illustrate, the following equalities hold in both
                <code class="literal">utf8_general_ci</code> and
                <code class="literal">utf8_unicode_ci</code> (for the effect of this in
                comparisons or searches, see
                <a class="xref" href="charset.html#charset-collation-effect" title="10.8.6&nbsp;Examples of the Effect of Collation">Section&nbsp;10.8.6, “Examples of the Effect of Collation”</a>):
            </p><p style="color:blue;">为了进一步说明，以下等式在utf8_general_ci和utf8_unicode_ci中都适用（有关这在比较或搜索中的效果，请参见第10.8.6节“排序效果示例”）：</p><p></p><pre data-lang="none" class="programlisting">Ä = A
Ö = O
Ü = U
</pre><p>
                A difference between the collations is that this is true for
                <code class="literal">utf8_general_ci</code>:
            </p><p style="color:blue;">排序规则之间的一个区别是，对于utf8_general_ci，这是正确的：</p><p></p><pre data-lang="none" class="programlisting">ß = s
</pre><p>
                Whereas this is true for <code class="literal">utf8_unicode_ci</code>,
                which supports the German DIN-1 ordering (also known as
                dictionary order):
            </p><p style="color:blue;">然而，对于支持德语din-1排序（也称为字典顺序）的utf8_unicode_ci，这是正确的：</p><p></p><pre data-lang="none" class="programlisting">ß = ss
</pre><p>
                MySQL implements <code class="literal">utf8</code> language-specific
                collations if the ordering with
                <code class="literal">utf8_unicode_ci</code> does not work well for a
                language. For example, <code class="literal">utf8_unicode_ci</code>
                works fine for German dictionary order and French, so there is
                no need to create special <code class="literal">utf8</code> collations.
            </p><p style="color:blue;">如果使用utf8_unicode_ci进行排序对一种语言不起作用，mysql将实现特定于utf8语言的排序规则。例如，utf8_unicode_ci对于德语字典顺序和法语很好，因此不需要创建特殊的utf8排序规则。</p><p></p><p>
                <code class="literal">utf8_general_ci</code> also is satisfactory for
                both German and French, except that <code class="literal">ß</code> is
                equal to <code class="literal">s</code>, and not to
                <code class="literal">ss</code>. If this is acceptable for your
                application, you should use <code class="literal">utf8_general_ci</code>
                because it is faster. If this is not acceptable (for example,
                if you require German dictionary order), use
                <code class="literal">utf8_unicode_ci</code> because it is more
                accurate.
            </p><p style="color:blue;">utf8_general_ci也适用于德语和法语，但_等于s，而不是ss。如果这对于您的应用程序是可以接受的，那么您应该使用utf8_general_ci，因为它更快。如果这是不可接受的（例如，如果您需要德语字典顺序），请使用utf8_unicode_ci，因为它更准确。</p><p></p><p>
                If you require German DIN-2 (phone book) ordering, use the
                <code class="literal">utf8_german2_ci</code> collation, which compares
                the following sets of characters equal:
            </p><p style="color:blue;">如果您需要德文din-2（电话簿）排序，请使用utf8德语2 ci排序规则，该排序规则将下列字符集进行比较：</p><p></p><pre data-lang="none" class="programlisting">Ä = Æ = AE
Ö = Œ = OE
Ü = UE
ß = ss
</pre><p>
                <code class="literal">utf8_german2_ci</code> is similar to
                <code class="literal">latin1_german2_ci</code>, but the latter does not
                compare <code class="literal">Æ</code> equal to <code class="literal">AE</code>
                or <code class="literal">Œ</code> equal to <code class="literal">OE</code>. There
                is no <code class="literal">utf8_german_ci</code> corresponding to
                <code class="literal">latin1_german_ci</code> for German dictionary
                order because <code class="literal">utf8_general_ci</code> suffices.
            </p><p style="color:blue;">utf8_german2_ci类似于拉丁文1_german2_ci，但后者不比较_等于ae或_等于oe。对于德语词典顺序，没有对应于拉丁德语的utf8德语ci，因为utf8通用ci就足够了。</p><p></p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-unicode-sets-collating-weights"></a>Character Collating Weights</h4>

                        </div>

                    </div>

                </div>
                <p>
                    A character's collating weight is determined as follows:
                </p><p style="color:blue;">字符的排序权重确定如下：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        For all Unicode collations except the
                        <code class="literal">_bin</code> (binary) collations, MySQL
                        performs a table lookup to find a character's collating
                        weight.
                    </p><p style="color:blue;">对于除二进制排序规则以外的所有Unicode排序规则，MySQL执行表查找以查找字符的排序权重。</p><p></p></li><li class="listitem"><p>
                        For <code class="literal">_bin</code> collations, the weight is
                        based on the code point, possibly with leading zero bytes
                        added.
                    </p><p style="color:blue;">对于二进制排序规则，权重基于代码点，可能添加了前导零字节。</p><p></p></li></ul>
                </div>
                <p>
                    Collating weights can be displayed using the
                    <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> function. (See
                    <a class="xref" href="functions.html#string-functions" title="12.5&nbsp;String Functions and Operators">Section&nbsp;12.5, “String Functions and Operators”</a>.) If a collation uses a
                    weight lookup table, but a character is not in the table (for
                    example, because it is a <span class="quote">“<span class="quote">new</span>”</span> character),
                    collating weight determination becomes more complex:
                </p><p style="color:blue;">可以使用weight_string（）函数显示排序权重。（请参阅第12.5节“字符串函数和运算符”。）如果排序规则使用权重查找表，但表中没有字符（例如，因为它是“新”字符），则排序权重确定变得更复杂：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        For BMP characters in general collations
                        (<code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code>),
                        the weight is the code point.
                    </p><p style="color:blue;">对于常规排序规则（xxx_general_ci）中的bmp字符，权重是代码点。</p><p></p></li><li class="listitem"><p>
                        For BMP characters in UCA collations (for example,
                        <code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code>
                        and language-specific collations), the following algorithm
                        applies:
                    </p><p style="color:blue;">对于UCA排序规则中的BMP字符（例如，xxx_Unicode_CI和语言特定的排序规则），应用以下算法：</p><p></p><pre data-lang="clike" class="programlisting">if (code &gt;= 0x3400 &amp;&amp; code &lt;= 0x4DB5)
  base= 0xFB80; /* CJK Ideograph Extension */
else if (code &gt;= 0x4E00 &amp;&amp; code &lt;= 0x9FA5)
  base= 0xFB40; /* CJK Ideograph */
else
  base= 0xFBC0; /* All other characters */
aaaa= base +  (code &gt;&gt; 15);
bbbb= (code &amp; 0x7FFF) | 0x8000;
</pre><p>
                        The result is a sequence of two collating elements,
                        <code class="literal">aaaa</code> followed by
                        <code class="literal">bbbb</code>. For example:
                    </p><p style="color:blue;">结果是两个排序元素的序列，aaaa后跟bbbb。例如：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(_ucs2 0x04CF COLLATE ucs2_unicode_ci));</code></strong>
+----------------------------------------------------------+
| HEX(WEIGHT_STRING(_ucs2 0x04CF COLLATE ucs2_unicode_ci)) |
+----------------------------------------------------------+
| FBC084CF                                                 |
+----------------------------------------------------------+
</pre><p>
                        Thus, <code class="literal">U+04cf CYRILLIC SMALL LETTER
                        PALOCHKA</code> is, with all UCA 4.0.0 collations,
                        greater than <code class="literal">U+04c0 CYRILLIC LETTER
                        PALOCHKA</code>. With UCA 5.2.0 collations, all
                        palochkas sort together.
                    </p><p style="color:blue;">因此，u+04cf西里尔文小写字母Palochka在所有uca 4.0.0排序中都大于u+04c0西里尔文字母Palochka。有了UCA5.2.0校勘，所有的帕洛卡人都会分类在一起。</p><p></p></li><li class="listitem"><p>
                        For supplementary characters in general collations, the
                        weight is the weight for <code class="literal">0xfffd REPLACEMENT
                        CHARACTER</code>. For supplementary characters in UCA
                        4.0.0 collations, their collating weight is
                        <code class="literal">0xfffd</code>. That is, to MySQL, all
                        supplementary characters are equal to each other, and
                        greater than almost all BMP characters.
                    </p><p style="color:blue;">对于一般排序规则中的补充字符，权重是0xfffd替换字符的权重。对于UCA 4.0.0排序规则中的补充字符，其排序权重为0xfffd。也就是说，对mysql来说，所有的补充字符都是相等的，并且比几乎所有的bmp字符都大。</p><p></p><p>
                        An example with Deseret characters and
                        <code class="literal">COUNT(DISTINCT)</code>:
                    </p><p style="color:blue;">具有deseet字符和count（distinct）的示例：</p><p></p><pre data-lang="sql" class="programlisting">CREATE TABLE t (s1 VARCHAR(5) CHARACTER SET utf32 COLLATE utf32_unicode_ci);
INSERT INTO t VALUES (0xfffd);   /* REPLACEMENT CHARACTER */
INSERT INTO t VALUES (0x010412); /* DESERET CAPITAL LETTER BEE */
INSERT INTO t VALUES (0x010413); /* DESERET CAPITAL LETTER TEE */
SELECT COUNT(DISTINCT s1) FROM t;
</pre><p>
                        The result is 2 because in the MySQL
                        <code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_ci</code>
                        collations, the replacement character has a weight of
                        <code class="literal">0x0dc6</code>, whereas Deseret Bee and Deseret
                        Tee both have a weight of <code class="literal">0xfffd</code>. (Were
                        the <code class="literal">utf32_general_ci</code> collation used
                        instead, the result is 1 because all three characters have
                        a weight of <code class="literal">0xfffd</code> in that collation.)
                    </p><p style="color:blue;">结果是2，因为在mysql xxx_unicode_ci排序规则中，替换字符的权重为0x0dc6，而deseet bee和deseet tee的权重均为0xfffd。（如果使用的是utf32_general_ci排序规则，则结果为1，因为这三个字符在该排序规则中的权重均为0xfffd。）</p><p></p><p>
                        An example with cuneiform characters and
                        <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a>:
                    </p><p style="color:blue;">带有楔形字符和weight_string（）的示例：</p><p></p><pre data-lang="sql" class="programlisting">/*
The four characters in the INSERT string are
00000041  # LATIN CAPITAL LETTER A
0001218F  # CUNEIFORM SIGN KAB
000121A7  # CUNEIFORM SIGN KISH
00000042  # LATIN CAPITAL LETTER B
*/
CREATE TABLE t (s1 CHAR(4) CHARACTER SET utf32 COLLATE utf32_unicode_ci);
INSERT INTO t VALUES (0x000000410001218f000121a700000042);
SELECT HEX(WEIGHT_STRING(s1)) FROM t;
</pre><p>
                        The result is:
                    </p><p style="color:blue;">结果是：</p><p></p><pre data-lang="none" class="programlisting">0E33 FFFD FFFD 0E4A
</pre><p>
                        <code class="literal">0E33</code> and <code class="literal">0E4A</code> are
                        primary weights as in
                        <a class="ulink" href="ftp://www.unicode.org/Public/UCA/4.0.0/allkeys-4.0.0.txt" target="_top">UCA
                            4.0.0</a>. <code class="literal">FFFD</code> is the weight for
                        KAB and also for KISH.
                    </p><p style="color:blue;">0e33和0e4a是主要权重，如uca 4.0.0所示。fffd是kab和kish的重量。</p><p></p><p>
                        The rule that all supplementary characters are equal to
                        each other is nonoptimal but is not expected to cause
                        trouble. These characters are very rare, so it is very
                        rare that a multi-character string consists entirely of
                        supplementary characters. In Japan, since the
                        supplementary characters are obscure Kanji ideographs, the
                        typical user does not care what order they are in, anyway.
                        If you really want rows sorted by the MySQL rule and
                        secondarily by code point value, it is easy:
                    </p><p style="color:blue;">所有补充字符彼此相等的规则是非最优的，但预计不会引起麻烦。这些字符非常罕见，因此多字符字符串完全由补充字符组成的情况非常罕见。在日本，由于补充字符是晦涩的汉字表意文字，典型的用户无论如何都不关心它们的顺序。如果您真的希望行按mysql规则排序，然后按代码点值排序，那么很容易：</p><p></p><pre data-lang="sql" class="programlisting">ORDER BY s1 COLLATE utf32_unicode_ci, s1 COLLATE utf32_bin
</pre></li><li class="listitem"><p>
                        For supplementary characters based on UCA versions higher
                        than 4.0.0 (for example,
                        <code class="literal"><em class="replaceable"><code>xxx</code></em>_unicode_520_ci</code>),
                        supplementary characters do not necessarily all have the
                        same collating weight. Some have explicit weights from the
                        UCA <code class="filename">allkeys.txt</code> file. Others have
                        weights calculated from this algorithm:
                    </p><p style="color:blue;">对于基于高于4.0.0的uca版本的补充字符（例如，xxx_unicode_520_ci），补充字符不一定都具有相同的排序权重。有些具有来自uca allkeys.txt文件的显式权重。其他的则根据此算法计算权重：</p><p></p><pre data-lang="clike" class="programlisting">aaaa= base +  (code &gt;&gt; 15);
bbbb= (code &amp; 0x7FFF) | 0x8000;
</pre></li></ul>
                </div>
                <a class="indexterm" name="idm140286863436848"></a><p>
                There is a difference between <span class="quote">“<span class="quote">ordering by the
          character's code value</span>”</span> and <span class="quote">“<span class="quote">ordering by the
          character's binary representation,</span>”</span> a difference that
                appears only with <code class="literal">utf16_bin</code>, because of
                surrogates.
            </p><p style="color:blue;">“按字符代码值排序”和“按字符二进制表示排序”之间存在差异，这种差异仅在utf16_bin中出现，因为存在代理项。</p><p></p><p>
                Suppose that <code class="literal">utf16_bin</code> (the binary
                collation for <code class="literal">utf16</code>) was a binary
                comparison <span class="quote">“<span class="quote">byte by byte</span>”</span> rather than
                <span class="quote">“<span class="quote">character by character.</span>”</span> If that were so, the
                order of characters in <code class="literal">utf16_bin</code> would
                differ from the order in <code class="literal">utf8_bin</code>. For
                example, the following chart shows two rare characters. The
                first character is in the range
                <code class="literal">E000</code>-<code class="literal">FFFF</code>, so it is
                greater than a surrogate but less than a supplementary. The
                second character is a supplementary.
            </p><p style="color:blue;">假设utf16戋bin（utf16的二进制排序规则）是一个“逐字节”的二进制比较，而不是“逐字符”的二进制比较。如果是这样，那么utf16戋bin中的字符顺序将不同于utf8戋bin中的顺序。例如，下表显示了两个罕见的字符。第一个字符在e000-ffff范围内，因此它大于代理项，但小于补充项。第二个字符是补充字符。</p><p></p><pre data-lang="none" class="programlisting">Code point  Character                    utf8         utf16
----------  ---------                    ----         -----
0FF9D       HALFWIDTH KATAKANA LETTER N  EF BE 9D     FF 9D
10384       UGARITIC LETTER DELTA        F0 90 8E 84  D8 00 DF 84
</pre><p>
                The two characters in the chart are in order by code point
                value because <code class="literal">0xff9d</code> &lt;
                <code class="literal">0x10384</code>. And they are in order by
                <code class="literal">utf8</code> value because <code class="literal">0xef</code>
                &lt; <code class="literal">0xf0</code>. But they are not in order by
                <code class="literal">utf16</code> value, if we use byte-by-byte
                comparison, because <code class="literal">0xff</code> &gt;
                <code class="literal">0xd8</code>.
            </p><p style="color:blue;">图表中的两个字符是按代码点值排序的，因为0xff9d&lt;0x10384。它们按utf8值排列，因为0xef&lt;0xf0。但如果我们使用逐字节比较，它们不是按utf16值排序的，因为0xff&gt;0xd8。</p><p></p><p>
                So MySQL's <code class="literal">utf16_bin</code> collation is not
                <span class="quote">“<span class="quote">byte by byte.</span>”</span> It is <span class="quote">“<span class="quote">by code
          point.</span>”</span> When MySQL sees a supplementary-character
                encoding in <code class="literal">utf16</code>, it converts to the
                character's code-point value, and then compares. Therefore,
                <code class="literal">utf8_bin</code> and <code class="literal">utf16_bin</code>
                are the same ordering. This is consistent with the SQL:2008
                standard requirement for a UCS_BASIC collation:
                <span class="quote">“<span class="quote">UCS_BASIC is a collation in which the ordering is
          determined entirely by the Unicode scalar values of the
          characters in the strings being sorted. It is applicable to
          the UCS character repertoire. Since every character repertoire
          is a subset of the UCS repertoire, the UCS_BASIC collation is
          potentially applicable to every character set. NOTE 11: The
          Unicode scalar value of a character is its code point treated
          as an unsigned integer.</span>”</span>
            </p><p style="color:blue;">因此，mysql的utf16二进制排序规则不是“逐字节”，而是“按代码点”。当mysql看到utf16中的补充字符编码时，它会转换为字符的代码点值，然后进行比较。因此，utf8懔u bin和utf16懔u bin的顺序相同。这与ucs-basic排序规则的sql:2008标准要求一致：“ucs-basic是一种排序规则，其中排序完全由排序字符串中字符的unicode标量值决定。适用于ucs角色剧目。由于每个字符集都是ucs集的一个子集，ucs_basic排序规则可能适用于每个字符集。注11：字符的Unicode标量值是其代码点，被视为无符号整数。”</p><p></p><p>
                If the character set is <code class="literal">ucs2</code>, comparison is
                byte-by-byte, but <code class="literal">ucs2</code> strings should not
                contain surrogates, anyway.
            </p><p style="color:blue;">如果字符集是ucs2，则比较是逐字节的，但无论如何，ucs2字符串不应包含代理项。</p><p></p>
            </div>
            <div class="simplesect">
                <div class="titlepage">
                    <div>
                        <div class="simple">
                            <h4 class="title"><a name="charset-unicode-sets-miscellaneous"></a>Miscellaneous Information</h4>

                        </div>

                    </div>

                </div>
                <p>
                    The
                    <code class="literal"><em class="replaceable"><code>xxx</code></em>_general_mysql500_ci</code>
                    collations preserve the pre-5.1.24 ordering of the original
                    <code class="literal"><em class="replaceable"><code>xxx</code></em>_general_ci</code>
                    collations and permit upgrades for tables created before MySQL
                    5.1.24 (Bug #27877).
                </p><p style="color:blue;">xxx_u general戋u mysql500戋u ci排序保留原xxx戋u general戋u ci排序的5.1.24之前的顺序，并允许对mysql 5.1.24之前创建的表进行升级（错误27877）。</p><p></p>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-we-sets"></a>10.10.2&nbsp;West European Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863407408"></a><a class="indexterm" name="idm140286863405952"></a><p>
            Western European character sets cover most West European
            languages, such as French, Spanish, Catalan, Basque, Portuguese,
            Italian, Albanian, Dutch, German, Danish, Swedish, Norwegian,
            Finnish, Faroese, Icelandic, Irish, Scottish, and English.
        </p><p style="color:blue;">西欧字符集涵盖大多数西欧语言，如法语、西班牙语、加泰罗尼亚语、巴斯克语、葡萄牙语、意大利语、阿尔巴尼亚语、荷兰语、德语、丹麦语、瑞典语、挪威语、芬兰语、法罗语、冰岛语、爱尔兰语、苏格兰语和英语。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">ascii</code> (US ASCII) collations:
                </p><p style="color:blue;">ascii（美国ascii）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">ascii_bin</code>
                        </p><p style="color:blue;">ASCII码</p><p></p></li><li class="listitem"><p>
                            <code class="literal">ascii_general_ci</code> (default)
                        </p><p style="color:blue;">ascii_general_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">cp850</code> (DOS West European) collations:
                </p><p style="color:blue;">CP850（DOS西欧）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp850_bin</code>
                        </p><p style="color:blue;">CP850_箱</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp850_general_ci</code> (default)
                        </p><p style="color:blue;">CP850 U通用U CI（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">dec8</code> (DEC Western European) collations:
                </p><p style="color:blue;">12月8日（西欧12月）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">dec8_bin</code>
                        </p><p style="color:blue;">12月8日</p><p></p></li><li class="listitem"><p>
                            <code class="literal">dec8_swedish_ci</code> (default)
                        </p><p style="color:blue;">12月8日瑞典信贷（违约）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">hp8</code> (HP Western European) collations:
                </p><p style="color:blue;">HP8（HP西欧）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">hp8_bin</code>
                        </p><p style="color:blue;">HP8仓库</p><p></p></li><li class="listitem"><p>
                            <code class="literal">hp8_english_ci</code> (default)
                        </p><p style="color:blue;">HP8_英语_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">latin1</code> (cp1252 West European) collations:
                </p><p style="color:blue;">拉丁语（CP1252西欧）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">latin1_bin</code>
                        </p><p style="color:blue;">拉美裔</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin1_danish_ci</code>
                        </p><p style="color:blue;">拉丁语丹麦语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin1_general_ci</code>
                        </p><p style="color:blue;">拉美裔将军</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin1_general_cs</code>
                        </p><p style="color:blue;">拉丁通用语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin1_german1_ci</code>
                        </p><p style="color:blue;">拉丁德语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin1_german2_ci</code>
                        </p><p style="color:blue;">拉丁德语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin1_spanish_ci</code>
                        </p><p style="color:blue;">拉丁语西班牙语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin1_swedish_ci</code> (default)
                        </p><p style="color:blue;">拉丁语瑞典语（默认）</p><p></p></li></ul>
                    </div>
                    <p>
                        <code class="literal">latin1</code> is the default character set.
                        MySQL's <code class="literal">latin1</code> is the same as the Windows
                        <code class="literal">cp1252</code> character set. This means it is
                        the same as the official <code class="literal">ISO 8859-1</code> or
                        IANA (Internet Assigned Numbers Authority)
                        <code class="literal">latin1</code>, except that IANA
                        <code class="literal">latin1</code> treats the code points between
                        <code class="literal">0x80</code> and <code class="literal">0x9f</code> as
                        <span class="quote">“<span class="quote">undefined,</span>”</span> whereas <code class="literal">cp1252</code>,
                        and therefore MySQL's <code class="literal">latin1</code>, assign
                        characters for those positions. For example,
                        <code class="literal">0x80</code> is the Euro sign. For the
                        <span class="quote">“<span class="quote">undefined</span>”</span> entries in
                        <code class="literal">cp1252</code>, MySQL translates
                        <code class="literal">0x81</code> to Unicode
                        <code class="literal">0x0081</code>, <code class="literal">0x8d</code> to
                        <code class="literal">0x008d</code>, <code class="literal">0x8f</code> to
                        <code class="literal">0x008f</code>, <code class="literal">0x90</code> to
                        <code class="literal">0x0090</code>, and <code class="literal">0x9d</code> to
                        <code class="literal">0x009d</code>.
                    </p><p style="color:blue;">Latin1是默认字符集。mysql的latin1与windows的cp1252字符集相同。这意味着它与官方的ISO8859-1或IANA（互联网分配号码管理局）Latin1相同，只是IANA Latin1将0x80和0x9F之间的代码点视为“未定义”，而CP1252（因此也是MySQL的Latin1）为这些位置分配字符。例如，0x80是欧元符号。对于cp1252中的“未定义”项，mysql将0x81转换为unicode 0x0081，0x8d转换为0x008d，0x8f转换为0x008f，0x90转换为0x0090，以及0x9d转换为0x009d。</p><p></p><p>
                        The <code class="literal">latin1_swedish_ci</code> collation is the
                        default that probably is used by the majority of MySQL
                        customers. Although it is frequently said that it is based
                        on the Swedish/Finnish collation rules, there are Swedes and
                        Finns who disagree with this statement.
                    </p><p style="color:blue;">Latin1_-Swedish_-CI排序规则是大多数MySQL客户可能使用的默认排序规则。尽管经常有人说这是基于瑞典/芬兰的校勘规则，但也有瑞典人和芬兰人不同意这一说法。</p><p></p><a class="indexterm" name="idm140286863351856"></a><a class="indexterm" name="idm140286863350768"></a><a class="indexterm" name="idm140286863349680"></a><a class="indexterm" name="idm140286863348592"></a><p>
                        The <code class="literal">latin1_german1_ci</code> and
                        <code class="literal">latin1_german2_ci</code> collations are based on
                        the DIN-1 and DIN-2 standards, where DIN stands for
                        <span class="emphasis"><em><span lang="de" class="phrase">Deutsches Institut für
            Normung</span></em></span> (the German equivalent of ANSI).
                        DIN-1 is called the <span class="quote">“<span class="quote">dictionary collation</span>”</span> and
                        DIN-2 is called the <span class="quote">“<span class="quote">phone book collation.</span>”</span> For
                        an example of the effect this has in comparisons or when
                        doing searches, see
                        <a class="xref" href="charset.html#charset-collation-effect" title="10.8.6&nbsp;Examples of the Effect of Collation">Section&nbsp;10.8.6, “Examples of the Effect of Collation”</a>.
                    </p><p style="color:blue;">Latin1_German1_-ci和Latin1_German2_-ci排序依据的是din-1和din-2标准，其中din代表德国标准协会（相当于ANSI）。din-1被称为“词典校勘”，din-2被称为“电话簿校勘”。关于这种方法在比较或搜索时的效果示例，请参阅第10.8.6节“校勘效果示例”。</p><p></p><a class="indexterm" name="idm140286863342880"></a><a class="indexterm" name="idm140286863341840"></a><a class="indexterm" name="idm140286863340752"></a><a class="indexterm" name="idm140286863339664"></a>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">latin1_german1_ci</code> (dictionary) rules:
                        </p><p style="color:blue;">拉丁德语词典规则：</p><p></p><pre data-lang="none" class="programlisting">Ä = A
Ö = O
Ü = U
ß = s
</pre></li><li class="listitem"><p>
                            <code class="literal">latin1_german2_ci</code> (phone-book) rules:
                        </p><p style="color:blue;">拉丁德语（电话簿）规则：</p><p></p><pre data-lang="none" class="programlisting">Ä = AE
Ö = OE
Ü = UE
ß = ss
</pre></li></ul>
                    </div>
                    <p>
                        In the <code class="literal">latin1_spanish_ci</code> collation,
                        <code class="literal">ñ</code> (n-tilde) is a separate letter between
                        <code class="literal">n</code> and <code class="literal">o</code>.
                    </p><p style="color:blue;">在拉丁文西班牙词校勘中，n（n-tilde）是n和o之间的独立字母。</p><p></p></li><li class="listitem"><p>
                    <code class="literal">macroman</code> (Mac West European) collations:
                </p><p style="color:blue;">Macroman（Mac西欧）排序：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">macroman_bin</code>
                        </p><p style="color:blue;">马克西曼·库宾</p><p></p></li><li class="listitem"><p>
                            <code class="literal">macroman_general_ci</code> (default)
                        </p><p style="color:blue;">Macroman_General_Ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">swe7</code> (7bit Swedish) collations:
                </p><p style="color:blue;">SWE7（7bit瑞典语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">swe7_bin</code>
                        </p><p style="color:blue;">瑞典文</p><p></p></li><li class="listitem"><p>
                            <code class="literal">swe7_swedish_ci</code> (default)
                        </p><p style="color:blue;">瑞典语（默认）</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-ce-sets"></a>10.10.3&nbsp;Central European Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863318592"></a><a class="indexterm" name="idm140286863317136"></a><p>
            MySQL provides some support for character sets used in the Czech
            Republic, Slovakia, Hungary, Romania, Slovenia, Croatia, Poland,
            and Serbia (Latin).
        </p><p style="color:blue;">mysql为捷克共和国、斯洛伐克、匈牙利、罗马尼亚、斯洛文尼亚、克罗地亚、波兰和塞尔维亚（拉丁语）使用的字符集提供了一些支持。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">cp1250</code> (Windows Central European)
                    collations:
                </p><p style="color:blue;">CP1250（Windows中欧）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp1250_bin</code>
                        </p><p style="color:blue;">CP1250_箱</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1250_croatian_ci</code>
                        </p><p style="color:blue;">CP1250克罗地亚语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1250_czech_cs</code>
                        </p><p style="color:blue;">捷克语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1250_general_ci</code> (default)
                        </p><p style="color:blue;">CP1250 U通用U CI（默认）</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1250_polish_ci</code>
                        </p><p style="color:blue;">CP1250_波兰语</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">cp852</code> (DOS Central European) collations:
                </p><p style="color:blue;">CP852（DOS中欧）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp852_bin</code>
                        </p><p style="color:blue;">CP852_bin</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp852_general_ci</code> (default)
                        </p><p style="color:blue;">CP852 U通用U CI（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">keybcs2</code> (DOS Kamenicky Czech-Slovak)
                    collations:
                </p><p style="color:blue;">keybcs2（dos kamenicky捷克语-斯洛伐克语）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">keybcs2_bin</code>
                        </p><p style="color:blue;">钥匙箱</p><p></p></li><li class="listitem"><p>
                            <code class="literal">keybcs2_general_ci</code> (default)
                        </p><p style="color:blue;">keybcs2_general_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">latin2</code> (ISO 8859-2 Central European)
                    collations:
                </p><p style="color:blue;">拉丁语（ISO 8859-2中欧）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">latin2_bin</code>
                        </p><p style="color:blue;">拉美裔</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin2_croatian_ci</code>
                        </p><p style="color:blue;">拉丁克罗地亚语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin2_czech_cs</code>
                        </p><p style="color:blue;">拉丁语捷克语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin2_general_ci</code> (default)
                        </p><p style="color:blue;">拉丁语通用词（默认）</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin2_hungarian_ci</code>
                        </p><p style="color:blue;">拉丁匈牙利语</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">macce</code> (Mac Central European) collations:
                </p><p style="color:blue;">macce（mac中欧）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">macce_bin</code>
                        </p><p style="color:blue;">马库宾</p><p></p></li><li class="listitem"><p>
                            <code class="literal">macce_general_ci</code> (default)
                        </p><p style="color:blue;">macce_general_ci（默认）</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-se-me-sets"></a>10.10.4&nbsp;South European and Middle East Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863280240"></a><a class="indexterm" name="idm140286863278784"></a><a class="indexterm" name="idm140286863277296"></a><a class="indexterm" name="idm140286863275808"></a><p>
            South European and Middle Eastern character sets supported by
            MySQL include Armenian, Arabic, Georgian, Greek, Hebrew, and
            Turkish.
        </p><p style="color:blue;">MySQL支持的南欧和中东字符集包括亚美尼亚语、阿拉伯语、格鲁吉亚语、希腊语、希伯来语和土耳其语。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">armscii8</code> (ARMSCII-8 Armenian) collations:
                </p><p style="color:blue;">Armscii8（Armscii-8亚美尼亚语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">armscii8_bin</code>
                        </p><p style="color:blue;">Armscii8_-bin公司</p><p></p></li><li class="listitem"><p>
                            <code class="literal">armscii8_general_ci</code> (default)
                        </p><p style="color:blue;">Armscii8_General_Ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">cp1256</code> (Windows Arabic) collations:
                </p><p style="color:blue;">CP1256（Windows阿拉伯语）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp1256_bin</code>
                        </p><p style="color:blue;">CP1256_箱</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1256_general_ci</code> (default)
                        </p><p style="color:blue;">CP1256 U通用U CI（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">geostd8</code> (GEOSTD8 Georgian) collations:
                </p><p style="color:blue;">GEOSTD8（GEOSTD8格鲁吉亚语）校对：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">geostd8_bin</code>
                        </p><p style="color:blue;">地质8_bin</p><p></p></li><li class="listitem"><p>
                            <code class="literal">geostd8_general_ci</code> (default)
                        </p><p style="color:blue;">GEOSTD8 U通用U CI（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">greek</code> (ISO 8859-7 Greek) collations:
                </p><p style="color:blue;">希腊语（ISO 8859-7希腊语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">greek_bin</code>
                        </p><p style="color:blue;">希腊语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">greek_general_ci</code> (default)
                        </p><p style="color:blue;">希腊语通用词（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">hebrew</code> (ISO 8859-8 Hebrew) collations:
                </p><p style="color:blue;">希伯来语（ISO 8859-8希伯来语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">hebrew_bin</code>
                        </p><p style="color:blue;">希伯来文</p><p></p></li><li class="listitem"><p>
                            <code class="literal">hebrew_general_ci</code> (default)
                        </p><p style="color:blue;">希伯来语通用词（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">latin5</code> (ISO 8859-9 Turkish) collations:
                </p><p style="color:blue;">拉丁语（ISO 8859-9土耳其语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">latin5_bin</code>
                        </p><p style="color:blue;">拉美裔</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin5_turkish_ci</code> (default)
                        </p><p style="color:blue;">拉丁土耳其语（默认）</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-baltic-sets"></a>10.10.5&nbsp;Baltic Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863242912"></a><a class="indexterm" name="idm140286863241424"></a><p>
            The Baltic character sets cover Estonian, Latvian, and
            Lithuanian languages.
        </p><p style="color:blue;">波罗的海字符集涵盖爱沙尼亚语、拉脱维亚语和立陶宛语。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">cp1257</code> (Windows Baltic) collations:
                </p><p style="color:blue;">CP1257（Windows波罗的海）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp1257_bin</code>
                        </p><p style="color:blue;">CP1257仓库</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1257_general_ci</code> (default)
                        </p><p style="color:blue;">CP1257 U通用U CI（默认）</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1257_lithuanian_ci</code>
                        </p><p style="color:blue;">CP1257立陶宛语</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">latin7</code> (ISO 8859-13 Baltic) collations:
                </p><p style="color:blue;">拉丁语（ISO 8859-13波罗的海）排序：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">latin7_bin</code>
                        </p><p style="color:blue;">拉美裔</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin7_estonian_cs</code>
                        </p><p style="color:blue;">拉丁语爱沙尼亚语</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin7_general_ci</code> (default)
                        </p><p style="color:blue;">拉丁语通用词（默认）</p><p></p></li><li class="listitem"><p>
                            <code class="literal">latin7_general_cs</code>
                        </p><p style="color:blue;">拉丁通用语</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-cyrillic-sets"></a>10.10.6&nbsp;Cyrillic Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286863223680"></a><a class="indexterm" name="idm140286863222192"></a><p>
            The Cyrillic character sets and collations are for use with
            Belarusian, Bulgarian, Russian, Ukrainian, and Serbian
            (Cyrillic) languages.
        </p><p style="color:blue;">西里尔字符集和排序规则用于白俄罗斯语、保加利亚语、俄语、乌克兰语和塞尔维亚语（西里尔语）。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">cp1251</code> (Windows Cyrillic) collations:
                </p><p style="color:blue;">CP1251（Windows西里尔文）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp1251_bin</code>
                        </p><p style="color:blue;">CP1251_箱</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1251_bulgarian_ci</code>
                        </p><p style="color:blue;">CP1251_保加利亚语_ci</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1251_general_ci</code> (default)
                        </p><p style="color:blue;">CP1251 U通用U CI（默认）</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1251_general_cs</code>
                        </p><p style="color:blue;">CP1251 U通用</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp1251_ukrainian_ci</code>
                        </p><p style="color:blue;">CP1251_乌克兰语</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">cp866</code> (DOS Russian) collations:
                </p><p style="color:blue;">CP866（DOS俄语）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp866_bin</code>
                        </p><p style="color:blue;">CP866_宾</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp866_general_ci</code> (default)
                        </p><p style="color:blue;">CP866 U通用U CI（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">koi8r</code> (KOI8-R Relcom Russian) collations:
                </p><p style="color:blue;">KOI8R（KOI8-R RELCOM俄语）校对：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">koi8r_bin</code>
                        </p><p style="color:blue;">库宾</p><p></p></li><li class="listitem"><p>
                            <code class="literal">koi8r_general_ci</code> (default)
                        </p><p style="color:blue;">koi8r_general_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">koi8u</code> (KOI8-U Ukrainian) collations:
                </p><p style="color:blue;">KOI8U（KOI8-U乌克兰语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">koi8u_bin</code>
                        </p><p style="color:blue;">小熊宾</p><p></p></li><li class="listitem"><p>
                            <code class="literal">koi8u_general_ci</code> (default)
                        </p><p style="color:blue;">Koi8u___General_Ci（默认）</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-asian-sets"></a>10.10.7&nbsp;Asian Character Sets</h3>

                    </div>

                </div>

            </div>
            <div class="toc">
                <dl class="toc"><dt><span class="section"><a href="charset.html#charset-cp932">10.10.7.1 The cp932 Character Set</a></span></dt><dt><span class="section"><a href="charset.html#charset-gb18030">10.10.7.2 The gb18030 Character Set</a></span></dt></dl>
            </div>
            <a class="indexterm" name="idm140286863194000"></a><a class="indexterm" name="idm140286863192512"></a><p>
            The Asian character sets that we support include Chinese,
            Japanese, Korean, and Thai. These can be complicated. For
            example, the Chinese sets must allow for thousands of different
            characters. See <a class="xref" href="charset.html#charset-cp932" title="10.10.7.1&nbsp;The cp932 Character Set">Section&nbsp;10.10.7.1, “The cp932 Character Set”</a>, for additional
            information about the <code class="literal">cp932</code> and
            <code class="literal">sjis</code> character sets. See
            <a class="xref" href="charset.html#charset-gb18030" title="10.10.7.2&nbsp;The gb18030 Character Set">Section&nbsp;10.10.7.2, “The gb18030 Character Set”</a>, for additional information
            about character set support for the Chinese National Standard GB
            18030.
        </p><p style="color:blue;">我们支持的亚洲字符集包括中文、日语、韩语和泰语。这些可能很复杂。例如，中文集合必须允许数千个不同的字符。有关CP932和SJIS字符集的更多信息，请参见第10.10.7.1节“CP932字符集”。有关中国国家标准gb18030的字符集支持的更多信息，请参见第10.10.7.2节“gb18030字符集”。</p><p></p><p>
            For answers to some common questions and problems relating
            support for Asian character sets in MySQL, see
            <a class="xref" href="faqs.html#faqs-cjk" title="A.11&nbsp;MySQL 5.7 FAQ: MySQL Chinese, Japanese, and Korean Character Sets">Section&nbsp;A.11, “MySQL 5.7 FAQ: MySQL Chinese, Japanese, and Korean
                Character Sets”</a>.
        </p><p style="color:blue;">有关MySQL中支持亚洲字符集的一些常见问题和问题的解答，请参见A.11节，“MySQL5.7常见问题解答：MySQLchinese、japanese和korean字符集”。</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">big5</code> (Big5 Traditional Chinese)
                    collations:
                </p><p style="color:blue;">big5（big5繁体中文）排序：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">big5_bin</code>
                        </p><p style="color:blue;">五大桶</p><p></p></li><li class="listitem"><p>
                            <code class="literal">big5_chinese_ci</code> (default)
                        </p><p style="color:blue;">big5_中文_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <a class="link" href="charset.html#charset-cp932" title="10.10.7.1&nbsp;The cp932 Character Set"><code class="literal">cp932</code></a>
                    (SJIS for Windows Japanese) collations:
                </p><p style="color:blue;">CP932（SJIS for Windows日语）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">cp932_bin</code>
                        </p><p style="color:blue;">CP932_bin</p><p></p></li><li class="listitem"><p>
                            <code class="literal">cp932_japanese_ci</code> (default)
                        </p><p style="color:blue;">CP932_日语_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">eucjpms</code> (UJIS for Windows Japanese)
                    collations:
                </p><p style="color:blue;">eucjpms（ujis for windows日语）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">eucjpms_bin</code>
                        </p><p style="color:blue;">欧共体</p><p></p></li><li class="listitem"><p>
                            <code class="literal">eucjpms_japanese_ci</code> (default)
                        </p><p style="color:blue;">eucjpms_日语_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">euckr</code> (EUC-KR Korean) collations:
                </p><p style="color:blue;">euc kr（euc-kr韩语）校对：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">euckr_bin</code>
                        </p><p style="color:blue;">欧克朗</p><p></p></li><li class="listitem"><p>
                            <code class="literal">euckr_korean_ci</code> (default)
                        </p><p style="color:blue;">Euckr_Korean_Ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">gb2312</code> (GB2312 Simplified Chinese)
                    collations:
                </p><p style="color:blue;">GB2312（GB2312简体中文）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">gb2312_bin</code>
                        </p><p style="color:blue;">GB2312库</p><p></p></li><li class="listitem"><p>
                            <code class="literal">gb2312_chinese_ci</code> (default)
                        </p><p style="color:blue;">GB2312_中文_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">gbk</code> (GBK Simplified Chinese) collations:
                </p><p style="color:blue;">GBK（GBK简体中文）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">gbk_bin</code>
                        </p><p style="color:blue;">格布宾</p><p></p></li><li class="listitem"><p>
                            <code class="literal">gbk_chinese_ci</code> (default)
                        </p><p style="color:blue;">GBK_Chinese_Ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <a class="link" href="charset.html#charset-gb18030" title="10.10.7.2&nbsp;The gb18030 Character Set"><code class="literal">gb18030</code></a>
                    (China National Standard GB18030) collations:
                </p><p style="color:blue;">GB18030（中国国家标准GB18030）整理：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">gb18030_bin</code>
                        </p><p style="color:blue;">GB18030郦</p><p></p></li><li class="listitem"><p>
                            <code class="literal">gb18030_chinese_ci</code> (default)
                        </p><p style="color:blue;">GB18030_中文_ci（默认）</p><p></p></li><li class="listitem"><p>
                            <code class="literal">gb18030_unicode_520_ci</code>
                        </p><p style="color:blue;">GB18030_Unicode_520_CI标准</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">sjis</code> (Shift-JIS Japanese) collations:
                </p><p style="color:blue;">sjis（shift-jis-japanese）排序规则：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">sjis_bin</code>
                        </p><p style="color:blue;">Sjis_bin公司</p><p></p></li><li class="listitem"><p>
                            <code class="literal">sjis_japanese_ci</code> (default)
                        </p><p style="color:blue;">sjis_日语_ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">tis620</code> (TIS620 Thai) collations:
                </p><p style="color:blue;">TIS620（TIS620泰语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">tis620_bin</code>
                        </p><p style="color:blue;">TIS620_-bin公司</p><p></p></li><li class="listitem"><p>
                            <code class="literal">tis620_thai_ci</code> (default)
                        </p><p style="color:blue;">TIS620_Thai_Ci（默认）</p><p></p></li></ul>
                    </div>
                </li><li class="listitem"><p>
                    <code class="literal">ujis</code> (EUC-JP Japanese) collations:
                </p><p style="color:blue;">UJIS（EUC-JP日语）校勘：</p><p></p>
                    <div class="itemizedlist">
                        <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                            <code class="literal">ujis_bin</code>
                        </p><p style="color:blue;">乌吉斯宾</p><p></p></li><li class="listitem"><p>
                            <code class="literal">ujis_japanese_ci</code> (default)
                        </p><p style="color:blue;">ujis_日语_ci（默认）</p><p></p></li></ul>
                    </div>
                </li></ul>
            </div>
            <p>
                The <code class="literal">big5_chinese_ci</code> collation sorts on number
                of strokes.
            </p><p style="color:blue;">大五字词校勘按笔画数排序。</p><p></p>
            <div class="section">

                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="charset-cp932"></a>10.10.7.1&nbsp;The cp932 Character Set</h4>
                        </div>
                    </div>
                </div>
                <p>
          <span class="bold"><strong>Why is <code class="literal">cp932</code>
          needed?</strong></span>
                </p><p style="color:blue;">为什么需要CP932？</p><p></p><p>
                In MySQL, the <code class="literal">sjis</code> character set
                corresponds to the <code class="literal">Shift_JIS</code> character set
                defined by IANA, which supports JIS X0201 and JIS X0208
                characters. (See
                <a class="ulink" href="http://www.iana.org/assignments/character-sets" target="_top">http://www.iana.org/assignments/character-sets</a>.)
            </p><p style="color:blue;">在mysql中，sjis字符集对应于iana定义的shift-jis字符集，该字符集支持jis x0201和jis x0208字符。（见http://www.iana.org/assignments/character sets。）</p><p></p><p>
                However, the meaning of <span class="quote">“<span class="quote">SHIFT JIS</span>”</span> as a
                descriptive term has become very vague and it often includes
                the extensions to <code class="literal">Shift_JIS</code> that are
                defined by various vendors.
            </p><p style="color:blue;">然而，“shift-jis”作为一个描述性术语的含义变得非常模糊，它通常包括由不同供应商定义的shift-jis的扩展。</p><p></p><p>
                For example, <span class="quote">“<span class="quote">SHIFT JIS</span>”</span> used in Japanese Windows
                environments is a Microsoft extension of
                <code class="literal">Shift_JIS</code> and its exact name is
                <code class="literal">Microsoft Windows Codepage : 932</code> or
                <code class="literal">cp932</code>. In addition to the characters
                supported by <code class="literal">Shift_JIS</code>,
                <code class="literal">cp932</code> supports extension characters such as
                NEC special characters, NEC selected—IBM extended
                characters, and IBM selected characters.
            </p><p style="color:blue;">例如，在日本Windows环境中使用的“shift jis”是shift jis的Microsoft扩展，其确切名称是Microsoft Windows代码页：932或CP932。除了shift-jis支持的字符外，cp932还支持扩展字符，如nec special characters、nec selected ibm extended characters和ibm selected characters。</p><p></p><p>
                Many Japanese users have experienced problems using these
                extension characters. These problems stem from the following
                factors:
            </p><p style="color:blue;">许多日本用户在使用这些扩展字符时遇到了问题。这些问题源于以下因素：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        MySQL automatically converts character sets.
                    </p><p style="color:blue;">mysql自动转换字符集。</p><p></p></li><li class="listitem"><p>
                        Character sets are converted using Unicode
                        (<code class="literal">ucs2</code>).
                    </p><p style="color:blue;">字符集使用Unicode（UCS2）进行转换。</p><p></p></li><li class="listitem"><p>
                        The <code class="literal">sjis</code> character set does not support
                        the conversion of these extension characters.
                    </p><p style="color:blue;">sjis字符集不支持这些扩展字符的转换。</p><p></p></li><li class="listitem"><p>
                        There are several conversion rules from so-called
                        <span class="quote">“<span class="quote">SHIFT JIS</span>”</span> to Unicode, and some characters
                        are converted to Unicode differently depending on the
                        conversion rule. MySQL supports only one of these rules
                        (described later).
                    </p><p style="color:blue;">从所谓的“shift-jis”到unicode有几个转换规则，根据转换规则，某些字符转换为unicode的方式不同。mysql只支持其中一个规则（稍后介绍）。</p><p></p></li></ul>
                </div>
                <p>
                    The MySQL <code class="literal">cp932</code> character set is designed
                    to solve these problems.
                </p><p style="color:blue;">mysql cp932字符集就是为了解决这些问题而设计的。</p><p></p><p>
                Because MySQL supports character set conversion, it is
                important to separate IANA <code class="literal">Shift_JIS</code> and
                <code class="literal">cp932</code> into two different character sets
                because they provide different conversion rules.
            </p><p style="color:blue;">因为MySQL支持字符集转换，所以将IANA SHIFT_jis和CP932分离成两个不同的字符集是很重要的，因为它们提供了不同的转换规则。</p><p></p><p>
          <span class="bold"><strong>How does <code class="literal">cp932</code> differ
          from <code class="literal">sjis</code>?</strong></span>
            </p><p style="color:blue;">CP932与SJIS有何不同？</p><p></p><p>
                The <code class="literal">cp932</code> character set differs from
                <code class="literal">sjis</code> in the following ways:
            </p><p style="color:blue;">CP932字符集与SJIS的不同之处在于：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        <code class="literal">cp932</code> supports NEC special characters,
                        NEC selected—IBM extended characters, and IBM
                        selected characters.
                    </p><p style="color:blue;">CP932支持NEC特殊字符、NEC选择的IBM扩展字符和IBM选择的字符。</p><p></p></li><li class="listitem"><p>
                        Some <code class="literal">cp932</code> characters have two
                        different code points, both of which convert to the same
                        Unicode code point. When converting from Unicode back to
                        <code class="literal">cp932</code>, one of the code points must be
                        selected. For this <span class="quote">“<span class="quote">round trip conversion,</span>”</span>
                        the rule recommended by Microsoft is used. (See
                        <a class="ulink" href="http://support.microsoft.com/kb/170559/EN-US/" target="_top">http://support.microsoft.com/kb/170559/EN-US/</a>.)
                    </p><p style="color:blue;">一些CP932字符有两个不同的代码点，它们都转换为相同的Unicode代码点。从Unicode转换回CP932时，必须选择其中一个代码点。对于这种“往返转换”，使用微软推荐的规则。（请参阅http://support.microsoft.com/kb/170559/en-us/）</p><p></p><p>
                        The conversion rule works like this:
                    </p><p style="color:blue;">转换规则的工作方式如下：</p><p></p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                If the character is in both JIS X 0208 and NEC special
                                characters, use the code point of JIS X 0208.
                            </p><p style="color:blue;">如果字符同时包含JIS X 0208和NEC特殊字符，请使用JIS X 0208的代码点。</p><p></p></li><li class="listitem"><p>
                                If the character is in both NEC special characters and
                                IBM selected characters, use the code point of NEC
                                special characters.
                            </p><p style="color:blue;">如果字符同时包含NEC特殊字符和IBM选定字符，请使用NEC特殊字符的代码点。</p><p></p></li><li class="listitem"><p>
                                If the character is in both IBM selected characters
                                and NEC selected—IBM extended characters, use
                                the code point of IBM extended characters.
                            </p><p style="color:blue;">如果字符同时包含IBM选定字符和NEC选定IBM扩展字符，请使用IBM扩展字符的代码点。</p><p></p></li></ul>
                        </div>
                        <p>
                            The table shown at
                            <a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/cc305152.aspx" target="_top">https://msdn.microsoft.com/en-us/goglobal/cc305152.aspx</a>
                            provides information about the Unicode values of
                            <code class="literal">cp932</code> characters. For
                            <code class="literal">cp932</code> table entries with characters
                            under which a four-digit number appears, the number
                            represents the corresponding Unicode
                            (<code class="literal">ucs2</code>) encoding. For table entries with
                            an underlined two-digit value appears, there is a range of
                            <code class="literal">cp932</code> character values that begin with
                            those two digits. Clicking such a table entry takes you to
                            a page that displays the Unicode value for each of the
                            <code class="literal">cp932</code> characters that begin with those
                            digits.
                        </p><p style="color:blue;">https://msdn.microsoft.com/en-us/goglobal/cc305152.aspx上显示的表提供了有关CP932字符的Unicode值的信息。对于带有字符的CP932表条目，在这些字符下会出现一个四位数的数字，该数字表示相应的Unicode（UCS2）编码。对于出现带下划线的两位数值的表条目，有一个以这两位数开头的CP932字符值范围。单击这样的表条目将进入一个页面，该页面显示以这些数字开头的每个CP932字符的Unicode值。</p><p></p><p>
                            The following links are of special interest. They
                            correspond to the encodings for the following sets of
                            characters:
                        </p><p style="color:blue;">以下链接特别有趣。它们对应于以下字符集的编码：</p><p></p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                NEC special characters (lead byte
                                <code class="literal">0x87</code>):
                            </p><p style="color:blue;">NEC特殊字符（前导字节0x87）：</p><p></p><pre data-lang="html" class="programlisting"><a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg674964" target="_top">https://msdn.microsoft.com/en-us/goglobal/gg674964</a>
</pre></li><li class="listitem"><p>
                                NEC selected—IBM extended characters (lead byte
                                <code class="literal">0xED</code> and <code class="literal">0xEE</code>):
                            </p><p style="color:blue;">NEC选择的IBM扩展字符（前导字节0xED和0xEE）：</p><p></p><pre data-lang="html" class="programlisting"><a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671837" target="_top">https://msdn.microsoft.com/en-us/goglobal/gg671837</a>
<a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671838" target="_top">https://msdn.microsoft.com/en-us/goglobal/gg671838</a>
</pre></li><li class="listitem"><p>
                                IBM selected characters (lead byte
                                <code class="literal">0xFA</code>, <code class="literal">0xFB</code>,
                                <code class="literal">0xFC</code>):
                            </p><p style="color:blue;">IBM选择的字符（前导字节0xfa、0xfb、0xfc）：</p><p></p><pre data-lang="html" class="programlisting"><a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671839" target="_top">https://msdn.microsoft.com/en-us/goglobal/gg671839</a>
<a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671840" target="_top">https://msdn.microsoft.com/en-us/goglobal/gg671840</a>
<a class="ulink" href="https://msdn.microsoft.com/en-us/goglobal/gg671841" target="_top">https://msdn.microsoft.com/en-us/goglobal/gg671841</a>
</pre></li></ul>
                        </div>
                    </li><li class="listitem"><p>
                        <code class="literal">cp932</code> supports conversion of
                        user-defined characters in combination with
                        <code class="literal">eucjpms</code>, and solves the problems with
                        <code class="literal">sjis</code>/<code class="literal">ujis</code>
                        conversion. For details, please refer to
                        <a class="ulink" href="http://www.sljfaq.org/afaq/encodings.html" target="_top">http://www.sljfaq.org/afaq/encodings.html</a>.
                    </p><p style="color:blue;">cp932支持用户自定义字符与eucjpms的结合转换，解决了sjis/ujis转换的问题。有关详细信息，请参阅http://www.sljfaq.org/afaq/encodings.html。</p><p></p></li></ul>
                </div>
                <p>
                    For some characters, conversion to and from
                    <code class="literal">ucs2</code> is different for
                    <code class="literal">sjis</code> and <code class="literal">cp932</code>. The
                    following tables illustrate these differences.
                </p><p style="color:blue;">对于某些字符，sjis和cp932与ucs2之间的转换是不同的。下表说明了这些差异。</p><p></p><p>
                Conversion to <code class="literal">ucs2</code>:
            </p><p style="color:blue;">转换为UCS2：</p><p></p>
                <div class="informaltable">
                    <table summary="sjis/cp932 values and the difference between sjis to ucs2 conversion and cp932 to ucs2 conversion."><colgroup><col width="33%"><col width="33%"><col width="33%"></colgroup><thead><tr>
                        <th scope="col"><code class="literal">sjis</code>/<code class="literal">cp932</code> Value</th>
                        <th scope="col"><code class="literal">sjis</code> -&gt; <code class="literal">ucs2</code> Conversion</th>
                        <th scope="col"><code class="literal">cp932</code> -&gt; <code class="literal">ucs2</code> Conversion</th>
                    </tr></thead><tbody><tr>
                        <td scope="row">5C</td>
                        <td>005C</td>
                        <td>005C</td>
                    </tr><tr>
                        <td scope="row">7E</td>
                        <td>007E</td>
                        <td>007E</td>
                    </tr><tr>
                        <td scope="row">815C</td>
                        <td>2015</td>
                        <td>2015</td>
                    </tr><tr>
                        <td scope="row">815F</td>
                        <td>005C</td>
                        <td>FF3C</td>
                    </tr><tr>
                        <td scope="row">8160</td>
                        <td>301C</td>
                        <td>FF5E</td>
                    </tr><tr>
                        <td scope="row">8161</td>
                        <td>2016</td>
                        <td>2225</td>
                    </tr><tr>
                        <td scope="row">817C</td>
                        <td>2212</td>
                        <td>FF0D</td>
                    </tr><tr>
                        <td scope="row">8191</td>
                        <td>00A2</td>
                        <td>FFE0</td>
                    </tr><tr>
                        <td scope="row">8192</td>
                        <td>00A3</td>
                        <td>FFE1</td>
                    </tr><tr>
                        <td scope="row">81CA</td>
                        <td>00AC</td>
                        <td>FFE2</td>
                    </tr></tbody></table>
                </div>
                <p>
                    Conversion from <code class="literal">ucs2</code>:
                </p><p style="color:blue;">从UCS2转换：</p><p></p>
                <div class="informaltable">
                    <table summary="ucs2 values and the difference between ucs2 to sjis conversion and ucs2 to cp932 conversion."><colgroup><col width="33%"><col width="33%"><col width="33%"></colgroup><thead><tr>
                        <th scope="col"><code class="literal">ucs2</code> value</th>
                        <th scope="col"><code class="literal">ucs2</code> -&gt; <code class="literal">sjis</code> Conversion</th>
                        <th scope="col"><code class="literal">ucs2</code> -&gt; <code class="literal">cp932</code> Conversion</th>
                    </tr></thead><tbody><tr>
                        <td scope="row">005C</td>
                        <td>815F</td>
                        <td>5C</td>
                    </tr><tr>
                        <td scope="row">007E</td>
                        <td>7E</td>
                        <td>7E</td>
                    </tr><tr>
                        <td scope="row">00A2</td>
                        <td>8191</td>
                        <td>3F</td>
                    </tr><tr>
                        <td scope="row">00A3</td>
                        <td>8192</td>
                        <td>3F</td>
                    </tr><tr>
                        <td scope="row">00AC</td>
                        <td>81CA</td>
                        <td>3F</td>
                    </tr><tr>
                        <td scope="row">2015</td>
                        <td>815C</td>
                        <td>815C</td>
                    </tr><tr>
                        <td scope="row">2016</td>
                        <td>8161</td>
                        <td>3F</td>
                    </tr><tr>
                        <td scope="row">2212</td>
                        <td>817C</td>
                        <td>3F</td>
                    </tr><tr>
                        <td scope="row">2225</td>
                        <td>3F</td>
                        <td>8161</td>
                    </tr><tr>
                        <td scope="row">301C</td>
                        <td>8160</td>
                        <td>3F</td>
                    </tr><tr>
                        <td scope="row">FF0D</td>
                        <td>3F</td>
                        <td>817C</td>
                    </tr><tr>
                        <td scope="row">FF3C</td>
                        <td>3F</td>
                        <td>815F</td>
                    </tr><tr>
                        <td scope="row">FF5E</td>
                        <td>3F</td>
                        <td>8160</td>
                    </tr><tr>
                        <td scope="row">FFE0</td>
                        <td>3F</td>
                        <td>8191</td>
                    </tr><tr>
                        <td scope="row">FFE1</td>
                        <td>3F</td>
                        <td>8192</td>
                    </tr><tr>
                        <td scope="row">FFE2</td>
                        <td>3F</td>
                        <td>81CA</td>
                    </tr></tbody></table>
                </div>
                <p>
                    Users of any Japanese character sets should be aware that
                    using
                    <a class="link" href="server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--character-set-client-handshake</code></a>
                    (or
                    <a class="link" href="server-administration.html#option_mysqld_character-set-client-handshake"><code class="option">--skip-character-set-client-handshake</code></a>)
                    has an important effect. See <a class="xref" href="server-administration.html#server-options" title="5.1.6&nbsp;Server Command Options">Section&nbsp;5.1.6, “Server Command Options”</a>.
                </p><p style="color:blue;">任何日语字符集的用户都应该知道，使用--character set client handshake（或--skip character set client handshake）具有重要的效果。参见第5.1.6节“服务器命令选项”。</p><p></p>
            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="charset-gb18030"></a>10.10.7.2&nbsp;The gb18030 Character Set</h4>

                        </div>

                    </div>

                </div>
                <p>
                    In MySQL, the <code class="literal">gb18030</code> character set
                    corresponds to the <span class="quote">“<span class="quote">Chinese National Standard GB
          18030-2005: Information technology — Chinese coded
          character set</span>”</span>, which is the official character set of
                    the People's Republic of China (PRC).
                </p><p style="color:blue;">在MySQL中，GB18030字符集对应于中华人民共和国官方字符集“中国国家标准GB 18030-2005：信息技术-中文编码字符集”。</p><p></p>
                <h5><a name="idm140286862954576"></a>Characteristics of the MySQL gb18030 Character Set</h5>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        Supports all code points defined by the GB 18030-2005
                        standard. Unassigned code points in the ranges
                        (GB+8431A439, GB+90308130) and (GB+E3329A36, GB+EF39EF39)
                        are treated as '<code class="literal">?</code>' (0x3F). Conversion
                        of unassigned code points return '<code class="literal">?</code>'.
                    </p><p style="color:blue;">支持GB 18030-2005标准定义的所有代码点。范围（GB+8431A439、GB+90308130）和（GB+E3329A36、GB+EF39EF39）中的未分配代码点被视为“？”（0x3F）。未分配代码点的转换返回“？”是的。</p><p></p></li><li class="listitem"><p>
                        Supports UPPER and LOWER conversion for all GB18030 code
                        points. Case folding defined by Unicode is also supported
                        (based on <code class="filename">CaseFolding-6.3.0.txt</code>).
                    </p><p style="color:blue;">支持所有GB18030码位的上下转换。还支持Unicode定义的大小写折叠（基于case folding-6.3.0.txt）。</p><p></p></li><li class="listitem"><p>
                        Supports Conversion of data to and from other character
                        sets.
                    </p><p style="color:blue;">支持与其他字符集之间的数据转换。</p><p></p></li><li class="listitem"><p>
                        Supports SQL statements such as <a class="link" href="sql-syntax.html#set-names" title="13.7.4.3&nbsp;SET NAMES Syntax"><code class="literal">SET
                        NAMES</code></a>.
                    </p><p style="color:blue;">支持SQL语句，如集合名称。</p><p></p></li><li class="listitem"><p>
                        Supports comparison between <code class="literal">gb18030</code>
                        strings, and between <code class="literal">gb18030</code> strings
                        and strings of other character sets. There is a conversion
                        if strings have different character sets. Comparisons that
                        include or ignore trailing spaces are also supported.
                    </p><p style="color:blue;">支持GB18030字符串之间、GB18030字符串与其他字符集字符串之间的比较。如果字符串具有不同的字符集，则会进行转换。还支持包含或忽略尾随空格的比较。</p><p></p></li><li class="listitem"><p>
                        The private use area (U+E000, U+F8FF) in Unicode is mapped
                        to <code class="literal">gb18030</code>.
                    </p><p style="color:blue;">unicode中的专用区域（u+e000，u+f8ff）映射到gb18030。</p><p></p></li><li class="listitem"><p>
                        There is no mapping between (U+D800, U+DFFF) and GB18030.
                        Attempted conversion of code points in this range returns
                        '<code class="literal">?</code>'.
                    </p><p style="color:blue;">（U+D800，U+DFFF）与GB18030之间没有映射。试图转换此范围内的代码点时返回“？”是的。</p><p></p></li><li class="listitem"><p>
                        If an incoming sequence is illegal, an error or warning is
                        returned. If an illegal sequence is used in
                        <code class="literal">CONVERT()</code>, an error is returned.
                        Otherwise, a warning is returned.
                    </p><p style="color:blue;">如果传入序列是非法的，则返回错误或警告。如果convert（）中使用了非法序列，则返回错误。否则，将返回警告。</p><p></p></li><li class="listitem"><p>
                        For consistency with <code class="literal">utf8</code> and
                        <code class="literal">utf8mb4</code>, UPPER is not supported for
                        ligatures.
                    </p><p style="color:blue;">为了与utf8和utf8mb4保持一致，连字不支持upper。</p><p></p></li><li class="listitem"><p>
                        Searches for ligatures also match uppercase ligatures when
                        using the <code class="literal">gb18030_unicode_520_ci</code>
                        collation.
                    </p><p style="color:blue;">使用gb18030_unicode_520_ci排序规则时，搜索连字时也会匹配大写连字。</p><p></p></li><li class="listitem"><p>
                        If a character has more than one uppercase character, the
                        chosen uppercase character is the one whose lowercase is
                        the character itself.
                    </p><p style="color:blue;">如果一个字符有多个大写字符，则选择的大写字符是其小写字符本身的字符。</p><p></p></li><li class="listitem"><p>
                        The minimum multibyte length is 1 and the maximum is 4.
                        The character set determines the length of a sequence
                        using the first 1 or 2 bytes.
                    </p><p style="color:blue;">最小多字节长度为1，最大值为4。字符集使用前1或2个字节确定序列的长度。</p><p></p></li></ul>
                </div>
                <h5><a name="idm140286862933040"></a>Supported Collations</h5>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        <code class="literal">gb18030_bin</code>: A binary collation.
                    </p><p style="color:blue;">gb18030_-bin：二进制排序规则。</p><p></p></li><li class="listitem"><p>
                        <code class="literal">gb18030_chinese_ci</code>: The default
                        collation, which supports Pinyin. Sorting of non-Chinese
                        characters is based on the order of the original sort key.
                        The original sort key is <code class="literal">GB(UPPER(ch))</code>
                        if <code class="literal">UPPER(ch)</code> exists. Otherwise, the
                        original sort key is <code class="literal">GB(ch)</code>. Chinese
                        characters are sorted according to the Pinyin collation
                        defined in the Unicode Common Locale Data Repository (CLDR
                        24). Non-Chinese characters are sorted before Chinese
                        characters with the exception of
                        <code class="literal">GB+FE39FE39</code>, which is the code point
                        maximum.
                    </p><p style="color:blue;">gb18030_中文_ci：默认排序规则，支持拼音。非中文字符的排序是基于原始排序键的顺序。如果存在（CH），则原始排序关键字是GB（上（CH））。否则，原始排序键为GB（ch）。汉字按照unicode公共语言环境数据存储库（cldr 24）中定义的拼音排序规则进行排序。除GB+FE9FE39之外，非汉字是在汉字之前排序的，这是码点最大值。</p><p></p></li><li class="listitem"><p>
                        <code class="literal">gb18030_unicode_520_ci</code>: A Unicode
                        collation. Use this collation if you need to ensure that
                        ligatures are sorted correctly.
                    </p><p style="color:blue;">gb18030_unicode_520_ci：一种unicode排序规则。如果需要确保连字排序正确，请使用此排序规则。</p><p></p></li></ul>
                </div>

            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-binary-set"></a>10.10.8&nbsp;The Binary Character Set</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286862922528"></a><a class="indexterm" name="idm140286862921072"></a><p>
            The <code class="literal">binary</code> character set is the chararcter
            set of binary strings, which are sequences of bytes. The
            <code class="literal">binary</code> character set has one collation, also
            named <code class="literal">binary</code>. Comparison and sorting are
            based on numeric byte values. The effect is that lettercase and
            accent differences are significant in comparisons. That is, the
            <code class="literal">binary</code> collation is case-sensitive and accent
            sensitive.
        </p><p style="color:blue;">二进制字符集是二进制字符串的字符集，它是字节序列。二进制字符集有一个排序规则，也称为binary。比较和排序基于数字字节值。其结果是，字母大小写和重音的差异在比较中是显著的。也就是说，二进制排序规则区分大小写和重音。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'binary';</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT CHARSET('abc'), COLLATION('abc');</code></strong>
+----------------+------------------+
| CHARSET('abc') | COLLATION('abc') |
+----------------+------------------+
| binary         | binary           |
+----------------+------------------+
mysql&gt; <strong class="userinput"><code>SELECT 'abc' = 'ABC', 'a' = 'ä';</code></strong>
+---------------+------------+
| 'abc' = 'ABC' | 'a' = 'ä'  |
+---------------+------------+
|             0 |          0 |
+---------------+------------+
</pre><p>
            For information about the differences between the
            <code class="literal">binary</code> collation of the
            <code class="literal">binary</code> character set and the
            <code class="literal">_bin</code> collations of nonbinary character sets,
            see <a class="xref" href="charset.html#charset-binary-collations" title="10.8.5&nbsp;The binary Collation Compared to _bin Collations">Section&nbsp;10.8.5, “The binary Collation Compared to _bin Collations”</a>.
        </p><p style="color:blue;">有关二进制字符集的二进制排序规则与非二进制字符集的二进制排序规则之间的差异的信息，请参阅第10.8.5节“二进制排序规则与二进制排序规则的比较”。</p><p></p><p>
            To convert a string expression to a binary string, any of these
            constructs are equivalent:
        </p><p style="color:blue;">要将字符串表达式转换为二进制字符串，以下任何构造都是等效的：</p><p></p><pre data-lang="sql" class="programlisting">BINARY <em class="replaceable"><code>expr</code></em>
CAST(<em class="replaceable"><code>expr</code></em> AS BINARY)
CONVERT(<em class="replaceable"><code>expr</code></em> USING BINARY)
</pre><a class="indexterm" name="idm140286862905872"></a><p>
            If <em class="replaceable"><code>expr</code></em> is a character string
            literal, the <code class="literal">_binary</code> introducer may be used
            to designate it as a binary string. For example:
        </p><p style="color:blue;">如果expr是字符串文字，则可以使用二进制介绍人将其指定为二进制字符串。例如：</p><p></p><pre data-lang="sql" class="programlisting">_binary 'a'
</pre><p>
            The <code class="literal">_binary</code> introducer is permitted for
            hexadecimal literals and bit-value literals as well, but
            unnecessary; such literals are binary strings by default.
        </p><p style="color:blue;">允许十六进制文本和位值文本使用_binary introductor，但这是不必要的；默认情况下，此类文本是二进制字符串。</p><p></p><p>
            For more information about introducers, see
            <a class="xref" href="charset.html#charset-introducer" title="10.3.8&nbsp;Character Set Introducers">Section&nbsp;10.3.8, “Character Set Introducers”</a>.
        </p><p style="color:blue;">有关介绍人的更多信息，请参见第10.3.8节“字符集介绍人”。</p><p></p>
        </div>

    </div>

    <div class="section">

        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-restrictions"></a>10.11&nbsp;Restrictions on Character Sets</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286862897952"></a><a class="indexterm" name="idm140286862896496"></a>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Identifiers are stored in <code class="literal">mysql</code> database
                tables (<code class="literal">user</code>, <code class="literal">db</code>, and so
                forth) using <code class="literal">utf8</code>, but identifiers can
                contain only characters in the Basic Multilingual Plane (BMP).
                Supplementary characters are not permitted in identifiers.
            </p><p style="color:blue;">标识符使用utf8存储在mysql数据库表（user、db等）中，但标识符只能包含基本多语言平面（bmp）中的字符。标识符中不允许使用补充字符。</p><p></p></li><li class="listitem"><p>
                The <code class="literal">ucs2</code>, <code class="literal">utf16</code>,
                <code class="literal">utf16le</code>, and <code class="literal">utf32</code>
                character sets have the following restrictions:
            </p><p style="color:blue;">ucs2、utf16、utf16le和utf32字符集具有以下限制：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                        None of them can be used as the client character set. See
                        <a class="xref" href="charset.html#charset-connection-impermissible-client-charset" title="Impermissible Client Character Sets">Impermissible Client Character Sets</a>.
                    </p><p style="color:blue;">它们都不能用作客户端字符集。请参见不允许的客户端字符集。</p><p></p></li><li class="listitem"><p>
                        It is currently not possible to use
                        <a class="link" href="sql-syntax.html#load-data" title="13.2.6&nbsp;LOAD DATA Syntax"><code class="literal">LOAD DATA</code></a> to load data
                        files that use these character sets.
                    </p><p style="color:blue;">当前无法使用“加载数据”加载使用这些字符集的数据文件。</p><p></p></li><li class="listitem"><p>
                        <code class="literal">FULLTEXT</code> indexes cannot be created on a
                        column that uses any of these character sets. However, you
                        can perform <code class="literal">IN BOOLEAN MODE</code> searches on
                        the column without an index.
                    </p><p style="color:blue;">不能在使用这些字符集的列上创建全文索引。但是，可以在布尔模式下对不带索引的列执行搜索。</p><p></p></li><li class="listitem"><p>
                        The use of <a class="link" href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> with
                        these character sets is not recommended because the
                        underlying system call expects a string terminated by a
                        zero byte.
                    </p><p style="color:blue;">不建议对这些字符集使用encrypt（），因为底层系统调用需要以零字节结尾的字符串。</p><p></p></li></ul>
                </div>
            </li><li class="listitem"><p>
                The <a class="link" href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> and
                <a class="link" href="functions.html#operator_regexp"><code class="literal">RLIKE</code></a>
                operators work in byte-wise fashion, so they are not multibyte
                safe and may produce unexpected results with multibyte
                character sets. In addition, these operators compare
                characters by their byte values and accented characters may
                not compare as equal even if a given collation treats them as
                equal.
            </p><p style="color:blue;">regexp和rlike运算符按字节方式工作，因此它们不是多字节安全的，并且可能使用多字节字符集产生意外的结果。此外，这些运算符按字节值比较字符，并且即使给定的排序规则将重音字符视为相等，重音字符也不能比较为相等。</p><p></p></li></ul>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="error-message-language"></a>10.12&nbsp;Setting the Error Message Language</h2>

                </div>

            </div>

        </div>
        <a class="indexterm" name="idm140286862873568"></a><a class="indexterm" name="idm140286862872112"></a><a class="indexterm" name="idm140286862870624"></a><a class="indexterm" name="idm140286862869136"></a><p>
        By default, <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> produces error messages in
        English, but they can be displayed instead in any of several other
        languages: Czech, Danish, Dutch, Estonian, French, German, Greek,
        Hungarian, Italian, Japanese, Korean, Norwegian, Norwegian-ny,
        Polish, Portuguese, Romanian, Russian, Slovak, Spanish, or
        Swedish. This applies to messages the server writes to the error
        log and sends to clients.
    </p><p style="color:blue;">默认情况下，mysqld以英语生成错误消息，但它们可以用其他几种语言中的任何一种显示：捷克语、丹麦语、荷兰语、爱沙尼亚语、法语、德语、希腊语、匈牙利语、意大利语、日语、韩语、挪威语、挪威语、纽约语、波兰语、葡萄牙语、罗马尼亚语、俄语、斯洛伐克语、西班牙语或瑞典语。这适用于服务器写入错误日志并发送给客户端的消息。</p><p></p><p>
        To select the language in which the server writes error messages,
        follow the instructions in this section. For information about
        changing the character set for error messages (rather than the
        language), see <a class="xref" href="charset.html#charset-errors" title="10.6&nbsp;Error Message Character Set">Section&nbsp;10.6, “Error Message Character Set”</a>. For general
        information about configuring error logging, see
        <a class="xref" href="server-administration.html#error-log" title="5.4.2&nbsp;The Error Log">Section&nbsp;5.4.2, “The Error Log”</a>.
    </p><p style="color:blue;">要选择服务器写入错误消息的语言，请按照本节中的说明进行操作。有关更改错误消息（而不是语言）的字符集的信息，请参阅10.6节“错误消息字符集”。有关配置错误日志的一般信息，请参阅第5.4.2节“错误日志”。</p><p></p><p>
        The server searches for the error message file using these rules:
    </p><p style="color:blue;">服务器使用以下规则搜索错误消息文件：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                It looks for the file in a directory constructed from two
                system variable values,
                <a class="link" href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> and
                <a class="link" href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a>, with the latter
                converted to a language name. Suppose that you start the
                server using this command:
            </p><p style="color:blue;">它在由两个系统变量值lc_messages_dir和lc_messages构造的目录中查找文件，后者转换为语言名。假设您使用以下命令启动服务器：</p><p></p><pre data-lang="terminal" class="programlisting">mysqld --lc_messages_dir=/usr/share/mysql --lc_messages=fr_FR
</pre><p>
                In this case, <a class="link" href="programs.html#mysqld" title="4.3.1&nbsp;mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> maps the locale
                <code class="literal">fr_FR</code> to the language
                <code class="literal">french</code> and looks for the error file in the
                <code class="filename">/usr/share/mysql/french</code> directory.
            </p><p style="color:blue;">在本例中，mysqld将语言环境fr_u fr映射为法语，并在/usr/share/mysql/french目录中查找错误文件。</p><p></p><p>
                By default, the language files are located in the
                <code class="filename">share/mysql/<em class="replaceable"><code>LANGUAGE</code></em></code>
                directory under the MySQL base directory.
            </p><p style="color:blue;">默认情况下，语言文件位于mysql基目录下的share/mysql/language目录中。</p><p></p></li><li class="listitem"><p>
                If the message file cannot be found in the directory
                constructed as just described, the server ignores the
                <a class="link" href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> value and uses
                only the <a class="link" href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a>
                value as the location in which to look.
            </p><p style="color:blue;">如果在如上所述构造的目录中找不到消息文件，服务器将忽略lc_messages值，并仅使用lc_messages_dir值作为查找位置。</p><p></p></li></ul>
        </div>
        <p>
            The <a class="link" href="server-administration.html#sysvar_lc_messages_dir"><code class="literal">lc_messages_dir</code></a> system
            variable can be set only at server startup and has only a global
            read-only value at runtime.
            <a class="link" href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> can be set at server
            startup and has global and session values that can be modified at
            runtime. Thus, the error message language can be changed while the
            server is running, and each client can have its own error message
            language by setting its session
            <a class="link" href="server-administration.html#sysvar_lc_messages"><code class="literal">lc_messages</code></a> value to the desired
            locale name. For example, if the server is using the
            <code class="literal">fr_FR</code> locale for error messages, a client can
            execute this statement to receive error messages in English:
        </p><p style="color:blue;">lc_messages_dir系统变量只能在服务器启动时设置，并且在运行时只有全局只读值。lc_消息可以在服务器启动时设置，并且具有可以在运行时修改的全局值和会话值。因此，可以在服务器运行时更改错误消息语言，并且通过将会话lc_消息值设置为所需的区域设置名称，每个客户端都可以拥有自己的错误消息语言。例如，如果服务器对错误消息使用fr_fr语言环境，则客户端可以执行此语句以接收英文错误消息：</p><p></p><pre data-lang="sql" class="programlisting">SET lc_messages = 'en_US';
</pre>
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="adding-character-set"></a>10.13&nbsp;Adding a Character Set</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="charset.html#character-arrays">10.13.1 Character Definition Arrays</a></span></dt><dt><span class="section"><a href="charset.html#string-collating">10.13.2 String Collating Support for Complex Character Sets</a></span></dt><dt><span class="section"><a href="charset.html#multibyte-characters">10.13.3 Multi-Byte Character Support for Complex Character Sets</a></span></dt></dl>
        </div>
        <a class="indexterm" name="idm140286862841760"></a><a class="indexterm" name="idm140286862840272"></a><p>
        This section discusses the procedure for adding a character set to
        MySQL. The proper procedure depends on whether the character set
        is simple or complex:
    </p><p style="color:blue;">本节讨论向mysql添加字符集的过程。正确的过程取决于字符集是简单的还是复杂的：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                If the character set does not need special string collating
                routines for sorting and does not need multibyte character
                support, it is simple.
            </p><p style="color:blue;">如果字符集不需要特殊的字符串排序例程进行排序，也不需要多字节字符支持，那么它很简单。</p><p></p></li><li class="listitem"><p>
                If the character set needs either of those features, it is
                complex.
            </p><p style="color:blue;">如果字符集需要这些特征中的任何一个，那么它是复杂的。</p><p></p></li></ul>
        </div>
        <p>
            For example, <code class="literal">greek</code> and <code class="literal">swe7</code>
            are simple character sets, whereas <code class="literal">big5</code> and
            <code class="literal">czech</code> are complex character sets.
        </p><p style="color:blue;">例如，希腊语和swe7是简单的字符集，而big5和捷克语是复杂的字符集。</p><p></p><p>
        To use the following instructions, you must have a MySQL source
        distribution. In the instructions,
        <em class="replaceable"><code>MYSET</code></em> represents the name of the
        character set that you want to add.
    </p><p style="color:blue;">要使用以下说明，您必须有一个mysql源代码分发版。在说明中，myset表示要添加的字符集的名称。</p><p></p>
        <div class="orderedlist">
            <ol class="orderedlist" type="1"><li class="listitem"><p>
                Add a <code class="literal">&lt;charset&gt;</code> element for
                <em class="replaceable"><code>MYSET</code></em> to the
                <code class="filename">sql/share/charsets/Index.xml</code> file. Use
                the existing contents in the file as a guide to adding new
                contents. A partial listing for the <code class="literal">latin1</code>
                <code class="literal">&lt;charset&gt;</code> element follows:
            </p><p style="color:blue;">将myset的<charset>元素添加到sql/share/charsets/index.xml文件中。使用文件中的现有内容作为添加新内容的指南。Latin1<charset>元素的部分列表如下：</charset></charset></p><p></p><pre data-lang="xml" class="programlisting">&lt;charset name="latin1"&gt;
  &lt;family&gt;Western&lt;/family&gt;
  &lt;description&gt;cp1252 West European&lt;/description&gt;
  ...
  &lt;collation name="latin1_swedish_ci" id="8" order="Finnish, Swedish"&gt;
    &lt;flag&gt;primary&lt;/flag&gt;
    &lt;flag&gt;compiled&lt;/flag&gt;
  &lt;/collation&gt;
  &lt;collation name="latin1_danish_ci" id="15" order="Danish"/&gt;
  ...
  &lt;collation name="latin1_bin" id="47" order="Binary"&gt;
    &lt;flag&gt;binary&lt;/flag&gt;
    &lt;flag&gt;compiled&lt;/flag&gt;
  &lt;/collation&gt;
  ...
&lt;/charset&gt;
</pre><p>
                The <code class="literal">&lt;charset&gt;</code> element must list all
                the collations for the character set. These must include at
                least a binary collation and a default (primary) collation.
                The default collation is often named using a suffix of
                <code class="literal">general_ci</code> (general, case insensitive). It
                is possible for the binary collation to be the default
                collation, but usually they are different. The default
                collation should have a <code class="literal">primary</code> flag. The
                binary collation should have a <code class="literal">binary</code> flag.
            </p><p style="color:blue;"><charset>元素必须列出字符集的所有排序规则。这些必须至少包括二进制排序规则和默认（主）排序规则。默认排序规则通常使用general_ci（general，不区分大小写）后缀命名。二进制排序规则可以作为默认排序规则，但它们通常是不同的。默认排序规则应具有主标志。二进制排序规则应具有二进制标志。</charset></p><p></p><p>
                You must assign a unique ID number to each collation. The
                range of IDs from 1024 to 2047 is reserved for user-defined
                collations. To find the maximum of the currently used
                collation IDs, use this query:
            </p><p style="color:blue;">必须为每个排序规则分配唯一的ID号。从1024到2047的id范围是为用户定义的排序规则保留的。若要查找当前使用的排序规则ID的最大值，请使用此查询：</p><p></p><pre data-lang="sql" class="programlisting">SELECT MAX(ID) FROM INFORMATION_SCHEMA.COLLATIONS;
</pre></li><li class="listitem"><p>
                This step depends on whether you are adding a simple or
                complex character set. A simple character set requires only a
                configuration file, whereas a complex character set requires C
                source file that defines collation functions, multibyte
                functions, or both.
            </p><p style="color:blue;">此步骤取决于添加的是简单字符集还是复杂字符集。一个简单的字符集只需要一个配置文件，而一个复杂的字符集需要定义排序函数、多字节函数或两者的C源文件。</p><p></p><p>
                For a simple character set, create a configuration file,
                <code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code>,
                that describes the character set properties. Create this file
                in the <code class="filename">sql/share/charsets</code> directory. You
                can use a copy of <code class="filename">latin1.xml</code> as the basis
                for this file. The syntax for the file is very simple:
            </p><p style="color:blue;">对于简单的字符集，创建一个描述字符集属性的配置文件myset.xml。在sql/share/charsets目录中创建此文件。可以使用latin1.xml的副本作为此文件的基础。文件的语法非常简单：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        Comments are written as ordinary XML comments
                        (<code class="literal">&lt;!-- <em class="replaceable"><code>text</code></em>
                        --&gt;</code>).
                    </p><p style="color:blue;">注释是作为普通的xml注释编写的（&lt;！--文本--&gt;）。</p><p></p></li><li class="listitem"><p>
                        Words within <code class="literal">&lt;map&gt;</code> array elements
                        are separated by arbitrary amounts of whitespace.
                    </p><p style="color:blue;">数组元素中的单词由任意数量的空格分隔。</p><p></p></li><li class="listitem"><p>
                        Each word within <code class="literal">&lt;map&gt;</code> array
                        elements must be a number in hexadecimal format.
                    </p><p style="color:blue;">数组元素中的每个单词都必须是十六进制格式的数字。</p><p></p></li><li class="listitem"><p>
                        The <code class="literal">&lt;map&gt;</code> array element for the
                        <code class="literal">&lt;ctype&gt;</code> element has 257 words.
                        The other <code class="literal">&lt;map&gt;</code> array elements
                        after that have 256 words. See
                        <a class="xref" href="charset.html#character-arrays" title="10.13.1&nbsp;Character Definition Arrays">Section&nbsp;10.13.1, “Character Definition Arrays”</a>.
                    </p><p style="color:blue;"><ctype>元素的<map>数组元素有257个单词。后面的<map>数组元素有256个单词。见第10.13.1节“字符定义数组”。</map></map></ctype></p><p></p></li><li class="listitem"><p>
                        For each collation listed in the
                        <code class="literal">&lt;charset&gt;</code> element for the
                        character set in <code class="filename">Index.xml</code>,
                        <code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code>
                        must contain a <code class="literal">&lt;collation&gt;</code>
                        element that defines the character ordering.
                    </p><p style="color:blue;">对于index.xml中字符集的<charset>元素中列出的每个排序规则，myset.xml必须包含定义字符顺序的<collation>元素。</collation></charset></p><p></p></li></ul>
                </div>
                <p>
                    For a complex character set, create a C source file that
                    describes the character set properties and defines the support
                    routines necessary to properly perform operations on the
                    character set:
                </p><p style="color:blue;">对于复杂字符集，请创建一个C源文件，该文件描述字符集属性并定义正确执行字符集操作所需的支持例程：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        Create the file
                        <code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code>
                        in the <code class="filename">strings</code> directory. Look at one
                        of the existing <code class="filename">ctype-*.c</code> files (such
                        as <code class="filename">ctype-big5.c</code>) to see what needs to
                        be defined. The arrays in your file must have names like
                        <code class="literal">ctype_<em class="replaceable"><code>MYSET</code></em></code>,
                        <code class="literal">to_lower_<em class="replaceable"><code>MYSET</code></em></code>,
                        and so on. These correspond to the arrays for a simple
                        character set. See <a class="xref" href="charset.html#character-arrays" title="10.13.1&nbsp;Character Definition Arrays">Section&nbsp;10.13.1, “Character Definition Arrays”</a>.
                    </p><p style="color:blue;">在strings目录中创建ctype myset.c文件。看看现有的cType *.c文件（如cType -Big5.c），看看需要定义什么。文件中的数组必须有ctype_myset、to_lower_myset等名称。它们对应于简单字符集的数组。见第10.13.1节“字符定义数组”。</p><p></p></li><li class="listitem"><p>
                        For each <code class="literal">&lt;collation&gt;</code> element
                        listed in the <code class="literal">&lt;charset&gt;</code> element
                        for the character set in <code class="filename">Index.xml</code>,
                        the
                        <code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code>
                        file must provide an implementation of the collation.
                    </p><p style="color:blue;">对于index.xml中字符集的<charset>元素中列出的每个<collation>元素，ctype myset.c文件必须提供排序规则的实现。</collation></charset></p><p></p></li><li class="listitem"><p>
                        If the character set requires string collating functions,
                        see <a class="xref" href="charset.html#string-collating" title="10.13.2&nbsp;String Collating Support for Complex Character Sets">Section&nbsp;10.13.2, “String Collating Support for Complex Character Sets”</a>.
                    </p><p style="color:blue;">如果字符集需要字符串排序函数，请参阅第10.13.2节“复杂字符集的字符串排序支持”。</p><p></p></li><li class="listitem"><p>
                        If the character set requires multibyte character support,
                        see <a class="xref" href="charset.html#multibyte-characters" title="10.13.3&nbsp;Multi-Byte Character Support for Complex Character Sets">Section&nbsp;10.13.3, “Multi-Byte Character Support for Complex Character Sets”</a>.
                    </p><p style="color:blue;">如果字符集需要多字节字符支持，请参阅第10.13.3节“复杂字符集的多字节字符支持”。</p><p></p></li></ul>
                </div>
            </li><li class="listitem"><p>
                Modify the configuration information. Use the existing
                configuration information as a guide to adding information for
                <em class="replaceable"><code>MYSYS</code></em>. The example here assumes
                that the character set has default and binary collations, but
                more lines are needed if <em class="replaceable"><code>MYSET</code></em> has
                additional collations.
            </p><p style="color:blue;">修改配置信息。使用现有配置信息作为MySyS添加信息的指南。这里的示例假设字符集具有默认和二进制排序规则，但是如果myset具有其他排序规则，则需要更多的行。</p><p></p>
                <div class="orderedlist">
                    <ol class="orderedlist" type="a"><li class="listitem"><p>
                        Edit <code class="filename">mysys/charset-def.c</code>, and
                        <span class="quote">“<span class="quote">register</span>”</span> the collations for the new
                        character set.
                    </p><p style="color:blue;">编辑mysys/charset def.c，并“注册”新字符集的排序规则。</p><p></p><p>
                        Add these lines to the <span class="quote">“<span class="quote">declaration</span>”</span> section:
                    </p><p style="color:blue;">将这些行添加到“声明”部分：</p><p></p><pre data-lang="c" class="programlisting">#ifdef HAVE_CHARSET_<em class="replaceable"><code>MYSET</code></em>
extern CHARSET_INFO my_charset_<em class="replaceable"><code>MYSET</code></em>_general_ci;
extern CHARSET_INFO my_charset_<em class="replaceable"><code>MYSET</code></em>_bin;
#endif
</pre><p>
                        Add these lines to the <span class="quote">“<span class="quote">registration</span>”</span>
                        section:
                    </p><p style="color:blue;">将这些行添加到“注册”部分：</p><p></p><pre data-lang="c" class="programlisting">#ifdef HAVE_CHARSET_<em class="replaceable"><code>MYSET</code></em>
  add_compiled_collation(&amp;my_charset_<em class="replaceable"><code>MYSET</code></em>_general_ci);
  add_compiled_collation(&amp;my_charset_<em class="replaceable"><code>MYSET</code></em>_bin);
#endif
</pre></li><li class="listitem"><p>
                        If the character set uses
                        <code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code>,
                        edit <code class="filename">strings/CMakeLists.txt</code> and add
                        <code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code>
                        to the definition of the
                        <code class="literal">STRINGS_SOURCES</code> variable.
                    </p><p style="color:blue;">如果字符集使用ctype myset.c，请编辑strings/cmakelists.txt并将ctype myset.c添加到strings_sources变量的定义中。</p><p></p></li><li class="listitem"><p>
                        Edit <code class="filename">cmake/character_sets.cmake</code>:
                    </p><p style="color:blue;">编辑cmake/character_sets.cmake:</p><p></p>
                        <div class="orderedlist">
                            <ol class="orderedlist" type="i"><li class="listitem"><p>
                                Add <em class="replaceable"><code>MYSET</code></em> to the value of
                                with <code class="literal">CHARSETS_AVAILABLE</code> in
                                alphabetic order.
                            </p><p style="color:blue;">按字母顺序将myset添加到with charsets的值。</p><p></p></li><li class="listitem"><p>
                                Add <em class="replaceable"><code>MYSET</code></em> to the value of
                                <code class="literal">CHARSETS_COMPLEX</code> in alphabetic
                                order. This is needed even for simple character sets,
                                or <span class="command"><strong>CMake</strong></span> will not recognize
                                <a class="link" href="installing.html#option_cmake_default_charset"><code class="option">-DDEFAULT_CHARSET=<em class="replaceable"><code>MYSET</code></em></code></a>.
                            </p><p style="color:blue;">按字母顺序将myset添加到charsets_complex的值中。这甚至对于简单的字符集也是必需的，否则cmake将无法识别-ddefault_charset=myset。</p><p></p></li></ol>
                        </div>
                    </li></ol>
                </div>
            </li><li class="listitem"><p>
                Reconfigure, recompile, and test.
            </p><p style="color:blue;">重新配置、重新编译和测试。</p><p></p></li></ol>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="character-arrays"></a>10.13.1&nbsp;Character Definition Arrays</h3>

                    </div>

                </div>

            </div>
            <p>
                Each simple character set has a configuration file located in
                the <code class="filename">sql/share/charsets</code> directory. For a
                character set named <em class="replaceable"><code>MYSYS</code></em>, the file
                is named
                <code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code>. It
                uses <code class="literal">&lt;map&gt;</code> array elements to list
                character set properties. <code class="literal">&lt;map&gt;</code>
                elements appear within these elements:
            </p><p style="color:blue;">每个简单字符集都有一个位于sql/share/charsets目录中的配置文件。对于名为mysys的字符集，文件名为myset.xml。它使用<map>数组元素列出字符集属性。<map>元素出现在这些元素中：</map></map></p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <code class="literal">&lt;ctype&gt;</code> defines attributes for each
                    character.
                </p><p style="color:blue;"><ctype>定义每个字符的属性。</ctype></p><p></p></li><li class="listitem"><p>
                    <code class="literal">&lt;lower&gt;</code> and
                    <code class="literal">&lt;upper&gt;</code> list the lowercase and
                    uppercase characters.
                </p><p style="color:blue;"><lower>和<upper>列出小写和大写字符。</upper></lower></p><p></p></li><li class="listitem"><p>
                    <code class="literal">&lt;unicode&gt;</code> maps 8-bit character
                    values to Unicode values.
                </p><p style="color:blue;"><unicode>将8位字符值映射到unicode值。</unicode></p><p></p></li><li class="listitem"><p>
                    <code class="literal">&lt;collation&gt;</code> elements indicate
                    character ordering for comparison and sorting, one element
                    per collation. Binary collations need no
                    <code class="literal">&lt;map&gt;</code> element because the character
                    codes themselves provide the ordering.
                </p><p style="color:blue;"><collation>元素指示用于比较和排序的字符顺序，每个排序规则一个元素。二进制排序规则不需要<map>元素，因为字符代码本身提供排序。</map></collation></p><p></p></li></ul>
            </div>
            <p>
                For a complex character set as implemented in a
                <code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code>
                file in the <code class="filename">strings</code> directory, there are
                corresponding arrays:
                <code class="literal">ctype_<em class="replaceable"><code>MYSET</code></em>[]</code>,
                <code class="literal">to_lower_<em class="replaceable"><code>MYSET</code></em>[]</code>,
                and so forth. Not every complex character set has all of the
                arrays. See also the existing <code class="filename">ctype-*.c</code>
                files for examples. See the
                <code class="filename">CHARSET_INFO.txt</code> file in the
                <code class="filename">strings</code> directory for additional
                information.
            </p><p style="color:blue;">对于在strings目录中的ctype myset.c文件中实现的复杂字符集，有相应的数组：ctype_myset[]，to_lower_myset[]，依此类推。不是每个复杂的字符集都有所有的数组。也可以看到现有的cType *.c文件的例子。有关其他信息，请参阅strings目录中的charset_info.txt文件。</p><p></p><p>
            Most of the arrays are indexed by character value and have 256
            elements. The <code class="literal">&lt;ctype&gt;</code> array is indexed
            by character value + 1 and has 257 elements. This is a legacy
            convention for handling <code class="literal">EOF</code>.
        </p><p style="color:blue;">大多数数组是按字符值索引的，有256个元素。<ctype>数组按字符值+1索引，有257个元素。这是处理eof的遗留约定。</ctype></p><p></p><p>
            <code class="literal">&lt;ctype&gt;</code> array elements are bit values.
            Each element describes the attributes of a single character in
            the character set. Each attribute is associated with a bitmask,
            as defined in <code class="filename">include/m_ctype.h</code>:
        </p><p style="color:blue;"><ctype>数组元素是位值。每个元素描述字符集中单个字符的属性。每个属性都与位掩码相关联，如include/m cType.h中所定义：</ctype></p><p></p><pre data-lang="c" class="programlisting">#define _MY_U   01      /* Upper case */
#define _MY_L   02      /* Lower case */
#define _MY_NMR 04      /* Numeral (digit) */
#define _MY_SPC 010     /* Spacing character */
#define _MY_PNT 020     /* Punctuation */
#define _MY_CTR 040     /* Control character */
#define _MY_B   0100    /* Blank */
#define _MY_X   0200    /* heXadecimal digit */
</pre><p>
            The <code class="literal">&lt;ctype&gt;</code> value for a given character
            should be the union of the applicable bitmask values that
            describe the character. For example, <code class="literal">'A'</code> is
            an uppercase character (<code class="literal">_MY_U</code>) as well as a
            hexadecimal digit (<code class="literal">_MY_X</code>), so its
            <code class="literal">ctype</code> value should be defined like this:
        </p><p style="color:blue;">给定字符的<ctype>值应该是描述该字符的适用位掩码值的并集。例如，“a”是一个大写字符（_my_u）和一个十六进制数字（_my_x），因此其ctype值的定义如下：</ctype></p><p></p><pre data-lang="c" class="programlisting">ctype['A'+1] = _MY_U | _MY_X = 01 | 0200 = 0201
</pre><p>
            The bitmask values in <code class="filename">m_ctype.h</code> are octal
            values, but the elements of the <code class="literal">&lt;ctype&gt;</code>
            array in
            <code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code> should
            be written as hexadecimal values.
        </p><p style="color:blue;">m_ctype.h中的位掩码值是八进制值，但myset.xml中<ctype>数组的元素应写成十六进制值。</ctype></p><p></p><p>
            The <code class="literal">&lt;lower&gt;</code> and
            <code class="literal">&lt;upper&gt;</code> arrays hold the lowercase and
            uppercase characters corresponding to each member of the
            character set. For example:
        </p><p style="color:blue;"><lower>和<upper>数组保存与字符集的每个成员对应的小写和大写字符。例如：</upper></lower></p><p></p><pre data-lang="none" class="programlisting">lower['A'] should contain 'a'
upper['a'] should contain 'A'
</pre><p>
            Each <code class="literal">&lt;collation&gt;</code> array indicates how
            characters should be ordered for comparison and sorting
            purposes. MySQL sorts characters based on the values of this
            information. In some cases, this is the same as the
            <code class="literal">&lt;upper&gt;</code> array, which means that sorting
            is case-insensitive. For more complicated sorting rules (for
            complex character sets), see the discussion of string collating
            in <a class="xref" href="charset.html#string-collating" title="10.13.2&nbsp;String Collating Support for Complex Character Sets">Section&nbsp;10.13.2, “String Collating Support for Complex Character Sets”</a>.
        </p><p style="color:blue;">每个<collation>数组都指示为了进行比较和排序，应该如何对字符排序。mysql根据这些信息的值对字符进行排序。在某些情况下，这与<upper>数组相同，这意味着排序不区分大小写。有关更复杂的排序规则（对于复杂字符集），请参阅10.13.2节“复杂字符集的字符串排序支持”中有关字符串排序的讨论。</upper></collation></p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="string-collating"></a>10.13.2&nbsp;String Collating Support for Complex Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286862719184"></a><a class="indexterm" name="idm140286862717728"></a><p>
            For a simple character set named
            <em class="replaceable"><code>MYSET</code></em>, sorting rules are specified in
            the <code class="filename"><em class="replaceable"><code>MYSET</code></em>.xml</code>
            configuration file using <code class="literal">&lt;map&gt;</code> array
            elements within <code class="literal">&lt;collation&gt;</code> elements.
            If the sorting rules for your language are too complex to be
            handled with simple arrays, you must define string collating
            functions in the
            <code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code>
            source file in the <code class="filename">strings</code> directory.
        </p><p style="color:blue;">对于名为myset的简单字符集，排序规则在myset.xml配置文件中使用<collation>元素中的<map>数组元素指定。如果语言的排序规则太复杂，无法用简单数组处理，则必须在strings目录中的ctype myset.c源文件中定义字符串排序函数。</map></collation></p><p></p><p>
            The existing character sets provide the best documentation and
            examples to show how these functions are implemented. Look at
            the <code class="filename">ctype-*.c</code> files in the
            <code class="filename">strings</code> directory, such as the files for
            the <code class="literal">big5</code>, <code class="literal">czech</code>,
            <code class="literal">gbk</code>, <code class="literal">sjis</code>, and
            <code class="literal">tis160</code> character sets. Take a look at the
            <code class="literal">MY_COLLATION_HANDLER</code> structures to see how
            they are used. See also the
            <code class="filename">CHARSET_INFO.txt</code> file in the
            <code class="filename">strings</code> directory for additional
            information.
        </p><p style="color:blue;">现有的字符集提供了最好的文档和示例来说明这些函数是如何实现的。查看strings目录中的ctype-*.c文件，例如big5、czech、gbk、sjis和tis160字符集的文件。请查看my_collation_handler结构，了解它们是如何使用的。有关其他信息，请参见字符串目录中的charset_info.txt文件。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="multibyte-characters"></a>10.13.3&nbsp;Multi-Byte Character Support for Complex Character Sets</h3>

                    </div>

                </div>

            </div>
            <a class="indexterm" name="idm140286862702112"></a><a class="indexterm" name="idm140286862700656"></a><p>
            If you want to add support for a new character set named
            <em class="replaceable"><code>MYSET</code></em> that includes multibyte
            characters, you must use multibyte character functions in the
            <code class="filename">ctype-<em class="replaceable"><code>MYSET</code></em>.c</code>
            source file in the <code class="filename">strings</code> directory.
        </p><p style="color:blue;">如果要添加对名为myset的新字符集（包含多字节字符）的支持，则必须在strings目录中的ctype myset.c源文件中使用多字节字符函数。</p><p></p><p>
            The existing character sets provide the best documentation and
            examples to show how these functions are implemented. Look at
            the <code class="filename">ctype-*.c</code> files in the
            <code class="filename">strings</code> directory, such as the files for
            the <code class="literal">euc_kr</code>, <code class="literal">gb2312</code>,
            <code class="literal">gbk</code>, <code class="literal">sjis</code>, and
            <code class="literal">ujis</code> character sets. Take a look at the
            <code class="literal">MY_CHARSET_HANDLER</code> structures to see how they
            are used. See also the <code class="filename">CHARSET_INFO.txt</code>
            file in the <code class="filename">strings</code> directory for
            additional information.
        </p><p style="color:blue;">现有的字符集提供了最好的文档和示例来说明这些函数是如何实现的。查看strings目录中的ctype-*.c文件，例如euc-kr、gb2312、gbk、sjis和ujis字符集的文件。看看my charset处理程序结构，看看它们是如何使用的。有关其他信息，请参见字符串目录中的charset_info.txt文件。</p><p></p>
        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="adding-collation"></a>10.14&nbsp;Adding a Collation to a Character Set</h2>

                </div>

            </div>

        </div>
        <div class="toc">
            <dl class="toc"><dt><span class="section"><a href="charset.html#charset-collation-implementations">10.14.1 Collation Implementation Types</a></span></dt><dt><span class="section"><a href="charset.html#adding-collation-choosing-id">10.14.2 Choosing a Collation ID</a></span></dt><dt><span class="section"><a href="charset.html#adding-collation-simple-8bit">10.14.3 Adding a Simple Collation to an 8-Bit Character Set</a></span></dt><dt><span class="section"><a href="charset.html#adding-collation-unicode-uca">10.14.4 Adding a UCA Collation to a Unicode Character Set</a></span></dt></dl>
        </div>
        <a class="indexterm" name="idm140286862687440"></a><p>
        A collation is a set of rules that defines how to compare and sort
        character strings. Each collation in MySQL belongs to a single
        character set. Every character set has at least one collation, and
        most have two or more collations.
    </p><p style="color:blue;">排序规则是一组定义如何比较和排序字符串的规则。mysql中的每个排序规则都属于单个字符集。每个字符集至少有一个排序规则，大多数字符集有两个或多个排序规则。</p><p></p><p>
        A collation orders characters based on weights. Each character in
        a character set maps to a weight. Characters with equal weights
        compare as equal, and characters with unequal weights compare
        according to the relative magnitude of their weights.
    </p><p style="color:blue;">排序规则根据权重对字符排序。角色集中的每个角色都映射到权重。等重字符按等重比较，等重字符按其权重的相对大小比较。</p><p></p><p>
        The <a class="link" href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> function can be
        used to see the weights for the characters in a string. The value
        that it returns to indicate weights is a binary string, so it is
        convenient to use
        <code class="literal">HEX(WEIGHT_STRING(<em class="replaceable"><code>str</code></em>))</code>
        to display the weights in printable form. The following example
        shows that weights do not differ for lettercase for the letters in
        <code class="literal">'AaBb'</code> if it is a nonbinary case-insensitive
        string, but do differ if it is a binary string:
    </p><p style="color:blue;">函数的作用是：查看字符串中字符的权重。它返回的指示权重的值是一个二进制字符串，因此使用hex（weight_string（str））以可打印的形式显示权重很方便。以下示例显示，如果“aabb”中的字母是不区分大小写的非二进制字符串，则字母大小写的权重不会有所不同，但如果是二进制字符串，则权重会有所不同：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING('AaBb' COLLATE latin1_swedish_ci));</code></strong>
+------------------------------------------------------+
| HEX(WEIGHT_STRING('AaBb' COLLATE latin1_swedish_ci)) |
+------------------------------------------------------+
| 41414242                                             |
+------------------------------------------------------+
mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING(BINARY 'AaBb'));</code></strong>
+-----------------------------------+
| HEX(WEIGHT_STRING(BINARY 'AaBb')) |
+-----------------------------------+
| 41614262                          |
+-----------------------------------+
</pre><p>
        MySQL supports several collation implementations, as discussed in
        <a class="xref" href="charset.html#charset-collation-implementations" title="10.14.1&nbsp;Collation Implementation Types">Section&nbsp;10.14.1, “Collation Implementation Types”</a>. Some of these
        can be added to MySQL without recompiling:
    </p><p style="color:blue;">MySQL支持多种排序实现，如第10.14.1节“排序实现类型”中所述。其中一些可以在不重新编译的情况下添加到mysql中：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                Simple collations for 8-bit character sets.
            </p><p style="color:blue;">8位字符集的简单排序规则。</p><p></p></li><li class="listitem"><p>
                UCA-based collations for Unicode character sets.
            </p><p style="color:blue;">Unicode字符集的基于UCA的排序规则。</p><p></p></li><li class="listitem"><p>
                Binary (<code class="literal"><em class="replaceable"><code>xxx</code></em>_bin</code>)
                collations.
            </p><p style="color:blue;">二进制（xxx_bin）排序规则。</p><p></p></li></ul>
        </div>
        <p>
            The following sections describe how to add collations of the first
            two types to existing character sets. All existing character sets
            already have a binary collation, so there is no need here to
            describe how to add one.
        </p><p style="color:blue;">以下部分描述如何将前两种类型的排序添加到现有字符集。所有现有的字符集已经具有二进制排序规则，因此这里不需要描述如何添加一个字符集。</p><p></p><p>
        Summary of the procedure for adding a new collation:
    </p><p style="color:blue;">添加新排序规则的过程摘要：</p><p></p>
        <div class="orderedlist">
            <ol class="orderedlist" type="1"><li class="listitem"><p>
                Choose a collation ID.
            </p><p style="color:blue;">选择排序规则ID。</p><p></p></li><li class="listitem"><p>
                Add configuration information that names the collation and
                describes the character-ordering rules.
            </p><p style="color:blue;">添加命名排序规则并描述字符排序规则的配置信息。</p><p></p></li><li class="listitem"><p>
                Restart the server.
            </p><p style="color:blue;">重新启动服务器。</p><p></p></li><li class="listitem"><p>
                Verify that the collation is present.
            </p><p style="color:blue;">验证是否存在排序规则。</p><p></p></li></ol>
        </div>
        <p>
            The instructions here cover only collations that can be added
            without recompiling MySQL. To add a collation that does require
            recompiling (as implemented by means of functions in a C source
            file), use the instructions in
            <a class="xref" href="charset.html#adding-character-set" title="10.13&nbsp;Adding a Character Set">Section&nbsp;10.13, “Adding a Character Set”</a>. However, instead of adding
            all the information required for a complete character set, just
            modify the appropriate files for an existing character set. That
            is, based on what is already present for the character set's
            current collations, add data structures, functions, and
            configuration information for the new collation.
        </p><p style="color:blue;">这里的说明只涉及可以在不重新编译mysql的情况下添加的排序规则。要添加确实需要重新编译的排序规则（通过C源文件中的函数实现），请使用第10.13节“添加字符集”中的说明。但是，不要添加完整字符集所需的所有信息，只需修改现有字符集的适当文件即可。也就是说，根据字符集当前排序规则的现有内容，为新排序规则添加数据结构、函数和配置信息。</p><p></p><a class="indexterm" name="idm140286862664624"></a>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

            <div class="admon-title">
                Note
            </div>
            <p>
                If you modify an existing collation, that may affect the
                ordering of rows for indexes on columns that use the collation.
                In this case, rebuild any such indexes to avoid problems such as
                incorrect query results. See
                <a class="xref" href="installing.html#rebuilding-tables" title="2.11.12&nbsp;Rebuilding or Repairing Tables or Indexes">Section&nbsp;2.11.12, “Rebuilding or Repairing Tables or Indexes”</a>.
            </p><p style="color:blue;">如果修改现有排序规则，则可能影响使用排序规则的列中索引的行顺序。在这种情况下，请重新生成任何此类索引，以避免出现查询结果不正确等问题。见第2.11.12节“重建或修复表或索引”。</p><p></p>
        </div>
        <h3><a name="idm140286862661456"></a>Additional Resources</h3>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                The Unicode Collation Algorithm (UCA) specification:
                <a class="ulink" href="http://www.unicode.org/reports/tr10/" target="_top">http://www.unicode.org/reports/tr10/</a>
            </p><p style="color:blue;">Unicode排序算法（UCA）规范：http://www.unicode.org/reports/tr10/</p><p></p></li><li class="listitem"><p>
                The Locale Data Markup Language (LDML) specification:
                <a class="ulink" href="http://www.unicode.org/reports/tr35/" target="_top">http://www.unicode.org/reports/tr35/</a>
            </p><p style="color:blue;">语言环境数据标记语言（LDML）规范：http://www.unicode.org/reports/tr35/</p><p></p></li></ul>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="charset-collation-implementations"></a>10.14.1&nbsp;Collation Implementation Types</h3>

                    </div>

                </div>

            </div>
            <p>
                MySQL implements several types of collations:
            </p><p style="color:blue;">mysql实现了几种类型的排序规则：</p><p></p><p>
        <span class="bold"><strong>Simple collations for 8-bit character
        sets</strong></span>
        </p><p style="color:blue;">8位字符集的简单排序规则</p><p></p><p>
            This kind of collation is implemented using an array of 256
            weights that defines a one-to-one mapping from character codes
            to weights. <code class="literal">latin1_swedish_ci</code> is an example.
            It is a case-insensitive collation, so the uppercase and
            lowercase versions of a character have the same weights and they
            compare as equal.
        </p><p style="color:blue;">这种排序是使用256个权重的数组实现的，该数组定义了从字符代码到权重的一对一映射。拉丁语瑞典语就是一个例子。它是不区分大小写的排序规则，因此字符的大小写版本具有相同的权重，并且它们比较起来是相等的。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'latin1' COLLATE 'latin1_swedish_ci';</code></strong>
Query OK, 0 rows affected (0.01 sec)

mysql&gt; <strong class="userinput"><code>SELECT HEX(WEIGHT_STRING('a')), HEX(WEIGHT_STRING('A'));</code></strong>
+-------------------------+-------------------------+
| HEX(WEIGHT_STRING('a')) | HEX(WEIGHT_STRING('A')) |
+-------------------------+-------------------------+
| 41                      | 41                      |
+-------------------------+-------------------------+
1 row in set (0.01 sec)

mysql&gt; <strong class="userinput"><code>SELECT 'a' = 'A';</code></strong>
+-----------+
| 'a' = 'A' |
+-----------+
|         1 |
+-----------+
1 row in set (0.12 sec)
</pre><p>
            For implementation instructions, see
            <a class="xref" href="charset.html#adding-collation-simple-8bit" title="10.14.3&nbsp;Adding a Simple Collation to an 8-Bit Character Set">Section&nbsp;10.14.3, “Adding a Simple Collation to an 8-Bit Character Set”</a>.
        </p><p style="color:blue;">有关实现说明，请参阅第10.14.3节“向8位字符集添加简单排序规则”。</p><p></p><p>
        <span class="bold"><strong>Complex collations for 8-bit character
        sets</strong></span>
        </p><p style="color:blue;">8位字符集的复杂排序规则</p><p></p><p>
            This kind of collation is implemented using functions in a C
            source file that define how to order characters, as described in
            <a class="xref" href="charset.html#adding-character-set" title="10.13&nbsp;Adding a Character Set">Section&nbsp;10.13, “Adding a Character Set”</a>.
        </p><p style="color:blue;">这种排序规则是使用C源文件中的函数实现的，这些函数定义如何对字符排序，如第10.13节“添加字符集”所述。</p><p></p><p>
        <span class="bold"><strong>Collations for non-Unicode multibyte
        character sets</strong></span>
        </p><p style="color:blue;">非Unicode多字节字符集的排序规则</p><p></p><p>
            For this type of collation, 8-bit (single-byte) and multibyte
            characters are handled differently. For 8-bit characters,
            character codes map to weights in case-insensitive fashion. (For
            example, the single-byte characters <code class="literal">'a'</code> and
            <code class="literal">'A'</code> both have a weight of
            <code class="literal">0x41</code>.) For multibyte characters, there are
            two types of relationship between character codes and weights:
        </p><p style="color:blue;">对于此类排序规则，8位（单字节）和多字节字符的处理方式不同。对于8位字符，字符代码以不区分大小写的方式映射到权重。（例如，单字节字符“a”和“a”的权重都为0x41。）对于多字节字符，字符代码和权重之间有两种类型的关系：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Weights equal character codes.
                    <code class="literal">sjis_japanese_ci</code> is an example of this
                    kind of collation. The multibyte character
                    <code class="literal">'ぢ'</code> has a character code of
                    <code class="literal">0x82C0</code>, and the weight is also
                    <code class="literal">0x82C0</code>.
                </p><p style="color:blue;">重量相等的字符代码。《日本辞典》就是这种校勘的一个例子。多字节字符“_”的字符代码为0x82c0，权重也为0x82c0。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t1</code></strong>
       <strong class="userinput"><code>(c1 VARCHAR(2) CHARACTER SET sjis COLLATE sjis_japanese_ci);</code></strong>
Query OK, 0 rows affected (0.01 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t1 VALUES ('a'),('A'),(0x82C0);</code></strong>
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c1, HEX(c1), HEX(WEIGHT_STRING(c1)) FROM t1;</code></strong>
+------+---------+------------------------+
| c1   | HEX(c1) | HEX(WEIGHT_STRING(c1)) |
+------+---------+------------------------+
| a    | 61      | 41                     |
| A    | 41      | 41                     |
| ぢ    | 82C0    | 82C0                   |
+------+---------+------------------------+
3 rows in set (0.00 sec)
</pre></li><li class="listitem"><p>
                    Character codes map one-to-one to weights, but a code is not
                    necessarily equal to the weight.
                    <code class="literal">gbk_chinese_ci</code> is an example of this kind
                    of collation. The multibyte character
                    <code class="literal">'膰'</code> has a character code of
                    <code class="literal">0x81B0</code> but a weight of
                    <code class="literal">0xC286</code>.
                </p><p style="color:blue;">字符代码将一对一映射到权重，但代码不一定等于权重。《国语辞典》就是这种校勘的一个例子。多字节字符“膰”的字符代码为0x81b0，但权重为0xc286。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE t1</code></strong>
       <strong class="userinput"><code>(c1 VARCHAR(2) CHARACTER SET gbk COLLATE gbk_chinese_ci);</code></strong>
Query OK, 0 rows affected (0.33 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t1 VALUES ('a'),('A'),(0x81B0);</code></strong>
Query OK, 3 rows affected (0.00 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c1, HEX(c1), HEX(WEIGHT_STRING(c1)) FROM t1;</code></strong>
+------+---------+------------------------+
| c1   | HEX(c1) | HEX(WEIGHT_STRING(c1)) |
+------+---------+------------------------+
| a    | 61      | 41                     |
| A    | 41      | 41                     |
| 膰    | 81B0    | C286                   |
+------+---------+------------------------+
3 rows in set (0.00 sec)
</pre></li></ul>
            </div>
            <p>
                For implementation instructions, see
                <a class="xref" href="charset.html#adding-character-set" title="10.13&nbsp;Adding a Character Set">Section&nbsp;10.13, “Adding a Character Set”</a>.
            </p><p style="color:blue;">有关实现说明，请参见第10.13节“添加字符集”。</p><p></p><p>
        <span class="bold"><strong>Collations for Unicode multibyte character
        sets</strong></span>
        </p><p style="color:blue;">Unicode多字节字符集的排序规则</p><p></p><p>
            Some of these collations are based on the Unicode Collation
            Algorithm (UCA), others are not.
        </p><p style="color:blue;">其中一些排序规则是基于Unicode排序规则算法（UCA）的，其他的则不是。</p><p></p><p>
            Non-UCA collations have a one-to-one mapping from character code
            to weight. In MySQL, such collations are case insensitive and
            accent insensitive. <code class="literal">utf8_general_ci</code> is an
            example: <code class="literal">'a'</code>, <code class="literal">'A'</code>,
            <code class="literal">'À'</code>, and <code class="literal">'á'</code> each have
            different character codes but all have a weight of
            <code class="literal">0x0041</code> and compare as equal.
        </p><p style="color:blue;">非uca排序规则具有从字符代码到权重的一对一映射。在mysql中，这种排序规则不区分大小写，也不区分重音。utf8_general_ci就是一个例子：“a”、“a”、“_”和“a”都有不同的字符代码，但它们的权重都是0x0041，并且比较起来是相等的。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_general_ci';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>CREATE TABLE t1</code></strong>
       <strong class="userinput"><code>(c1 CHAR(1) CHARACTER SET UTF8 COLLATE utf8_general_ci);</code></strong>
Query OK, 0 rows affected (0.01 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO t1 VALUES ('a'),('A'),('À'),('á');</code></strong>
Query OK, 4 rows affected (0.00 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql&gt; <strong class="userinput"><code>SELECT c1, HEX(c1), HEX(WEIGHT_STRING(c1)) FROM t1;</code></strong>
+------+---------+------------------------+
| c1   | HEX(c1) | HEX(WEIGHT_STRING(c1)) |
+------+---------+------------------------+
| a    | 61      | 0041                   |
| A    | 41      | 0041                   |
| À    | C380    | 0041                   |
| á    | C3A1    | 0041                   |
+------+---------+------------------------+
4 rows in set (0.00 sec)
</pre><p>
            UCA-based collations in MySQL have these properties:
        </p><p style="color:blue;">MySQL中基于UCA的排序规则具有以下属性：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    If a character has weights, each weight uses 2 bytes (16
                    bits).
                </p><p style="color:blue;">如果字符有权重，则每个权重使用2个字节（16位）。</p><p></p></li><li class="listitem"><p>
                    A character may have zero weights (or an empty weight). In
                    this case, the character is ignorable. Example: "U+0000
                    NULL" does not have a weight and is ignorable.
                </p><p style="color:blue;">字符可以有零权重（或空权重）。在这种情况下，字符是不可忽略的。示例：“u+0000 null”没有权重，可以忽略。</p><p></p></li><li class="listitem"><p>
                    A character may have one weight. Example:
                    <code class="literal">'a'</code> has a weight of
                    <code class="literal">0x0E33</code>.
                </p><p style="color:blue;">一个角色可能有一个权重。示例：“a”的权重为0x0e33。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_unicode_ci';</code></strong>
Query OK, 0 rows affected (0.05 sec)

mysql&gt; <strong class="userinput"><code>SELECT HEX('a'), HEX(WEIGHT_STRING('a'));</code></strong>
+----------+-------------------------+
| HEX('a') | HEX(WEIGHT_STRING('a')) |
+----------+-------------------------+
| 61       | 0E33                    |
+----------+-------------------------+
1 row in set (0.02 sec)
</pre></li><li class="listitem"><p>
                    A character may have many weights. This is an expansion.
                    Example: The German letter <code class="literal">'ß'</code> (SZ
                    ligature, or SHARP S) has a weight of
                    <code class="literal">0x0FEA0FEA</code>.
                </p><p style="color:blue;">一个角色可能有很多权重。这是一个扩展。示例：德语字母“_”（sz连字或sharp s）的重量为0x0fea0fea。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_unicode_ci';</code></strong>
Query OK, 0 rows affected (0.11 sec)

mysql&gt; <strong class="userinput"><code>SELECT HEX('ß'), HEX(WEIGHT_STRING('ß'));</code></strong>
+-----------+--------------------------+
| HEX('ß')  | HEX(WEIGHT_STRING('ß'))  |
+-----------+--------------------------+
| C39F      | 0FEA0FEA                 |
+-----------+--------------------------+
1 row in set (0.00 sec)
</pre></li><li class="listitem"><p>
                    Many characters may have one weight. This is a contraction.
                    Example: <code class="literal">'ch'</code> is a single letter in Czech
                    and has a weight of <code class="literal">0x0EE2</code>.
                </p><p style="color:blue;">许多字符可能有一个权重。这是收缩。例如：“ch”是捷克语中的单个字母，其权重为0x0ee2。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'utf8' COLLATE 'utf8_czech_ci';</code></strong>
Query OK, 0 rows affected (0.09 sec)

mysql&gt; <strong class="userinput"><code>SELECT HEX('ch'), HEX(WEIGHT_STRING('ch'));</code></strong>
+-----------+--------------------------+
| HEX('ch') | HEX(WEIGHT_STRING('ch')) |
+-----------+--------------------------+
| 6368      | 0EE2                     |
+-----------+--------------------------+
1 row in set (0.00 sec)
</pre></li></ul>
            </div>
            <p>
                A many-characters-to-many-weights mapping is also possible (this
                is contraction with expansion), but is not supported by MySQL.
            </p><p style="color:blue;">也可以使用多个字符到多个权重的映射（这是使用扩展进行压缩），但mysql不支持这种映射。</p><p></p><p>
            For implementation instructions, for a non-UCA collation, see
            <a class="xref" href="charset.html#adding-character-set" title="10.13&nbsp;Adding a Character Set">Section&nbsp;10.13, “Adding a Character Set”</a>. For a UCA collation, see
            <a class="xref" href="charset.html#adding-collation-unicode-uca" title="10.14.4&nbsp;Adding a UCA Collation to a Unicode Character Set">Section&nbsp;10.14.4, “Adding a UCA Collation to a Unicode Character Set”</a>.
        </p><p style="color:blue;">有关实现说明，有关非uca排序规则，请参阅第10.13节“添加字符集”。有关UCA排序规则，请参阅第10.14.4节“将UCA排序规则添加到Unicode字符集”。</p><p></p><p>
            <span class="bold"><strong>Miscellaneous collations</strong></span>
        </p><p style="color:blue;">其他排序规则</p><p></p><p>
            There are also a few collations that do not fall into any of the
            previous categories.
        </p><p style="color:blue;">还有一些排序不属于前面的任何类别。</p><p></p>
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="adding-collation-choosing-id"></a>10.14.2&nbsp;Choosing a Collation ID</h3>

                    </div>

                </div>

            </div>
            <p>
                Each collation must have a unique ID. To add a collation, you
                must choose an ID value that is not currently used. MySQL
                supports two-byte collation IDs. The range of IDs from 1024 to
                2047 is reserved for user-defined collations. The collation ID
                that you choose will appear in these contexts:
            </p><p style="color:blue;">每个排序规则必须具有唯一的ID。若要添加排序规则，必须选择当前未使用的ID值。mysql支持双字节排序id。从1024到2047的id范围是为用户定义的排序规则保留的。您选择的排序规则ID将出现在以下上下文中：</p><p></p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    The <code class="literal">ID</code> column of the
                    <a class="link" href="information-schema.html#collations-table" title="24.3&nbsp;The INFORMATION_SCHEMA COLLATIONS Table"><code class="literal">INFORMATION_SCHEMA.COLLATIONS</code></a>
                    table.
                </p><p style="color:blue;">information schema.collations表的id列。</p><p></p></li><li class="listitem"><p>
                    The <code class="literal">Id</code> column of
                    <a class="link" href="sql-syntax.html#show-collation" title="13.7.5.4&nbsp;SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> output.
                </p><p style="color:blue;">显示排序规则输出的ID列。</p><p></p></li><li class="listitem"><p>
                    The <code class="literal">charsetnr</code> member of the
                    <code class="literal">MYSQL_FIELD</code> C API data structure.
                </p><p style="color:blue;">mysql_field c api数据结构的charsetnr成员。</p><p></p></li><li class="listitem"><p>
                    The <code class="literal">number</code> member of the
                    <code class="literal">MY_CHARSET_INFO</code> data structure returned
                    by the
                    <a class="link" href="connectors-apis.html#mysql-get-character-set-info" title="27.8.7.26&nbsp;mysql_get_character_set_info()"><code class="literal">mysql_get_character_set_info()</code></a>
                    C API function.
                </p><p style="color:blue;">mysql get_character_set_info（）c api函数返回的my_charset_info数据结构的数字成员。</p><p></p></li></ul>
            </div>
            <p>
                To determine the largest currently used ID, issue the following
                statement:
            </p><p style="color:blue;">要确定当前使用的最大ID，请发出以下语句：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MAX(ID) FROM INFORMATION_SCHEMA.COLLATIONS;</code></strong>
+---------+
| MAX(ID) |
+---------+
|     210 |
+---------+
</pre><p>
            To display a list of all currently used IDs, issue this
            statement:
        </p><p style="color:blue;">要显示当前使用的所有ID的列表，请发出以下语句：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ID FROM INFORMATION_SCHEMA.COLLATIONS ORDER BY ID;</code></strong>
+-----+
| ID  |
+-----+
|   1 |
|   2 |
| ... |
|  52 |
|  53 |
|  57 |
|  58 |
| ... |
|  98 |
|  99 |
| 128 |
| 129 |
| ... |
| 210 |
+-----+
</pre>
            <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

                <div class="admon-title">
                    Warning
                </div>
                <p>
                    Before upgrading, you should save the configuration files that
                    you change. If you upgrade in place, the process will replace
                    the your modified files.
                </p><p style="color:blue;">升级之前，应保存更改的配置文件。如果升级到位，进程将替换已修改的文件。</p><p></p>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="adding-collation-simple-8bit"></a>10.14.3&nbsp;Adding a Simple Collation to an 8-Bit Character Set</h3>

                    </div>

                </div>

            </div>
            <p>
                This section describes how to add a simple collation for an
                8-bit character set by writing the
                <code class="literal">&lt;collation&gt;</code> elements associated with a
                <code class="literal">&lt;charset&gt;</code> character set description in
                the MySQL <code class="filename">Index.xml</code> file. The procedure
                described here does not require recompiling MySQL. The example
                adds a collation named <code class="literal">latin1_test_ci</code> to the
                <code class="literal">latin1</code> character set.
            </p><p style="color:blue;">本节介绍如何通过在mysql index.xml文件中编写与字符集描述相关联的<collation>元素来为8位字符集添加简单的排序规则。这里描述的过程不需要重新编译mysql。此示例将名为latin1_test_ci的排序规则添加到latin1字符集。</collation></p><p></p>
            <div class="orderedlist">
                <ol class="orderedlist" type="1"><li class="listitem"><p>
                    Choose a collation ID, as shown in
                    <a class="xref" href="charset.html#adding-collation-choosing-id" title="10.14.2&nbsp;Choosing a Collation ID">Section&nbsp;10.14.2, “Choosing a Collation ID”</a>. The
                    following steps use an ID of 1024.
                </p><p style="color:blue;">选择排序规则ID，如第10.14.2节“选择排序规则ID”所示。以下步骤使用的id为1024。</p><p></p></li><li class="listitem"><p>
                    Modify the <code class="literal">Index.xml</code> and
                    <code class="literal">latin1.xml</code> configuration files. These
                    files are located in the directory named by the
                    <a class="link" href="server-administration.html#sysvar_character_sets_dir"><code class="literal">character_sets_dir</code></a> system
                    variable. You can check the variable value as follows,
                    although the path name might be different on your system:
                </p><p style="color:blue;">修改index.xml和latin1.xml配置文件。这些文件位于character_sets_dir系统变量命名的目录中。您可以按如下方式检查变量值，尽管系统上的路径名可能不同：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'character_sets_dir';</code></strong>
+--------------------+-----------------------------------------+
| Variable_name      | Value                                   |
+--------------------+-----------------------------------------+
| character_sets_dir | /user/local/mysql/share/mysql/charsets/ |
+--------------------+-----------------------------------------+
</pre></li><li class="listitem"><p>
                    Choose a name for the collation and list it in the
                    <code class="filename">Index.xml</code> file. Find the
                    <code class="literal">&lt;charset&gt;</code> element for the character
                    set to which the collation is being added, and add a
                    <code class="literal">&lt;collation&gt;</code> element that indicates
                    the collation name and ID, to associate the name with the
                    ID. For example:
                </p><p style="color:blue;">选择排序规则的名称并将其列在index.xml文件中。找到要添加排序规则的字符集的<charset>元素，并添加指示排序规则名称和id的<collation>元素，以将名称与id关联起来。例如：</collation></charset></p><p></p><pre data-lang="xml" class="programlisting">&lt;charset name="latin1"&gt;
  ...
  &lt;collation name="latin1_test_ci" id="1024"/&gt;
  ...
&lt;/charset&gt;
</pre></li><li class="listitem"><p>
                    In the <code class="filename">latin1.xml</code> configuration file,
                    add a <code class="literal">&lt;collation&gt;</code> element that
                    names the collation and that contains a
                    <code class="literal">&lt;map&gt;</code> element that defines a
                    character code-to-weight mapping table for character codes 0
                    to 255. Each value within the <code class="literal">&lt;map&gt;</code>
                    element must be a number in hexadecimal format.
                </p><p style="color:blue;">在latin1.xml配置文件中，添加一个名为排序规则的<collation>元素，该元素包含一个<map>元素，该元素定义字符代码到字符代码0到255的权重映射表。<map>元素中的每个值都必须是十六进制格式的数字。</map></map></collation></p><p></p><pre data-lang="xml" class="programlisting">&lt;collation name="latin1_test_ci"&gt;
&lt;map&gt;
 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
 10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F
 20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F
 30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F
 40 41 42 43 44 45 46 47 48 49 4A 4B 4C 4D 4E 4F
 50 51 52 53 54 55 56 57 58 59 5A 5B 5C 5D 5E 5F
 60 41 42 43 44 45 46 47 48 49 4A 4B 4C 4D 4E 4F
 50 51 52 53 54 55 56 57 58 59 5A 7B 7C 7D 7E 7F
 80 81 82 83 84 85 86 87 88 89 8A 8B 8C 8D 8E 8F
 90 91 92 93 94 95 96 97 98 99 9A 9B 9C 9D 9E 9F
 A0 A1 A2 A3 A4 A5 A6 A7 A8 A9 AA AB AC AD AE AF
 B0 B1 B2 B3 B4 B5 B6 B7 B8 B9 BA BB BC BD BE BF
 41 41 41 41 5B 5D 5B 43 45 45 45 45 49 49 49 49
 44 4E 4F 4F 4F 4F 5C D7 5C 55 55 55 59 59 DE DF
 41 41 41 41 5B 5D 5B 43 45 45 45 45 49 49 49 49
 44 4E 4F 4F 4F 4F 5C F7 5C 55 55 55 59 59 DE FF
&lt;/map&gt;
&lt;/collation&gt;
</pre></li><li class="listitem"><p>
                    Restart the server and use this statement to verify that the
                    collation is present:
                </p><p style="color:blue;">重新启动服务器并使用此语句验证排序规则是否存在：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW COLLATION WHERE Collation = 'latin1_test_ci';</code></strong>
+----------------+---------+------+---------+----------+---------+
| Collation      | Charset | Id   | Default | Compiled | Sortlen |
+----------------+---------+------+---------+----------+---------+
| latin1_test_ci | latin1  | 1024 |         |          |       1 |
+----------------+---------+------+---------+----------+---------+
</pre></li></ol>
            </div>

        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h3 class="title"><a name="adding-collation-unicode-uca"></a>10.14.4&nbsp;Adding a UCA Collation to a Unicode Character Set</h3>

                    </div>

                </div>

            </div>
            <div class="toc">
                <dl class="toc"><dt><span class="section"><a href="charset.html#ldml-collation-example">10.14.4.1 Defining a UCA Collation Using LDML Syntax</a></span></dt><dt><span class="section"><a href="charset.html#ldml-rules">10.14.4.2 LDML Syntax Supported in MySQL</a></span></dt><dt><span class="section"><a href="charset.html#collation-diagnostics">10.14.4.3 Diagnostics During Index.xml Parsing</a></span></dt></dl>
            </div>
            <p>
                This section describes how to add a UCA collation for a Unicode
                character set by writing the
                <code class="literal">&lt;collation&gt;</code> element within a
                <code class="literal">&lt;charset&gt;</code> character set description in
                the MySQL <code class="filename">Index.xml</code> file. The procedure
                described here does not require recompiling MySQL. It uses a
                subset of the Locale Data Markup Language (LDML) specification,
                which is available at
                <a class="ulink" href="http://www.unicode.org/reports/tr35/" target="_top">http://www.unicode.org/reports/tr35/</a>. With this
                method, you need not define the entire collation. Instead, you
                begin with an existing <span class="quote">“<span class="quote">base</span>”</span> collation and
                describe the new collation in terms of how it differs from the
                base collation. The following table lists the base collations of
                the Unicode character sets for which UCA collations can be
                defined. It is not possible to create user-defined UCA
                collations for <code class="literal">utf16le</code>; there is no
                <code class="literal">utf16le_unicode_ci</code> collation that would serve
                as the basis for such collations.
            </p><p style="color:blue;">本节介绍如何通过在mysql index.xml文件的<charset>字符集描述中写入<collation>元素来为unicode字符集添加uca排序规则。这里描述的过程不需要重新编译mysql。它使用语言环境数据标记语言（ldml）规范的一个子集，该规范可从http://www.unicode.org/reports/tr35/获得。使用此方法，无需定义整个排序规则。相反，您先从现有的“基础”排序开始，并根据其与基础排序的区别来描述新的排序规则。下表列出了可以为其定义UCA排序规则的Unicode字符集的基本排序规则。无法为utf16le创建用户定义的uca排序规则；没有utf16le-unicode-ci排序规则可作为此类排序规则的基础。</collation></charset></p><p></p>
            <div class="table">
                <a name="idm140286862533312"></a><p class="title"><b>Table&nbsp;10.4&nbsp;MySQL Character Sets Available for User-Defined UCA Collations</b></p><p style="color:blue;">表10.4可用于用户定义UCA排序的MySQL字符集</p><p></p>
                <div class="table-contents">
                    <table summary="Unicode character sets for which user-defined UCA collations can be defined and their base collations."><colgroup><col width="30*"><col width="60*"></colgroup><thead><tr>
                        <th scope="col">Character Set</th>
                        <th scope="col">Base Collation</th>
                    </tr></thead><tbody><tr>
                        <th scope="row" align="left"><code class="literal">utf8</code></th>
                        <td><code class="literal">utf8_unicode_ci</code></td>
                    </tr><tr>
                        <th scope="row" align="left"><code class="literal">ucs2</code></th>
                        <td><code class="literal">ucs2_unicode_ci</code></td>
                    </tr><tr>
                        <th scope="row" align="left"><code class="literal">utf16</code></th>
                        <td><code class="literal">utf16_unicode_ci</code></td>
                    </tr><tr>
                        <th scope="row" align="left"><code class="literal">utf32</code></th>
                        <td><code class="literal">utf32_unicode_ci</code></td>
                    </tr></tbody></table>
                </div>

            </div>
            <br class="table-break"><p>
            The following sections show how to add a collation that is
            defined using LDML syntax, and provide a summary of LDML rules
            supported in MySQL.
        </p><p style="color:blue;">以下各节介绍如何添加使用ldml语法定义的排序规则，并提供mysql中支持的ldml规则的摘要。</p><p></p>
            <div class="section">

                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="ldml-collation-example"></a>10.14.4.1&nbsp;Defining a UCA Collation Using LDML Syntax</h4>
                        </div>
                    </div>
                </div>
                <p>
                    To add a UCA collation for a Unicode character set without
                    recompiling MySQL, use the following procedure. If you are
                    unfamiliar with the LDML rules used to describe the
                    collation's sort characteristics, see
                    <a class="xref" href="charset.html#ldml-rules" title="10.14.4.2&nbsp;LDML Syntax Supported in MySQL">Section&nbsp;10.14.4.2, “LDML Syntax Supported in MySQL”</a>.
                </p><p style="color:blue;">要为Unicode字符集添加UCA排序规则而不重新编译MySQL，请使用以下过程。如果您不熟悉用于描述排序规则排序特征的ldml规则，请参阅10.14.4.2节“mysql中支持的ldml语法”。</p><p></p><p>
                The example adds a collation named
                <code class="literal">utf8_phone_ci</code> to the
                <code class="literal">utf8</code> character set. The collation is
                designed for a scenario involving a Web application for which
                users post their names and phone numbers. Phone numbers can be
                given in very different formats:
            </p><p style="color:blue;">该示例将名为utf8_phone_ci的排序规则添加到utf8字符集。该排序规则是为一个场景而设计的，该场景涉及一个web应用程序，用户可以在其中发布自己的姓名和电话号码。电话号码可以以非常不同的格式给出：</p><p></p><pre data-lang="none" class="programlisting">+7-12345-67
+7-12-345-67
+7 12 345 67
+7 (12) 345 67
+71234567
</pre><p>
                The problem raised by dealing with these kinds of values is
                that the varying permissible formats make searching for a
                specific phone number very difficult. The solution is to
                define a new collation that reorders punctuation characters,
                making them ignorable.
            </p><p style="color:blue;">处理这些类型的值所带来的问题是，不同的允许格式使搜索特定电话号码变得非常困难。解决方案是定义一个新的排序规则，重新排序标点字符，使其可忽略。</p><p></p>
                <div class="orderedlist">
                    <ol class="orderedlist" type="1"><li class="listitem"><p>
                        Choose a collation ID, as shown in
                        <a class="xref" href="charset.html#adding-collation-choosing-id" title="10.14.2&nbsp;Choosing a Collation ID">Section&nbsp;10.14.2, “Choosing a Collation ID”</a>. The
                        following steps use an ID of 1029.
                    </p><p style="color:blue;">选择排序规则ID，如第10.14.2节“选择排序规则ID”所示。以下步骤使用的id为1029。</p><p></p></li><li class="listitem"><p>
                        To modify the <code class="literal">Index.xml</code> configuration
                        file. This file is located in the directory named by the
                        <a class="link" href="server-administration.html#sysvar_character_sets_dir"><code class="literal">character_sets_dir</code></a> system
                        variable. You can check the variable value as follows,
                        although the path name might be different on your system:
                    </p><p style="color:blue;">修改index.xml配置文件。此文件位于由character\u sets\u dir系统变量命名的目录中。您可以按如下方式检查变量值，尽管系统上的路径名可能不同：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'character_sets_dir';</code></strong>
+--------------------+-----------------------------------------+
| Variable_name      | Value                                   |
+--------------------+-----------------------------------------+
| character_sets_dir | /user/local/mysql/share/mysql/charsets/ |
+--------------------+-----------------------------------------+
</pre></li><li class="listitem"><p>
                        Choose a name for the collation and list it in the
                        <code class="filename">Index.xml</code> file. In addition, you'll
                        need to provide the collation ordering rules. Find the
                        <code class="literal">&lt;charset&gt;</code> element for the
                        character set to which the collation is being added, and
                        add a <code class="literal">&lt;collation&gt;</code> element that
                        indicates the collation name and ID, to associate the name
                        with the ID. Within the
                        <code class="literal">&lt;collation&gt;</code> element, provide a
                        <code class="literal">&lt;rules&gt;</code> element containing the
                        ordering rules:
                    </p><p style="color:blue;">选择排序规则的名称并将其列在index.xml文件中。此外，还需要提供排序规则。找到要向其添加排序规则的字符集的<charset>元素，并添加指示排序规则名称和id的<collation>元素以将名称与id关联起来。在<collation>元素中，提供包含排序规则的<rules>元素：</rules></collation></collation></charset></p><p></p><pre data-lang="xml" class="programlisting">&lt;charset name="utf8"&gt;
  ...
  &lt;collation name="utf8_phone_ci" id="1029"&gt;
    &lt;rules&gt;
      &lt;reset&gt;\u0000&lt;/reset&gt;
      &lt;i&gt;\u0020&lt;/i&gt; &lt;!-- space --&gt;
      &lt;i&gt;\u0028&lt;/i&gt; &lt;!-- left parenthesis --&gt;
      &lt;i&gt;\u0029&lt;/i&gt; &lt;!-- right parenthesis --&gt;
      &lt;i&gt;\u002B&lt;/i&gt; &lt;!-- plus --&gt;
      &lt;i&gt;\u002D&lt;/i&gt; &lt;!-- hyphen --&gt;
    &lt;/rules&gt;
  &lt;/collation&gt;
  ...
&lt;/charset&gt;
</pre></li><li class="listitem"><p>
                        If you want a similar collation for other Unicode
                        character sets, add other
                        <code class="literal">&lt;collation&gt;</code> elements. For
                        example, to define <code class="literal">ucs2_phone_ci</code>, add a
                        <code class="literal">&lt;collation&gt;</code> element to the
                        <code class="literal">&lt;charset name="ucs2"&gt;</code> element.
                        Remember that each collation must have its own unique ID.
                    </p><p style="color:blue;">如果要对其他unicode字符集进行类似的排序，请添加其他<collation>元素。例如，要定义ucs2_phone_ci，请将<collation>元素添加到<charset name="“ucs2”">元素中。请记住，每个排序规则都必须有自己的唯一ID。</charset></collation></collation></p><p></p></li><li class="listitem"><p>
                        Restart the server and use this statement to verify that
                        the collation is present:
                    </p><p style="color:blue;">重新启动服务器并使用此语句验证排序规则是否存在：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW COLLATION WHERE Collation = 'utf8_phone_ci';</code></strong>
+---------------+---------+------+---------+----------+---------+
| Collation     | Charset | Id   | Default | Compiled | Sortlen |
+---------------+---------+------+---------+----------+---------+
| utf8_phone_ci | utf8    | 1029 |         |          |       8 |
+---------------+---------+------+---------+----------+---------+
</pre></li></ol>
                </div>
                <p>
                    Now test the collation to make sure that it has the desired
                    properties.
                </p><p style="color:blue;">现在测试排序规则以确保它具有所需的属性。</p><p></p><p>
                Create a table containing some sample phone numbers using the
                new collation:
            </p><p style="color:blue;">使用新排序规则创建包含一些示例电话号码的表：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE TABLE phonebook (</code></strong>
       <strong class="userinput"><code>  name VARCHAR(64),</code></strong>
       <strong class="userinput"><code>  phone VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_phone_ci</code></strong>
       <strong class="userinput"><code>);</code></strong>
Query OK, 0 rows affected (0.09 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO phonebook VALUES ('Svoj','+7 912 800 80 02');</code></strong>
Query OK, 1 row affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO phonebook VALUES ('Hf','+7 (912) 800 80 04');</code></strong>
Query OK, 1 row affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO phonebook VALUES ('Bar','+7-912-800-80-01');</code></strong>
Query OK, 1 row affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO phonebook VALUES ('Ramil','(7912) 800 80 03');</code></strong>
Query OK, 1 row affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>INSERT INTO phonebook VALUES ('Sanja','+380 (912) 8008005');</code></strong>
Query OK, 1 row affected (0.00 sec)
</pre><p>
                Run some queries to see whether the ignored punctuation
                characters are in fact ignored for comparison and sorting:
            </p><p style="color:blue;">运行一些查询以查看忽略的标点字符是否事实上被忽略以进行比较和排序：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM phonebook ORDER BY phone;</code></strong>
+-------+--------------------+
| name  | phone              |
+-------+--------------------+
| Sanja | +380 (912) 8008005 |
| Bar   | +7-912-800-80-01   |
| Svoj  | +7 912 800 80 02   |
| Ramil | (7912) 800 80 03   |
| Hf    | +7 (912) 800 80 04 |
+-------+--------------------+
5 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM phonebook WHERE phone='+7(912)800-80-01';</code></strong>
+------+------------------+
| name | phone            |
+------+------------------+
| Bar  | +7-912-800-80-01 |
+------+------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM phonebook WHERE phone='79128008001';</code></strong>
+------+------------------+
| name | phone            |
+------+------------------+
| Bar  | +7-912-800-80-01 |
+------+------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM phonebook WHERE phone='7 9 1 2 8 0 0 8 0 0 1';</code></strong>
+------+------------------+
| name | phone            |
+------+------------------+
| Bar  | +7-912-800-80-01 |
+------+------------------+
1 row in set (0.00 sec)
</pre>
            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="ldml-rules"></a>10.14.4.2&nbsp;LDML Syntax Supported in MySQL</h4>

                        </div>

                    </div>

                </div>
                <a class="indexterm" name="idm140286862469440"></a><p>
                This section describes the LDML syntax that MySQL recognizes.
                This is a subset of the syntax described in the LDML
                specification available at
                <a class="ulink" href="http://www.unicode.org/reports/tr35/" target="_top">http://www.unicode.org/reports/tr35/</a>, which
                should be consulted for further information. MySQL recognizes
                a large enough subset of the syntax that, in many cases, it is
                possible to download a collation definition from the Unicode
                Common Locale Data Repository and paste the relevant part
                (that is, the part between the
                <code class="literal">&lt;rules&gt;</code> and
                <code class="literal">&lt;/rules&gt;</code> tags) into the MySQL
                <code class="filename">Index.xml</code> file. The rules described here
                are all supported except that character sorting occurs only at
                the primary level. Rules that specify differences at secondary
                or higher sort levels are recognized (and thus can be included
                in collation definitions) but are treated as equality at the
                primary level.
            </p><p style="color:blue;">本节介绍mysql可以识别的ldml语法。这是ldml规范中描述的语法的一个子集，可在http://www.unicode.org/reports/tr35/上找到，有关进一步的信息，请参阅该规范。mysql可以识别足够大的语法子集，在许多情况下，可以从unicode通用语言环境数据存储库下载排序规则定义，并将相关部分（即<rules>和<rules>标记之间的部分）粘贴到mysql index.xml文件中。这里描述的规则都受支持，除了字符排序只在主要级别发生。在二级或更高排序级别指定差异的规则被识别（因此可以包含在排序规则定义中），但在一级被视为相等。</rules></rules></p><p></p><p>
                The MySQL server generates diagnostics when it finds problems
                while parsing the <code class="filename">Index.xml</code> file. See
                <a class="xref" href="charset.html#collation-diagnostics" title="10.14.4.3&nbsp;Diagnostics During Index.xml Parsing">Section&nbsp;10.14.4.3, “Diagnostics During Index.xml Parsing”</a>.
            </p><p style="color:blue;">mysql服务器在分析index.xml文件时发现问题时生成诊断。参见第10.14.4.3节“index.xml解析期间的诊断”。</p><p></p><p>
                <span class="bold"><strong>Character Representation</strong></span>
            </p><p style="color:blue;">字符表示</p><p></p><p>
                Characters named in LDML rules can be written literally or in
                <code class="literal">\u<em class="replaceable"><code>nnnn</code></em></code> format,
                where <em class="replaceable"><code>nnnn</code></em> is the hexadecimal
                Unicode code point value. For example, <code class="literal">A</code>
                and <code class="literal">á</code> can be written literally or as
                <code class="literal">\u0041</code> and <code class="literal">\u00E1</code>.
                Within hexadecimal values, the digits <code class="literal">A</code>
                through <code class="literal">F</code> are not case-sensitive;
                <code class="literal">\u00E1</code> and <code class="literal">\u00e1</code> are
                equivalent. For UCA 4.0.0 collations, hexadecimal notation can
                be used only for characters in the Basic Multilingual Plane,
                not for characters outside the BMP range of
                <code class="literal">0000</code> to <code class="literal">FFFF</code>. For UCA
                5.2.0 collations, hexadecimal notation can be used for any
                character.
            </p><p style="color:blue;">在ldml规则中命名的字符可以按字面或unnn格式写入，其中nnnn是十六进制unicode码位值。例如，A和A可以按字面或按\u0041和\u00e1编写。在十六进制值中，数字A到F不区分大小写；\u00e1和\u00e1是等效的。对于UCA 4.0.0排序规则，十六进制表示法只能用于基本多语言平面中的字符，而不能用于BMP 0000到FFFF范围之外的字符。对于UCA 5.2.0排序规则，可以对任何字符使用十六进制表示法。</p><p></p><p>
                The <code class="filename">Index.xml</code> file itself should be
                written using UTF-8 encoding.
            </p><p style="color:blue;">index.xml文件本身应该使用utf-8编码编写。</p><p></p><p>
                <span class="bold"><strong>Syntax Rules</strong></span>
            </p><p style="color:blue;">语法规则</p><p></p><p>
                LDML has reset rules and shift rules to specify character
                ordering. Orderings are given as a set of rules that begin
                with a reset rule that establishes an anchor point, followed
                by shift rules that indicate how characters sort relative to
                the anchor point.
            </p><p style="color:blue;">ldml有重置规则和移位规则来指定字符顺序。排序作为一组规则给出，这些规则以建立定位点的重置规则开始，然后是指示字符如何相对于定位点排序的移位规则。</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        A <code class="literal">&lt;reset&gt;</code> rule does not specify
                        any ordering in and of itself. Instead, it
                        <span class="quote">“<span class="quote">resets</span>”</span> the ordering for subsequent shift
                        rules to cause them to be taken in relation to a given
                        character. Either of the following rules resets subsequent
                        shift rules to be taken in relation to the letter
                        <code class="literal">'A'</code>:
                    </p><p style="color:blue;"><reset>规则本身并没有指定任何顺序。相反，它“重置”后续移位规则的顺序，以使它们与给定字符相关。以下任一规则都将重置与字母“A”相关的后续班次规则：</reset></p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;A&lt;/reset&gt;

&lt;reset&gt;\u0041&lt;/reset&gt;
</pre></li><li class="listitem"><p>
                        The <code class="literal">&lt;p&gt;</code>,
                        <code class="literal">&lt;s&gt;</code>, and
                        <code class="literal">&lt;t&gt;</code> shift rules define primary,
                        secondary, and tertiary differences of a character from
                        another character:
                    </p><p style="color:blue;"></p><p>、<s>和<t>移位规则定义字符与另一个字符的主要、次要和三级差异：</t></s></p><p></p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                Use primary differences to distinguish separate
                                letters.
                            </p><p style="color:blue;">使用主要差异来区分不同的字母。</p><p></p></li><li class="listitem"><p>
                                Use secondary differences to distinguish accent
                                variations.
                            </p><p style="color:blue;">使用次要差异来区分重音变化。</p><p></p></li><li class="listitem"><p>
                                Use tertiary differences to distinguish lettercase
                                variations.
                            </p><p style="color:blue;">使用三级差异来区分字母大小写的变化。</p><p></p></li></ul>
                        </div>
                        <p>
                            Either of these rules specifies a primary shift rule for
                            the <code class="literal">'G'</code> character:
                        </p><p style="color:blue;">这些规则之一指定了“g”字符的主移位规则：</p><p></p><pre data-lang="xml" class="programlisting">&lt;p&gt;G&lt;/p&gt;

&lt;p&gt;\u0047&lt;/p&gt;
</pre></li><li class="listitem"><p>
                        The <code class="literal">&lt;i&gt;</code> shift rule indicates that
                        one character sorts identically to another. The following
                        rules cause <code class="literal">'b'</code> to sort the same as
                        <code class="literal">'a'</code>:
                    </p><p style="color:blue;">移位规则表示一个字符与另一个字符的排序相同。以下规则使“b”排序与“a”相同：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;a&lt;/reset&gt;
&lt;i&gt;b&lt;/i&gt;
</pre></li><li class="listitem"><p>
                        Abbreviated shift syntax specifies multiple shift rules
                        using a single pair of tags. The following table shows the
                        correspondence between abbreviated syntax rules and the
                        equivalent nonabbreviated rules.
                    </p><p style="color:blue;">缩写移位语法使用一对标记指定多个移位规则。下表显示了缩写语法规则与等效的非缩写规则之间的对应关系。</p><p></p>
                        <div class="table">
                            <a name="abreviated-shift-syntax"></a><p class="title"><b>Table&nbsp;10.5&nbsp;Abbreviated Shift Syntax</b></p><p style="color:blue;">表10.5缩写移位语法</p><p></p>
                            <div class="table-contents">
                                <table summary="Abbreviated and corresponding nonabbreviated shift syntax rules."><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
                                    <th scope="col">Abbreviated Syntax</th>
                                    <th scope="col">Nonabbreviated Syntax</th>
                                </tr></thead><tbody><tr>
                                    <td scope="row"><code class="literal">&lt;pc&gt;xyz&lt;/pc&gt;</code></td>
                                    <td><code class="literal">&lt;p&gt;x&lt;/p&gt;&lt;p&gt;y&lt;/p&gt;&lt;p&gt;z&lt;/p&gt;</code></td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;sc&gt;xyz&lt;/sc&gt;</code></td>
                                    <td><code class="literal">&lt;s&gt;x&lt;/s&gt;&lt;s&gt;y&lt;/s&gt;&lt;s&gt;z&lt;/s&gt;</code></td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;tc&gt;xyz&lt;/tc&gt;</code></td>
                                    <td><code class="literal">&lt;t&gt;x&lt;/t&gt;&lt;t&gt;y&lt;/t&gt;&lt;t&gt;z&lt;/t&gt;</code></td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;ic&gt;xyz&lt;/ic&gt;</code></td>
                                    <td><code class="literal">&lt;i&gt;x&lt;/i&gt;&lt;i&gt;y&lt;/i&gt;&lt;i&gt;z&lt;/i&gt;</code></td>
                                </tr></tbody></table>
                            </div>

                        </div>
                        <br class="table-break"></li><li class="listitem"><p>
                        An expansion is a reset rule that establishes an anchor
                        point for a multiple-character sequence. MySQL supports
                        expansions 2 to 6 characters long. The following rules put
                        <code class="literal">'z'</code> greater at the primary level than
                        the sequence of three characters <code class="literal">'abc'</code>:
                    </p><p style="color:blue;">扩展是为多字符序列建立定位点的重置规则。mysql支持2到6个字符的扩展。以下规则将“z”放在主要级别，而不是三个字符“abc”的序列：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;abc&lt;/reset&gt;
&lt;p&gt;z&lt;/p&gt;
</pre></li><li class="listitem"><p>
                        A contraction is a shift rule that sorts a
                        multiple-character sequence. MySQL supports contractions 2
                        to 6 characters long. The following rules put the sequence
                        of three characters <code class="literal">'xyz'</code> greater at
                        the primary level than <code class="literal">'a'</code>:
                    </p><p style="color:blue;">压缩是对多字符序列进行排序的移位规则。mysql支持2到6个字符的压缩。以下规则将三个字符的序列“xyz”置于主级别，而不是“a”：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;a&lt;/reset&gt;
&lt;p&gt;xyz&lt;/p&gt;
</pre></li><li class="listitem"><p>
                        Long expansions and long contractions can be used
                        together. These rules put the sequence of three characters
                        <code class="literal">'xyz'</code> greater at the primary level than
                        the sequence of three characters <code class="literal">'abc'</code>:
                    </p><p style="color:blue;">长的扩张和长的收缩可以一起使用。这些规则将三个字符的序列“xyz”置于主要级别，而不是三个字符的序列“abc”：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;abc&lt;/reset&gt;
&lt;p&gt;xyz&lt;/p&gt;
</pre></li><li class="listitem"><p>
                        Normal expansion syntax uses <code class="literal">&lt;x&gt;</code>
                        plus <code class="literal">&lt;extend&gt;</code> elements to specify
                        an expansion. The following rules put the character
                        <code class="literal">'k'</code> greater at the secondary level than
                        the sequence <code class="literal">'ch'</code>. That is,
                        <code class="literal">'k'</code> behaves as if it expands to a
                        character after <code class="literal">'c'</code> followed by
                        <code class="literal">'h'</code>:
                    </p><p style="color:blue;">普通扩展语法使用<x>加上<extend>元素来指定扩展。以下规则将字符“k”置于次要级别，而不是序列“ch”。也就是说，“k”的行为就像它在“c”之后扩展为一个字符，然后是“h”：</extend></x></p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;c&lt;/reset&gt;
&lt;x&gt;&lt;s&gt;k&lt;/s&gt;&lt;extend&gt;h&lt;/extend&gt;&lt;/x&gt;
</pre><p>
                        This syntax permits long sequences. These rules sort the
                        sequence <code class="literal">'ccs'</code> greater at the tertiary
                        level than the sequence <code class="literal">'cscs'</code>:
                    </p><p style="color:blue;">此语法允许长序列。这些规则对序列“ccs”的排序在第三级大于序列“cscs”：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;cs&lt;/reset&gt;
&lt;x&gt;&lt;t&gt;ccs&lt;/t&gt;&lt;extend&gt;cs&lt;/extend&gt;&lt;/x&gt;
</pre><p>
                        The LDML specification describes normal expansion syntax
                        as <span class="quote">“<span class="quote">tricky.</span>”</span> See that specification for
                        details.
                    </p><p style="color:blue;">ldml规范将正常的扩展语法描述为“棘手的”。有关详细信息，请参阅该规范。</p><p></p></li><li class="listitem"><p>
                        Previous context syntax uses <code class="literal">&lt;x&gt;</code>
                        plus <code class="literal">&lt;context&gt;</code> elements to
                        specify that the context before a character affects how it
                        sorts. The following rules put <code class="literal">'-'</code>
                        greater at the secondary level than
                        <code class="literal">'a'</code>, but only when
                        <code class="literal">'-'</code> occurs after
                        <code class="literal">'b'</code>:
                    </p><p style="color:blue;">以前的上下文语法使用<x>加上<context>元素来指定字符前面的上下文影响其排序方式。以下规则将“-”放在次要级别上大于“A”，但仅当“B”之后出现“-”时：</context></x></p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;a&lt;/reset&gt;
&lt;x&gt;&lt;context&gt;b&lt;/context&gt;&lt;s&gt;-&lt;/s&gt;&lt;/x&gt;
</pre></li><li class="listitem"><p>
                        Previous context syntax can include the
                        <code class="literal">&lt;extend&gt;</code> element. These rules put
                        <code class="literal">'def'</code> greater at the primary level than
                        <code class="literal">'aghi'</code>, but only when
                        <code class="literal">'def'</code> comes after
                        <code class="literal">'abc'</code>:
                    </p><p style="color:blue;">以前的上下文语法可以包含<extend>元素。这些规则将“def”放在主要级别比“aghi”大，但仅当“def”在“abc”之后时：</extend></p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;a&lt;/reset&gt;
&lt;x&gt;&lt;context&gt;abc&lt;/context&gt;&lt;p&gt;def&lt;/p&gt;&lt;extend&gt;ghi&lt;/extend&gt;&lt;/x&gt;
</pre></li><li class="listitem"><p>
                        Reset rules permit a <code class="literal">before</code> attribute.
                        Normally, shift rules after a reset rule indicate
                        characters that sort after the reset character. Shift
                        rules after a reset rule that has the
                        <code class="literal">before</code> attribute indicate characters
                        that sort before the reset character. The following rules
                        put the character <code class="literal">'b'</code> immediately
                        before <code class="literal">'a'</code> at the primary level:
                    </p><p style="color:blue;">重置规则允许before属性。通常，重置规则后的移位规则指示在重置字符后排序的字符。具有before属性的重置规则之后的移位规则指示在重置字符之前排序的字符。以下规则将字符“b”放在主要级别的“a”之前：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset before="primary"&gt;a&lt;/reset&gt;
&lt;p&gt;b&lt;/p&gt;
</pre><p>
                        Permissible <code class="literal">before</code> attribute values
                        specify the sort level by name or the equivalent numeric
                        value:
                    </p><p style="color:blue;">允许在属性值之前按名称或等效数值指定排序级别：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset before="primary"&gt;
&lt;reset before="1"&gt;

&lt;reset before="secondary"&gt;
&lt;reset before="2"&gt;

&lt;reset before="tertiary"&gt;
&lt;reset before="3"&gt;
</pre></li><li class="listitem"><p>
                        A reset rule can name a logical reset position rather than
                        a literal character:
                    </p><p style="color:blue;">重置规则可以命名逻辑重置位置，而不是文字字符：</p><p></p><pre data-lang="xml" class="programlisting">&lt;first_tertiary_ignorable/&gt;
&lt;last_tertiary_ignorable/&gt;
&lt;first_secondary_ignorable/&gt;
&lt;last_secondary_ignorable/&gt;
&lt;first_primary_ignorable/&gt;
&lt;last_primary_ignorable/&gt;
&lt;first_variable/&gt;
&lt;last_variable/&gt;
&lt;first_non_ignorable/&gt;
&lt;last_non_ignorable/&gt;
&lt;first_trailing/&gt;
&lt;last_trailing/&gt;
</pre><p>
                        These rules put <code class="literal">'z'</code> greater at the
                        primary level than nonignorable characters that have a
                        Default Unicode Collation Element Table (DUCET) entry and
                        that are not CJK:
                    </p><p style="color:blue;">这些规则将“z”置于主要级别，而不是具有默认unicode排序规则元素表（ducet）项且不是cjk的不可忽略字符：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;&lt;last_non_ignorable/&gt;&lt;/reset&gt;
&lt;p&gt;z&lt;/p&gt;
</pre><p>
                        Logical positions have the code points shown in the
                        following table.
                    </p><p style="color:blue;">逻辑位置的代码点如下表所示。</p><p></p>
                        <div class="table">
                            <a name="logical-reset-position-code-points"></a><p class="title"><b>Table&nbsp;10.6&nbsp;Logical Reset Position Code Points</b></p><p style="color:blue;">表10.6逻辑复位位置代码点</p><p></p>
                            <div class="table-contents">
                                <table summary="Logical positions and Unicode 4.0.0 and Unicode 5.2.0 code points."><colgroup><col width="40%"><col width="30%"><col width="30%"></colgroup><thead><tr>
                                    <th scope="col">Logical Position</th>
                                    <th scope="col">Unicode 4.0.0 Code Point</th>
                                    <th scope="col">Unicode 5.2.0 Code Point</th>
                                </tr></thead><tbody><tr>
                                    <td scope="row"><code class="literal">&lt;first_non_ignorable/&gt;</code></td>
                                    <td>U+02D0</td>
                                    <td>U+02D0</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;last_non_ignorable/&gt;</code></td>
                                    <td>U+A48C</td>
                                    <td>U+1342E</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;first_primary_ignorable/&gt;</code></td>
                                    <td>U+0332</td>
                                    <td>U+0332</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;last_primary_ignorable/&gt;</code></td>
                                    <td>U+20EA</td>
                                    <td>U+101FD</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;first_secondary_ignorable/&gt;</code></td>
                                    <td>U+0000</td>
                                    <td>U+0000</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;last_secondary_ignorable/&gt;</code></td>
                                    <td>U+FE73</td>
                                    <td>U+FE73</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;first_tertiary_ignorable/&gt;</code></td>
                                    <td>U+0000</td>
                                    <td>U+0000</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;last_tertiary_ignorable/&gt;</code></td>
                                    <td>U+FE73</td>
                                    <td>U+FE73</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;first_trailing/&gt;</code></td>
                                    <td>U+0000</td>
                                    <td>U+0000</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;last_trailing/&gt;</code></td>
                                    <td>U+0000</td>
                                    <td>U+0000</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;first_variable/&gt;</code></td>
                                    <td>U+0009</td>
                                    <td>U+0009</td>
                                </tr><tr>
                                    <td scope="row"><code class="literal">&lt;last_variable/&gt;</code></td>
                                    <td>U+2183</td>
                                    <td>U+1D371</td>
                                </tr></tbody></table>
                            </div>

                        </div>
                        <br class="table-break"></li><li class="listitem"><p>
                        The <code class="literal">&lt;collation&gt;</code> element permits a
                        <code class="literal">shift-after-method</code> attribute that
                        affects character weight calculation for shift rules. The
                        attribute has these permitted values:
                    </p><p style="color:blue;">元素允许shift after method属性，该属性影响移位规则的字符权重计算。该属性具有以下允许值：</p><p></p>
                        <div class="itemizedlist">
                            <ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                                <code class="literal">simple</code>: Calculate character weights
                                as for reset rules that do not have a
                                <code class="literal">before</code> attribute. This is the
                                default if the attribute is not given.
                            </p><p style="color:blue;">简单：为没有before属性的重置规则计算字符权重。如果未给定属性，则此为默认值。</p><p></p></li><li class="listitem"><p>
                                <code class="literal">expand</code>: Use expansions for shifts
                                after reset rules.
                            </p><p style="color:blue;">展开：对重置规则后的轮班使用展开。</p><p></p></li></ul>
                        </div>
                        <p>
                            Suppose that <code class="literal">'0'</code> and
                            <code class="literal">'1'</code> have weights of
                            <code class="literal">0E29</code> and <code class="literal">0E2A</code> and we
                            want to put all basic Latin letters between
                            <code class="literal">'0'</code> and <code class="literal">'1'</code>:
                        </p><p style="color:blue;">假设“0”和“1”的权重分别为0e29和0e2a，我们希望将所有基本拉丁字母放在“0”和“1”之间：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;0&lt;/reset&gt;
&lt;pc&gt;abcdefghijklmnopqrstuvwxyz&lt;/pc&gt;
</pre><p>
                            For simple shift mode, weights are calculated as follows:
                        </p><p style="color:blue;">对于简单换档模式，重量计算如下：</p><p></p><pre data-lang="none" class="programlisting">'a' has weight 0E29+1
'b' has weight 0E29+2
'c' has weight 0E29+3
...
</pre><p>
                            However, there are not enough vacant positions to put 26
                            characters between <code class="literal">'0'</code> and
                            <code class="literal">'1'</code>. The result is that digits and
                            letters are intermixed.
                        </p><p style="color:blue;">但是，没有足够的空缺职位在“0”和“1”之间放置26个字符。结果是数字和字母混合在一起。</p><p></p><p>
                            To solve this, use
                            <code class="literal">shift-after-method="expand"</code>. Then
                            weights are calculated like this:
                        </p><p style="color:blue;">要解决此问题，请使用shift after method=“expand”。然后按如下方式计算权重：</p><p></p><pre data-lang="none" class="programlisting">'a' has weight [0E29][233D+1]
'b' has weight [0E29][233D+2]
'c' has weight [0E29][233D+3]
...
</pre><p>
                            <code class="literal">233D</code> is the UCA 4.0.0 weight for
                            character <code class="literal">0xA48C</code>, which is the last
                            nonignorable character (a sort of the greatest character
                            in the collation, excluding CJK). UCA 5.2.0 is similar but
                            uses <code class="literal">3ACA</code>, for character
                            <code class="literal">0x1342E</code>.
                        </p><p style="color:blue;">233d是字符0xa48c的uca 4.0.0权重，它是最后一个不可忽略的字符（排序规则中最大的一种字符，不包括cjk）。uca 5.2.0与此类似，但对字符0x1342e使用3aca。</p><p></p></li></ul>
                </div>
                <p>
          <span class="bold"><strong>MySQL-Specific LDML
          Extensions</strong></span>
                </p><p style="color:blue;">特定于mysql的ldml扩展</p><p></p><p>
                An extension to LDML rules permits the
                <code class="literal">&lt;collation&gt;</code> element to include an
                optional <code class="literal">version</code> attribute in
                <code class="literal">&lt;collation&gt;</code> tags to indicate the UCA
                version on which the collation is based. If the
                <code class="literal">version</code> attribute is omitted, its default
                value is <code class="literal">4.0.0</code>. For example, this
                specification indicates a collation that is based on UCA
                5.2.0:
            </p><p style="color:blue;">ldml规则的扩展允许<collation>元素在<collation>标记中包含可选的version属性，以指示排序规则所基于的uca版本。如果省略version属性，则其默认值为4.0.0。例如，此规范指示基于UCA 5.2.0的排序规则：</collation></collation></p><p></p><pre data-lang="xml" class="programlisting">&lt;collation id="<em class="replaceable"><code>nnn</code></em>" name="utf8_<em class="replaceable"><code>xxx</code></em>_ci" version="5.2.0"&gt;
...
&lt;/collation&gt;
</pre>
            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h4 class="title"><a name="collation-diagnostics"></a>10.14.4.3&nbsp;Diagnostics During Index.xml Parsing</h4>

                        </div>

                    </div>

                </div>
                <p>
                    The MySQL server generates diagnostics when it finds problems
                    while parsing the <code class="filename">Index.xml</code> file:
                </p><p style="color:blue;">MySQL服务器在分析index.xml文件时发现问题时生成诊断：</p><p></p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        Unknown tags are written to the error log. For example,
                        the following message results if a collation definition
                        contains a <code class="literal">&lt;aaa&gt;</code> tag:
                    </p><p style="color:blue;">未知标记将写入错误日志。例如，如果排序规则定义包含<a a="">标记，将生成以下消息：</a></p><p></p><pre data-lang="none" class="programlisting">[Warning] Buffered warning: Unknown LDML tag:
'charsets/charset/collation/rules/aaa'
</pre></li><li class="listitem"><p>
                        If collation initialization is not possible, the server
                        reports an <span class="quote">“<span class="quote">Unknown collation</span>”</span> error, and
                        also generates warnings explaining the problems, such as
                        in the previous example. In other cases, when a collation
                        description is generally correct but contains some unknown
                        tags, the collation is initialized and is available for
                        use. The unknown parts are ignored, but a warning is
                        generated in the error log.
                    </p><p style="color:blue;">如果无法初始化排序规则，服务器将报告“未知排序规则”错误，并生成解释问题的警告，例如在上一个示例中。在其他情况下，当排序规则描述通常是正确的，但包含一些未知标记时，排序规则将被初始化并可供使用。将忽略未知部分，但在错误日志中生成警告。</p><p></p></li><li class="listitem"><p>
                        Problems with collations generate warnings that clients
                        can display with <a class="link" href="sql-syntax.html#show-warnings" title="13.7.5.40&nbsp;SHOW WARNINGS Syntax"><code class="literal">SHOW
                        WARNINGS</code></a>. Suppose that a reset rule contains an
                        expansion longer than the maximum supported length of 6
                        characters:
                    </p><p style="color:blue;">排序规则的问题会生成警告，客户端可以在显示警告时显示这些警告。假设重置规则包含比6个字符的最大支持长度长的扩展：</p><p></p><pre data-lang="xml" class="programlisting">&lt;reset&gt;abcdefghi&lt;/reset&gt;
&lt;i&gt;x&lt;/i&gt;
</pre><p>
                        An attempt to use the collation produces warnings:
                    </p><p style="color:blue;">尝试使用排序规则会产生警告：</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT _utf8'test' COLLATE utf8_test_ci;</code></strong>
ERROR 1273 (HY000): Unknown collation: 'utf8_test_ci'
mysql&gt; <strong class="userinput"><code>SHOW WARNINGS;</code></strong>
+---------+------+----------------------------------------+
| Level   | Code | Message                                |
+---------+------+----------------------------------------+
| Error   | 1273 | Unknown collation: 'utf8_test_ci'      |
| Warning | 1273 | Expansion is too long at 'abcdefghi=x' |
+---------+------+----------------------------------------+
</pre></li></ul>
                </div>

            </div>

        </div>

    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="charset-configuration"></a>10.15&nbsp;Character Set Configuration</h2>

                </div>

            </div>

        </div>
        <p>
            The MySQL server has a compiled-in default character set and
            collation. To change these defaults, use the
            <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="option">--character-set-server</code></a> and
            <a class="link" href="server-administration.html#sysvar_collation_server"><code class="option">--collation-server</code></a> options when you
            start the server. See <a class="xref" href="server-administration.html#server-options" title="5.1.6&nbsp;Server Command Options">Section&nbsp;5.1.6, “Server Command Options”</a>. The
            collation must be a legal collation for the default character set.
            To determine which collations are available for each character
            set, use the <a class="link" href="sql-syntax.html#show-collation" title="13.7.5.4&nbsp;SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a>
            statement or query the <code class="literal">INFORMATION_SCHEMA</code>
            <a class="link" href="information-schema.html#collations-table" title="24.3&nbsp;The INFORMATION_SCHEMA COLLATIONS Table"><code class="literal">COLLATIONS</code></a> table.
        </p><p style="color:blue;">mysql服务器有一个编译的默认字符集和排序规则。要更改这些默认值，请在启动服务器时使用--character set server和--collation server选项。参见第5.1.6节“服务器命令选项”。排序规则必须是默认字符集的合法排序规则。要确定每个字符集可以使用哪些排序规则，请使用show collation语句或查询information\u schema collations表。</p><p></p><p>
        If you try to use a character set that is not compiled into your
        binary, you might run into the following problems:
    </p><p style="color:blue;">如果尝试使用未编译为二进制文件的字符集，可能会遇到以下问题：</p><p></p>
        <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                If your program uses an incorrect path to determine where the
                character sets are stored (which is typically the
                <code class="filename">share/mysql/charsets</code> or
                <code class="filename">share/charsets</code> directory under the MySQL
                installation directory), this can be fixed by using the
                <code class="option">--character-sets-dir</code> option when you run the
                program. For example, to specify a directory to be used by
                MySQL client programs, list it in the
                <code class="literal">[client]</code> group of your option file. The
                examples given here show what the setting might look like for
                Unix or Windows, respectively:
            </p><p style="color:blue;">如果程序使用不正确的路径来确定字符集的存储位置（通常是MySQL安装目录下的share/mysql/charsets或share/charsets目录），则可以在运行程序时使用--character sets dir选项来解决此问题。例如，要指定MySQL客户端程序要使用的目录，请将其列在选项文件的[客户端]组中。这里给出的示例分别显示了UNIX或Windows的设置：</p><p></p><pre data-lang="ini" class="programlisting">[client]
character-sets-dir=/usr/local/mysql/share/mysql/charsets

[client]
character-sets-dir="C:/Program Files/MySQL/MySQL Server 5.7/share/charsets"
</pre></li><li class="listitem"><p>
                If the character set is a complex character set that cannot be
                loaded dynamically, you must recompile the program with
                support for the character set.
            </p><p style="color:blue;">如果字符集是无法动态加载的复杂字符集，则必须重新编译支持该字符集的程序。</p><p></p><p>
                For Unicode character sets, you can define collations without
                recompiling by using LDML notation. See
                <a class="xref" href="charset.html#adding-collation-unicode-uca" title="10.14.4&nbsp;Adding a UCA Collation to a Unicode Character Set">Section&nbsp;10.14.4, “Adding a UCA Collation to a Unicode Character Set”</a>.
            </p><p style="color:blue;">对于Unicode字符集，可以使用LDML表示法定义排序规则，而无需重新编译。参见第10.14.4节“向Unicode字符集添加UCA排序规则”。</p><p></p></li><li class="listitem"><p>
                If the character set is a dynamic character set, but you do
                not have a configuration file for it, you should install the
                configuration file for the character set from a new MySQL
                distribution.
            </p><p style="color:blue;">如果字符集是动态字符集，但您没有该字符集的配置文件，则应该从新的mysql发行版安装该字符集的配置文件。</p><p></p></li><li class="listitem"><p>
                If your character set index file
                (<code class="filename">Index.xml</code>) does not contain the name for
                the character set, your program displays an error message:
            </p><p style="color:blue;">如果字符集索引文件（index.xml）不包含字符集的名称，则程序将显示错误消息：</p><p></p><pre data-lang="none" class="programlisting">Character set '<em class="replaceable"><code>charset_name</code></em>' is not a compiled character set and is not
specified in the '/usr/share/mysql/charsets/Index.xml' file
</pre><p>
                To solve this problem, you should either get a new index file
                or manually add the name of any missing character sets to the
                current file.
            </p><p style="color:blue;">若要解决此问题，应获取新的索引文件，或手动将任何缺少的字符集的名称添加到当前文件中。</p><p></p></li></ul>
        </div>
        <p>
            You can force client programs to use specific character set as
            follows:
        </p><p style="color:blue;">可以强制客户端程序使用特定字符集，如下所示：</p><p></p><pre data-lang="ini" class="programlisting">[client]
default-character-set=<em class="replaceable"><code>charset_name</code></em>
</pre><p>
        This is normally unnecessary. However, when
        <a class="link" href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a> differs from
        <a class="link" href="server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a> or
        <a class="link" href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a>, and you
        input characters manually (as database object identifiers, column
        values, or both), these may be displayed incorrectly in output
        from the client or the output itself may be formatted incorrectly.
        In such cases, starting the mysql client with
        <a class="link" href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=<em class="replaceable"><code>system_character_set</code></em></code></a>—that
        is, setting the client character set to match the system character
        set—should fix the problem.
    </p><p style="color:blue;">这通常是不必要的。但是，当字符集系统不同于字符集服务器或字符集客户端，并且您手动输入字符（作为数据库对象标识符、列值或两者）时，这些字符可能在客户端的输出中显示不正确，或者输出本身的格式可能不正确。在这种情况下，使用--default character set=system_character_set启动mysql客户机—也就是说，将客户机字符集设置为与系统字符集匹配应该可以解决问题。</p><p></p>
    </div>
    <div class="section">
        <div class="titlepage">
            <div>
                <div>
                    <h2 class="title" style="clear: both"><a name="locale-support"></a>10.16&nbsp;MySQL Server Locale Support</h2>

                </div>

            </div>

        </div>
        <p>
            The locale indicated by the
            <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable
            controls the language used to display day and month names and
            abbreviations. This variable affects the output from the
            <a class="link" href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a>,
            <a class="link" href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a>, and
            <a class="link" href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> functions.
        </p><p style="color:blue;">lc_time_names系统变量指示的语言环境控制用于显示日、月名称和缩写的语言。此变量影响date_format（）、dayname（）和monthname（）函数的输出。</p><p></p><p>
        <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> does not affect the
        <a class="link" href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> or
        <a class="link" href="functions.html#function_get-format"><code class="literal">GET_FORMAT()</code></a> function.
    </p><p style="color:blue;">lc_time_names不影响str_to_date（）或get_format（）函数。</p><p></p><p>
        The <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> value does not
        affect the result from <a class="link" href="functions.html#function_format"><code class="literal">FORMAT()</code></a>,
        but this function takes an optional third parameter that enables a
        locale to be specified to be used for the result number's decimal
        point, thousands separator, and grouping between separators.
        Permissible locale values are the same as the legal values for the
        <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> system variable.
    </p><p style="color:blue;">lc_time_names值不影响format（）的结果，但此函数接受第三个可选参数，该参数允许指定区域设置以用于结果号的小数点、千位分隔符和分隔符之间的分组。允许的区域设置值与lc_time_names系统变量的合法值相同。</p><p></p><p>
        Locale names have language and region subtags listed by IANA
        (<a class="ulink" href="http://www.iana.org/assignments/language-subtag-registry" target="_top">http://www.iana.org/assignments/language-subtag-registry</a>)
        such as <code class="literal">'ja_JP'</code> or <code class="literal">'pt_BR'</code>.
        The default value is <code class="literal">'en_US'</code> regardless of your
        system's locale setting, but you can set the value at server
        startup, or set the <code class="literal">GLOBAL</code> value at runtime if
        you have privileges sufficient to set global system variables; see
        <a class="xref" href="server-administration.html#system-variable-privileges" title="5.1.8.1&nbsp;System Variable Privileges">Section&nbsp;5.1.8.1, “System Variable Privileges”</a>. Any client can
        examine the value of
        <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> or set its
        <code class="literal">SESSION</code> value to affect the locale for its own
        connection.
    </p><p style="color:blue;">区域设置名称具有IANA列出的语言和区域子标记（http://www.iana.org/assignments/language-subtag-registry），如“ja_jp”或“pt_br”。无论系统的区域设置如何，默认值都是“en_us”，但如果您有足够的权限设置全局系统变量，则可以在服务器启动时设置该值，或在运行时设置全局值；请参阅第5.1.8.1节“系统变量权限”。任何客户端都可以检查lc_time_names的值，或设置其会话值以影响其自身连接的区域设置。</p><p></p><pre data-lang="sql" class="programlisting">mysql&gt; <strong class="userinput"><code>SET NAMES 'utf8';</code></strong>
Query OK, 0 rows affected (0.09 sec)

mysql&gt; <strong class="userinput"><code>SELECT @@lc_time_names;</code></strong>
+-----------------+
| @@lc_time_names |
+-----------------+
| en_US           |
+-----------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT DAYNAME('2010-01-01'), MONTHNAME('2010-01-01');</code></strong>
+-----------------------+-------------------------+
| DAYNAME('2010-01-01') | MONTHNAME('2010-01-01') |
+-----------------------+-------------------------+
| Friday                | January                 |
+-----------------------+-------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('2010-01-01','%W %a %M %b');</code></strong>
+-----------------------------------------+
| DATE_FORMAT('2010-01-01','%W %a %M %b') |
+-----------------------------------------+
| Friday Fri January Jan                  |
+-----------------------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SET lc_time_names = 'es_MX';</code></strong>
Query OK, 0 rows affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT @@lc_time_names;</code></strong>
+-----------------+
| @@lc_time_names |
+-----------------+
| es_MX           |
+-----------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT DAYNAME('2010-01-01'), MONTHNAME('2010-01-01');</code></strong>
+-----------------------+-------------------------+
| DAYNAME('2010-01-01') | MONTHNAME('2010-01-01') |
+-----------------------+-------------------------+
| viernes               | enero                   |
+-----------------------+-------------------------+
1 row in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT DATE_FORMAT('2010-01-01','%W %a %M %b');</code></strong>
+-----------------------------------------+
| DATE_FORMAT('2010-01-01','%W %a %M %b') |
+-----------------------------------------+
| viernes vie enero ene                   |
+-----------------------------------------+
1 row in set (0.00 sec)
</pre><p>
        The day or month name for each of the affected functions is
        converted from <code class="literal">utf8</code> to the character set
        indicated by the
        <a class="link" href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a> system
        variable.
    </p><p style="color:blue;">每个受影响函数的日或月名称将从utf8转换为character set_connection系统变量所指示的字符集。</p><p></p><p>
        <a class="link" href="server-administration.html#sysvar_lc_time_names"><code class="literal">lc_time_names</code></a> may be set to any
        of the following locale values. The set of locales supported by
        MySQL may differ from those supported by your operating system.
    </p><p style="color:blue;">lc_time_names可以设置为以下任何语言环境值。mysql支持的区域设置集可能不同于操作系统支持的区域设置集。</p><p></p>
        <div class="informaltable">
            <table summary="Locale values to which lc_time_names may be set. The locale values are presented in a two-column table and in alphabetical order from top to bottom."><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr>
                <th scope="col">Locale Value</th>
                <th scope="col">Meaning</th>
            </tr></thead><tbody><tr>
                <td scope="row"><code class="literal">ar_AE</code>: Arabic - United Arab Emirates</td>
                <td><code class="literal">ar_BH</code>: Arabic - Bahrain</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_DZ</code>: Arabic - Algeria</td>
                <td><code class="literal">ar_EG</code>: Arabic - Egypt</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_IN</code>: Arabic - India</td>
                <td><code class="literal">ar_IQ</code>: Arabic - Iraq</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_JO</code>: Arabic - Jordan</td>
                <td><code class="literal">ar_KW</code>: Arabic - Kuwait</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_LB</code>: Arabic - Lebanon</td>
                <td><code class="literal">ar_LY</code>: Arabic - Libya</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_MA</code>: Arabic - Morocco</td>
                <td><code class="literal">ar_OM</code>: Arabic - Oman</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_QA</code>: Arabic - Qatar</td>
                <td><code class="literal">ar_SA</code>: Arabic - Saudi Arabia</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_SD</code>: Arabic - Sudan</td>
                <td><code class="literal">ar_SY</code>: Arabic - Syria</td>
            </tr><tr>
                <td scope="row"><code class="literal">ar_TN</code>: Arabic - Tunisia</td>
                <td><code class="literal">ar_YE</code>: Arabic - Yemen</td>
            </tr><tr>
                <td scope="row"><code class="literal">be_BY</code>: Belarusian - Belarus</td>
                <td><code class="literal">bg_BG</code>: Bulgarian - Bulgaria</td>
            </tr><tr>
                <td scope="row"><code class="literal">ca_ES</code>: Catalan - Spain</td>
                <td><code class="literal">cs_CZ</code>: Czech - Czech Republic</td>
            </tr><tr>
                <td scope="row"><code class="literal">da_DK</code>: Danish - Denmark</td>
                <td><code class="literal">de_AT</code>: German - Austria</td>
            </tr><tr>
                <td scope="row"><code class="literal">de_BE</code>: German - Belgium</td>
                <td><code class="literal">de_CH</code>: German - Switzerland</td>
            </tr><tr>
                <td scope="row"><code class="literal">de_DE</code>: German - Germany</td>
                <td><code class="literal">de_LU</code>: German - Luxembourg</td>
            </tr><tr>
                <td scope="row"><code class="literal">el_GR</code>: Greek - Greece</td>
                <td><code class="literal">en_AU</code>: English - Australia</td>
            </tr><tr>
                <td scope="row"><code class="literal">en_CA</code>: English - Canada</td>
                <td><code class="literal">en_GB</code>: English - United Kingdom</td>
            </tr><tr>
                <td scope="row"><code class="literal">en_IN</code>: English - India</td>
                <td><code class="literal">en_NZ</code>: English - New Zealand</td>
            </tr><tr>
                <td scope="row"><code class="literal">en_PH</code>: English - Philippines</td>
                <td><code class="literal">en_US</code>: English - United States</td>
            </tr><tr>
                <td scope="row"><code class="literal">en_ZA</code>: English - South Africa</td>
                <td><code class="literal">en_ZW</code>: English - Zimbabwe</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_AR</code>: Spanish - Argentina</td>
                <td><code class="literal">es_BO</code>: Spanish - Bolivia</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_CL</code>: Spanish - Chile</td>
                <td><code class="literal">es_CO</code>: Spanish - Colombia</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_CR</code>: Spanish - Costa Rica</td>
                <td><code class="literal">es_DO</code>: Spanish - Dominican Republic</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_EC</code>: Spanish - Ecuador</td>
                <td><code class="literal">es_ES</code>: Spanish - Spain</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_GT</code>: Spanish - Guatemala</td>
                <td><code class="literal">es_HN</code>: Spanish - Honduras</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_MX</code>: Spanish - Mexico</td>
                <td><code class="literal">es_NI</code>: Spanish - Nicaragua</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_PA</code>: Spanish - Panama</td>
                <td><code class="literal">es_PE</code>: Spanish - Peru</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_PR</code>: Spanish - Puerto Rico</td>
                <td><code class="literal">es_PY</code>: Spanish - Paraguay</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_SV</code>: Spanish - El Salvador</td>
                <td><code class="literal">es_US</code>: Spanish - United States</td>
            </tr><tr>
                <td scope="row"><code class="literal">es_UY</code>: Spanish - Uruguay</td>
                <td><code class="literal">es_VE</code>: Spanish - Venezuela</td>
            </tr><tr>
                <td scope="row"><code class="literal">et_EE</code>: Estonian - Estonia</td>
                <td><code class="literal">eu_ES</code>: Basque - Basque</td>
            </tr><tr>
                <td scope="row"><code class="literal">fi_FI</code>: Finnish - Finland</td>
                <td><code class="literal">fo_FO</code>: Faroese - Faroe Islands</td>
            </tr><tr>
                <td scope="row"><code class="literal">fr_BE</code>: French - Belgium</td>
                <td><code class="literal">fr_CA</code>: French - Canada</td>
            </tr><tr>
                <td scope="row"><code class="literal">fr_CH</code>: French - Switzerland</td>
                <td><code class="literal">fr_FR</code>: French - France</td>
            </tr><tr>
                <td scope="row"><code class="literal">fr_LU</code>: French - Luxembourg</td>
                <td><code class="literal">gl_ES</code>: Galician - Spain</td>
            </tr><tr>
                <td scope="row"><code class="literal">gu_IN</code>: Gujarati - India</td>
                <td><code class="literal">he_IL</code>: Hebrew - Israel</td>
            </tr><tr>
                <td scope="row"><code class="literal">hi_IN</code>: Hindi - India</td>
                <td><code class="literal">hr_HR</code>: Croatian - Croatia</td>
            </tr><tr>
                <td scope="row"><code class="literal">hu_HU</code>: Hungarian - Hungary</td>
                <td><code class="literal">id_ID</code>: Indonesian - Indonesia</td>
            </tr><tr>
                <td scope="row"><code class="literal">is_IS</code>: Icelandic - Iceland</td>
                <td><code class="literal">it_CH</code>: Italian - Switzerland</td>
            </tr><tr>
                <td scope="row"><code class="literal">it_IT</code>: Italian - Italy</td>
                <td><code class="literal">ja_JP</code>: Japanese - Japan</td>
            </tr><tr>
                <td scope="row"><code class="literal">ko_KR</code>: Korean - Republic of Korea</td>
                <td><code class="literal">lt_LT</code>: Lithuanian - Lithuania</td>
            </tr><tr>
                <td scope="row"><code class="literal">lv_LV</code>: Latvian - Latvia</td>
                <td><code class="literal">mk_MK</code>: Macedonian - FYROM</td>
            </tr><tr>
                <td scope="row"><code class="literal">mn_MN</code>: Mongolia - Mongolian</td>
                <td><code class="literal">ms_MY</code>: Malay - Malaysia</td>
            </tr><tr>
                <td scope="row"><code class="literal">nb_NO</code>: Norwegian(Bokmål) - Norway</td>
                <td><code class="literal">nl_BE</code>: Dutch - Belgium</td>
            </tr><tr>
                <td scope="row"><code class="literal">nl_NL</code>: Dutch - The Netherlands</td>
                <td><code class="literal">no_NO</code>: Norwegian - Norway</td>
            </tr><tr>
                <td scope="row"><code class="literal">pl_PL</code>: Polish - Poland</td>
                <td><code class="literal">pt_BR</code>: Portugese - Brazil</td>
            </tr><tr>
                <td scope="row"><code class="literal">pt_PT</code>: Portugese - Portugal</td>
                <td><code class="literal">rm_CH</code>: Romansh - Switzerland</td>
            </tr><tr>
                <td scope="row"><code class="literal">ro_RO</code>: Romanian - Romania</td>
                <td><code class="literal">ru_RU</code>: Russian - Russia</td>
            </tr><tr>
                <td scope="row"><code class="literal">ru_UA</code>: Russian - Ukraine</td>
                <td><code class="literal">sk_SK</code>: Slovak - Slovakia</td>
            </tr><tr>
                <td scope="row"><code class="literal">sl_SI</code>: Slovenian - Slovenia</td>
                <td><code class="literal">sq_AL</code>: Albanian - Albania</td>
            </tr><tr>
                <td scope="row"><code class="literal">sr_RS</code>: Serbian - Yugoslavia</td>
                <td><code class="literal">sv_FI</code>: Swedish - Finland</td>
            </tr><tr>
                <td scope="row"><code class="literal">sv_SE</code>: Swedish - Sweden</td>
                <td><code class="literal">ta_IN</code>: Tamil - India</td>
            </tr><tr>
                <td scope="row"><code class="literal">te_IN</code>: Telugu - India</td>
                <td><code class="literal">th_TH</code>: Thai - Thailand</td>
            </tr><tr>
                <td scope="row"><code class="literal">tr_TR</code>: Turkish - Turkey</td>
                <td><code class="literal">uk_UA</code>: Ukrainian - Ukraine</td>
            </tr><tr>
                <td scope="row"><code class="literal">ur_PK</code>: Urdu - Pakistan</td>
                <td><code class="literal">vi_VN</code>: Vietnamese - Viet Nam</td>
            </tr><tr>
                <td scope="row"><code class="literal">zh_CN</code>: Chinese - China</td>
                <td><code class="literal">zh_HK</code>: Chinese - Hong Kong</td>
            </tr><tr>
                <td scope="row"><code class="literal">zh_TW</code>: Chinese - Taiwan Province of China</td>
                <td></td>
            </tr></tbody></table>
        </div>

    </div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
    <hr>
    <table width="100%" summary="Navigation footer">
        <tbody><tr>
            <td width="40%" align="left"><a accesskey="p" href="language-structure.html">Prev</a></td>
            <td width="20%" align="center"><a accesskey="u" href="">Up</a></td>
            <td width="40%" align="right">&nbsp;<a accesskey="n" href="data-types.html">Next</a></td>
        </tr>
        <tr>
            <td width="40%" align="left" valign="top">Chapter&nbsp;9 Language Structure</td>
            <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
            <td width="40%" align="right" valign="top">Chapter&nbsp;11 Data Types</td>
        </tr>
        </tbody></table>
</div>


</body></html>